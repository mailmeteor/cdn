"use strict";(globalThis["webpackChunknewapp"]=globalThis["webpackChunknewapp"]||[]).push([[504],{34:(t,e,n)=>{var r=n(4901);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},81:(t,e,n)=>{var r=n(9565),i=n(9306),o=n(8551),s=n(6823),a=n(851),c=TypeError;t.exports=function(t,e){var n=arguments.length<2?a(t):e;if(i(n))return o(r(n,t));throw new c(s(t)+" is not iterable")}},116:(t,e,n)=>{var r=n(6518),i=n(2652),o=n(9306),s=n(8551),a=n(1767);r({target:"Iterator",proto:!0,real:!0},{find:function(t){s(this),o(t);var e=a(this),n=0;return i(e,(function(e,r){if(t(e,n++))return r(e)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},173:(t,e,n)=>{function r(t,e){for(var n in e)t[n]=e[n];return t}n.d(e,{Ay:()=>Oe});var i=/[!'()*]/g,o=function(t){return"%"+t.charCodeAt(0).toString(16)},s=/%2C/g,a=function(t){return encodeURIComponent(t).replace(i,o).replace(s,",")};function c(t){try{return decodeURIComponent(t)}catch(e){0}return t}function l(t,e,n){void 0===e&&(e={});var r,i=n||h;try{r=i(t||"")}catch(a){r={}}for(var o in e){var s=e[o];r[o]=Array.isArray(s)?s.map(u):u(s)}return r}var u=function(t){return null==t||"object"===typeof t?t:String(t)};function h(t){var e={};return t=t.trim().replace(/^(\?|#|&)/,""),t?(t.split("&").forEach((function(t){var n=t.replace(/\+/g," ").split("="),r=c(n.shift()),i=n.length>0?c(n.join("=")):null;void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]})),e):e}function d(t){var e=t?Object.keys(t).map((function(e){var n=t[e];if(void 0===n)return"";if(null===n)return a(e);if(Array.isArray(n)){var r=[];return n.forEach((function(t){void 0!==t&&(null===t?r.push(a(e)):r.push(a(e)+"="+a(t)))})),r.join("&")}return a(e)+"="+a(n)})).filter((function(t){return t.length>0})).join("&"):null;return e?"?"+e:""}var f=/\/?$/;function p(t,e,n,r){var i=r&&r.options.stringifyQuery,o=e.query||{};try{o=m(o)}catch(a){}var s={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:y(e,i),matched:t?v(t):[]};return n&&(s.redirectedFrom=y(n,i)),Object.freeze(s)}function m(t){if(Array.isArray(t))return t.map(m);if(t&&"object"===typeof t){var e={};for(var n in t)e[n]=m(t[n]);return e}return t}var g=p(null,{path:"/"});function v(t){var e=[];while(t)e.unshift(t),t=t.parent;return e}function y(t,e){var n=t.path,r=t.query;void 0===r&&(r={});var i=t.hash;void 0===i&&(i="");var o=e||d;return(n||"/")+o(r)+i}function b(t,e,n){return e===g?t===e:!!e&&(t.path&&e.path?t.path.replace(f,"")===e.path.replace(f,"")&&(n||t.hash===e.hash&&w(t.query,e.query)):!(!t.name||!e.name)&&(t.name===e.name&&(n||t.hash===e.hash&&w(t.query,e.query)&&w(t.params,e.params))))}function w(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t).sort(),r=Object.keys(e).sort();return n.length===r.length&&n.every((function(n,i){var o=t[n],s=r[i];if(s!==n)return!1;var a=e[n];return null==o||null==a?o===a:"object"===typeof o&&"object"===typeof a?w(o,a):String(o)===String(a)}))}function _(t,e){return 0===t.path.replace(f,"/").indexOf(e.path.replace(f,"/"))&&(!e.hash||t.hash===e.hash)&&O(t.query,e.query)}function O(t,e){for(var n in e)if(!(n in t))return!1;return!0}function T(t){for(var e=0;e<t.matched.length;e++){var n=t.matched[e];for(var r in n.instances){var i=n.instances[r],o=n.enteredCbs[r];if(i&&o){delete n.enteredCbs[r];for(var s=0;s<o.length;s++)i._isBeingDestroyed||o[s](i)}}}}var S={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,i=e.children,o=e.parent,s=e.data;s.routerView=!0;var a=o.$createElement,c=n.name,l=o.$route,u=o._routerViewCache||(o._routerViewCache={}),h=0,d=!1;while(o&&o._routerRoot!==o){var f=o.$vnode?o.$vnode.data:{};f.routerView&&h++,f.keepAlive&&o._directInactive&&o._inactive&&(d=!0),o=o.$parent}if(s.routerViewDepth=h,d){var p=u[c],m=p&&p.component;return m?(p.configProps&&C(m,s,p.route,p.configProps),a(m,s,i)):a()}var g=l.matched[h],v=g&&g.components[c];if(!g||!v)return u[c]=null,a();u[c]={component:v},s.registerRouteInstance=function(t,e){var n=g.instances[c];(e&&n!==t||!e&&n===t)&&(g.instances[c]=e)},(s.hook||(s.hook={})).prepatch=function(t,e){g.instances[c]=e.componentInstance},s.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==g.instances[c]&&(g.instances[c]=t.componentInstance),T(l)};var y=g.props&&g.props[c];return y&&(r(u[c],{route:l,configProps:y}),C(v,s,l,y)),a(v,s,i)}};function C(t,e,n,i){var o=e.props=I(n,i);if(o){o=e.props=r({},o);var s=e.attrs=e.attrs||{};for(var a in o)t.props&&a in t.props||(s[a]=o[a],delete o[a])}}function I(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}function E(t,e,n){var r=t.charAt(0);if("/"===r)return t;if("?"===r||"#"===r)return e+t;var i=e.split("/");n&&i[i.length-1]||i.pop();for(var o=t.replace(/^\//,"").split("/"),s=0;s<o.length;s++){var a=o[s];".."===a?i.pop():"."!==a&&i.push(a)}return""!==i[0]&&i.unshift(""),i.join("/")}function k(t){var e="",n="",r=t.indexOf("#");r>=0&&(e=t.slice(r),t=t.slice(0,r));var i=t.indexOf("?");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{path:t,query:n,hash:e}}function P(t){return t.replace(/\/(?:\s*\/)+/g,"/")}var x=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},D=Q,A=F,j=M,R=V,N=Y,L=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function F(t,e){var n,r=[],i=0,o=0,s="",a=e&&e.delimiter||"/";while(null!=(n=L.exec(t))){var c=n[0],l=n[1],u=n.index;if(s+=t.slice(o,u),o=u+c.length,l)s+=l[1];else{var h=t[o],d=n[2],f=n[3],p=n[4],m=n[5],g=n[6],v=n[7];s&&(r.push(s),s="");var y=null!=d&&null!=h&&h!==d,b="+"===g||"*"===g,w="?"===g||"*"===g,_=n[2]||a,O=p||m;r.push({name:f||i++,prefix:d||"",delimiter:_,optional:w,repeat:b,partial:y,asterisk:!!v,pattern:O?z(O):v?".*":"[^"+U(_)+"]+?"})}}return o<t.length&&(s+=t.substr(o)),s&&r.push(s),r}function M(t,e){return V(F(t,e),e)}function $(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function B(t){return encodeURI(t).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function V(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)"object"===typeof t[r]&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",H(e)));return function(e,r){for(var i="",o=e||{},s=r||{},a=s.pretty?$:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!==typeof l){var u,h=o[l.name];if(null==h){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(x(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(u=a(h[d]),!n[c].test(u))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(u)+"`");i+=(0===d?l.prefix:l.delimiter)+u}}else{if(u=l.asterisk?B(h):a(h),!n[c].test(u))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+u+'"');i+=l.prefix+u}}else i+=l}return i}}function U(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function z(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function q(t,e){return t.keys=e,t}function H(t){return t&&t.sensitive?"":"i"}function G(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return q(t,e)}function W(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(Q(t[i],e,n).source);var o=new RegExp("(?:"+r.join("|")+")",H(n));return q(o,e)}function K(t,e,n){return Y(F(t,n),e,n)}function Y(t,e,n){x(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",s=0;s<t.length;s++){var a=t[s];if("string"===typeof a)o+=U(a);else{var c=U(a.prefix),l="(?:"+a.pattern+")";e.push(a),a.repeat&&(l+="(?:"+c+l+")*"),l=a.optional?a.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")",o+=l}}var u=U(n.delimiter||"/"),h=o.slice(-u.length)===u;return r||(o=(h?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=i?"$":r&&h?"":"(?="+u+"|$)",q(new RegExp("^"+o,H(n)),e)}function Q(t,e,n){return x(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?G(t,e):x(t)?W(t,e,n):K(t,e,n)}D.parse=A,D.compile=j,D.tokensToFunction=R,D.tokensToRegExp=N;var X=Object.create(null);function J(t,e,n){e=e||{};try{var r=X[t]||(X[t]=D.compile(t));return"string"===typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(i){return""}finally{delete e[0]}}function Z(t,e,n,i){var o="string"===typeof t?{path:t}:t;if(o._normalized)return o;if(o.name){o=r({},t);var s=o.params;return s&&"object"===typeof s&&(o.params=r({},s)),o}if(!o.path&&o.params&&e){o=r({},o),o._normalized=!0;var a=r(r({},e.params),o.params);if(e.name)o.name=e.name,o.params=a;else if(e.matched.length){var c=e.matched[e.matched.length-1].path;o.path=J(c,a,"path "+e.path)}else 0;return o}var u=k(o.path||""),h=e&&e.path||"/",d=u.path?E(u.path,h,n||o.append):h,f=l(u.query,o.query,i&&i.options.parseQuery),p=o.hash||u.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:d,query:f,hash:p}}var tt,et=[String,Object],nt=[String,Array],rt=function(){},it={name:"RouterLink",props:{to:{type:et,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:nt,default:"click"}},render:function(t){var e=this,n=this.$router,i=this.$route,o=n.resolve(this.to,i,this.append),s=o.location,a=o.route,c=o.href,l={},u=n.options.linkActiveClass,h=n.options.linkExactActiveClass,d=null==u?"router-link-active":u,f=null==h?"router-link-exact-active":h,m=null==this.activeClass?d:this.activeClass,g=null==this.exactActiveClass?f:this.exactActiveClass,v=a.redirectedFrom?p(null,Z(a.redirectedFrom),null,n):a;l[g]=b(i,v,this.exactPath),l[m]=this.exact||this.exactPath?l[g]:_(i,v);var y=l[g]?this.ariaCurrentValue:null,w=function(t){ot(t)&&(e.replace?n.replace(s,rt):n.push(s,rt))},O={click:ot};Array.isArray(this.event)?this.event.forEach((function(t){O[t]=w})):O[this.event]=w;var T={class:l},S=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:c,route:a,navigate:w,isActive:l[m],isExactActive:l[g]});if(S){if(1===S.length)return S[0];if(S.length>1||!S.length)return 0===S.length?t():t("span",{},S)}if("a"===this.tag)T.on=O,T.attrs={href:c,"aria-current":y};else{var C=st(this.$slots.default);if(C){C.isStatic=!1;var I=C.data=r({},C.data);for(var E in I.on=I.on||{},I.on){var k=I.on[E];E in O&&(I.on[E]=Array.isArray(k)?k:[k])}for(var P in O)P in I.on?I.on[P].push(O[P]):I.on[P]=w;var x=C.data.attrs=r({},C.data.attrs);x.href=c,x["aria-current"]=y}else T.on=O}return t(this.tag,T,this.$slots.default)}};function ot(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function st(t){if(t)for(var e,n=0;n<t.length;n++){if(e=t[n],"a"===e.tag)return e;if(e.children&&(e=st(e.children)))return e}}function at(t){if(!at.installed||tt!==t){at.installed=!0,tt=t;var e=function(t){return void 0!==t},n=function(t,n){var r=t.$options._parentVnode;e(r)&&e(r=r.data)&&e(r=r.registerRouteInstance)&&r(t,n)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",S),t.component("RouterLink",it);var r=t.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var ct="undefined"!==typeof window;function lt(t,e,n,r,i){var o=e||[],s=n||Object.create(null),a=r||Object.create(null);t.forEach((function(t){ut(o,s,a,t,i)}));for(var c=0,l=o.length;c<l;c++)"*"===o[c]&&(o.push(o.splice(c,1)[0]),l--,c--);return{pathList:o,pathMap:s,nameMap:a}}function ut(t,e,n,r,i,o){var s=r.path,a=r.name;var c=r.pathToRegexpOptions||{},l=dt(s,i,c.strict);"boolean"===typeof r.caseSensitive&&(c.sensitive=r.caseSensitive);var u={path:l,regex:ht(l,c),components:r.components||{default:r.component},alias:r.alias?"string"===typeof r.alias?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:a,parent:i,matchAs:o,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach((function(r){var i=o?P(o+"/"+r.path):void 0;ut(t,e,n,r,u,i)})),e[u.path]||(t.push(u.path),e[u.path]=u),void 0!==r.alias)for(var h=Array.isArray(r.alias)?r.alias:[r.alias],d=0;d<h.length;++d){var f=h[d];0;var p={path:f,children:r.children};ut(t,e,n,p,i,u.path||"/")}a&&(n[a]||(n[a]=u))}function ht(t,e){var n=D(t,[],e);return n}function dt(t,e,n){return n||(t=t.replace(/\/$/,"")),"/"===t[0]||null==e?t:P(e.path+"/"+t)}function ft(t,e){var n=lt(t),r=n.pathList,i=n.pathMap,o=n.nameMap;function s(t){lt(t,r,i,o)}function a(t,e){var n="object"!==typeof t?o[t]:void 0;lt([e||t],r,i,o,n),n&&n.alias.length&&lt(n.alias.map((function(t){return{path:t,children:[e]}})),r,i,o,n)}function c(){return r.map((function(t){return i[t]}))}function l(t,n,s){var a=Z(t,n,!1,e),c=a.name;if(c){var l=o[c];if(!l)return d(null,a);var u=l.regex.keys.filter((function(t){return!t.optional})).map((function(t){return t.name}));if("object"!==typeof a.params&&(a.params={}),n&&"object"===typeof n.params)for(var h in n.params)!(h in a.params)&&u.indexOf(h)>-1&&(a.params[h]=n.params[h]);return a.path=J(l.path,a.params,'named route "'+c+'"'),d(l,a,s)}if(a.path){a.params={};for(var f=0;f<r.length;f++){var p=r[f],m=i[p];if(pt(m.regex,a.path,a.params))return d(m,a,s)}}return d(null,a)}function u(t,n){var r=t.redirect,i="function"===typeof r?r(p(t,n,null,e)):r;if("string"===typeof i&&(i={path:i}),!i||"object"!==typeof i)return d(null,n);var s=i,a=s.name,c=s.path,u=n.query,h=n.hash,f=n.params;if(u=s.hasOwnProperty("query")?s.query:u,h=s.hasOwnProperty("hash")?s.hash:h,f=s.hasOwnProperty("params")?s.params:f,a){o[a];return l({_normalized:!0,name:a,query:u,hash:h,params:f},void 0,n)}if(c){var m=mt(c,t),g=J(m,f,'redirect route with path "'+m+'"');return l({_normalized:!0,path:g,query:u,hash:h},void 0,n)}return d(null,n)}function h(t,e,n){var r=J(n,e.params,'aliased route with path "'+n+'"'),i=l({_normalized:!0,path:r});if(i){var o=i.matched,s=o[o.length-1];return e.params=i.params,d(s,e)}return d(null,e)}function d(t,n,r){return t&&t.redirect?u(t,r||n):t&&t.matchAs?h(t,n,t.matchAs):p(t,n,r,e)}return{match:l,addRoute:a,getRoutes:c,addRoutes:s}}function pt(t,e,n){var r=e.match(t);if(!r)return!1;if(!n)return!0;for(var i=1,o=r.length;i<o;++i){var s=t.keys[i-1];s&&(n[s.name||"pathMatch"]="string"===typeof r[i]?c(r[i]):r[i])}return!0}function mt(t,e){return E(t,e.parent?e.parent.path:"/",!0)}var gt=ct&&window.performance&&window.performance.now?window.performance:Date;function vt(){return gt.now().toFixed(3)}var yt=vt();function bt(){return yt}function wt(t){return yt=t}var _t=Object.create(null);function Ot(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,""),n=r({},window.history.state);return n.key=bt(),window.history.replaceState(n,"",e),window.addEventListener("popstate",Ct),function(){window.removeEventListener("popstate",Ct)}}function Tt(t,e,n,r){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick((function(){var o=It(),s=i.call(t,e,n,r?o:null);s&&("function"===typeof s.then?s.then((function(t){jt(t,o)})).catch((function(t){0})):jt(s,o))}))}}function St(){var t=bt();t&&(_t[t]={x:window.pageXOffset,y:window.pageYOffset})}function Ct(t){St(),t.state&&t.state.key&&wt(t.state.key)}function It(){var t=bt();if(t)return _t[t]}function Et(t,e){var n=document.documentElement,r=n.getBoundingClientRect(),i=t.getBoundingClientRect();return{x:i.left-r.left-e.x,y:i.top-r.top-e.y}}function kt(t){return Dt(t.x)||Dt(t.y)}function Pt(t){return{x:Dt(t.x)?t.x:window.pageXOffset,y:Dt(t.y)?t.y:window.pageYOffset}}function xt(t){return{x:Dt(t.x)?t.x:0,y:Dt(t.y)?t.y:0}}function Dt(t){return"number"===typeof t}var At=/^#\d/;function jt(t,e){var n="object"===typeof t;if(n&&"string"===typeof t.selector){var r=At.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(r){var i=t.offset&&"object"===typeof t.offset?t.offset:{};i=xt(i),e=Et(r,i)}else kt(t)&&(e=Pt(t))}else n&&kt(t)&&(e=Pt(t));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:t.behavior}):window.scrollTo(e.x,e.y))}var Rt=ct&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"function"===typeof window.history.pushState)}();function Nt(t,e){St();var n=window.history;try{if(e){var i=r({},n.state);i.key=bt(),n.replaceState(i,"",t)}else n.pushState({key:wt(vt())},"",t)}catch(o){window.location[e?"replace":"assign"](t)}}function Lt(t){Nt(t,!0)}var Ft={redirected:2,aborted:4,cancelled:8,duplicated:16};function Mt(t,e){return Ut(t,e,Ft.redirected,'Redirected when going from "'+t.fullPath+'" to "'+qt(e)+'" via a navigation guard.')}function $t(t,e){var n=Ut(t,e,Ft.duplicated,'Avoided redundant navigation to current location: "'+t.fullPath+'".');return n.name="NavigationDuplicated",n}function Bt(t,e){return Ut(t,e,Ft.cancelled,'Navigation cancelled from "'+t.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function Vt(t,e){return Ut(t,e,Ft.aborted,'Navigation aborted from "'+t.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}function Ut(t,e,n,r){var i=new Error(r);return i._isRouter=!0,i.from=t,i.to=e,i.type=n,i}var zt=["params","query","hash"];function qt(t){if("string"===typeof t)return t;if("path"in t)return t.path;var e={};return zt.forEach((function(n){n in t&&(e[n]=t[n])})),JSON.stringify(e,null,2)}function Ht(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function Gt(t,e){return Ht(t)&&t._isRouter&&(null==e||t.type===e)}function Wt(t,e,n){var r=function(i){i>=t.length?n():t[i]?e(t[i],(function(){r(i+1)})):r(i+1)};r(0)}function Kt(t){return function(e,n,r){var i=!1,o=0,s=null;Yt(t,(function(t,e,n,a){if("function"===typeof t&&void 0===t.cid){i=!0,o++;var c,l=Zt((function(e){Jt(e)&&(e=e.default),t.resolved="function"===typeof e?e:tt.extend(e),n.components[a]=e,o--,o<=0&&r()})),u=Zt((function(t){var e="Failed to resolve async component "+a+": "+t;s||(s=Ht(t)?t:new Error(e),r(s))}));try{c=t(l,u)}catch(d){u(d)}if(c)if("function"===typeof c.then)c.then(l,u);else{var h=c.component;h&&"function"===typeof h.then&&h.then(l,u)}}})),i||r()}}function Yt(t,e){return Qt(t.map((function(t){return Object.keys(t.components).map((function(n){return e(t.components[n],t.instances[n],t,n)}))})))}function Qt(t){return Array.prototype.concat.apply([],t)}var Xt="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Jt(t){return t.__esModule||Xt&&"Module"===t[Symbol.toStringTag]}function Zt(t){var e=!1;return function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];if(!e)return e=!0,t.apply(this,n)}}var te=function(t,e){this.router=t,this.base=ee(e),this.current=g,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function ee(t){if(!t)if(ct){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function ne(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r;n++)if(t[n]!==e[n])break;return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}function re(t,e,n,r){var i=Yt(t,(function(t,r,i,o){var s=ie(t,e);if(s)return Array.isArray(s)?s.map((function(t){return n(t,r,i,o)})):n(s,r,i,o)}));return Qt(r?i.reverse():i)}function ie(t,e){return"function"!==typeof t&&(t=tt.extend(t)),t.options[e]}function oe(t){return re(t,"beforeRouteLeave",ae,!0)}function se(t){return re(t,"beforeRouteUpdate",ae)}function ae(t,e){if(e)return function(){return t.apply(e,arguments)}}function ce(t){return re(t,"beforeRouteEnter",(function(t,e,n,r){return le(t,n,r)}))}function le(t,e,n){return function(r,i,o){return t(r,i,(function(t){"function"===typeof t&&(e.enteredCbs[n]||(e.enteredCbs[n]=[]),e.enteredCbs[n].push(t)),o(t)}))}}te.prototype.listen=function(t){this.cb=t},te.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},te.prototype.onError=function(t){this.errorCbs.push(t)},te.prototype.transitionTo=function(t,e,n){var r,i=this;try{r=this.router.match(t,this.current)}catch(s){throw this.errorCbs.forEach((function(t){t(s)})),s}var o=this.current;this.confirmTransition(r,(function(){i.updateRoute(r),e&&e(r),i.ensureURL(),i.router.afterHooks.forEach((function(t){t&&t(r,o)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(t){t(r)})))}),(function(t){n&&n(t),t&&!i.ready&&(Gt(t,Ft.redirected)&&o===g||(i.ready=!0,i.readyErrorCbs.forEach((function(e){e(t)}))))}))},te.prototype.confirmTransition=function(t,e,n){var r=this,i=this.current;this.pending=t;var o=function(t){!Gt(t)&&Ht(t)&&(r.errorCbs.length?r.errorCbs.forEach((function(e){e(t)})):console.error(t)),n&&n(t)},s=t.matched.length-1,a=i.matched.length-1;if(b(t,i)&&s===a&&t.matched[s]===i.matched[a])return this.ensureURL(),t.hash&&Tt(this.router,i,t,!1),o($t(i,t));var c=ne(this.current.matched,t.matched),l=c.updated,u=c.deactivated,h=c.activated,d=[].concat(oe(u),this.router.beforeHooks,se(l),h.map((function(t){return t.beforeEnter})),Kt(h)),f=function(e,n){if(r.pending!==t)return o(Bt(i,t));try{e(t,i,(function(e){!1===e?(r.ensureURL(!0),o(Vt(i,t))):Ht(e)?(r.ensureURL(!0),o(e)):"string"===typeof e||"object"===typeof e&&("string"===typeof e.path||"string"===typeof e.name)?(o(Mt(i,t)),"object"===typeof e&&e.replace?r.replace(e):r.push(e)):n(e)}))}catch(s){o(s)}};Wt(d,f,(function(){var n=ce(h),s=n.concat(r.router.resolveHooks);Wt(s,f,(function(){if(r.pending!==t)return o(Bt(i,t));r.pending=null,e(t),r.router.app&&r.router.app.$nextTick((function(){T(t)}))}))}))},te.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)},te.prototype.setupListeners=function(){},te.prototype.teardown=function(){this.listeners.forEach((function(t){t()})),this.listeners=[],this.current=g,this.pending=null};var ue=function(t){function e(e,n){t.call(this,e,n),this._startLocation=he(this.base)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,r=Rt&&n;r&&this.listeners.push(Ot());var i=function(){var n=t.current,i=he(t.base);t.current===g&&i===t._startLocation||t.transitionTo(i,(function(t){r&&Tt(e,t,n,!0)}))};window.addEventListener("popstate",i),this.listeners.push((function(){window.removeEventListener("popstate",i)}))}},e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){Nt(P(r.base+t.fullPath)),Tt(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){Lt(P(r.base+t.fullPath)),Tt(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.ensureURL=function(t){if(he(this.base)!==this.current.fullPath){var e=P(this.base+this.current.fullPath);t?Nt(e):Lt(e)}},e.prototype.getCurrentLocation=function(){return he(this.base)},e}(te);function he(t){var e=window.location.pathname,n=e.toLowerCase(),r=t.toLowerCase();return!t||n!==r&&0!==n.indexOf(P(r+"/"))||(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var de=function(t){function e(e,n,r){t.call(this,e,n),r&&fe(this.base)||pe()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,r=Rt&&n;r&&this.listeners.push(Ot());var i=function(){var e=t.current;pe()&&t.transitionTo(me(),(function(n){r&&Tt(t.router,n,e,!0),Rt||ye(n.fullPath)}))},o=Rt?"popstate":"hashchange";window.addEventListener(o,i),this.listeners.push((function(){window.removeEventListener(o,i)}))}},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){ve(t.fullPath),Tt(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){ye(t.fullPath),Tt(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;me()!==e&&(t?ve(e):ye(e))},e.prototype.getCurrentLocation=function(){return me()},e}(te);function fe(t){var e=he(t);if(!/^\/#/.test(e))return window.location.replace(P(t+"/#"+e)),!0}function pe(){var t=me();return"/"===t.charAt(0)||(ye("/"+t),!1)}function me(){var t=window.location.href,e=t.indexOf("#");return e<0?"":(t=t.slice(e+1),t)}function ge(t){var e=window.location.href,n=e.indexOf("#"),r=n>=0?e.slice(0,n):e;return r+"#"+t}function ve(t){Rt?Nt(ge(t)):window.location.hash=t}function ye(t){Rt?Lt(ge(t)):window.location.replace(ge(t))}var be=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index+1).concat(t),r.index++,e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index).concat(t),e&&e(t)}),n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,(function(){var t=e.current;e.index=n,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,t)}))}),(function(t){Gt(t,Ft.duplicated)&&(e.index=n)}))}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(te),we=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=ft(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!Rt&&!1!==t.fallback,this.fallback&&(e="hash"),ct||(e="abstract"),this.mode=e,e){case"history":this.history=new ue(this,t.base);break;case"hash":this.history=new de(this,t.base,this.fallback);break;case"abstract":this.history=new be(this,t.base);break;default:0}},_e={currentRoute:{configurable:!0}};we.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},_e.currentRoute.get=function(){return this.history&&this.history.current},we.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",(function(){var n=e.apps.indexOf(t);n>-1&&e.apps.splice(n,1),e.app===t&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=t;var n=this.history;if(n instanceof ue||n instanceof de){var r=function(t){var r=n.current,i=e.options.scrollBehavior,o=Rt&&i;o&&"fullPath"in t&&Tt(e,t,r,!1)},i=function(t){n.setupListeners(),r(t)};n.transitionTo(n.getCurrentLocation(),i,i)}n.listen((function(t){e.apps.forEach((function(e){e._route=t}))}))}},we.prototype.beforeEach=function(t){return Te(this.beforeHooks,t)},we.prototype.beforeResolve=function(t){return Te(this.resolveHooks,t)},we.prototype.afterEach=function(t){return Te(this.afterHooks,t)},we.prototype.onReady=function(t,e){this.history.onReady(t,e)},we.prototype.onError=function(t){this.history.onError(t)},we.prototype.push=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise((function(e,n){r.history.push(t,e,n)}));this.history.push(t,e,n)},we.prototype.replace=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise((function(e,n){r.history.replace(t,e,n)}));this.history.replace(t,e,n)},we.prototype.go=function(t){this.history.go(t)},we.prototype.back=function(){this.go(-1)},we.prototype.forward=function(){this.go(1)},we.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(t){return Object.keys(t.components).map((function(e){return t.components[e]}))}))):[]},we.prototype.resolve=function(t,e,n){e=e||this.history.current;var r=Z(t,e,n,this),i=this.match(r,e),o=i.redirectedFrom||i.fullPath,s=this.history.base,a=Se(s,o,this.mode);return{location:r,route:i,href:a,normalizedTo:r,resolved:i}},we.prototype.getRoutes=function(){return this.matcher.getRoutes()},we.prototype.addRoute=function(t,e){this.matcher.addRoute(t,e),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},we.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(we.prototype,_e);var Oe=we;function Te(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function Se(t,e,n){var r="hash"===n?"#"+e:e;return t?P(t+"/"+r):r}we.install=at,we.version="3.6.5",we.isNavigationFailure=Gt,we.NavigationFailureType=Ft,we.START_LOCATION=g,ct&&window.Vue&&window.Vue.use(we)},283:(t,e,n)=>{var r=n(9504),i=n(9039),o=n(4901),s=n(9297),a=n(3724),c=n(350).CONFIGURABLE,l=n(3706),u=n(1181),h=u.enforce,d=u.get,f=String,p=Object.defineProperty,m=r("".slice),g=r("".replace),v=r([].join),y=a&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=t.exports=function(t,e,n){"Symbol("===m(f(e),0,7)&&(e="["+g(f(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!s(t,"name")||c&&t.name!==e)&&(a?p(t,"name",{value:e,configurable:!0}):t.name=e),y&&n&&s(n,"arity")&&t.length!==n.arity&&p(t,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(i){}var r=h(t);return s(r,"source")||(r.source=v(b,"string"==typeof e?e:"")),t};Function.prototype.toString=w((function(){return o(this)&&d(this).source||l(this)}),"toString")},350:(t,e,n)=>{var r=n(3724),i=n(9297),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&"something"===function(){}.name,l=a&&(!r||r&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:l}},397:(t,e,n)=>{var r=n(7751);t.exports=r("document","documentElement")},421:t=>{t.exports={}},616:(t,e,n)=>{var r=n(9039);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},655:(t,e,n)=>{var r=n(6955),i=String;t.exports=function(t){if("Symbol"===r(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},679:(t,e,n)=>{var r=n(1625),i=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw new i("Incorrect invocation")}},713:(t,e,n)=>{var r=n(9565),i=n(9306),o=n(8551),s=n(1767),a=n(9462),c=n(6319),l=a((function(){var t=this.iterator,e=o(r(this.next,t)),n=this.done=!!e.done;if(!n)return c(t,this.mapper,[e.value,this.counter++],!0)}));t.exports=function(t){return o(this),i(t),new l(s(this),{mapper:t})}},741:t=>{var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},757:(t,e,n)=>{var r=n(7751),i=n(4901),o=n(1625),s=n(7040),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,a(t))}},851:(t,e,n)=>{var r=n(6955),i=n(5966),o=n(4117),s=n(6269),a=n(8227),c=a("iterator");t.exports=function(t){if(!o(t))return i(t,c)||i(t,"@@iterator")||s[r(t)]}},1072:(t,e,n)=>{var r=n(1828),i=n(8727);t.exports=Object.keys||function(t){return r(t,i)}},1093:(t,e,n)=>{n.d(e,{Ms:()=>b,vU:()=>m});var r=n(1635),i=n(1209),o=n(7992),s=n(4384),a=n(2564);function c(){}var l=function(){return d("C",void 0,void 0)}();function u(t){return d("E",void 0,t)}function h(t){return d("N",t,void 0)}function d(t,e,n){return{kind:t,value:e,error:n}}var f=n(6744),p=n(7008),m=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,(0,o.Uv)(e)&&e.add(n)):n.destination=T,n}return(0,r.C6)(e,t),e.create=function(t,e,n){return new b(t,e,n)},e.prototype.next=function(t){this.isStopped?O(h(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?O(u(t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?O(l,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(o.yU),g=Function.prototype.bind;function v(t,e){return g.call(t,e)}var y=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(n){w(n)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(n){w(n)}else w(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(e){w(e)}},t}(),b=function(t){function e(e,n,r){var o,a,c=t.call(this)||this;(0,i.T)(e)||!e?o={next:null!==e&&void 0!==e?e:void 0,error:null!==n&&void 0!==n?n:void 0,complete:null!==r&&void 0!==r?r:void 0}:c&&s.$.useDeprecatedNextContext?(a=Object.create(e),a.unsubscribe=function(){return c.unsubscribe()},o={next:e.next&&v(e.next,a),error:e.error&&v(e.error,a),complete:e.complete&&v(e.complete,a)}):o=e;return c.destination=new y(o),c}return(0,r.C6)(e,t),e}(m);function w(t){s.$.useDeprecatedSynchronousErrorHandling?(0,p.l)(t):(0,a.m)(t)}function _(t){throw t}function O(t,e){var n=s.$.onStoppedNotification;n&&f.f.setTimeout((function(){return n(t,e)}))}var T={closed:!0,next:c,error:_,complete:c}},1148:(t,e,n)=>{var r=n(6518),i=n(2652),o=n(9306),s=n(8551),a=n(1767);r({target:"Iterator",proto:!0,real:!0},{every:function(t){s(this),o(t);var e=a(this),n=0;return!i(e,(function(e,r){if(!t(e,n++))return r()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1181:(t,e,n)=>{var r,i,o,s=n(8622),a=n(4576),c=n(34),l=n(6699),u=n(9297),h=n(7629),d=n(6119),f=n(421),p="Object already initialized",m=a.TypeError,g=a.WeakMap,v=function(t){return o(t)?i(t):r(t,{})},y=function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw new m("Incompatible receiver, "+t+" required");return n}};if(s||h.state){var b=h.state||(h.state=new g);b.get=b.get,b.has=b.has,b.set=b.set,r=function(t,e){if(b.has(t))throw new m(p);return e.facade=t,b.set(t,e),e},i=function(t){return b.get(t)||{}},o=function(t){return b.has(t)}}else{var w=d("state");f[w]=!0,r=function(t,e){if(u(t,w))throw new m(p);return e.facade=t,l(t,w,e),e},i=function(t){return u(t,w)?t[w]:{}},o=function(t){return u(t,w)}}t.exports={set:r,get:i,has:o,enforce:v,getterFor:y}},1209:(t,e,n)=>{function r(t){return"function"===typeof t}n.d(e,{T:()=>r})},1291:(t,e,n)=>{var r=n(741);t.exports=function(t){var e=+t;return e!==e||0===e?0:r(e)}},1625:(t,e,n)=>{var r=n(9504);t.exports=r({}.isPrototypeOf)},1635:(t,e,n)=>{n.d(e,{AQ:()=>f,C6:()=>i,Cl:()=>o,Ju:()=>l,N3:()=>d,Tt:()=>s,YH:()=>c,fX:()=>h,sH:()=>a,xN:()=>p,zs:()=>u});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):i(t.value).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function c(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s["throw"]=a(1),s["return"]=a(2),"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");while(s&&(s=0,a[0]&&(o=0)),o)try{if(n=1,r&&(i=2&a[0]?r["return"]:a[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!(i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(c){a=[6,c],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}Object.create;function l(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function h(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function d(t){return this instanceof d?(this.v=t,this):new d(t)}function f(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(t){return function(e){return Promise.resolve(e).then(t,h)}}function a(t,e){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||c(t,e)}))},e&&(r[t]=e(r[t])))}function c(t,e){try{l(i[t](e))}catch(n){f(o[0][3],n)}}function l(t){t.value instanceof d?Promise.resolve(t.value.v).then(u,h):f(o[0][2],t)}function u(t){c("next",t)}function h(t){c("throw",t)}function f(t,e){t(e),o.shift(),o.length&&c(o[0][0],o[0][1])}}function p(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"===typeof l?l(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){e=t[n](e),i(r,o,e.done,e.value)}))}}function i(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}}Object.create;"function"===typeof SuppressedError&&SuppressedError},1656:(t,e,n)=>{function r(t,e,n,r,i,o,s,a){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}n.d(e,{A:()=>r})},1690:(t,e,n)=>{var r=n(8840),i=n(5125),o=n(9928),s=n(6743),a=n(3424);const c="@firebase/database",l="0.14.4";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let u="";function h(t){u=t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,s.As)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,s.$L)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,s.gR)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p=function(t){try{if("undefined"!==typeof window&&"undefined"!==typeof window[t]){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new d(e)}}catch(e){}return new f},m=p("localStorage"),g=p("sessionStorage"),v=new a.Vy("@firebase/database"),y=function(){let t=1;return function(){return t++}}(),b=function(t){const e=(0,s.kj)(t),n=new s.gz;n.update(e);const r=n.digest();return s.K3.encodeByteArray(r)},w=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?e+=w.apply(null,r):e+="object"===typeof r?(0,s.As)(r):r,e+=" "}return e};let _=null,O=!0;const T=function(t,e){(0,s.vA)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(v.logLevel=a.$b.VERBOSE,_=v.log.bind(v),e&&g.set("logging_enabled",!0)):"function"===typeof t?_=t:(_=null,g.remove("logging_enabled"))},S=function(...t){if(!0===O&&(O=!1,null===_&&!0===g.get("logging_enabled")&&T(!0)),_){const e=w.apply(null,t);_(e)}},C=function(t){return function(...e){S(t,...e)}},I=function(...t){const e="FIREBASE INTERNAL ERROR: "+w(...t);v.error(e)},E=function(...t){const e=`FIREBASE FATAL ERROR: ${w(...t)}`;throw v.error(e),new Error(e)},k=function(...t){const e="FIREBASE WARNING: "+w(...t);v.warn(e)},P=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&k("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},x=function(t){return"number"===typeof t&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},D=function(t){if((0,s.$g)()||"complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}},A="[MIN_NAME]",j="[MAX_NAME]",R=function(t,e){if(t===e)return 0;if(t===A||e===j)return-1;if(e===A||t===j)return 1;{const n=W(t),r=W(e);return null!==n?null!==r?n-r===0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},N=function(t,e){return t===e?0:t<e?-1:1},L=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,s.As)(e))},F=function(t){if("object"!==typeof t||null===t)return(0,s.As)(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=(0,s.As)(e[r]),n+=":",n+=F(t[e[r]]);return n+="}",n},M=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function $(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const B=function(t){(0,s.vA)(!x(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,a,c,l;0===t?(o=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=c+r,a=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const h=u.join("");let d="";for(l=0;l<64;l+=8){let t=parseInt(h.substr(l,8),2).toString(16);1===t.length&&(t="0"+t),d+=t}return d.toLowerCase()},V=function(){return!("object"!==typeof window||!window["chrome"]||!window["chrome"]["extension"]||/^chrome/.test(window.location.href))},U=function(){return"object"===typeof Windows&&"object"===typeof Windows.UI};function z(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const q=new RegExp("^-?(0*)\\d{1,10}$"),H=-2147483648,G=2147483647,W=function(t){if(q.test(t)){const e=Number(t);if(e>=H&&e<=G)return e}return null},K=function(t){try{t()}catch(e){setTimeout((()=>{const t=e.stack||"";throw k("Exception was thrown by user callback.",t),e}),Math.floor(0))}},Y=function(){const t="object"===typeof window&&window["navigator"]&&window["navigator"]["userAgent"]||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Q=function(t,e){const n=setTimeout(t,e);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno["unrefTimer"]?Deno.unrefTimer(n):"object"===typeof n&&n["unref"]&&n["unref"](),n};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class X{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null===e||void 0===e?void 0:e.getImmediate({optional:!0}),this.appCheck||null===e||void 0===e||e.get().then((t=>this.appCheck=t))}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise(((e,n)=>{setTimeout((()=>{this.appCheck?this.getToken(t).then(e,n):e(null)}),0)}))}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then((e=>e.addTokenListener(t)))}notifyForInvalidToken(){k(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t,e,n){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((t=>this.auth_=t))}getToken(t){return this.auth_?this.auth_.getToken(t).catch((t=>t&&"auth/token-not-initialized"===t.code?(S("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t))):new Promise(((e,n)=>{setTimeout((()=>{this.auth_?this.getToken(t).then(e,n):e(null)}),0)}))}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then((e=>e.addAuthTokenListener(t)))}removeTokenChangeListener(t){this.authProvider_.get().then((e=>e.removeAuthTokenListener(t)))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',k(t)}}class Z{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Z.OWNER="owner";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const tt="5",et="v",nt="s",rt="r",it="f",ot=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,st="ls",at="p",ct="ac",lt="websocket",ut="long_polling";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ht{constructor(t,e,n,r,i=!1,o="",s=!1,a=!1){this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=m.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&m.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${e}`}}function dt(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ft(t,e,n){let r;if((0,s.vA)("string"===typeof e,"typeof type must == string"),(0,s.vA)("object"===typeof n,"typeof params must == object"),e===lt)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==ut)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}dt(t)&&(n["ns"]=t.namespace);const i=[];return $(n,((t,e)=>{i.push(t+"="+e)})),r+i.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,s.gR)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,s.A4)(this.counters_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt={},gt={};function vt(t){const e=t.toString();return mt[e]||(mt[e]=new pt),mt[e]}function yt(t,e){const n=t.toString();return gt[n]||(gt[n]=e()),gt[n]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){this.pendingResponses[t]=e;while(this.pendingResponses[this.currentResponseNum]){const t=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let e=0;e<t.length;++e)t[e]&&K((()=>{this.onMessage_(t[e])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="start",_t="close",Ot="pLPCommand",Tt="pRTLPCB",St="id",Ct="pw",It="ser",Et="cb",kt="seg",Pt="ts",xt="d",Dt="dframe",At=1870,jt=30,Rt=At-jt,Nt=25e3,Lt=3e4;class Ft{constructor(t,e,n,r,i,o,s){this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(t),this.stats_=vt(e),this.urlFn=t=>(this.appCheckToken&&(t[ct]=this.appCheckToken),ft(e,ut,t))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new bt(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(Lt)),D((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Mt(((...t)=>{const[e,n,r,i,o]=t;if(this.incrementIncomingBytes_(t),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,e===wt)this.id=n,this.password=r;else{if(e!==_t)throw new Error("Unrecognized command received: "+e);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...t)=>{const[e,n]=t;this.incrementIncomingBytes_(t),this.myPacketOrderer.handleResponse(e,n)}),(()=>{this.onClosed_()}),this.urlFn);const t={};t[wt]="t",t[It]=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(t[Et]=this.scriptTagHolder.uniqueCallbackIdentifier),t[et]=tt,this.transportSessionId&&(t[nt]=this.transportSessionId),this.lastSessionId&&(t[st]=this.lastSessionId),this.applicationId&&(t[at]=this.applicationId),this.appCheckToken&&(t[ct]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&ot.test(location.hostname)&&(t[rt]=it);const e=this.urlFn(t);this.log_("Connecting via long-poll to "+e),this.scriptTagHolder.addTag(e,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ft.forceAllow_=!0}static forceDisallow(){Ft.forceDisallow_=!0}static isAvailable(){return!(0,s.$g)()&&(!!Ft.forceAllow_||!Ft.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!V()&&!U())}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,s.As)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const n=(0,s.KA)(e),r=M(n,Rt);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,s.$g)())return;this.myDisconnFrame=document.createElement("iframe");const n={};n[Dt]="t",n[St]=t,n[Ct]=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,s.As)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Mt{constructor(t,e,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,s.$g)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=y(),window[Ot+this.uniqueCallbackIdentifier]=t,window[Tt+this.uniqueCallbackIdentifier]=e,this.myIFrame=Mt.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){const t=document.domain;n='<script>document.domain="'+t+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){S("frame writing exception"),i.stack&&S(i.stack),S(i)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{const e=t.contentWindow.document;e||S("No IE domain setting required")}catch(e){const n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){this.myID=t,this.myPW=e,this.alive=!0;while(this.newRequest_());}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[St]=this.myID,t[Ct]=this.myPW,t[It]=this.currentSerial;let e=this.urlFn(t),n="",r=0;while(this.pendingSegs.length>0){const t=this.pendingSegs[0];if(!(t.d.length+jt+n.length<=At))break;{const t=this.pendingSegs.shift();n=n+"&"+kt+r+"="+t.seg+"&"+Pt+r+"="+t.ts+"&"+xt+r+"="+t.d,r++}}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const n=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(n,Math.floor(Nt)),i=()=>{clearTimeout(r),n()};this.addTag(t,i)}addTag(t,e){(0,s.$g)()?this.doNodeLongPoll(t,e):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){const t=n.readyState;t&&"loaded"!==t&&"complete"!==t||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),e())},n.onerror=()=>{S("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t=16384,Bt=45e3;let Vt=null;"undefined"!==typeof MozWebSocket?Vt=MozWebSocket:"undefined"!==typeof WebSocket&&(Vt=WebSocket);class Ut{constructor(t,e,n,r,i,o,s){this.connId=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=vt(e),this.connURL=Ut.connectionURL_(e,o,s,r,n),this.nodeAdmin=e.nodeAdmin}static connectionURL_(t,e,n,r,i){const o={};return o[et]=tt,!(0,s.$g)()&&"undefined"!==typeof location&&location.hostname&&ot.test(location.hostname)&&(o[rt]=it),e&&(o[nt]=e),n&&(o[st]=n),r&&(o[ct]=r),i&&(o[at]=i),ft(t,lt,o)}open(t,e){this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,m.set("previous_websocket_failure",!0);try{let t;if((0,s.$g)()){const e=this.nodeAdmin?"AdminNode":"Node";t={headers:{"User-Agent":`Firebase/${tt}/${u}/${process.platform}/${e}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(t.headers["Authorization"]=`Bearer ${this.authToken}`),this.appCheckToken&&(t.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",BASE_URL:"/"},r=0===this.connURL.indexOf("wss://")?n["HTTPS_PROXY"]||n["https_proxy"]:n["HTTP_PROXY"]||n["http_proxy"];r&&(t["proxy"]={origin:r})}this.mySock=new Vt(this.connURL,[],t)}catch(n){this.log_("Error instantiating WebSocket.");const t=n.message||n.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=t=>{this.handleIncomingFrame(t)},this.mySock.onerror=t=>{this.log_("WebSocket error.  Closing connection.");const e=t.message||t.data;e&&this.log_(e),this.onClosed_()}}start(){}static forceDisallow(){Ut.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const e=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(e);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Vt&&!Ut.forceDisallow_}static previouslyFailed(){return m.isInMemoryStorage||!0===m.get("previous_websocket_failure")}markConnectionHealthy(){m.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const e=(0,s.$L)(t);this.onMessage(e)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,s.vA)(null===this.frames,"We already have a frame buffer"),t.length<=6){const e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const e=t["data"];if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{const t=this.extractFrameCount_(e);null!==t&&this.appendFrame_(t)}}send(t){this.resetKeepAlive();const e=(0,s.As)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const n=M(e,$t);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(Bt))}sendString_(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ut.responsesRequiredToBeHealthy=2,Ut.healthyTimeout=3e4;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zt{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ft,Ut]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const e=Ut&&Ut["isAvailable"]();let n=e&&!Ut.previouslyFailed();if(t.webSocketOnly&&(e||k("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Ut];else{const t=this.transports_=[];for(const e of zt.ALL_TRANSPORTS)e&&e["isAvailable"]()&&t.push(e);zt.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}zt.globalTransportInitialized_=!1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const qt=6e4,Ht=5e3,Gt=10240,Wt=102400,Kt="t",Yt="d",Qt="s",Xt="r",Jt="e",Zt="o",te="a",ee="n",ne="p",re="h";class ie{constructor(t,e,n,r,i,o,s,a,c,l){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new zt(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t["responsesRequiredToBeHealthy"]||0;const e=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(e,n)}),Math.floor(0));const r=t["healthyTimeout"]||0;r>0&&(this.healthyTimeout_=Q((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Wt?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Gt?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){const e={t:"d",d:t};this.sendData_(e)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Kt in t){const e=t[Kt];e===te?this.upgradeIfSecondaryHealthy_():e===Xt?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):e===Zt&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=L("t",t),n=L("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ne,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:te,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ee,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=L("t",t),n=L("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=L(Kt,t);if(Yt in t){const n=t[Yt];if(e===re){const t=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(t.h=this.repoInfo_.host),this.onHandshake_(t)}else if(e===ee){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let t=0;t<this.pendingDataMessages.length;++t)this.onDataMessage_(this.pendingDataMessages[t]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===Qt?this.onConnectionShutdown_(n):e===Xt?this.onReset_(n):e===Jt?I("Server Error: "+n):e===Zt?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),tt!==n&&k("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t["responsesRequiredToBeHealthy"]||0;const e=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,n),Q((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(qt))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Q((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(Ht))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ne,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(m.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{put(t,e,n,r){}merge(t,e,n,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,n){}onDisconnectMerge(t,e,n){}onDisconnectCancel(t,e){}reportStats(t){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,s.vA)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const n=[...this.listeners_[t]];for(let t=0;t<n.length;t++)n[t].callback.apply(n[t].context,e)}}on(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});const r=this.getInitialEvent(t);r&&e.apply(n,r)}off(t,e,n){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(t){(0,s.vA)(this.allowedEvents_.find((e=>e===t)),"Unknown event: "+t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae extends se{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,s.jZ)()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new ae}getInitialEvent(t){return(0,s.vA)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce=32,le=768;class ue{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let e=0;for(let t=0;t<this.pieces_.length;t++)this.pieces_[t].length>0&&(this.pieces_[e]=this.pieces_[t],e++);this.pieces_.length=e,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function he(){return new ue("")}function de(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function fe(t){return t.pieces_.length-t.pieceNum_}function pe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ue(t.pieces_,e)}function me(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ge(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ve(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function ye(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ue(e,0)}function be(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ue)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const t=e.split("/");for(let e=0;e<t.length;e++)t[e].length>0&&n.push(t[e])}return new ue(n,0)}function we(t){return t.pieceNum_>=t.pieces_.length}function _e(t,e){const n=de(t),r=de(e);if(null===n)return e;if(n===r)return _e(pe(t),pe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Oe(t,e){const n=ve(t,0),r=ve(e,0);for(let i=0;i<n.length&&i<r.length;i++){const t=R(n[i],r[i]);if(0!==t)return t}return n.length===r.length?0:n.length<r.length?-1:1}function Te(t,e){if(fe(t)!==fe(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Se(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(fe(t)>fe(e))return!1;while(n<t.pieces_.length){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Ce{constructor(t,e){this.errorPrefix_=e,this.parts_=ve(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,s.OE)(this.parts_[n]);ke(this)}}function Ie(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,s.OE)(e),ke(t)}function Ee(t){const e=t.parts_.pop();t.byteLength_-=(0,s.OE)(e),t.parts_.length>0&&(t.byteLength_-=1)}function ke(t){if(t.byteLength_>le)throw new Error(t.errorPrefix_+"has a key path longer than "+le+" bytes ("+t.byteLength_+").");if(t.parts_.length>ce)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ce+") or object contains a cycle "+Pe(t))}function Pe(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe extends se{constructor(){let t,e;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document["hidden"]?(e="visibilitychange",t="hidden"):"undefined"!==typeof document["mozHidden"]?(e="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document["msHidden"]?(e="msvisibilitychange",t="msHidden"):"undefined"!==typeof document["webkitHidden"]&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,(()=>{const e=!document[t];e!==this.visible_&&(this.visible_=e,this.trigger("visible",e))}),!1)}static getInstance(){return new xe}getInitialEvent(t){return(0,s.vA)("visible"===t,"Unknown event type: "+t),[this.visible_]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De=1e3,Ae=3e5,je=3e4,Re=1.3,Ne=3e4,Le="server_kill",Fe=3;class Me extends oe{constructor(t,e,n,r,i,o,a,c){if(super(),this.repoInfo_=t,this.applicationId_=e,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=c,this.id=Me.nextPersistentConnectionId_++,this.log_=C("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=De,this.maxReconnectDelay_=Ae,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!(0,s.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xe.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&ae.getInstance().on("online",this.onOnline_,this)}sendRequest(t,e,n){const r=++this.requestNumber_,i={r,a:t,b:e};this.log_((0,s.As)(i)),(0,s.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(t){this.initConnection_();const e=new s.cY,n={p:t._path.toString(),q:t._queryObject},r={action:"g",request:n,onComplete:t=>{const n=t["d"];"ok"===t["s"]?e.resolve(n):e.reject(n)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),e.promise}listen(t,e,n,r){this.initConnection_();const i=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),(0,s.vA)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,s.vA)(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(t){const e=this.outstandingGets_[t];this.sendRequest("g",e.request,(n=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),e.onComplete&&e.onComplete(n)}))}sendListen_(t){const e=t.query,n=e._path.toString(),r=e._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n},o="q";t.tag&&(i["q"]=e._queryObject,i["t"]=t.tag),i["h"]=t.hashFn(),this.sendRequest(o,i,(i=>{const o=i["d"],s=i["s"];Me.warnOnListenWarnings_(o,e);const a=this.listens.get(n)&&this.listens.get(n).get(r);a===t&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),t.onComplete&&t.onComplete(s,o))}))}static warnOnListenWarnings_(t,e){if(t&&"object"===typeof t&&(0,s.gR)(t,"w")){const n=(0,s.yw)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const t='".indexOn": "'+e._queryParams.getIndex().toString()+'"',n=e._path.toString();k(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${t} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){const e=t&&40===t.length;(e||(0,s.qc)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=je)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,e=(0,s.Cv)(t)?"auth":"gauth",n={cred:t};null===this.authOverride_?n["noauth"]=!0:"object"===typeof this.authOverride_&&(n["authvar"]=this.authOverride_),this.sendRequest(e,n,(e=>{const n=e["s"],r=e["d"]||"error";this.authToken_===t&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(t=>{const e=t["s"],n=t["d"]||"error";"ok"===e?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(e,n)}))}unlisten(t,e){const n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,s.vA)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");const i=this.removeListen_(n,r);i&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)}sendUnlisten_(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);const i={p:t},o="n";r&&(i["q"]=n,i["t"]=r),this.sendRequest(o,i)}onDisconnectPut(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})}onDisconnectMerge(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})}onDisconnectCancel(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})}sendOnDisconnect_(t,e,n,r){const i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(t=>{r&&setTimeout((()=>{r(t["s"],t["d"])}),Math.floor(0))}))}put(t,e,n,r){this.putInternal("p",t,e,n,r)}merge(t,e,n,r){this.putInternal("m",t,e,n,r)}putInternal(t,e,n,r,i){this.initConnection_();const o={p:e,d:n};void 0!==i&&(o["h"]=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+e)}sendPut_(t){const e=this.outstandingPuts_[t].action,n=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(e,n,(n=>{this.log_(e+" response",n),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n["s"],n["d"])}))}reportStats(t){if(this.connected_){const e={c:t};this.log_("reportStats",e),this.sendRequest("s",e,(t=>{const e=t["s"];if("ok"!==e){const e=t["d"];this.log_("reportStats","Error sending stats: "+e)}}))}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,s.As)(t));const e=t["r"],n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t["b"]))}else{if("error"in t)throw"A server-side error has occurred: "+t["error"];"a"in t&&this.onDataPush_(t["a"],t["b"])}}onDataPush_(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e["p"],e["d"],!1,e["t"]):"m"===t?this.onDataUpdate_(e["p"],e["d"],!0,e["t"]):"c"===t?this.onListenRevoked_(e["p"],e["q"]):"ac"===t?this.onAuthRevoked_(e["s"],e["d"]):"apc"===t?this.onAppCheckRevoked_(e["s"],e["d"]):"sd"===t?this.onSecurityDebugPacket_(e):I("Unrecognized action received from server: "+(0,s.As)(t)+"\nAre you using the latest client?")}onReady_(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,s.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=De,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=De,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){const t=(new Date).getTime()-this.lastConnectionEstablishedTime_;t>Ne&&(this.reconnectDelay_=De),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Re)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Me.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const c=function(){a?a.close():(o=!0,n())},l=function(t){(0,s.vA)(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(t)};this.realtime_={close:c,sendRequest:l};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[s,c]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?S("getToken() completed but was canceled"):(S("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=c&&c.token,a=new ie(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,e,n,(t=>{k(t+" ("+this.repoInfo_.toString()+")"),this.interrupt(Le)}),i))}catch(I){this.log_("Failed to get token: "+I),o||(this.repoInfo_.nodeAdmin&&k(I),c())}}}interrupt(t){S("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){S("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,s.Im)(this.interruptReasons_)&&(this.reconnectDelay_=De,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,e){let n;n=e?e.map((t=>F(t))).join("$"):"default";const r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(t,e){const n=new ue(t).toString();let r;if(this.listens.has(n)){const t=this.listens.get(n);r=t.get(e),t.delete(e),0===t.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(t,e){S("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Fe&&(this.reconnectDelay_=je,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,e){S("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Fe&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t["msg"].replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const e of t.values())this.sendListen_(e);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);while(this.onDisconnectRequestQueue_.length){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let e="js";(0,s.$g)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+u.replace(/\./g,"-")]=1,(0,s.jZ)()?t["framework.cordova"]=1:(0,s.lV)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=ae.getInstance().currentlyOnline();return(0,s.Im)(this.interruptReasons_)&&t}}Me.nextPersistentConnectionId_=0,Me.nextConnectionId_=0;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class $e{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new $e(t,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const n=new $e(A,t),r=new $e(A,e);return 0!==this.compare(n,r)}minPost(){return $e.MIN}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ve;class Ue extends Be{static get __EMPTY_NODE(){return Ve}static set __EMPTY_NODE(t){Ve=t}compare(t,e){return R(t.name,e.name)}isDefinedOn(t){throw(0,s.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return $e.MIN}maxPost(){return new $e(j,Ve)}makePost(t,e){return(0,s.vA)("string"===typeof t,"KeyIndex indexValue must always be a string."),new $e(t,Ve)}toString(){return".key"}}const ze=new Ue;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t,e,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;while(!t.isEmpty())if(o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_){e=e.left;while(!e.isEmpty())this.nodeStack_.push(e),e=e.right}else{e=e.right;while(!e.isEmpty())this.nodeStack_.push(e),e=e.left}return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class He{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:He.RED,this.left=null!=r?r:We.EMPTY_NODE,this.right=null!=i?i:We.EMPTY_NODE}copy(t,e,n,r,i){return new He(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return We.EMPTY_NODE;let t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,e){let n,r;if(n=this,e(t,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return We.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}He.RED=!0,He.BLACK=!1;class Ge{copy(t,e,n,r,i){return this}insert(t,e,n){return new He(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class We{constructor(t,e=We.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new We(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,He.BLACK,null,null))}remove(t){return new We(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,He.BLACK,null,null))}get(t){let e,n=this.root_;while(!n.isEmpty()){if(e=this.comparator_(t,n.key),0===e)return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null}getPredecessorKey(t){let e,n=this.root_,r=null;while(!n.isEmpty()){if(e=this.comparator_(t,n.key),0===e){if(n.left.isEmpty())return r?r.key:null;n=n.left;while(!n.right.isEmpty())n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new qe(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new qe(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new qe(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new qe(this.root_,null,this.comparator_,!0,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ke(t,e){return R(t.name,e.name)}function Ye(t,e){return R(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qe;function Xe(t){Qe=t}We.EMPTY_NODE=new Ge;const Je=function(t){return"number"===typeof t?"number:"+B(t):"string:"+t},Ze=function(t){if(t.isLeafNode()){const e=t.val();(0,s.vA)("string"===typeof e||"number"===typeof e||"object"===typeof e&&(0,s.gR)(e,".sv"),"Priority must be a string or number.")}else(0,s.vA)(t===Qe||t.isEmpty(),"priority of unexpected type.");(0,s.vA)(t===Qe||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let tn,en,nn;class rn{constructor(t,e=rn.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=e,this.lazyHash_=null,(0,s.vA)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ze(this.priorityNode_)}static set __childrenNodeConstructor(t){tn=t}static get __childrenNodeConstructor(){return tn}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new rn(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:rn.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return we(t)?this:".priority"===de(t)?this.priorityNode_:rn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,e){return null}updateImmediateChild(t,e){return".priority"===t?this.updatePriority(e):e.isEmpty()&&".priority"!==t?this:rn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)}updateChild(t,e){const n=de(t);return null===n?e:e.isEmpty()&&".priority"!==n?this:((0,s.vA)(".priority"!==n||1===fe(t),".priority must be the last token in a path"),this.updateImmediateChild(n,rn.__childrenNodeConstructor.EMPTY_NODE.updateChild(pe(t),e)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,e){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Je(this.priorityNode_.val())+":");const e=typeof this.value_;t+=e+":",t+="number"===e?B(this.value_):this.value_,this.lazyHash_=b(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===rn.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof rn.__childrenNodeConstructor?-1:((0,s.vA)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const e=typeof t.value_,n=typeof this.value_,r=rn.VALUE_TYPE_ORDER.indexOf(e),i=rn.VALUE_TYPE_ORDER.indexOf(n);return(0,s.vA)(r>=0,"Unknown leaf type: "+e),(0,s.vA)(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1}}function on(t){en=t}function sn(t){nn=t}rn.VALUE_TYPE_ORDER=["object","boolean","number","string"];class an extends Be{compare(t,e){const n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?R(t.name,e.name):i}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return $e.MIN}maxPost(){return new $e(j,new rn("[PRIORITY-POST]",nn))}makePost(t,e){const n=en(t);return new $e(e,new rn("[PRIORITY-POST]",n))}toString(){return".priority"}}const cn=new an,ln=Math.log(2);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){const e=t=>parseInt(Math.log(t)/ln,10),n=t=>parseInt(Array(t+1).join("1"),2);this.count=e(t+1),this.current_=this.count-1;const r=n(this.count);this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const hn=function(t,e,n,r){t.sort(e);const i=function(e,r){const o=r-e;let s,a;if(0===o)return null;if(1===o)return s=t[e],a=n?n(s):s,new He(a,s.node,He.BLACK,null,null);{const c=parseInt(o/2,10)+e,l=i(e,c),u=i(c+1,r);return s=t[c],a=n?n(s):s,new He(a,s.node,He.BLACK,l,u)}},o=function(e){let r=null,o=null,s=t.length;const a=function(e,r){const o=s-e,a=s;s-=e;const l=i(o+1,a),u=t[o],h=n?n(u):u;c(new He(h,u.node,r,null,l))},c=function(t){r?(r.left=t,r=t):(o=t,r=t)};for(let t=0;t<e.count;++t){const n=e.nextBitIsOne(),r=Math.pow(2,e.count-(t+1));n?a(r,He.BLACK):(a(r,He.BLACK),a(r,He.RED))}return o},s=new un(t.length),a=o(s);return new We(r||e,a)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dn;const fn={};class pn{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,s.vA)(fn&&cn,"ChildrenNode.ts has not been loaded"),dn=dn||new pn({".priority":fn},{".priority":cn}),dn}get(t){const e=(0,s.yw)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof We?e:null}hasIndex(t){return(0,s.gR)(this.indexSet_,t.toString())}addIndex(t,e){(0,s.vA)(t!==ze,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=e.getIterator($e.Wrap);let o,a=i.getNext();while(a)r=r||t.isDefinedOn(a.node),n.push(a),a=i.getNext();o=r?hn(n,t.getCompare()):fn;const c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;const u=Object.assign({},this.indexes_);return u[c]=o,new pn(u,l)}addToIndexes(t,e){const n=(0,s.kH)(this.indexes_,((n,r)=>{const i=(0,s.yw)(this.indexSet_,r);if((0,s.vA)(i,"Missing index implementation for "+r),n===fn){if(i.isDefinedOn(t.node)){const n=[],r=e.getIterator($e.Wrap);let o=r.getNext();while(o)o.name!==t.name&&n.push(o),o=r.getNext();return n.push(t),hn(n,i.getCompare())}return fn}{const r=e.get(t.name);let i=n;return r&&(i=i.remove(new $e(t.name,r))),i.insert(t,t.node)}}));return new pn(n,this.indexSet_)}removeFromIndexes(t,e){const n=(0,s.kH)(this.indexes_,(n=>{if(n===fn)return n;{const r=e.get(t.name);return r?n.remove(new $e(t.name,r)):n}}));return new pn(n,this.indexSet_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mn;class gn{constructor(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ze(this.priorityNode_),this.children_.isEmpty()&&(0,s.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return mn||(mn=new gn(new We(Ye),null,pn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||mn}updatePriority(t){return this.children_.isEmpty()?this:new gn(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const e=this.children_.get(t);return null===e?mn:e}}getChild(t){const e=de(t);return null===e?this:this.getImmediateChild(e).getChild(pe(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,e){if((0,s.vA)(e,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(e);{const n=new $e(t,e);let r,i;e.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(t,e),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?mn:this.priorityNode_;return new gn(r,o,i)}}updateChild(t,e){const n=de(t);if(null===n)return e;{(0,s.vA)(".priority"!==de(t)||1===fe(t),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(pe(t),e);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const e={};let n=0,r=0,i=!0;if(this.forEachChild(cn,((o,s)=>{e[o]=s.val(t),n++,i&&gn.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!t&&i&&r<2*n){const t=[];for(const n in e)t[n]=e[n];return t}return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+Je(this.getPriority().val())+":"),this.forEachChild(cn,((e,n)=>{const r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":b(t)}return this.lazyHash_}getPredecessorChildName(t,e,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new $e(t,e));return n?n.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const e=this.resolveIndex_(t);if(e){const t=e.minKey();return t&&t.name}return this.children_.minKey()}getFirstChild(t){const e=this.getFirstChildName(t);return e?new $e(e,this.children_.get(e)):null}getLastChildName(t){const e=this.resolveIndex_(t);if(e){const t=e.maxKey();return t&&t.name}return this.children_.maxKey()}getLastChild(t){const e=this.getLastChildName(t);return e?new $e(e,this.children_.get(e)):null}forEachChild(t,e){const n=this.resolveIndex_(t);return n?n.inorderTraversal((t=>e(t.name,t.node))):this.children_.inorderTraversal(e)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,e){const n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(t=>t));{const n=this.children_.getIteratorFrom(t.name,$e.Wrap);let r=n.peek();while(null!=r&&e.compare(r,t)<0)n.getNext(),r=n.peek();return n}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,e){const n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(t=>t));{const n=this.children_.getReverseIteratorFrom(t.name,$e.Wrap);let r=n.peek();while(null!=r&&e.compare(r,t)>0)n.getNext(),r=n.peek();return n}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===yn?-1:0}withIndex(t){if(t===ze||this.indexMap_.hasIndex(t))return this;{const e=this.indexMap_.addIndex(t,this.children_);return new gn(this.children_,this.priorityNode_,e)}}isIndexed(t){return t===ze||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){const t=this.getIterator(cn),n=e.getIterator(cn);let r=t.getNext(),i=n.getNext();while(r&&i){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=t.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(t){return t===ze?null:this.indexMap_.get(t.toString())}}gn.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vn extends gn{constructor(){super(new We(Ye),gn.EMPTY_NODE,pn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return gn.EMPTY_NODE}isEmpty(){return!1}}const yn=new vn;Object.defineProperties($e,{MIN:{value:new $e(A,gn.EMPTY_NODE)},MAX:{value:new $e(j,yn)}}),Ue.__EMPTY_NODE=gn.EMPTY_NODE,rn.__childrenNodeConstructor=gn,Xe(yn),sn(yn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const bn=!0;function wn(t,e=null){if(null===t)return gn.EMPTY_NODE;if("object"===typeof t&&".priority"in t&&(e=t[".priority"]),(0,s.vA)(null===e||"string"===typeof e||"number"===typeof e||"object"===typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"===typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!==typeof t||".sv"in t){const n=t;return new rn(n,wn(e))}if(t instanceof Array||!bn){let n=gn.EMPTY_NODE;return $(t,((e,r)=>{if((0,s.gR)(t,e)&&"."!==e.substring(0,1)){const t=wn(r);!t.isLeafNode()&&t.isEmpty()||(n=n.updateImmediateChild(e,t))}})),n.updatePriority(wn(e))}{const n=[];let r=!1;const i=t;if($(i,((t,e)=>{if("."!==t.substring(0,1)){const i=wn(e);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new $e(t,i)))}})),0===n.length)return gn.EMPTY_NODE;const o=hn(n,Ke,(t=>t.name),Ye);if(r){const t=hn(n,cn.getCompare());return new gn(o,wn(e),new pn({".priority":t},{".priority":cn}))}return new gn(o,wn(e),pn.Default)}}on(wn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class _n extends Be{constructor(t){super(),this.indexPath_=t,(0,s.vA)(!we(t)&&".priority"!==de(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?R(t.name,e.name):i}makePost(t,e){const n=wn(t),r=gn.EMPTY_NODE.updateChild(this.indexPath_,n);return new $e(e,r)}maxPost(){const t=gn.EMPTY_NODE.updateChild(this.indexPath_,yn);return new $e(j,t)}toString(){return ve(this.indexPath_,0).join("/")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On extends Be{compare(t,e){const n=t.node.compareTo(e.node);return 0===n?R(t.name,e.name):n}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return $e.MIN}maxPost(){return $e.MAX}makePost(t,e){const n=wn(t);return new $e(e,n)}toString(){return".value"}}const Tn=new On;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t){return{type:"value",snapshotNode:t}}function Cn(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function In(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function En(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function kn(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.index_=t}updateChild(t,e,n,r,i,o){(0,s.vA)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(In(e,a)):(0,s.vA)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Cn(e,n)):o.trackChildChange(En(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))}updateFullNode(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(cn,((t,r)=>{e.hasChild(t)||n.trackChildChange(In(t,r))})),e.isLeafNode()||e.forEachChild(cn,((e,r)=>{if(t.hasChild(e)){const i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(En(e,r,i))}else n.trackChildChange(Cn(e,r))}))),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?gn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.indexedFilter_=new Pn(t.getIndex()),this.index_=t.getIndex(),this.startPost_=xn.getStartPost_(t),this.endPost_=xn.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,n=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&n}updateChild(t,e,n,r,i,o){return this.matches(new $e(e,n))||(n=gn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)}updateFullNode(t,e,n){e.isLeafNode()&&(e=gn.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(gn.EMPTY_NODE);const i=this;return e.forEachChild(cn,((t,e)=>{i.matches(new $e(t,e))||(r=r.updateImmediateChild(t,gn.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const e=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?e<=0:e<0},this.withinEndPost=t=>{const e=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?e<=0:e<0},this.rangedFilter_=new xn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,n,r,i,o){return this.rangedFilter_.matches(new $e(e,n))||(n=gn.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)}updateFullNode(t,e,n){let r;if(e.isLeafNode()||e.isEmpty())r=gn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let t;r=gn.EMPTY_NODE.withIndex(this.index_),t=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;while(t.hasNext()&&n<this.limit_){const e=t.getNext();if(this.withinDirectionalStart(e)){if(!this.withinDirectionalEnd(e))break;r=r.updateImmediateChild(e.name,e.node),n++}}}else{let t;r=e.withIndex(this.index_),r=r.updatePriority(gn.EMPTY_NODE),t=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;while(t.hasNext()){const e=t.getNext(),i=n<this.limit_&&this.withinDirectionalStart(e)&&this.withinDirectionalEnd(e);i?n++:r=r.updateImmediateChild(e.name,gn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,n,r,i){let o;if(this.reverse_){const t=this.index_.getCompare();o=(e,n)=>t(n,e)}else o=this.index_.getCompare();const a=t;(0,s.vA)(a.numChildren()===this.limit_,"");const c=new $e(e,n),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(e)){const t=a.getImmediateChild(e);let s=r.getChildAfterChild(this.index_,l,this.reverse_);while(null!=s&&(s.name===e||a.hasChild(s.name)))s=r.getChildAfterChild(this.index_,s,this.reverse_);const h=null==s?1:o(s,c),d=u&&!n.isEmpty()&&h>=0;if(d)return null!=i&&i.trackChildChange(En(e,n,t)),a.updateImmediateChild(e,n);{null!=i&&i.trackChildChange(In(e,t));const n=a.updateImmediateChild(e,gn.EMPTY_NODE),r=null!=s&&this.rangedFilter_.matches(s);return r?(null!=i&&i.trackChildChange(Cn(s.name,s.node)),n.updateImmediateChild(s.name,s.node)):n}}return n.isEmpty()?t:u&&o(l,c)>=0?(null!=i&&(i.trackChildChange(In(l.name,l.node)),i.trackChildChange(Cn(e,n))),a.updateImmediateChild(e,n).updateImmediateChild(l.name,gn.EMPTY_NODE)):t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=cn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,s.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,s.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:A}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,s.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,s.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:j}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,s.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===cn}copy(){const t=new An;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function jn(t){return t.loadsAllData()?new Pn(t.getIndex()):t.hasLimit()?new Dn(t):new xn(t)}function Rn(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function Nn(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function Ln(t,e,n){const r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Fn(t,e,n){let r;return r=t.index_===ze||n?Ln(t,e,n):Ln(t,e,j),r.startAfterSet_=!0,r}function Mn(t,e,n){const r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function $n(t,e,n){let r;return r=t.index_===ze||n?Mn(t,e,n):Mn(t,e,A),r.endBeforeSet_=!0,r}function Bn(t,e){const n=t.copy();return n.index_=e,n}function Vn(t){const e={};if(t.isDefault())return e;let n;if(t.index_===cn?n="$priority":t.index_===Tn?n="$value":t.index_===ze?n="$key":((0,s.vA)(t.index_ instanceof _n,"Unrecognized index type!"),n=t.index_.toString()),e["orderBy"]=(0,s.As)(n),t.startSet_){const n=t.startAfterSet_?"startAfter":"startAt";e[n]=(0,s.As)(t.indexStartValue_),t.startNameSet_&&(e[n]+=","+(0,s.As)(t.indexStartName_))}if(t.endSet_){const n=t.endBeforeSet_?"endBefore":"endAt";e[n]=(0,s.As)(t.indexEndValue_),t.endNameSet_&&(e[n]+=","+(0,s.As)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e["limitToFirst"]=t.limit_:e["limitToLast"]=t.limit_),e}function Un(t){const e={};if(t.startSet_&&(e["sp"]=t.indexStartValue_,t.startNameSet_&&(e["sn"]=t.indexStartName_),e["sin"]=!t.startAfterSet_),t.endSet_&&(e["ep"]=t.indexEndValue_,t.endNameSet_&&(e["en"]=t.indexEndName_),e["ein"]=!t.endBeforeSet_),t.limitSet_){e["l"]=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e["vf"]=n}return t.index_!==cn&&(e["i"]=t.index_.toString()),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends oe{constructor(t,e,n,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=C("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,s.vA)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,n,r){const i=t._path.toString();this.log_("Listen called for "+i+" "+t._queryIdentifier);const o=zn.getListenId_(t,n),a={};this.listens_[o]=a;const c=Vn(t._queryParams);this.restRequest_(i+".json",c,((t,e)=>{let c=e;if(404===t&&(c=null,t=null),null===t&&this.onDataUpdate_(i,c,!1,n),(0,s.yw)(this.listens_,o)===a){let e;e=t?401===t?"permission_denied":"rest_error:"+t:"ok",r(e,null)}}))}unlisten(t,e){const n=zn.getListenId_(t,e);delete this.listens_[n]}get(t){const e=Vn(t._queryParams),n=t._path.toString(),r=new s.cY;return this.restRequest_(n+".json",e,((t,e)=>{let i=e;404===t&&(i=null,t=null),null===t?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(t){}restRequest_(t,e={},n){return e["format"]="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([r,i])=>{r&&r.accessToken&&(e["auth"]=r.accessToken),i&&i.token&&(e["ac"]=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,s.Am)(e);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=(0,s.$L)(a.responseText)}catch(t){k("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&k("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(){this.rootNode_=gn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return{value:null,children:new Map}}function Gn(t,e,n){if(we(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=de(e);t.children.has(r)||t.children.set(r,Hn());const i=t.children.get(r);e=pe(e),Gn(i,e,n)}}function Wn(t,e){if(we(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(cn,((e,n)=>{Gn(t,new ue(e),n)})),Wn(t,e)}}if(t.children.size>0){const n=de(e);if(e=pe(e),t.children.has(n)){const r=Wn(t.children.get(n),e);r&&t.children.delete(n)}return 0===t.children.size}return!0}function Kn(t,e,n){null!==t.value?n(e,t.value):Yn(t,((t,r)=>{const i=new ue(e.toString()+"/"+t);Kn(r,i,n)}))}function Yn(t,e){t.children.forEach(((t,n)=>{e(n,t)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&$(this.last_,((t,n)=>{e[t]=e[t]-n})),this.last_=t,e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=1e4,Jn=3e4,Zn=3e5;class tr{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Qn(t);const n=Xn+(Jn-Xn)*Math.random();Q(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const t=this.statsListener_.get(),e={};let n=!1;$(t,((t,r)=>{r>0&&(0,s.gR)(this.statsToReport_,t)&&(e[t]=r,n=!0)})),n&&this.server_.reportStats(e),Q(this.reportStats_.bind(this),Math.floor(2*Math.random()*Zn))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er;function nr(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function rr(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ir(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t[t["OVERWRITE"]=0]="OVERWRITE",t[t["MERGE"]=1]="MERGE",t[t["ACK_USER_WRITE"]=2]="ACK_USER_WRITE",t[t["LISTEN_COMPLETE"]=3]="LISTEN_COMPLETE"})(er||(er={}));class or{constructor(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=er.ACK_USER_WRITE,this.source=nr()}operationForChild(t){if(we(this.path)){if(null!=this.affectedTree.value)return(0,s.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new ue(t));return new or(he(),e,this.revert)}}return(0,s.vA)(de(this.path)===t,"operationForChild called for unrelated child."),new or(pe(this.path),this.affectedTree,this.revert)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(t,e){this.source=t,this.path=e,this.type=er.LISTEN_COMPLETE}operationForChild(t){return we(this.path)?new sr(this.source,he()):new sr(this.source,pe(this.path))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=er.OVERWRITE}operationForChild(t){return we(this.path)?new ar(this.source,he(),this.snap.getImmediateChild(t)):new ar(this.source,pe(this.path),this.snap)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(t,e,n){this.source=t,this.path=e,this.children=n,this.type=er.MERGE}operationForChild(t){if(we(this.path)){const e=this.children.subtree(new ue(t));return e.isEmpty()?null:e.value?new ar(this.source,he(),e.value):new cr(this.source,he(),e)}return(0,s.vA)(de(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new cr(this.source,pe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(we(t))return this.isFullyInitialized()&&!this.filtered_;const e=de(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function hr(t,e,n,r){const i=[],o=[];return e.forEach((e=>{"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push(kn(e.childName,e.snapshotNode))})),dr(t,i,"child_removed",e,r,n),dr(t,i,"child_added",e,r,n),dr(t,i,"child_moved",o,r,n),dr(t,i,"child_changed",e,r,n),dr(t,i,"value",e,r,n),i}function dr(t,e,n,r,i,o){const s=r.filter((t=>t.type===n));s.sort(((e,n)=>pr(t,e,n))),s.forEach((n=>{const r=fr(t,n,o);i.forEach((i=>{i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))}))}))}function fr(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function pr(t,e,n){if(null==e.childName||null==n.childName)throw(0,s.Hk)("Should only compare child_ events.");const r=new $e(e.childName,e.snapshotNode),i=new $e(n.childName,n.snapshotNode);return t.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t,e){return{eventCache:t,serverCache:e}}function gr(t,e,n,r){return mr(new lr(e,n,r),t.serverCache)}function vr(t,e,n,r){return mr(t.eventCache,new lr(e,n,r))}function yr(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function br(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wr;const _r=()=>(wr||(wr=new We(N)),wr);class Or{constructor(t,e=_r()){this.value=t,this.children=e}static fromObject(t){let e=new Or(null);return $(t,((t,n)=>{e=e.set(new ue(t),n)})),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:he(),value:this.value};if(we(t))return null;{const n=de(t),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(pe(t),e);if(null!=i){const t=be(new ue(n),i.path);return{path:t,value:i.value}}return null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,(()=>!0))}subtree(t){if(we(t))return this;{const e=de(t),n=this.children.get(e);return null!==n?n.subtree(pe(t)):new Or(null)}}set(t,e){if(we(t))return new Or(e,this.children);{const n=de(t),r=this.children.get(n)||new Or(null),i=r.set(pe(t),e),o=this.children.insert(n,i);return new Or(this.value,o)}}remove(t){if(we(t))return this.children.isEmpty()?new Or(null):new Or(null,this.children);{const e=de(t),n=this.children.get(e);if(n){const r=n.remove(pe(t));let i;return i=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&i.isEmpty()?new Or(null):new Or(this.value,i)}return this}}get(t){if(we(t))return this.value;{const e=de(t),n=this.children.get(e);return n?n.get(pe(t)):null}}setTree(t,e){if(we(t))return e;{const n=de(t),r=this.children.get(n)||new Or(null),i=r.setTree(pe(t),e);let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),new Or(this.value,o)}}fold(t){return this.fold_(he(),t)}fold_(t,e){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(be(t,r),e)})),e(t,this.value,n)}findOnPath(t,e){return this.findOnPath_(t,he(),e)}findOnPath_(t,e,n){const r=!!this.value&&n(e,this.value);if(r)return r;if(we(t))return null;{const r=de(t),i=this.children.get(r);return i?i.findOnPath_(pe(t),be(e,r),n):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,he(),e)}foreachOnPath_(t,e,n){if(we(t))return this;{this.value&&n(e,this.value);const r=de(t),i=this.children.get(r);return i?i.foreachOnPath_(pe(t),be(e,r),n):new Or(null)}}foreach(t){this.foreach_(he(),t)}foreach_(t,e){this.children.inorderTraversal(((n,r)=>{r.foreach_(be(t,n),e)})),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal(((e,n)=>{n.value&&t(e,n.value)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(t){this.writeTree_=t}static empty(){return new Tr(new Or(null))}}function Sr(t,e,n){if(we(e))return new Tr(new Or(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let o=r.value;const s=_e(i,e);return o=o.updateChild(s,n),new Tr(t.writeTree_.set(i,o))}{const r=new Or(n),i=t.writeTree_.setTree(e,r);return new Tr(i)}}}function Cr(t,e,n){let r=t;return $(n,((t,n)=>{r=Sr(r,be(e,t),n)})),r}function Ir(t,e){if(we(e))return Tr.empty();{const n=t.writeTree_.setTree(e,new Or(null));return new Tr(n)}}function Er(t,e){return null!=kr(t,e)}function kr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(_e(n.path,e)):null}function Pr(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(cn,((t,n)=>{e.push(new $e(t,n))})):t.writeTree_.children.inorderTraversal(((t,n)=>{null!=n.value&&e.push(new $e(t,n.value))})),e}function xr(t,e){if(we(e))return t;{const n=kr(t,e);return new Tr(null!=n?new Or(n):t.writeTree_.subtree(e))}}function Dr(t){return t.writeTree_.isEmpty()}function Ar(t,e){return jr(he(),t.writeTree_,e)}function jr(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal(((e,i)=>{".priority"===e?((0,s.vA)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=jr(be(t,e),i,n)})),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(be(t,".priority"),r)),n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t,e){return ri(e,t)}function Nr(t,e,n,r,i){(0,s.vA)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Sr(t.visibleWrites,e,n)),t.lastWriteId=r}function Lr(t,e,n,r){(0,s.vA)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Cr(t.visibleWrites,e,n),t.lastWriteId=r}function Fr(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Mr(t,e){const n=t.allWrites.findIndex((t=>t.writeId===e));(0,s.vA)(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,a=t.allWrites.length-1;while(i&&a>=0){const e=t.allWrites[a];e.visible&&(a>=n&&$r(e,r.path)?i=!1:Se(r.path,e.path)&&(o=!0)),a--}if(i){if(o)return Br(t),!0;if(r.snap)t.visibleWrites=Ir(t.visibleWrites,r.path);else{const e=r.children;$(e,(e=>{t.visibleWrites=Ir(t.visibleWrites,be(r.path,e))}))}return!0}return!1}function $r(t,e){if(t.snap)return Se(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Se(be(t.path,n),e))return!0;return!1}function Br(t){t.visibleWrites=Ur(t.allWrites,Vr,he()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Vr(t){return t.visible}function Ur(t,e,n){let r=Tr.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const t=o.path;let e;if(o.snap)Se(n,t)?(e=_e(n,t),r=Sr(r,e,o.snap)):Se(t,n)&&(e=_e(t,n),r=Sr(r,he(),o.snap.getChild(e)));else{if(!o.children)throw(0,s.Hk)("WriteRecord should have .snap or .children");if(Se(n,t))e=_e(n,t),r=Cr(r,e,o.children);else if(Se(t,n))if(e=_e(t,n),we(e))r=Cr(r,he(),o.children);else{const t=(0,s.yw)(o.children,de(e));if(t){const n=t.getChild(pe(e));r=Sr(r,he(),n)}}}}}return r}function zr(t,e,n,r,i){if(r||i){const o=xr(t.visibleWrites,e);if(!i&&Dr(o))return n;if(i||null!=n||Er(o,he())){const o=function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(Se(t.path,e)||Se(e,t.path))},s=Ur(t.allWrites,o,e),a=n||gn.EMPTY_NODE;return Ar(s,a)}return null}{const r=kr(t.visibleWrites,e);if(null!=r)return r;{const r=xr(t.visibleWrites,e);if(Dr(r))return n;if(null!=n||Er(r,he())){const t=n||gn.EMPTY_NODE;return Ar(r,t)}return null}}}function qr(t,e,n){let r=gn.EMPTY_NODE;const i=kr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(cn,((t,e)=>{r=r.updateImmediateChild(t,e)})),r;if(n){const i=xr(t.visibleWrites,e);return n.forEachChild(cn,((t,e)=>{const n=Ar(xr(i,new ue(t)),e);r=r.updateImmediateChild(t,n)})),Pr(i).forEach((t=>{r=r.updateImmediateChild(t.name,t.node)})),r}{const n=xr(t.visibleWrites,e);return Pr(n).forEach((t=>{r=r.updateImmediateChild(t.name,t.node)})),r}}function Hr(t,e,n,r,i){(0,s.vA)(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=be(e,n);if(Er(t.visibleWrites,o))return null;{const e=xr(t.visibleWrites,o);return Dr(e)?i.getChild(n):Ar(e,i.getChild(n))}}function Gr(t,e,n,r){const i=be(e,n),o=kr(t.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n)){const e=xr(t.visibleWrites,i);return Ar(e,r.getNode().getImmediateChild(n))}return null}function Wr(t,e){return kr(t.visibleWrites,e)}function Kr(t,e,n,r,i,o,s){let a;const c=xr(t.visibleWrites,e),l=kr(c,he());if(null!=l)a=l;else{if(null==n)return[];a=Ar(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const t=[],e=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let c=n.getNext();while(c&&t.length<i)0!==e(c,r)&&t.push(c),c=n.getNext();return t}}function Yr(){return{visibleWrites:Tr.empty(),allWrites:[],lastWriteId:-1}}function Qr(t,e,n,r){return zr(t.writeTree,t.treePath,e,n,r)}function Xr(t,e){return qr(t.writeTree,t.treePath,e)}function Jr(t,e,n,r){return Hr(t.writeTree,t.treePath,e,n,r)}function Zr(t,e){return Wr(t.writeTree,be(t.treePath,e))}function ti(t,e,n,r,i,o){return Kr(t.writeTree,t.treePath,e,n,r,i,o)}function ei(t,e,n){return Gr(t.writeTree,t.treePath,e,n)}function ni(t,e){return ri(be(t.treePath,e),t.writeTree)}function ri(t,e){return{treePath:t,writeTree:e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,n=t.childName;(0,s.vA)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,s.vA)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,En(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,In(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,Cn(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw(0,s.Hk)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,En(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)}getChanges(){return Array.from(this.changeMap.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{getCompleteChild(t){return null}getChildAfterChild(t,e,n){return null}}const si=new oi;class ai{constructor(t,e,n=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const e=null!=this.optCompleteServerCache_?new lr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ei(this.writes_,t,e)}}getChildAfterChild(t,e,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:br(this.viewCache_),i=ti(this.writes_,r,e,1,n,t);return 0===i.length?null:i[0]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t){return{filter:t}}function li(t,e){(0,s.vA)(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,s.vA)(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function ui(t,e,n,r,i){const o=new ii;let a,c;if(n.type===er.OVERWRITE){const l=n;l.source.fromUser?a=pi(t,e,l.path,l.snap,r,i,o):((0,s.vA)(l.source.fromServer,"Unknown source."),c=l.source.tagged||e.serverCache.isFiltered()&&!we(l.path),a=fi(t,e,l.path,l.snap,r,i,c,o))}else if(n.type===er.MERGE){const l=n;l.source.fromUser?a=gi(t,e,l.path,l.children,r,i,o):((0,s.vA)(l.source.fromServer,"Unknown source."),c=l.source.tagged||e.serverCache.isFiltered(),a=yi(t,e,l.path,l.children,r,i,c,o))}else if(n.type===er.ACK_USER_WRITE){const s=n;a=s.revert?_i(t,e,s.path,r,i,o):bi(t,e,s.path,s.affectedTree,r,i,o)}else{if(n.type!==er.LISTEN_COMPLETE)throw(0,s.Hk)("Unknown operation type: "+n.type);a=wi(t,e,n.path,r,o)}const l=o.getChanges();return hi(e,a,l),{viewCache:a,changes:l}}function hi(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=yr(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Sn(yr(e)))}}function di(t,e,n,r,i,o){const a=e.eventCache;if(null!=Zr(r,n))return e;{let c,l;if(we(n))if((0,s.vA)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const n=br(e),i=n instanceof gn?n:gn.EMPTY_NODE,s=Xr(r,i);c=t.filter.updateFullNode(e.eventCache.getNode(),s,o)}else{const n=Qr(r,br(e));c=t.filter.updateFullNode(e.eventCache.getNode(),n,o)}else{const u=de(n);if(".priority"===u){(0,s.vA)(1===fe(n),"Can't have a priority with additional path components");const i=a.getNode();l=e.serverCache.getNode();const o=Jr(r,n,i,l);c=null!=o?t.filter.updatePriority(i,o):a.getNode()}else{const s=pe(n);let h;if(a.isCompleteForChild(u)){l=e.serverCache.getNode();const t=Jr(r,n,a.getNode(),l);h=null!=t?a.getNode().getImmediateChild(u).updateChild(s,t):a.getNode().getImmediateChild(u)}else h=ei(r,u,e.serverCache);c=null!=h?t.filter.updateChild(a.getNode(),u,h,s,i,o):a.getNode()}}return gr(e,c,a.isFullyInitialized()||we(n),t.filter.filtersNodes())}}function fi(t,e,n,r,i,o,s,a){const c=e.serverCache;let l;const u=s?t.filter:t.filter.getIndexedFilter();if(we(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const t=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),t,null)}else{const t=de(n);if(!c.isCompleteForPath(n)&&fe(n)>1)return e;const i=pe(n),o=c.getNode().getImmediateChild(t),s=o.updateChild(i,r);l=".priority"===t?u.updatePriority(c.getNode(),s):u.updateChild(c.getNode(),t,s,i,si,null)}const h=vr(e,l,c.isFullyInitialized()||we(n),u.filtersNodes()),d=new ai(i,h,o);return di(t,h,n,i,d,a)}function pi(t,e,n,r,i,o,s){const a=e.eventCache;let c,l;const u=new ai(i,e,o);if(we(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=gr(e,l,!0,t.filter.filtersNodes());else{const i=de(n);if(".priority"===i)l=t.filter.updatePriority(e.eventCache.getNode(),r),c=gr(e,l,a.isFullyInitialized(),a.isFiltered());else{const o=pe(n),l=a.getNode().getImmediateChild(i);let h;if(we(o))h=r;else{const t=u.getCompleteChild(i);h=null!=t?".priority"===me(o)&&t.getChild(ye(o)).isEmpty()?t:t.updateChild(o,r):gn.EMPTY_NODE}if(l.equals(h))c=e;else{const n=t.filter.updateChild(a.getNode(),i,h,o,u,s);c=gr(e,n,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function mi(t,e){return t.eventCache.isCompleteForChild(e)}function gi(t,e,n,r,i,o,s){let a=e;return r.foreach(((r,c)=>{const l=be(n,r);mi(e,de(l))&&(a=pi(t,a,l,c,i,o,s))})),r.foreach(((r,c)=>{const l=be(n,r);mi(e,de(l))||(a=pi(t,a,l,c,i,o,s))})),a}function vi(t,e,n){return n.foreach(((t,n)=>{e=e.updateChild(t,n)})),e}function yi(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=we(n)?r:new Or(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const c=e.serverCache.getNode().getImmediateChild(n),u=vi(t,c,r);l=fi(t,l,new ue(n),u,i,o,s,a)}})),c.children.inorderTraversal(((n,r)=>{const c=!e.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!c){const c=e.serverCache.getNode().getImmediateChild(n),u=vi(t,c,r);l=fi(t,l,new ue(n),u,i,o,s,a)}})),l}function bi(t,e,n,r,i,o,s){if(null!=Zr(i,n))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(we(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return fi(t,e,n,c.getNode().getChild(n),i,o,a,s);if(we(n)){let r=new Or(null);return c.getNode().forEachChild(ze,((t,e)=>{r=r.set(new ue(t),e)})),yi(t,e,n,r,i,o,a,s)}return e}{let l=new Or(null);return r.foreach(((t,e)=>{const r=be(n,t);c.isCompleteForPath(r)&&(l=l.set(t,c.getNode().getChild(r)))})),yi(t,e,n,l,i,o,a,s)}}function wi(t,e,n,r,i){const o=e.serverCache,s=vr(e,o.getNode(),o.isFullyInitialized()||we(n),o.isFiltered());return di(t,s,n,r,si,i)}function _i(t,e,n,r,i,o){let a;if(null!=Zr(r,n))return e;{const c=new ai(r,e,i),l=e.eventCache.getNode();let u;if(we(n)||".priority"===de(n)){let n;if(e.serverCache.isFullyInitialized())n=Qr(r,br(e));else{const t=e.serverCache.getNode();(0,s.vA)(t instanceof gn,"serverChildren would be complete if leaf node"),n=Xr(r,t)}u=t.filter.updateFullNode(l,n,o)}else{const i=de(n);let s=ei(r,i,e.serverCache);null==s&&e.serverCache.isCompleteForChild(i)&&(s=l.getImmediateChild(i)),u=null!=s?t.filter.updateChild(l,i,s,pe(n),c,o):e.eventCache.getNode().hasChild(i)?t.filter.updateChild(l,i,gn.EMPTY_NODE,pe(n),c,o):l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Qr(r,br(e)),a.isLeafNode()&&(u=t.filter.updateFullNode(u,a,o)))}return a=e.serverCache.isFullyInitialized()||null!=Zr(r,he()),gr(e,u,a,t.filter.filtersNodes())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Pn(n.getIndex()),i=jn(n);this.processor_=ci(i);const o=e.serverCache,s=e.eventCache,a=r.updateFullNode(gn.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(gn.EMPTY_NODE,s.getNode(),null),l=new lr(a,o.isFullyInitialized(),r.filtersNodes()),u=new lr(c,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=mr(u,l),this.eventGenerator_=new ur(this.query_)}get query(){return this.query_}}function Ti(t){return t.viewCache_.serverCache.getNode()}function Si(t){return yr(t.viewCache_)}function Ci(t,e){const n=br(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!we(e)&&!n.getImmediateChild(de(e)).isEmpty())?n.getChild(e):null}function Ii(t){return 0===t.eventRegistrations_.length}function Ei(t,e){t.eventRegistrations_.push(e)}function ki(t,e,n){const r=[];if(n){(0,s.vA)(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach((t=>{const e=t.createCancelEvent(n,i);e&&r.push(e)}))}if(e){let n=[];for(let r=0;r<t.eventRegistrations_.length;++r){const i=t.eventRegistrations_[r];if(i.matches(e)){if(e.hasAnyCallback()){n=n.concat(t.eventRegistrations_.slice(r+1));break}}else n.push(i)}t.eventRegistrations_=n}else t.eventRegistrations_=[];return r}function Pi(t,e,n,r){e.type===er.MERGE&&null!==e.source.queryId&&((0,s.vA)(br(t.viewCache_),"We should always have a full cache before handling merges"),(0,s.vA)(yr(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=ui(t.processor_,i,e,n,r);return li(t.processor_,o.viewCache),(0,s.vA)(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Di(t,o.changes,o.viewCache.eventCache.getNode(),null)}function xi(t,e){const n=t.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){const t=n.getNode();t.forEachChild(cn,((t,e)=>{r.push(Cn(t,e))}))}return n.isFullyInitialized()&&r.push(Sn(n.getNode())),Di(t,r,n.getNode(),e)}function Di(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return hr(t.eventGenerator_,e,n,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ai,ji;class Ri{constructor(){this.views=new Map}}function Ni(t){(0,s.vA)(!Ai,"__referenceConstructor has already been defined"),Ai=t}function Li(){return(0,s.vA)(Ai,"Reference.ts has not been loaded"),Ai}function Fi(t){return 0===t.views.size}function Mi(t,e,n,r){const i=e.source.queryId;if(null!==i){const o=t.views.get(i);return(0,s.vA)(null!=o,"SyncTree gave us an op for an invalid query."),Pi(o,e,n,r)}{let i=[];for(const o of t.views.values())i=i.concat(Pi(o,e,n,r));return i}}function $i(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let t=Qr(n,i?r:null),o=!1;t?o=!0:r instanceof gn?(t=Xr(n,r),o=!1):(t=gn.EMPTY_NODE,o=!1);const s=mr(new lr(t,o,!1),new lr(r,i,!1));return new Oi(e,s)}return s}function Bi(t,e,n,r,i,o){const s=$i(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),Ei(s,n),xi(s,n)}function Vi(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=Gi(t);if("default"===i)for(const[c,l]of t.views.entries())s=s.concat(ki(l,n,r)),Ii(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{const e=t.views.get(i);e&&(s=s.concat(ki(e,n,r)),Ii(e)&&(t.views.delete(i),e.query._queryParams.loadsAllData()||o.push(e.query)))}return a&&!Gi(t)&&o.push(new(Li())(e._repo,e._path)),{removed:o,events:s}}function Ui(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function zi(t,e){let n=null;for(const r of t.views.values())n=n||Ci(r,e);return n}function qi(t,e){const n=e._queryParams;if(n.loadsAllData())return Wi(t);{const n=e._queryIdentifier;return t.views.get(n)}}function Hi(t,e){return null!=qi(t,e)}function Gi(t){return null!=Wi(t)}function Wi(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t){(0,s.vA)(!ji,"__referenceConstructor has already been defined"),ji=t}function Yi(){return(0,s.vA)(ji,"Reference.ts has not been loaded"),ji}let Qi=1;class Xi{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Or(null),this.pendingWriteTree_=Yr(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ji(t,e,n,r,i){return Nr(t.pendingWriteTree_,e,n,r,i),i?ho(t,new ar(nr(),e,n)):[]}function Zi(t,e,n,r){Lr(t.pendingWriteTree_,e,n,r);const i=Or.fromObject(n);return ho(t,new cr(nr(),e,i))}function to(t,e,n=!1){const r=Fr(t.pendingWriteTree_,e),i=Mr(t.pendingWriteTree_,e);if(i){let e=new Or(null);return null!=r.snap?e=e.set(he(),!0):$(r.children,(t=>{e=e.set(new ue(t),!0)})),ho(t,new or(r.path,e,n))}return[]}function eo(t,e,n){return ho(t,new ar(rr(),e,n))}function no(t,e,n){const r=Or.fromObject(n);return ho(t,new cr(rr(),e,r))}function ro(t,e){return ho(t,new sr(rr(),e))}function io(t,e,n){const r=yo(t,n);if(r){const n=bo(r),i=n.path,o=n.queryId,s=_e(i,e),a=new sr(ir(o),s);return wo(t,i,a)}return[]}function oo(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&("default"===e._queryIdentifier||Hi(s,e))){const c=Vi(s,e,n,r);Fi(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const l=c.removed;if(a=c.events,!i){const n=-1!==l.findIndex((t=>t._queryParams.loadsAllData())),i=t.syncPointTree_.findOnPath(o,((t,e)=>Gi(e)));if(n&&!i){const e=t.syncPointTree_.subtree(o);if(!e.isEmpty()){const n=_o(e);for(let e=0;e<n.length;++e){const r=n[e],i=r.query,o=mo(t,r);t.listenProvider_.startListening(Oo(i),go(t,i),o.hashFn,o.onComplete)}}}if(!i&&l.length>0&&!r)if(n){const n=null;t.listenProvider_.stopListening(Oo(e),n)}else l.forEach((e=>{const n=t.queryToTagMap.get(vo(e));t.listenProvider_.stopListening(Oo(e),n)}))}To(t,l)}return a}function so(t,e,n,r){const i=yo(t,r);if(null!=i){const r=bo(i),o=r.path,s=r.queryId,a=_e(o,e),c=new ar(ir(s),a,n);return wo(t,o,c)}return[]}function ao(t,e,n,r){const i=yo(t,r);if(i){const r=bo(i),o=r.path,s=r.queryId,a=_e(o,e),c=Or.fromObject(n),l=new cr(ir(s),a,c);return wo(t,o,l)}return[]}function co(t,e,n,r=!1){const i=e._path;let o=null,a=!1;t.syncPointTree_.foreachOnPath(i,((t,e)=>{const n=_e(t,i);o=o||zi(e,n),a=a||Gi(e)}));let c,l=t.syncPointTree_.get(i);if(l?(a=a||Gi(l),o=o||zi(l,he())):(l=new Ri,t.syncPointTree_=t.syncPointTree_.set(i,l)),null!=o)c=!0;else{c=!1,o=gn.EMPTY_NODE;const e=t.syncPointTree_.subtree(i);e.foreachChild(((t,e)=>{const n=zi(e,he());n&&(o=o.updateImmediateChild(t,n))}))}const u=Hi(l,e);if(!u&&!e._queryParams.loadsAllData()){const n=vo(e);(0,s.vA)(!t.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=So();t.queryToTagMap.set(n,r),t.tagToQueryMap.set(r,n)}const h=Rr(t.pendingWriteTree_,i);let d=Bi(l,e,n,h,o,c);if(!u&&!a&&!r){const n=qi(l,e);d=d.concat(Co(t,e,n))}return d}function lo(t,e,n){const r=!0,i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,((t,n)=>{const r=_e(t,e),i=zi(n,r);if(i)return i}));return zr(i,e,o,n,r)}function uo(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,((t,e)=>{const i=_e(t,n);r=r||zi(e,i)}));let i=t.syncPointTree_.get(n);i?r=r||zi(i,he()):(i=new Ri,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=null!=r,s=o?new lr(r,!0,!1):null,a=Rr(t.pendingWriteTree_,e._path),c=$i(i,e,a,o?s.getNode():gn.EMPTY_NODE,o);return Si(c)}function ho(t,e){return fo(e,t.syncPointTree_,null,Rr(t.pendingWriteTree_,he()))}function fo(t,e,n,r){if(we(t.path))return po(t,e,n,r);{const i=e.get(he());null==n&&null!=i&&(n=zi(i,he()));let o=[];const s=de(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){const t=n?n.getImmediateChild(s):null,e=ni(r,s);o=o.concat(fo(a,c,t,e))}return i&&(o=o.concat(Mi(i,t,r,n))),o}}function po(t,e,n,r){const i=e.get(he());null==n&&null!=i&&(n=zi(i,he()));let o=[];return e.children.inorderTraversal(((e,i)=>{const s=n?n.getImmediateChild(e):null,a=ni(r,e),c=t.operationForChild(e);c&&(o=o.concat(po(c,i,s,a)))})),i&&(o=o.concat(Mi(i,t,r,n))),o}function mo(t,e){const n=e.query,r=go(t,n);return{hashFn:()=>{const t=Ti(e)||gn.EMPTY_NODE;return t.hash()},onComplete:e=>{if("ok"===e)return r?io(t,n._path,r):ro(t,n._path);{const r=z(e,n);return oo(t,n,null,r)}}}}function go(t,e){const n=vo(e);return t.queryToTagMap.get(n)}function vo(t){return t._path.toString()+"$"+t._queryIdentifier}function yo(t,e){return t.tagToQueryMap.get(e)}function bo(t){const e=t.indexOf("$");return(0,s.vA)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ue(t.substr(0,e))}}function wo(t,e,n){const r=t.syncPointTree_.get(e);(0,s.vA)(r,"Missing sync point for query tag that we're tracking");const i=Rr(t.pendingWriteTree_,e);return Mi(r,n,i,null)}function _o(t){return t.fold(((t,e,n)=>{if(e&&Gi(e)){const t=Wi(e);return[t]}{let t=[];return e&&(t=Ui(e)),$(n,((e,n)=>{t=t.concat(n)})),t}}))}function Oo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Yi())(t._repo,t._path):t}function To(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const e=vo(r),n=t.queryToTagMap.get(e);t.queryToTagMap.delete(e),t.tagToQueryMap.delete(n)}}}function So(){return Qi++}function Co(t,e,n){const r=e._path,i=go(t,e),o=mo(t,n),a=t.listenProvider_.startListening(Oo(e),i,o.hashFn,o.onComplete),c=t.syncPointTree_.subtree(r);if(i)(0,s.vA)(!Gi(c.value),"If we're adding a query, it shouldn't be shadowed");else{const e=c.fold(((t,e,n)=>{if(!we(t)&&e&&Gi(e))return[Wi(e).query];{let t=[];return e&&(t=t.concat(Ui(e).map((t=>t.query)))),$(n,((e,n)=>{t=t.concat(n)})),t}}));for(let n=0;n<e.length;++n){const r=e[n];t.listenProvider_.stopListening(Oo(r),go(t,r))}}return a}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Io(e)}node(){return this.node_}}class Eo{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=be(this.path_,t);return new Eo(this.syncTree_,e)}node(){return lo(this.syncTree_,this.path_)}}const ko=function(t){return t=t||{},t["timestamp"]=t["timestamp"]||(new Date).getTime(),t},Po=function(t,e,n){return t&&"object"===typeof t?((0,s.vA)(".sv"in t,"Unexpected leaf node or priority contents"),"string"===typeof t[".sv"]?xo(t[".sv"],e,n):"object"===typeof t[".sv"]?Do(t[".sv"],e):void(0,s.vA)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},xo=function(t,e,n){switch(t){case"timestamp":return n["timestamp"];default:(0,s.vA)(!1,"Unexpected server value: "+t)}},Do=function(t,e,n){t.hasOwnProperty("increment")||(0,s.vA)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t["increment"];"number"!==typeof r&&(0,s.vA)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,s.vA)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i,a=o.getValue();return"number"!==typeof a?r:a+r},Ao=function(t,e,n,r){return Ro(e,new Eo(n,t),r)},jo=function(t,e,n){return Ro(t,new Io(e),n)};function Ro(t,e,n){const r=t.getPriority().val(),i=Po(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const r=t,o=Po(r.getValue(),e,n);return o!==r.getValue()||i!==r.getPriority().val()?new rn(o,wn(i)):t}{const r=t;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new rn(i))),r.forEachChild(cn,((t,r)=>{const i=Ro(r,e.getImmediateChild(t),n);i!==r&&(o=o.updateImmediateChild(t,i))})),o}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t="",e=null,n={children:{},childCount:0}){this.name=t,this.parent=e,this.node=n}}function Lo(t,e){let n=e instanceof ue?e:new ue(e),r=t,i=de(n);while(null!==i){const t=(0,s.yw)(r.node.children,i)||{children:{},childCount:0};r=new No(i,r,t),n=pe(n),i=de(n)}return r}function Fo(t){return t.node.value}function Mo(t,e){t.node.value=e,Ho(t)}function $o(t){return t.node.childCount>0}function Bo(t){return void 0===Fo(t)&&!$o(t)}function Vo(t,e){$(t.node.children,((n,r)=>{e(new No(n,t,r))}))}function Uo(t,e,n,r){n&&!r&&e(t),Vo(t,(t=>{Uo(t,e,!0,r)})),n&&r&&e(t)}function zo(t,e,n){let r=n?t:t.parent;while(null!==r){if(e(r))return!0;r=r.parent}return!1}function qo(t){return new ue(null===t.parent?t.name:qo(t.parent)+"/"+t.name)}function Ho(t){null!==t.parent&&Go(t.parent,t.name,t)}function Go(t,e,n){const r=Bo(n),i=(0,s.gR)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ho(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,Ho(t))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=/[\[\].#$\/\u0000-\u001F\u007F]/,Ko=/[\[\].#$\u0000-\u001F\u007F]/,Yo=10485760,Qo=function(t){return"string"===typeof t&&0!==t.length&&!Wo.test(t)},Xo=function(t){return"string"===typeof t&&0!==t.length&&!Ko.test(t)},Jo=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Xo(t)},Zo=function(t){return null===t||"string"===typeof t||"number"===typeof t&&!x(t)||t&&"object"===typeof t&&(0,s.gR)(t,".sv")},ts=function(t,e,n,r){r&&void 0===e||es((0,s.dI)(t,"value"),e,n)},es=function(t,e,n){const r=n instanceof ue?new Ce(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Pe(r));if("function"===typeof e)throw new Error(t+"contains a function "+Pe(r)+" with contents = "+e.toString());if(x(e))throw new Error(t+"contains "+e.toString()+" "+Pe(r));if("string"===typeof e&&e.length>Yo/3&&(0,s.OE)(e)>Yo)throw new Error(t+"contains a string greater than "+Yo+" utf8 bytes "+Pe(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"===typeof e){let n=!1,i=!1;if($(e,((e,o)=>{if(".value"===e)n=!0;else if(".priority"!==e&&".sv"!==e&&(i=!0,!Qo(e)))throw new Error(t+" contains an invalid key ("+e+") "+Pe(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');Ie(r,e),es(t,o,r),Ee(r)})),n&&i)throw new Error(t+' contains ".value" child '+Pe(r)+" in addition to actual children.")}},ns=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=ve(r);for(let e=0;e<i.length;e++)if(".priority"===i[e]&&e===i.length-1);else if(!Qo(i[e]))throw new Error(t+"contains an invalid key ("+i[e]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Oe);let i=null;for(n=0;n<e.length;n++){if(r=e[n],null!==i&&Se(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},rs=function(t,e,n,r){if(r&&void 0===e)return;const i=(0,s.dI)(t,"values");if(!e||"object"!==typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const o=[];$(e,((t,e)=>{const r=new ue(t);if(es(i,e,be(n,r)),".priority"===me(r)&&!Zo(e))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),ns(i,o)},is=function(t,e,n){if(!n||void 0!==e){if(x(e))throw new Error((0,s.dI)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Zo(e))throw new Error((0,s.dI)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},os=function(t,e,n,r){if((!r||void 0!==n)&&!Qo(n))throw new Error((0,s.dI)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ss=function(t,e,n,r){if((!r||void 0!==n)&&!Xo(n))throw new Error((0,s.dI)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},as=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ss(t,e,n,r)},cs=function(t,e){if(".info"===de(e))throw new Error(t+" failed = Can't modify data under /.info/")},ls=function(t,e){const n=e.path.toString();if("string"!==typeof e.repoInfo.host||0===e.repoInfo.host.length||!Qo(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!Jo(n))throw new Error((0,s.dI)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class us{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hs(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();null===n||Te(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function ds(t,e,n){hs(t,n),ps(t,(t=>Te(t,e)))}function fs(t,e,n){hs(t,n),ps(t,(t=>Se(t,e)||Se(e,t)))}function ps(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(ms(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function ms(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();_&&S("event: "+n.toString()),K(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="repo_interrupt",vs=25;class ys{constructor(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new us,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Hn(),this.transactionQueueTree_=new No,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function bs(t,e,n){if(t.stats_=vt(t.repoInfo_),t.forceRestClient_||Y())t.server_=new zn(t.repoInfo_,((e,n,r,i)=>{Os(t,e,n,r,i)}),t.authTokenProvider_,t.appCheckProvider_),setTimeout((()=>Ts(t,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,s.As)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Me(t.repoInfo_,e,((e,n,r,i)=>{Os(t,e,n,r,i)}),(e=>{Ts(t,e)}),(e=>{Ss(t,e)}),t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener((e=>{t.server_.refreshAuthToken(e)})),t.appCheckProvider_.addTokenChangeListener((e=>{t.server_.refreshAppCheckToken(e.token)})),t.statsReporter_=yt(t.repoInfo_,(()=>new tr(t.stats_,t.server_))),t.infoData_=new qn,t.infoSyncTree_=new Xi({startListening:(e,n,r,i)=>{let o=[];const s=t.infoData_.getNode(e._path);return s.isEmpty()||(o=eo(t.infoSyncTree_,e._path,s),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),Cs(t,"connected",!1),t.serverSyncTree_=new Xi({startListening:(e,n,r,i)=>(t.server_.listen(e,r,n,((n,r)=>{const o=i(n,r);fs(t.eventQueue_,e._path,o)})),[]),stopListening:(e,n)=>{t.server_.unlisten(e,n)}})}function ws(t){const e=t.infoData_.getNode(new ue(".info/serverTimeOffset")),n=e.val()||0;return(new Date).getTime()+n}function _s(t){return ko({timestamp:ws(t)})}function Os(t,e,n,r,i){t.dataUpdateCount++;const o=new ue(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(i)if(r){const e=(0,s.kH)(n,(t=>wn(t)));a=ao(t.serverSyncTree_,o,e,i)}else{const e=wn(n);a=so(t.serverSyncTree_,o,e,i)}else if(r){const e=(0,s.kH)(n,(t=>wn(t)));a=no(t.serverSyncTree_,o,e)}else{const e=wn(n);a=eo(t.serverSyncTree_,o,e)}let c=o;a.length>0&&(c=Hs(t,o)),fs(t.eventQueue_,c,a)}function Ts(t,e){Cs(t,"connected",e),!1===e&&xs(t)}function Ss(t,e){$(e,((e,n)=>{Cs(t,e,n)}))}function Cs(t,e,n){const r=new ue("/.info/"+e),i=wn(n);t.infoData_.updateSnapshot(r,i);const o=eo(t.infoSyncTree_,r,i);fs(t.eventQueue_,r,o)}function Is(t){return t.nextWriteId_++}function Es(t,e,n){const r=uo(t.serverSyncTree_,e);return null!=r?Promise.resolve(r):t.server_.get(e).then((r=>{const i=wn(r).withIndex(e._queryParams.getIndex());let o;if(co(t.serverSyncTree_,e,n,!0),e._queryParams.loadsAllData())o=eo(t.serverSyncTree_,e._path,i);else{const n=go(t.serverSyncTree_,e);o=so(t.serverSyncTree_,e._path,i,n)}return fs(t.eventQueue_,e._path,o),oo(t.serverSyncTree_,e,n,null,!0),i}),(n=>($s(t,"get for query "+(0,s.As)(e)+" failed: "+n),Promise.reject(new Error(n)))))}function ks(t,e,n,r,i){$s(t,"set",{path:e.toString(),value:n,priority:r});const o=_s(t),s=wn(n,r),a=lo(t.serverSyncTree_,e),c=jo(s,a,o),l=Is(t),u=Ji(t.serverSyncTree_,e,c,l,!0);hs(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),((n,r)=>{const o="ok"===n;o||k("set at "+e+" failed: "+n);const s=to(t.serverSyncTree_,l,!o);fs(t.eventQueue_,e,s),Bs(t,i,n,r)}));const h=Xs(t,e);Hs(t,h),fs(t.eventQueue_,h,[])}function Ps(t,e,n,r){$s(t,"update",{path:e.toString(),value:n});let i=!0;const o=_s(t),s={};if($(n,((n,r)=>{i=!1,s[n]=Ao(be(e,n),wn(r),t.serverSyncTree_,o)})),i)S("update() called with empty data.  Don't do anything."),Bs(t,r,"ok",void 0);else{const i=Is(t),o=Zi(t.serverSyncTree_,e,s,i);hs(t.eventQueue_,o),t.server_.merge(e.toString(),n,((n,o)=>{const s="ok"===n;s||k("update at "+e+" failed: "+n);const a=to(t.serverSyncTree_,i,!s),c=a.length>0?Hs(t,e):e;fs(t.eventQueue_,c,a),Bs(t,r,n,o)})),$(n,(n=>{const r=Xs(t,be(e,n));Hs(t,r)})),fs(t.eventQueue_,e,[])}}function xs(t){$s(t,"onDisconnectEvents");const e=_s(t),n=Hn();Kn(t.onDisconnect_,he(),((r,i)=>{const o=Ao(r,i,t.serverSyncTree_,e);Gn(n,r,o)}));let r=[];Kn(n,he(),((e,n)=>{r=r.concat(eo(t.serverSyncTree_,e,n));const i=Xs(t,e);Hs(t,i)})),t.onDisconnect_=Hn(),fs(t.eventQueue_,he(),r)}function Ds(t,e,n){t.server_.onDisconnectCancel(e.toString(),((r,i)=>{"ok"===r&&Wn(t.onDisconnect_,e),Bs(t,n,r,i)}))}function As(t,e,n,r){const i=wn(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),((n,o)=>{"ok"===n&&Gn(t.onDisconnect_,e,i),Bs(t,r,n,o)}))}function js(t,e,n,r,i){const o=wn(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),((n,r)=>{"ok"===n&&Gn(t.onDisconnect_,e,o),Bs(t,i,n,r)}))}function Rs(t,e,n,r){if((0,s.Im)(n))return S("onDisconnect().update() called with empty data.  Don't do anything."),void Bs(t,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,((i,o)=>{"ok"===i&&$(n,((n,r)=>{const i=wn(r);Gn(t.onDisconnect_,be(e,n),i)})),Bs(t,r,i,o)}))}function Ns(t,e,n){let r;r=".info"===de(e._path)?co(t.infoSyncTree_,e,n):co(t.serverSyncTree_,e,n),ds(t.eventQueue_,e._path,r)}function Ls(t,e,n){let r;r=".info"===de(e._path)?oo(t.infoSyncTree_,e,n):oo(t.serverSyncTree_,e,n),ds(t.eventQueue_,e._path,r)}function Fs(t){t.persistentConnection_&&t.persistentConnection_.interrupt(gs)}function Ms(t){t.persistentConnection_&&t.persistentConnection_.resume(gs)}function $s(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),S(n,...e)}function Bs(t,e,n,r){e&&K((()=>{if("ok"===n)e(null);else{const t=(n||"error").toUpperCase();let i=t;r&&(i+=": "+r);const o=new Error(i);o.code=t,e(o)}}))}function Vs(t,e,n,r,i,o){$s(t,"transaction on "+e);const a={path:e,update:n,onComplete:r,status:null,order:y(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=Us(t,e,void 0);a.currentInputSnapshot=c;const l=a.update(c.val());if(void 0===l)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{es("transaction failed: Data returned ",l,a.path),a.status=0;const n=Lo(t.transactionQueueTree_,e),r=Fo(n)||[];let i;if(r.push(a),Mo(n,r),"object"===typeof l&&null!==l&&(0,s.gR)(l,".priority"))i=(0,s.yw)(l,".priority"),(0,s.vA)(Zo(i),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{const n=lo(t.serverSyncTree_,e)||gn.EMPTY_NODE;i=n.getPriority().val()}const o=_s(t),u=wn(l,i),h=jo(u,c,o);a.currentOutputSnapshotRaw=u,a.currentOutputSnapshotResolved=h,a.currentWriteId=Is(t);const d=Ji(t.serverSyncTree_,e,h,a.currentWriteId,a.applyLocally);fs(t.eventQueue_,e,d),zs(t,t.transactionQueueTree_)}}function Us(t,e,n){return lo(t.serverSyncTree_,e,n)||gn.EMPTY_NODE}function zs(t,e=t.transactionQueueTree_){if(e||Qs(t,e),Fo(e)){const n=Ks(t,e);(0,s.vA)(n.length>0,"Sending zero length transaction queue");const r=n.every((t=>0===t.status));r&&qs(t,qo(e),n)}else $o(e)&&Vo(e,(e=>{zs(t,e)}))}function qs(t,e,n){const r=n.map((t=>t.currentWriteId)),i=Us(t,e,r);let o=i;const a=i.hash();for(let u=0;u<n.length;u++){const t=n[u];(0,s.vA)(0===t.status,"tryToSendTransactionQueue_: items in queue should all be run."),t.status=1,t.retryCount++;const r=_e(e,t.path);o=o.updateChild(r,t.currentOutputSnapshotRaw)}const c=o.val(!0),l=e;t.server_.put(l.toString(),c,(r=>{$s(t,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let e=0;e<n.length;e++)n[e].status=2,i=i.concat(to(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&r.push((()=>n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved))),n[e].unwatcher();Qs(t,Lo(t.transactionQueueTree_,e)),zs(t,t.transactionQueueTree_),fs(t.eventQueue_,e,i);for(let t=0;t<r.length;t++)K(r[t])}else{if("datastale"===r)for(let t=0;t<n.length;t++)3===n[t].status?n[t].status=4:n[t].status=0;else{k("transaction at "+l.toString()+" failed: "+r);for(let t=0;t<n.length;t++)n[t].status=4,n[t].abortReason=r}Hs(t,e)}}),a)}function Hs(t,e){const n=Ws(t,e),r=qo(n),i=Ks(t,n);return Gs(t,i,r),r}function Gs(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter((t=>0===t.status)),a=o.map((t=>t.currentWriteId));for(let c=0;c<e.length;c++){const o=e[c],l=_e(n,o.path);let u,h=!1;if((0,s.vA)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)h=!0,u=o.abortReason,i=i.concat(to(t.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=vs)h=!0,u="maxretry",i=i.concat(to(t.serverSyncTree_,o.currentWriteId,!0));else{const n=Us(t,o.path,a);o.currentInputSnapshot=n;const r=e[c].update(n.val());if(void 0!==r){es("transaction failed: Data returned ",r,o.path);let e=wn(r);const c="object"===typeof r&&null!=r&&(0,s.gR)(r,".priority");c||(e=e.updatePriority(n.getPriority()));const l=o.currentWriteId,u=_s(t),h=jo(e,n,u);o.currentOutputSnapshotRaw=e,o.currentOutputSnapshotResolved=h,o.currentWriteId=Is(t),a.splice(a.indexOf(l),1),i=i.concat(Ji(t.serverSyncTree_,o.path,h,o.currentWriteId,o.applyLocally)),i=i.concat(to(t.serverSyncTree_,l,!0))}else h=!0,u="nodata",i=i.concat(to(t.serverSyncTree_,o.currentWriteId,!0))}fs(t.eventQueue_,n,i),i=[],h&&(e[c].status=2,function(t){setTimeout(t,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&("nodata"===u?r.push((()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot))):r.push((()=>e[c].onComplete(new Error(u),!1,null)))))}Qs(t,t.transactionQueueTree_);for(let s=0;s<r.length;s++)K(r[s]);zs(t,t.transactionQueueTree_)}function Ws(t,e){let n,r=t.transactionQueueTree_;n=de(e);while(null!==n&&void 0===Fo(r))r=Lo(r,n),e=pe(e),n=de(e);return r}function Ks(t,e){const n=[];return Ys(t,e,n),n.sort(((t,e)=>t.order-e.order)),n}function Ys(t,e,n){const r=Fo(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Vo(e,(e=>{Ys(t,e,n)}))}function Qs(t,e){const n=Fo(e);if(n){let t=0;for(let e=0;e<n.length;e++)2!==n[e].status&&(n[t]=n[e],t++);n.length=t,Mo(e,n.length>0?n:void 0)}Vo(e,(e=>{Qs(t,e)}))}function Xs(t,e){const n=qo(Ws(t,e)),r=Lo(t.transactionQueueTree_,e);return zo(r,(e=>{Js(t,e)})),Js(t,r),Uo(r,(e=>{Js(t,e)})),n}function Js(t,e){const n=Fo(e);if(n){const r=[];let i=[],o=-1;for(let e=0;e<n.length;e++)3===n[e].status||(1===n[e].status?((0,s.vA)(o===e-1,"All SENT items should be at beginning of queue."),o=e,n[e].status=3,n[e].abortReason="set"):((0,s.vA)(0===n[e].status,"Unexpected transaction status in abort"),n[e].unwatcher(),i=i.concat(to(t.serverSyncTree_,n[e].currentWriteId,!0)),n[e].onComplete&&r.push(n[e].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Mo(e,void 0):n.length=o+1,fs(t.eventQueue_,qo(e),i);for(let t=0;t<r.length;t++)K(r[t])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let t=n[i];try{t=decodeURIComponent(t.replace(/\+/g," "))}catch(r){}e+="/"+t}return e}function ta(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):k(`Invalid query segment '${n}' in query '${t}'`)}return e}const ea=function(t,e){const n=na(t),r=n.namespace;"firebase.com"===n.domain&&E(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||E("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||P();const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ht(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ue(n.pathString)}},na=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"===typeof t){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");-1===u&&(u=t.length);let h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(i=Zs(t.substring(u,h)));const d=ta(t.substring(Math.min(t.length,h)));l=e.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(e.substring(l+1),10)):l=e.length;const f=e.slice(0,l);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const t=e.indexOf(".");r=e.substring(0,t).toLowerCase(),n=e.substring(t+1),o=r}"ns"in d&&(o=d["ns"])}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},ra="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ia=function(){let t=0;const e=[];return function(n){const r=n===t;let i;t=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=ra.charAt(n%64),n=Math.floor(n/64);(0,s.vA)(0===n,"Cannot push at time == 0");let a=o.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)a+=ra.charAt(e[i]);return(0,s.vA)(20===a.length,"nextPushId: Length should be 20."),a}}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class oa{constructor(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,s.As)(this.snapshot.exportVal())}}class sa{constructor(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,s.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new s.cY;return Ds(this._repo,this._path,t.wrapCallback((()=>{}))),t.promise}remove(){cs("OnDisconnect.remove",this._path);const t=new s.cY;return As(this._repo,this._path,null,t.wrapCallback((()=>{}))),t.promise}set(t){cs("OnDisconnect.set",this._path),ts("OnDisconnect.set",t,this._path,!1);const e=new s.cY;return As(this._repo,this._path,t,e.wrapCallback((()=>{}))),e.promise}setWithPriority(t,e){cs("OnDisconnect.setWithPriority",this._path),ts("OnDisconnect.setWithPriority",t,this._path,!1),is("OnDisconnect.setWithPriority",e,!1);const n=new s.cY;return js(this._repo,this._path,t,e,n.wrapCallback((()=>{}))),n.promise}update(t){cs("OnDisconnect.update",this._path),rs("OnDisconnect.update",t,this._path,!1);const e=new s.cY;return Rs(this._repo,this._path,t,e.wrapCallback((()=>{}))),e.promise}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}get key(){return we(this._path)?null:me(this._path)}get ref(){return new fa(this._repo,this._path)}get _queryIdentifier(){const t=Un(this._queryParams),e=F(t);return"{}"===e?"default":e}get _queryObject(){return Un(this._queryParams)}isEqual(t){if(t=(0,s.Ku)(t),!(t instanceof la))return!1;const e=this._repo===t._repo,n=Te(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return e&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+ge(this._path)}}function ua(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function ha(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===ze){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){const n=t.getIndexStartName();if(n!==A)throw new Error(r);if("string"!==typeof e)throw new Error(i)}if(t.hasEnd()){const e=t.getIndexEndName();if(e!==j)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(t.getIndex()===cn){if(null!=e&&!Zo(e)||null!=n&&!Zo(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,s.vA)(t.getIndex()instanceof _n||t.getIndex()===Tn,"unknown index type."),null!=e&&"object"===typeof e||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function da(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class fa extends la{constructor(t,e){super(t,e,new An,!1)}get parent(){const t=ye(this._path);return null===t?null:new fa(this._repo,t)}get root(){let t=this;while(null!==t.parent)t=t.parent;return t}}class pa{constructor(t,e,n){this._node=t,this.ref=e,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new ue(t),n=va(this.ref,t);return new pa(this._node.getChild(e),n,cn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){if(this._node.isLeafNode())return!1;const e=this._node;return!!e.forEachChild(this._index,((e,n)=>t(new pa(n,va(this.ref,e),cn))))}hasChild(t){const e=new ue(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ma(t,e){return t=(0,s.Ku)(t),t._checkNotDeleted("ref"),void 0!==e?va(t._root,e):t._root}function ga(t,e){t=(0,s.Ku)(t),t._checkNotDeleted("refFromURL");const n=ea(e,t._repo.repoInfo_.nodeAdmin);ls("refFromURL",n);const r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||E("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),ma(t,n.path.toString())}function va(t,e){return t=(0,s.Ku)(t),null===de(t._path)?as("child","path",e,!1):ss("child","path",e,!1),new fa(t._repo,be(t._path,e))}function ya(t,e){t=(0,s.Ku)(t),cs("push",t._path),ts("push",e,t._path,!0);const n=ws(t._repo),r=ia(n),i=va(t,r),o=va(t,r);let a;return a=null!=e?wa(o,e).then((()=>o)):Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function ba(t){return cs("remove",t._path),wa(t,null)}function wa(t,e){t=(0,s.Ku)(t),cs("set",t._path),ts("set",e,t._path,!1);const n=new s.cY;return ks(t._repo,t._path,e,null,n.wrapCallback((()=>{}))),n.promise}function _a(t,e){t=(0,s.Ku)(t),cs("setPriority",t._path),is("setPriority",e,!1);const n=new s.cY;return ks(t._repo,be(t._path,".priority"),e,null,n.wrapCallback((()=>{}))),n.promise}function Oa(t,e,n){if(cs("setWithPriority",t._path),ts("setWithPriority",e,t._path,!1),is("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new s.cY;return ks(t._repo,t._path,e,n,r.wrapCallback((()=>{}))),r.promise}function Ta(t,e){rs("update",e,t._path,!1);const n=new s.cY;return Ps(t._repo,t._path,e,n.wrapCallback((()=>{}))),n.promise}function Sa(t){t=(0,s.Ku)(t);const e=new aa((()=>{})),n=new Ca(e);return Es(t._repo,t,n).then((e=>new pa(e,new fa(t._repo,t._path),t._queryParams.getIndex())))}class Ca{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const n=e._queryParams.getIndex();return new oa("value",this,new pa(t.snapshotNode,new fa(e._repo,e._path),n))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new sa(this,t,e):null}matches(t){return t instanceof Ca&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ia{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new sa(this,t,e):null}createEvent(t,e){(0,s.vA)(null!=t.childName,"Child events should have a childName.");const n=va(new fa(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new oa(t.type,this,new pa(t.snapshotNode,n,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Ia&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Ea(t,e,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const e=n,r=(n,r)=>{Ls(t._repo,t,a),e(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new aa(n,o||void 0),a="value"===e?new Ca(s):new Ia(e,s);return Ns(t._repo,t,a),()=>Ls(t._repo,t,a)}function ka(t,e,n,r){return Ea(t,"value",e,n,r)}function Pa(t,e,n,r){return Ea(t,"child_added",e,n,r)}function xa(t,e,n,r){return Ea(t,"child_changed",e,n,r)}function Da(t,e,n,r){return Ea(t,"child_moved",e,n,r)}function Aa(t,e,n,r){return Ea(t,"child_removed",e,n,r)}function ja(t,e,n){let r=null;const i=n?new aa(n):null;"value"===e?r=new Ca(i):e&&(r=new Ia(e,i)),Ls(t._repo,t,r)}class Ra{}class Na extends Ra{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ts("endAt",this._value,t._path,!0);const e=Mn(t._queryParams,this._value,this._key);if(da(e),ha(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new la(t._repo,t._path,e,t._orderByCalled)}}function La(t,e){return os("endAt","key",e,!0),new Na(t,e)}class Fa extends Ra{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ts("endBefore",this._value,t._path,!1);const e=$n(t._queryParams,this._value,this._key);if(da(e),ha(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new la(t._repo,t._path,e,t._orderByCalled)}}function Ma(t,e){return os("endBefore","key",e,!0),new Fa(t,e)}class $a extends Ra{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ts("startAt",this._value,t._path,!0);const e=Ln(t._queryParams,this._value,this._key);if(da(e),ha(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new la(t._repo,t._path,e,t._orderByCalled)}}function Ba(t=null,e){return os("startAt","key",e,!0),new $a(t,e)}class Va extends Ra{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ts("startAfter",this._value,t._path,!1);const e=Fn(t._queryParams,this._value,this._key);if(da(e),ha(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new la(t._repo,t._path,e,t._orderByCalled)}}function Ua(t,e){return os("startAfter","key",e,!0),new Va(t,e)}class za extends Ra{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new la(t._repo,t._path,Rn(t._queryParams,this._limit),t._orderByCalled)}}function qa(t){if("number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new za(t)}class Ha extends Ra{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new la(t._repo,t._path,Nn(t._queryParams,this._limit),t._orderByCalled)}}function Ga(t){if("number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ha(t)}class Wa extends Ra{constructor(t){super(),this._path=t}_apply(t){ua(t,"orderByChild");const e=new ue(this._path);if(we(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new _n(e),r=Bn(t._queryParams,n);return ha(r),new la(t._repo,t._path,r,!0)}}function Ka(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ss("orderByChild","path",t,!1),new Wa(t)}class Ya extends Ra{_apply(t){ua(t,"orderByKey");const e=Bn(t._queryParams,ze);return ha(e),new la(t._repo,t._path,e,!0)}}function Qa(){return new Ya}class Xa extends Ra{_apply(t){ua(t,"orderByPriority");const e=Bn(t._queryParams,cn);return ha(e),new la(t._repo,t._path,e,!0)}}function Ja(){return new Xa}class Za extends Ra{_apply(t){ua(t,"orderByValue");const e=Bn(t._queryParams,Tn);return ha(e),new la(t._repo,t._path,e,!0)}}function tc(){return new Za}class ec extends Ra{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(ts("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Na(this._value,this._key)._apply(new $a(this._value,this._key)._apply(t))}}function nc(t,e){return os("equalTo","key",e,!0),new ec(t,e)}function rc(t,...e){let n=(0,s.Ku)(t);for(const r of e)n=r._apply(n);return n}Ni(fa),Ki(fa);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ic="FIREBASE_DATABASE_EMULATOR_HOST",oc={};let sc=!1;function ac(t,e,n,r){t.repoInfo_=new ht(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function cc(t,e,n,r,i){let o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||E("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),S("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s,a,c=ea(o,i),l=c.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",BASE_URL:"/"}[ic]),a?(s=!0,o=`http://${a}?ns=${l.namespace}`,c=ea(o,i),l=c.repoInfo):s=!c.repoInfo.secure;const u=i&&s?new Z(Z.OWNER):new J(t.name,t.options,e);ls("Invalid Firebase Database URL",c),we(c.path)||E("Database URL must point to the root of a Firebase Database (not including a child path).");const h=uc(l,t,u,new X(t.name,n));return new hc(h,t)}function lc(t,e){const n=oc[e];n&&n[t.key]===t||E(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Fs(t),delete n[t.key]}function uc(t,e,n,r){let i=oc[e.name];i||(i={},oc[e.name]=i);let o=i[t.toURLString()];return o&&E("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new ys(t,sc,n,r),i[t.toURLString()]=o,o}class hc{constructor(t,e){this._repoInternal=t,this.app=e,this["type"]="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(bs(this._repoInternal,this.app.options.appId,this.app.options["databaseAuthVariableOverride"]),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fa(this._repo,he())),this._rootInternal}_delete(){return null!==this._rootInternal&&(lc(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&E("Cannot call "+t+" on a deleted database.")}}function dc(){zt.IS_TRANSPORT_INITIALIZED&&k("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function fc(){dc(),Ft.forceDisallow()}function pc(){dc(),Ut.forceDisallow(),Ft.forceAllow()}function mc(t,e,n,r={}){t=(0,s.Ku)(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&E("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&E('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Z(Z.OWNER);else if(r.mockUserToken){const e="string"===typeof r.mockUserToken?r.mockUserToken:(0,s.Fy)(r.mockUserToken,t.app.options.projectId);o=new Z(e)}ac(i,e,n,o)}function gc(t){t=(0,s.Ku)(t),t._checkNotDeleted("goOffline"),Fs(t._repo)}function vc(t){t=(0,s.Ku)(t),t._checkNotDeleted("goOnline"),Ms(t._repo)}function yc(t,e){T(t,e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t){h(o.SDK_VERSION),(0,o._registerComponent)(new i.uA("database",((t,{instanceIdentifier:e})=>{const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return cc(n,r,i,e)}),"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(c,l,t),(0,o.registerVersion)(c,l,"esm2017")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc={".sv":"timestamp"};function _c(){return wc}function Oc(t){return{".sv":{increment:t}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Sc(t,e,n){var r;if(t=(0,s.Ku)(t),cs("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,o=new s.cY,a=(e,n,r)=>{let i=null;e?o.reject(e):(i=new pa(r,new fa(t._repo,t._path),cn),o.resolve(new Tc(n,i)))},c=ka(t,(()=>{}));return Vs(t._repo,t._path,e,a,c,i),o.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Me.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Me.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};bc();const Cc="@firebase/database-compat",Ic="0.3.4",Ec=new a.Vy("@firebase/database-compat"),kc=function(t){const e="FIREBASE WARNING: "+t;Ec.warn(e)},Pc=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,s.dI)(t,e)+"must be a boolean.")},xc=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,s.dI)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Dc{constructor(t){this._delegate=t}cancel(t){(0,s.od)("OnDisconnect.cancel",0,1,arguments.length),(0,s.oD)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then((()=>t(null)),(e=>t(e))),e}remove(t){(0,s.od)("OnDisconnect.remove",0,1,arguments.length),(0,s.oD)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then((()=>t(null)),(e=>t(e))),e}set(t,e){(0,s.od)("OnDisconnect.set",1,2,arguments.length),(0,s.oD)("OnDisconnect.set","onComplete",e,!0);const n=this._delegate.set(t);return e&&n.then((()=>e(null)),(t=>e(t))),n}setWithPriority(t,e,n){(0,s.od)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,s.oD)("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(t,e);return n&&r.then((()=>n(null)),(t=>n(t))),r}update(t,e){if((0,s.od)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const e={};for(let n=0;n<t.length;++n)e[""+n]=t[n];t=e,kc("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,s.oD)("OnDisconnect.update","onComplete",e,!0);const n=this._delegate.update(t);return e&&n.then((()=>e(null)),(t=>e(t))),n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,s.od)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,s.od)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,s.od)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,s.od)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,s.od)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,s.od)("DataSnapshot.child",0,1,arguments.length),t=String(t),ss("DataSnapshot.child","path",t,!1),new jc(this._database,this._delegate.child(t))}hasChild(t){return(0,s.od)("DataSnapshot.hasChild",1,1,arguments.length),ss("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,s.od)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,s.od)("DataSnapshot.forEach",1,1,arguments.length),(0,s.oD)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((e=>t(new jc(this._database,e))))}hasChildren(){return(0,s.od)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,s.od)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,s.od)("DataSnapshot.ref",0,0,arguments.length),new Nc(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Rc{constructor(t,e){this.database=t,this._delegate=e}on(t,e,n,r){var i;(0,s.od)("Query.on",2,4,arguments.length),(0,s.oD)("Query.on","callback",e,!1);const o=Rc.getCancelAndContextArgs_("Query.on",n,r),a=(t,n)=>{e.call(o.context,new jc(this.database,t),n)};a.userCallback=e,a.context=o.context;const c=null===(i=o.cancel)||void 0===i?void 0:i.bind(o.context);switch(t){case"value":return ka(this._delegate,a,c),e;case"child_added":return Pa(this._delegate,a,c),e;case"child_removed":return Aa(this._delegate,a,c),e;case"child_changed":return xa(this._delegate,a,c),e;case"child_moved":return Da(this._delegate,a,c),e;default:throw new Error((0,s.dI)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,n){if((0,s.od)("Query.off",0,3,arguments.length),xc("Query.off",t,!0),(0,s.oD)("Query.off","callback",e,!0),(0,s.HN)("Query.off","context",n,!0),e){const r=()=>{};r.userCallback=e,r.context=n,ja(this._delegate,t,r)}else ja(this._delegate,t)}get(){return Sa(this._delegate).then((t=>new jc(this.database,t)))}once(t,e,n,r){(0,s.od)("Query.once",1,4,arguments.length),(0,s.oD)("Query.once","callback",e,!0);const i=Rc.getCancelAndContextArgs_("Query.once",n,r),o=new s.cY,a=(t,n)=>{const r=new jc(this.database,t);e&&e.call(i.context,r,n),o.resolve(r)};a.userCallback=e,a.context=i.context;const c=t=>{i.cancel&&i.cancel.call(i.context,t),o.reject(t)};switch(t){case"value":ka(this._delegate,a,c,{onlyOnce:!0});break;case"child_added":Pa(this._delegate,a,c,{onlyOnce:!0});break;case"child_removed":Aa(this._delegate,a,c,{onlyOnce:!0});break;case"child_changed":xa(this._delegate,a,c,{onlyOnce:!0});break;case"child_moved":Da(this._delegate,a,c,{onlyOnce:!0});break;default:throw new Error((0,s.dI)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(t){return(0,s.od)("Query.limitToFirst",1,1,arguments.length),new Rc(this.database,rc(this._delegate,qa(t)))}limitToLast(t){return(0,s.od)("Query.limitToLast",1,1,arguments.length),new Rc(this.database,rc(this._delegate,Ga(t)))}orderByChild(t){return(0,s.od)("Query.orderByChild",1,1,arguments.length),new Rc(this.database,rc(this._delegate,Ka(t)))}orderByKey(){return(0,s.od)("Query.orderByKey",0,0,arguments.length),new Rc(this.database,rc(this._delegate,Qa()))}orderByPriority(){return(0,s.od)("Query.orderByPriority",0,0,arguments.length),new Rc(this.database,rc(this._delegate,Ja()))}orderByValue(){return(0,s.od)("Query.orderByValue",0,0,arguments.length),new Rc(this.database,rc(this._delegate,tc()))}startAt(t=null,e){return(0,s.od)("Query.startAt",0,2,arguments.length),new Rc(this.database,rc(this._delegate,Ba(t,e)))}startAfter(t=null,e){return(0,s.od)("Query.startAfter",0,2,arguments.length),new Rc(this.database,rc(this._delegate,Ua(t,e)))}endAt(t=null,e){return(0,s.od)("Query.endAt",0,2,arguments.length),new Rc(this.database,rc(this._delegate,La(t,e)))}endBefore(t=null,e){return(0,s.od)("Query.endBefore",0,2,arguments.length),new Rc(this.database,rc(this._delegate,Ma(t,e)))}equalTo(t,e){return(0,s.od)("Query.equalTo",1,2,arguments.length),new Rc(this.database,rc(this._delegate,nc(t,e)))}toString(){return(0,s.od)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,s.od)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,s.od)("Query.isEqual",1,1,arguments.length),!(t instanceof Rc)){const t="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(t)}return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,n){const r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,(0,s.oD)(t,"cancel",r.cancel,!0),r.context=n,(0,s.HN)(t,"context",r.context,!0);else if(e)if("object"===typeof e&&null!==e)r.context=e;else{if("function"!==typeof e)throw new Error((0,s.dI)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Nc(this.database,new fa(this._delegate._repo,this._delegate._path))}}class Nc extends Rc{constructor(t,e){super(t,new la(e._repo,e._path,new An,!1)),this.database=t,this._delegate=e}getKey(){return(0,s.od)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,s.od)("Reference.child",1,1,arguments.length),"number"===typeof t&&(t=String(t)),new Nc(this.database,va(this._delegate,t))}getParent(){(0,s.od)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Nc(this.database,t):null}getRoot(){return(0,s.od)("Reference.root",0,0,arguments.length),new Nc(this.database,this._delegate.root)}set(t,e){(0,s.od)("Reference.set",1,2,arguments.length),(0,s.oD)("Reference.set","onComplete",e,!0);const n=wa(this._delegate,t);return e&&n.then((()=>e(null)),(t=>e(t))),n}update(t,e){if((0,s.od)("Reference.update",1,2,arguments.length),Array.isArray(t)){const e={};for(let n=0;n<t.length;++n)e[""+n]=t[n];t=e,kc("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}cs("Reference.update",this._delegate._path),(0,s.oD)("Reference.update","onComplete",e,!0);const n=Ta(this._delegate,t);return e&&n.then((()=>e(null)),(t=>e(t))),n}setWithPriority(t,e,n){(0,s.od)("Reference.setWithPriority",2,3,arguments.length),(0,s.oD)("Reference.setWithPriority","onComplete",n,!0);const r=Oa(this._delegate,t,e);return n&&r.then((()=>n(null)),(t=>n(t))),r}remove(t){(0,s.od)("Reference.remove",0,1,arguments.length),(0,s.oD)("Reference.remove","onComplete",t,!0);const e=ba(this._delegate);return t&&e.then((()=>t(null)),(e=>t(e))),e}transaction(t,e,n){(0,s.od)("Reference.transaction",1,3,arguments.length),(0,s.oD)("Reference.transaction","transactionUpdate",t,!1),(0,s.oD)("Reference.transaction","onComplete",e,!0),Pc("Reference.transaction","applyLocally",n,!0);const r=Sc(this._delegate,t,{applyLocally:n}).then((t=>new Ac(t.committed,new jc(this.database,t.snapshot))));return e&&r.then((t=>e(null,t.committed,t.snapshot)),(t=>e(t,!1,null))),r}setPriority(t,e){(0,s.od)("Reference.setPriority",1,2,arguments.length),(0,s.oD)("Reference.setPriority","onComplete",e,!0);const n=_a(this._delegate,t);return e&&n.then((()=>e(null)),(t=>e(t))),n}push(t,e){(0,s.od)("Reference.push",0,2,arguments.length),(0,s.oD)("Reference.push","onComplete",e,!0);const n=ya(this._delegate,t),r=n.then((t=>new Nc(this.database,t)));e&&r.then((()=>e(null)),(t=>e(t)));const i=new Nc(this.database,n);return i.then=r.then.bind(r),i.catch=r.catch.bind(r,void 0),i}onDisconnect(){return cs("Reference.onDisconnect",this._delegate._path),new Dc(new ca(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:fc,forceLongPolling:pc}}useEmulator(t,e,n={}){mc(this._delegate,t,e,n)}ref(t){if((0,s.od)("database.ref",0,1,arguments.length),t instanceof Nc){const e=ga(this._delegate,t.toString());return new Nc(this,e)}{const e=ma(this._delegate,t);return new Nc(this,e)}}refFromURL(t){const e="database.refFromURL";(0,s.od)(e,1,1,arguments.length);const n=ga(this._delegate,t);return new Nc(this,n)}goOffline(){return(0,s.od)("database.goOffline",0,0,arguments.length),gc(this._delegate)}goOnline(){return(0,s.od)("database.goOnline",0,0,arguments.length),vc(this._delegate)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Fc({app:t,url:e,version:n,customAuthImpl:r,namespace:o,nodeAdmin:s=!1}){h(n);const a=new i.Kq("auth-internal",new i.h1("database-standalone"));return a.setComponent(new i.uA("auth-internal",(()=>r),"PRIVATE")),{instance:new Lc(cc(t,a,void 0,e,s),t),namespace:o}}Lc.ServerValue={TIMESTAMP:_c(),increment:t=>Oc(t)};var Mc=Object.freeze({__proto__:null,initStandalone:Fc});
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=Lc.ServerValue;function Bc(t){t.INTERNAL.registerComponent(new i.uA("database-compat",((t,{instanceIdentifier:e})=>{const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new Lc(r,n)}),"PUBLIC").setServiceProps({Reference:Nc,Query:Rc,Database:Lc,DataSnapshot:jc,enableLogging:yc,INTERNAL:Mc,ServerValue:$c}).setMultipleInstances(!0)),t.registerVersion(Cc,Ic)}Bc(r.A)},1701:(t,e,n)=>{var r=n(6518),i=n(713),o=n(6395);r({target:"Iterator",proto:!0,real:!0,forced:o},{map:i})},1767:t=>{t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},1828:(t,e,n)=>{var r=n(9504),i=n(9297),o=n(5397),s=n(9617).indexOf,a=n(421),c=r([].push);t.exports=function(t,e){var n,r=o(t),l=0,u=[];for(n in r)!i(a,n)&&i(r,n)&&c(u,n);while(e.length>l)i(r,n=e[l++])&&(~s(u,n)||c(u,n));return u}},2106:(t,e,n)=>{var r=n(283),i=n(4913);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),i.f(t,e,n)}},2140:(t,e,n)=>{var r=n(8227),i=r("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},2195:(t,e,n)=>{var r=n(9504),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},2197:(t,e,n)=>{function r(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}var i=r(n(5471));function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t){return a(t)||c(t)||l()}function a(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function c(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var u="undefined"!==typeof window;function h(t){return Array.isArray(t)||"object"===o(t)?Object.freeze(t):t}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.reduce((function(t,n){var r=n.passengers[0],i="function"===typeof r?r(e):n.passengers;return t.concat(i)}),[])}function f(t,e){return t.map((function(t,e){return[e,t]})).sort((function(t,n){return e(t[1],n[1])||t[0]-n[0]})).map((function(t){return t[1]}))}function p(t,e){return e.reduce((function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e}),{})}var m={},g={},v={},y=i.extend({data:function(){return{transports:m,targets:g,sources:v,trackInstances:u}},methods:{open:function(t){if(u){var e=t.to,n=t.from,r=t.passengers,o=t.order,s=void 0===o?1/0:o;if(e&&n&&r){var a={to:e,from:n,passengers:h(r),order:s},c=Object.keys(this.transports);-1===c.indexOf(e)&&i.set(this.transports,e,[]);var l=this.$_getTransportIndex(a),d=this.transports[e].slice(0);-1===l?d.push(a):d[l]=a,this.transports[e]=f(d,(function(t,e){return t.order-e.order}))}}},close:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.to,r=t.from;if(n&&(r||!1!==e)&&this.transports[n])if(e)this.transports[n]=[];else{var i=this.$_getTransportIndex(t);if(i>=0){var o=this.transports[n].slice(0);o.splice(i,1),this.transports[n]=o}}},registerTarget:function(t,e,n){u&&(this.trackInstances&&!n&&this.targets[t]&&console.warn("[portal-vue]: Target ".concat(t," already exists")),this.$set(this.targets,t,Object.freeze([e])))},unregisterTarget:function(t){this.$delete(this.targets,t)},registerSource:function(t,e,n){u&&(this.trackInstances&&!n&&this.sources[t]&&console.warn("[portal-vue]: source ".concat(t," already exists")),this.$set(this.sources,t,Object.freeze([e])))},unregisterSource:function(t){this.$delete(this.sources,t)},hasTarget:function(t){return!(!this.targets[t]||!this.targets[t][0])},hasSource:function(t){return!(!this.sources[t]||!this.sources[t][0])},hasContentFor:function(t){return!!this.transports[t]&&!!this.transports[t].length},$_getTransportIndex:function(t){var e=t.to,n=t.from;for(var r in this.transports[e])if(this.transports[e][r].from===n)return+r;return-1}}}),b=new y(m),w=1,_=i.extend({name:"portal",props:{disabled:{type:Boolean},name:{type:String,default:function(){return String(w++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}}},created:function(){var t=this;this.$nextTick((function(){b.registerSource(t.name,t)}))},mounted:function(){this.disabled||this.sendUpdate()},updated:function(){this.disabled?this.clear():this.sendUpdate()},beforeDestroy:function(){b.unregisterSource(this.name),this.clear()},watch:{to:function(t,e){e&&e!==t&&this.clear(e),this.sendUpdate()}},methods:{clear:function(t){var e={from:this.name,to:t||this.to};b.close(e)},normalizeSlots:function(){return this.$scopedSlots.default?[this.$scopedSlots.default]:this.$slots.default},normalizeOwnChildren:function(t){return"function"===typeof t?t(this.slotProps):t},sendUpdate:function(){var t=this.normalizeSlots();if(t){var e={from:this.name,to:this.to,passengers:s(t),order:this.order};b.open(e)}else this.clear()}},render:function(t){var e=this.$slots.default||this.$scopedSlots.default||[],n=this.tag;return e&&this.disabled?e.length<=1&&this.slim?this.normalizeOwnChildren(e)[0]:t(n,[this.normalizeOwnChildren(e)]):this.slim?t():t(n,{class:{"v-portal":!0},style:{display:"none"},key:"v-portal-placeholder"})}}),O=i.extend({name:"portalTarget",props:{multiple:{type:Boolean,default:!1},name:{type:String,required:!0},slim:{type:Boolean,default:!1},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},data:function(){return{transports:b.transports,firstRender:!0}},created:function(){var t=this;this.$nextTick((function(){b.registerTarget(t.name,t)}))},watch:{ownTransports:function(){this.$emit("change",this.children().length>0)},name:function(t,e){b.unregisterTarget(e),b.registerTarget(t,this)}},mounted:function(){var t=this;this.transition&&this.$nextTick((function(){t.firstRender=!1}))},beforeDestroy:function(){b.unregisterTarget(this.name)},computed:{ownTransports:function(){var t=this.transports[this.name]||[];return this.multiple?t:0===t.length?[]:[t[t.length-1]]},passengers:function(){return d(this.ownTransports,this.slotProps)}},methods:{children:function(){return 0!==this.passengers.length?this.passengers:this.$scopedSlots.default?this.$scopedSlots.default(this.slotProps):this.$slots.default||[]},noWrapper:function(){var t=this.slim&&!this.transition;return t&&this.children().length>1&&console.warn("[portal-vue]: PortalTarget with `slim` option received more than one child element."),t}},render:function(t){var e=this.noWrapper(),n=this.children(),r=this.transition||this.tag;return e?n[0]:this.slim&&!r?t():t(r,{props:{tag:this.transition&&this.tag?this.tag:void 0},class:{"vue-portal-target":!0}},n)}}),T=0,S=["disabled","name","order","slim","slotProps","tag","to"],C=["multiple","transition"],I=i.extend({name:"MountingPortal",inheritAttrs:!1,props:{append:{type:[Boolean,String]},bail:{type:Boolean},mountTo:{type:String,required:!0},disabled:{type:Boolean},name:{type:String,default:function(){return"mounted_"+String(T++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}},multiple:{type:Boolean,default:!1},targetSlim:{type:Boolean},targetSlotProps:{type:Object,default:function(){return{}}},targetTag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},created:function(){if("undefined"!==typeof document){var t=document.querySelector(this.mountTo);if(t){var e=this.$props;if(b.targets[e.name])e.bail?console.warn("[portal-vue]: Target ".concat(e.name," is already mounted.\n        Aborting because 'bail: true' is set")):this.portalTarget=b.targets[e.name];else{var n=e.append;if(n){var r="string"===typeof n?n:"DIV",i=document.createElement(r);t.appendChild(i),t=i}var o=p(this.$props,C);o.slim=this.targetSlim,o.tag=this.targetTag,o.slotProps=this.targetSlotProps,o.name=this.to,this.portalTarget=new O({el:t,parent:this.$parent||this,propsData:o})}}else console.error("[portal-vue]: Mount Point '".concat(this.mountTo,"' not found in document"))}},beforeDestroy:function(){var t=this.portalTarget;if(this.append){var e=t.$el;e.parentNode.removeChild(e)}t.$destroy()},render:function(t){if(!this.portalTarget)return console.warn("[portal-vue] Target wasn't mounted"),t();if(!this.$scopedSlots.manual){var e=p(this.$props,S);return t(_,{props:e,attrs:this.$attrs,on:this.$listeners,scopedSlots:this.$scopedSlots},this.$slots.default)}var n=this.$scopedSlots.manual({to:this.to});return Array.isArray(n)&&(n=n[0]),n||t()}});function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.component(e.portalName||"Portal",_),t.component(e.portalTargetName||"PortalTarget",O),t.component(e.MountingPortalName||"MountingPortal",I)}var k={install:E};e.ZL=_,e.mf=O,e.g7=b},2211:(t,e,n)=>{var r=n(9039);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},2360:(t,e,n)=>{var r,i=n(8551),o=n(6801),s=n(8727),a=n(421),c=n(397),l=n(4055),u=n(6119),h=">",d="<",f="prototype",p="script",m=u("IE_PROTO"),g=function(){},v=function(t){return d+p+h+t+d+"/"+p+h},y=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},b=function(){var t,e=l("iframe"),n="java"+p+":";return e.style.display="none",c.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(v("document.F=Object")),t.close(),t.F},w=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}w="undefined"!=typeof document?document.domain&&r?y(r):b():y(r);var t=s.length;while(t--)delete w[f][s[t]];return w()};a[m]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(g[f]=i(t),n=new g,g[f]=null,n[m]=t):n=w(),void 0===e?n:o.f(n,e)}},2489:(t,e,n)=>{var r=n(6518),i=n(9565),o=n(9306),s=n(8551),a=n(1767),c=n(9462),l=n(6319),u=n(6395),h=c((function(){var t,e,n,r=this.iterator,o=this.predicate,a=this.next;while(1){if(t=s(i(a,r)),e=this.done=!!t.done,e)return;if(n=t.value,l(r,o,[n,this.counter++],!0))return n}}));r({target:"Iterator",proto:!0,real:!0,forced:u},{filter:function(t){return s(this),o(t),new h(a(this),{predicate:t})}})},2529:t=>{t.exports=function(t,e){return{value:t,done:e}}},2564:(t,e,n)=>{n.d(e,{m:()=>o});var r=n(4384),i=n(6744);function o(t){i.f.setTimeout((function(){var e=r.$.onUnhandledError;if(!e)throw t;e(t)}))}},2603:(t,e,n)=>{var r=n(655);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},2652:(t,e,n)=>{var r=n(6080),i=n(9565),o=n(8551),s=n(6823),a=n(4209),c=n(6198),l=n(1625),u=n(81),h=n(851),d=n(9539),f=TypeError,p=function(t,e){this.stopped=t,this.result=e},m=p.prototype;t.exports=function(t,e,n){var g,v,y,b,w,_,O,T=n&&n.that,S=!(!n||!n.AS_ENTRIES),C=!(!n||!n.IS_RECORD),I=!(!n||!n.IS_ITERATOR),E=!(!n||!n.INTERRUPTED),k=r(e,T),P=function(t){return g&&d(g,"normal",t),new p(!0,t)},x=function(t){return S?(o(t),E?k(t[0],t[1],P):k(t[0],t[1])):E?k(t,P):k(t)};if(C)g=t.iterator;else if(I)g=t;else{if(v=h(t),!v)throw new f(s(t)+" is not iterable");if(a(v)){for(y=0,b=c(t);b>y;y++)if(w=x(t[y]),w&&l(m,w))return w;return new p(!1)}g=u(t,v)}_=C?t.next:g.next;while(!(O=i(_,g)).done){try{w=x(O.value)}catch(D){d(g,"throw",D)}if("object"==typeof w&&w&&l(m,w))return w}return new p(!1)}},2777:(t,e,n)=>{var r=n(9565),i=n(34),o=n(757),s=n(5966),a=n(4270),c=n(8227),l=TypeError,u=c("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,c=s(t,u);if(c){if(void 0===e&&(e="default"),n=r(c,t,e),!i(n)||o(n))return n;throw new l("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},2787:(t,e,n)=>{var r=n(9297),i=n(4901),o=n(8981),s=n(6119),a=n(2211),c=s("IE_PROTO"),l=Object,u=l.prototype;t.exports=a?l.getPrototypeOf:function(t){var e=o(t);if(r(e,c))return e[c];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof l?u:null}},2796:(t,e,n)=>{var r=n(9039),i=n(4901),o=/#|\.prototype\./,s=function(t,e){var n=c[a(t)];return n===u||n!==l&&(i(e)?r(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=s.data={},l=s.NATIVE="N",u=s.POLYFILL="P";t.exports=s},2839:(t,e,n)=>{var r=n(4576),i=r.navigator,o=i&&i.userAgent;t.exports=o?String(o):""},2908:(t,e,n)=>{n.d(e,{N:()=>o});var r=n(1209);function i(t){return(0,r.T)(null===t||void 0===t?void 0:t.lift)}function o(t){return function(e){if(i(e))return e.lift((function(e){try{return t(e,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}},2967:(t,e,n)=>{var r=n(6706),i=n(34),o=n(7750),s=n(3506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=r(Object.prototype,"__proto__","set"),t(n,[]),e=n instanceof Array}catch(a){}return function(n,r){return o(n),s(r),i(n)?(e?t(n,r):n.__proto__=r,n):n}}():void 0)},3167:(t,e,n)=>{var r=n(4901),i=n(34),o=n(2967);t.exports=function(t,e,n){var s,a;return o&&r(s=e.constructor)&&s!==n&&i(a=s.prototype)&&a!==n.prototype&&o(t,a),t}},3392:(t,e,n)=>{var r=n(9504),i=0,o=Math.random(),s=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++i+o,36)}},3424:(t,e,n)=>{n.d(e,{$b:()=>i,Ey:()=>h,He:()=>u,Vy:()=>l});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const r=[];var i;(function(t){t[t["DEBUG"]=0]="DEBUG",t[t["VERBOSE"]=1]="VERBOSE",t[t["INFO"]=2]="INFO",t[t["WARN"]=3]="WARN",t[t["ERROR"]=4]="ERROR",t[t["SILENT"]=5]="SILENT"})(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=a[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class l{constructor(t){this.name=t,this._logLevel=s,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in i))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?o[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}function u(t){r.forEach((e=>{e.setLogLevel(t)}))}function h(t,e){for(const n of r){let r=null;e&&e.level&&(r=o[e.level]),n.userLogHandler=null===t?null:(e,n,...o)=>{const s=o.map((t=>{if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((t=>t)).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:i[n].toLowerCase(),message:s,args:o,type:e.name})}}}},3506:(t,e,n)=>{var r=n(3925),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw new o("Can't set "+i(t)+" as a prototype")}},3706:(t,e,n)=>{var r=n(9504),i=n(4901),o=n(7629),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},3717:(t,e)=>{e.f=Object.getOwnPropertySymbols},3720:(t,e,n)=>{n.d(e,{n:()=>s});var r=n(7213),i=n(2908),o=n(4878);function s(t,e){return(0,i.N)((function(n,i){var s=null,a=0,c=!1,l=function(){return c&&!s&&i.complete()};n.subscribe((0,o._)(i,(function(n){null===s||void 0===s||s.unsubscribe();var c=0,u=a++;(0,r.Tg)(t(n,u)).subscribe(s=(0,o._)(i,(function(t){return i.next(e?e(n,t,u,c++):t)}),(function(){s=null,l()})))}),(function(){c=!0,l()})))}))}},3724:(t,e,n)=>{var r=n(9039);t.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},3925:(t,e,n)=>{var r=n(34);t.exports=function(t){return r(t)||null===t}},4055:(t,e,n)=>{var r=n(4576),i=n(34),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},4117:t=>{t.exports=function(t){return null===t||void 0===t}},4209:(t,e,n)=>{var r=n(8227),i=n(6269),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},4270:(t,e,n)=>{var r=n(9565),i=n(4901),o=n(34),s=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&i(n=t.toString)&&!o(a=r(n,t)))return a;if(i(n=t.valueOf)&&!o(a=r(n,t)))return a;if("string"!==e&&i(n=t.toString)&&!o(a=r(n,t)))return a;throw new s("Can't convert object to primitive value")}},4364:(t,e,n)=>{var r=n(8840),i=n(6743),o=n(9928),s=n(1635),a=n(3424),c=n(5125);
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const l={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},u={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function h(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-password"]:"A non-empty password must be provided",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",["timeout"]:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.",["missing-recaptcha-token"]:"The reCAPTCHA token is missing when sending request to the backend.",["invalid-recaptcha-token"]:"The reCAPTCHA token is invalid when sending request to the backend.",["invalid-recaptcha-action"]:"The reCAPTCHA action is invalid when sending request to the backend.",["recaptcha-not-enabled"]:"reCAPTCHA Enterprise integration is not enabled for this project.",["missing-client-type"]:"The reCAPTCHA client type is missing when sending request to the backend.",["missing-recaptcha-version"]:"The reCAPTCHA version is missing when sending request to the backend.",["invalid-req-type"]:"Invalid request parameters.",["invalid-recaptcha-version"]:"The reCAPTCHA version is invalid when sending request to the backend."}}function d(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f=h,p=d,m=new i.FA("auth","Firebase",d()),g=new a.Vy("@firebase/auth");function v(t,...e){g.logLevel<=a.$b.WARN&&g.warn(`Auth (${o.SDK_VERSION}): ${t}`,...e)}function y(t,...e){g.logLevel<=a.$b.ERROR&&g.error(`Auth (${o.SDK_VERSION}): ${t}`,...e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b(t,...e){throw T(t,...e)}function w(t,...e){return T(t,...e)}function _(t,e,n){const r=Object.assign(Object.assign({},p()),{[e]:n}),o=new i.FA("auth","Firebase",r);return o.create(e,{appName:t.name})}function O(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&b(t,"argument-error"),_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function T(t,...e){if("string"!==typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return m.create(t,...e)}function S(t,e,...n){if(!t)throw T(e,...n)}function C(t){const e="INTERNAL ASSERTION FAILED: "+t;throw y(e),new Error(e)}function I(t,e){t||C(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function k(){return"http:"===P()||"https:"===P()}function P(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(k()||(0,i.sr)()||"connection"in navigator))||navigator.onLine}function D(){if("undefined"===typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A{constructor(t,e){this.shortDelay=t,this.longDelay=e,I(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return x()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(t,e){I(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void C("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void C("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void C("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={["CREDENTIAL_MISMATCH"]:"custom-token-mismatch",["MISSING_CUSTOM_TOKEN"]:"internal-error",["INVALID_IDENTIFIER"]:"invalid-email",["MISSING_CONTINUE_URI"]:"internal-error",["INVALID_PASSWORD"]:"wrong-password",["MISSING_PASSWORD"]:"missing-password",["EMAIL_EXISTS"]:"email-already-in-use",["PASSWORD_LOGIN_DISABLED"]:"operation-not-allowed",["INVALID_IDP_RESPONSE"]:"invalid-credential",["INVALID_PENDING_TOKEN"]:"invalid-credential",["FEDERATED_USER_ID_ALREADY_LINKED"]:"credential-already-in-use",["MISSING_REQ_TYPE"]:"internal-error",["EMAIL_NOT_FOUND"]:"user-not-found",["RESET_PASSWORD_EXCEED_LIMIT"]:"too-many-requests",["EXPIRED_OOB_CODE"]:"expired-action-code",["INVALID_OOB_CODE"]:"invalid-action-code",["MISSING_OOB_CODE"]:"internal-error",["CREDENTIAL_TOO_OLD_LOGIN_AGAIN"]:"requires-recent-login",["INVALID_ID_TOKEN"]:"invalid-user-token",["TOKEN_EXPIRED"]:"user-token-expired",["USER_NOT_FOUND"]:"user-token-expired",["TOO_MANY_ATTEMPTS_TRY_LATER"]:"too-many-requests",["INVALID_CODE"]:"invalid-verification-code",["INVALID_SESSION_INFO"]:"invalid-verification-id",["INVALID_TEMPORARY_PROOF"]:"invalid-credential",["MISSING_SESSION_INFO"]:"missing-verification-id",["SESSION_EXPIRED"]:"code-expired",["MISSING_ANDROID_PACKAGE_NAME"]:"missing-android-pkg-name",["UNAUTHORIZED_DOMAIN"]:"unauthorized-continue-uri",["INVALID_OAUTH_CLIENT_ID"]:"invalid-oauth-client-id",["ADMIN_ONLY_OPERATION"]:"admin-restricted-operation",["INVALID_MFA_PENDING_CREDENTIAL"]:"invalid-multi-factor-session",["MFA_ENROLLMENT_NOT_FOUND"]:"multi-factor-info-not-found",["MISSING_MFA_ENROLLMENT_ID"]:"missing-multi-factor-info",["MISSING_MFA_PENDING_CREDENTIAL"]:"missing-multi-factor-session",["SECOND_FACTOR_EXISTS"]:"second-factor-already-in-use",["SECOND_FACTOR_LIMIT_EXCEEDED"]:"maximum-second-factor-count-exceeded",["BLOCKING_FUNCTION_ERROR_RESPONSE"]:"internal-error",["RECAPTCHA_NOT_ENABLED"]:"recaptcha-not-enabled",["MISSING_RECAPTCHA_TOKEN"]:"missing-recaptcha-token",["INVALID_RECAPTCHA_TOKEN"]:"invalid-recaptcha-token",["INVALID_RECAPTCHA_ACTION"]:"invalid-recaptcha-action",["MISSING_CLIENT_TYPE"]:"missing-client-type",["MISSING_RECAPTCHA_VERSION"]:"missing-recaptcha-version",["INVALID_RECAPTCHA_VERSION"]:"invalid-recaptcha-version",["INVALID_REQ_TYPE"]:"invalid-req-type"},L=new A(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function M(t,e,n,r,o={}){return $(t,o,(async()=>{let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=(0,i.Am)(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),R.fetch()(V(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))}async function $(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},N),e);try{const e=new U(t),i=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw z(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const e=i.ok?o.errorMessage:o.error.message,[n,s]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw z(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw z(t,"email-already-in-use",o);if("USER_DISABLED"===n)throw z(t,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw _(t,a,s);b(t,a)}}catch(o){if(o instanceof i.g)throw o;b(t,"network-request-failed",{message:String(o)})}}async function B(t,e,n,r,i={}){const o=await M(t,e,n,r,i);return"mfaPendingCredential"in o&&b(t,"multi-factor-auth-required",{_serverResponse:o}),o}function V(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?j(t.config,i):`${t.config.apiScheme}://${i}`}class U{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(w(this.auth,"network-request-failed"))),L.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function z(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=w(t,e,r);return i.customData._tokenResponse=n,i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q(t,e){return M(t,"POST","/v1/accounts:delete",e)}async function H(t,e){return M(t,"POST","/v1/accounts:update",e)}async function G(t,e){return M(t,"POST","/v1/accounts:lookup",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K(t,e=!1){const n=(0,i.Ku)(t),r=await n.getIdToken(e),o=Q(r);S(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s="object"===typeof o.firebase?o.firebase:void 0,a=null===s||void 0===s?void 0:s["sign_in_provider"];return{claims:o,token:r,authTime:W(Y(o.auth_time)),issuedAtTime:W(Y(o.iat)),expirationTime:W(Y(o.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s["sign_in_second_factor"])||null}}function Y(t){return 1e3*Number(t)}function Q(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return y("JWT malformed, contained fewer than 3 sections"),null;try{const t=(0,i.u)(n);return t?JSON.parse(t):(y("Failed to decode base64 JWT payload"),null)}catch(o){return y("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function X(t){const e=Q(t);return S(e,"internal-error"),S("undefined"!==typeof e.exp,"internal-error"),S("undefined"!==typeof e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof i.g&&Z(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Z({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0,n=t-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null===t||void 0===t?void 0:t.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=W(this.lastLoginAt),this.creationTime=W(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nt(t){var e;const n=t.auth,r=await t.getIdToken(),i=await J(t,G(n,{idToken:r}));S(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=(null===(e=o.providerUserInfo)||void 0===e?void 0:e.length)?ot(o.providerUserInfo):[],a=it(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new et(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function rt(t){const e=(0,i.Ku)(t);await nt(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function it(t,e){const n=t.filter((t=>!e.some((e=>e.providerId===t.providerId))));return[...n,...e]}function ot(t){return t.map((t=>{var{providerId:e}=t,n=(0,s.Tt)(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function st(t,e){const n=await $(t,{},(async()=>{const n=(0,i.Am)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,s=V(t,r,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",R.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){S(t.idToken,"internal-error"),S("undefined"!==typeof t.idToken,"internal-error"),S("undefined"!==typeof t.refreshToken,"internal-error");const e="expiresIn"in t&&"undefined"!==typeof t.expiresIn?Number(t.expiresIn):X(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t,e=!1){return S(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:r,expiresIn:i}=await st(t,e);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:i}=e,o=new at;return n&&(S("string"===typeof n,"internal-error",{appName:t}),o.refreshToken=n),r&&(S("string"===typeof r,"internal-error",{appName:t}),o.accessToken=r),i&&(S("number"===typeof i,"internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new at,this.toJSON())}_performRefresh(){return C("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t,e){S("string"===typeof t||"undefined"===typeof t,"internal-error",{appName:e})}class lt{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,i=(0,s.Tt)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new et(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await J(this,this.stsTokenManager.getToken(this.auth,t));return S(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return K(this,t)}reload(){return rt(this)}_assign(t){this!==t&&(S(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new lt(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await nt(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await J(this,q(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,i,o,s,a,c,l;const u=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,d=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=e.photoURL)&&void 0!==o?o:void 0,p=null!==(s=e.tenantId)&&void 0!==s?s:void 0,m=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=e.createdAt)&&void 0!==c?c:void 0,v=null!==(l=e.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:O}=e;S(y&&O,t,"internal-error");const T=at.fromJSON(this.name,O);S("string"===typeof y,t,"internal-error"),ct(u,t.name),ct(h,t.name),S("boolean"===typeof b,t,"internal-error"),S("boolean"===typeof w,t,"internal-error"),ct(d,t.name),ct(f,t.name),ct(p,t.name),ct(m,t.name),ct(g,t.name),ct(v,t.name);const C=new lt({uid:y,auth:t,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(C.providerData=_.map((t=>Object.assign({},t)))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(t,e,n=!1){const r=new at;r.updateFromServerResponse(e);const i=new lt({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return await nt(i),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut=new Map;function ht(t){I(t instanceof Function,"Expected a class definition");let e=ut.get(t);return e?(I(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ut.set(t,e),e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}dt.type="NONE";const ft=dt;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t,e,n){return`firebase:${t}:${e}:${n}`}class mt{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=pt(this.userKey,r.apiKey,i),this.fullPersistenceKey=pt("persistence",r.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?lt._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new mt(ht(ft),t,n);const r=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let i=r[0]||ht(ft);const o=pt(n,t.config.apiKey,t.name);let s=null;for(const l of e)try{const e=await l._get(o);if(e){const n=lt._fromJSON(t,e);l!==i&&(s=n),i=l;break}}catch(c){}const a=r.filter((t=>t._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(e.map((async t=>{if(t!==i)try{await t._remove(o)}catch(c){}}))),new mt(i,t,n)):new mt(i,t,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wt(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vt(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ot(e))return"Blackberry";if(Tt(e))return"Webos";if(yt(e))return"Safari";if((e.includes("chrome/")||bt(e))&&!e.includes("edge/"))return"Chrome";if(_t(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function vt(t=(0,i.ZQ)()){return/firefox\//i.test(t)}function yt(t=(0,i.ZQ)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bt(t=(0,i.ZQ)()){return/crios\//i.test(t)}function wt(t=(0,i.ZQ)()){return/iemobile/i.test(t)}function _t(t=(0,i.ZQ)()){return/android/i.test(t)}function Ot(t=(0,i.ZQ)()){return/blackberry/i.test(t)}function Tt(t=(0,i.ZQ)()){return/webos/i.test(t)}function St(t=(0,i.ZQ)()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ct(t=(0,i.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function It(t=(0,i.ZQ)()){var e;return St(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Et(){return(0,i.lT)()&&10===document.documentMode}function kt(t=(0,i.ZQ)()){return St(t)||_t(t)||Tt(t)||Ot(t)||/windows phone/i.test(t)||wt(t)}function Pt(){try{return!(!window||window===window.top)}catch(t){return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t,e=[]){let n;switch(t){case"Browser":n=gt((0,i.ZQ)());break;case"Worker":n=`${gt((0,i.ZQ)())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${r}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dt(t){return(await M(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function At(t,e){return M(t,"GET","/v2/recaptchaConfig",F(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return void 0!==t&&void 0!==t.getResponse}function Rt(t){return void 0!==t&&void 0!==t.enterprise}class Nt{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}function Ft(t){return new Promise(((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=t=>{const e=w("internal-error");e.customData=t,n(e)},r.type="text/javascript",r.charset="UTF-8",Lt().appendChild(r)}))}function Mt(t){return`__${t}${Math.floor(1e6*Math.random())}`}const $t="https://www.google.com/recaptcha/enterprise.js?render=",Bt="recaptcha-enterprise",Vt="NO_RECAPTCHA";class Ut{constructor(t){this.type=Bt,this.auth=Gt(t)}async verify(t="verify",e=!1){async function n(t){if(!e){if(null==t.tenantId&&null!=t._agentRecaptchaConfig)return t._agentRecaptchaConfig.siteKey;if(null!=t.tenantId&&void 0!==t._tenantRecaptchaConfigs[t.tenantId])return t._tenantRecaptchaConfigs[t.tenantId].siteKey}return new Promise((async(e,n)=>{At(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Nt(r);return null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,e(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((t=>{n(t)}))}))}function r(e,n,r){const i=window.grecaptcha;Rt(i)?i.enterprise.ready((()=>{i.enterprise.execute(e,{action:t}).then((t=>{n(t)})).catch((()=>{n(Vt)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((t,i)=>{n(this.auth).then((n=>{if(!e&&Rt(window.grecaptcha))r(n,t,i);else{if("undefined"===typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));Ft($t+n).then((()=>{r(n,t,i)})).catch((t=>{i(t)}))}})).catch((t=>{i(t)}))}))}}async function zt(t,e,n,r=!1){const i=new Ut(t);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise(((n,r)=>{try{const r=t(e);n(r)}catch(i){r(i)}}));n.onAbort=e,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const t of e)try{t()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t,e,n,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wt(this),this.idTokenSubscription=new Wt(this),this.beforeStateQueue=new qt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ht(e)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await mt.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUser(t){var e;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(t);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return S(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(n){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await nt(t)}catch(e){if("auth/network-request-failed"!==(null===e||void 0===e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=D()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?(0,i.Ku)(t):null;return e&&S(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&S(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue((async()=>{await this.assertedPersistence.setPersistence(ht(t))}))}async initializeRecaptchaConfig(){const t=await At(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),e=new Nt(t);if(null==this.tenantId?this._agentRecaptchaConfig=e:this._tenantRecaptchaConfigs[this.tenantId]=e,e.emailPasswordEnabled){const t=new Ut(this);t.verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new i.FA("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ht(t)||this._popupRedirectResolver;S(e,this,"argument-error"),this.redirectPersistenceManager=await mt.create(this,[ht(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const i="function"===typeof e?e:e.next.bind(e),o=this._isInitialized?Promise.resolve():this._initializationPromise;return S(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"===typeof e?t.addObserver(e,n,r):t.addObserver(e)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=xt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;const e=await(null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken());return(null===e||void 0===e?void 0:e.error)&&v(`Error while retrieving App Check token: ${e.error}`),null===e||void 0===e?void 0:e.token}}function Gt(t){return(0,i.Ku)(t)}class Wt{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,i.tD)((t=>this.observer=t))}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){const n=(null===e||void 0===e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ht);(null===e||void 0===e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null===e||void 0===e?void 0:e.popupRedirectResolver)}function Yt(t,e,n){const r=Gt(t);S(r._canInitEmulator,r,"emulator-config-failed"),S(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Qt(e),{host:s,port:a}=Xt(e),c=null===a?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Zt()}function Qt(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Xt(t){const e=Qt(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const t=i[1];return{host:t,port:Jt(r.substr(t.length+1))}}{const[t,e]=r.split(":");return{host:t,port:Jt(e)}}}function Jt(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Zt(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return C("not implemented")}_getIdTokenResponse(t){return C("not implemented")}_linkToIdToken(t,e){return C("not implemented")}_getReauthenticationResolver(t){return C("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ee(t,e){return M(t,"POST","/v1/accounts:resetPassword",F(t,e))}async function ne(t,e){return M(t,"POST","/v1/accounts:update",e)}async function re(t,e){return M(t,"POST","/v1/accounts:update",F(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ie(t,e){return B(t,"POST","/v1/accounts:signInWithPassword",F(t,e))}async function oe(t,e){return M(t,"POST","/v1/accounts:sendOobCode",F(t,e))}async function se(t,e){return oe(t,e)}async function ae(t,e){return oe(t,e)}async function ce(t,e){return oe(t,e)}async function le(t,e){return oe(t,e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ue(t,e){return B(t,"POST","/v1/accounts:signInWithEmailLink",F(t,e))}async function he(t,e){return B(t,"POST","/v1/accounts:signInWithEmailLink",F(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de extends te{constructor(t,e,n,r=null){super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new de(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new de(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t;if((null===e||void 0===e?void 0:e.email)&&(null===e||void 0===e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){var e;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(e=t._getRecaptchaConfig())||void 0===e?void 0:e.emailPasswordEnabled){const e=await zt(t,n,"signInWithPassword");return ie(t,e)}return ie(t,n).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await zt(t,n,"signInWithPassword");return ie(t,e)}return Promise.reject(e)}));case"emailLink":return ue(t,{email:this._email,oobCode:this._password});default:b(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return ne(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return he(t,{idToken:e,email:this._email,oobCode:this._password});default:b(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fe(t,e){return B(t,"POST","/v1/accounts:signInWithIdp",F(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe="http://localhost";class me extends te{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new me(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):b("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,i=(0,s.Tt)(e,["providerId","signInMethod"]);if(!n||!r)return null;const o=new me(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){const e=this.buildRequest();return fe(t,e)}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,fe(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,fe(t,e)}buildRequest(){const t={requestUri:pe,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e["id_token"]=this.idToken),this.accessToken&&(e["access_token"]=this.accessToken),this.secret&&(e["oauth_token_secret"]=this.secret),e["providerId"]=this.providerId,this.nonce&&!this.pendingToken&&(e["nonce"]=this.nonce),t.postBody=(0,i.Am)(e)}return t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ge(t,e){return M(t,"POST","/v1/accounts:sendVerificationCode",F(t,e))}async function ve(t,e){return B(t,"POST","/v1/accounts:signInWithPhoneNumber",F(t,e))}async function ye(t,e){const n=await B(t,"POST","/v1/accounts:signInWithPhoneNumber",F(t,e));if(n.temporaryProof)throw z(t,"account-exists-with-different-credential",n);return n}const be={["USER_NOT_FOUND"]:"user-not-found"};async function we(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return B(t,"POST","/v1/accounts:signInWithPhoneNumber",F(t,n),be)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e extends te{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new _e({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new _e({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return ve(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return ye(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return we(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"===typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}=t;return n||e||r||i?new _e({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Te(t){const e=(0,i.I9)((0,i.hp)(t))["link"],n=e?(0,i.I9)((0,i.hp)(e))["deep_link_id"]:null,r=(0,i.I9)((0,i.hp)(t))["deep_link_id"],o=r?(0,i.I9)((0,i.hp)(r))["link"]:null;return o||r||n||e||t}class Se{constructor(t){var e,n,r,o,s,a;const c=(0,i.I9)((0,i.hp)(t)),l=null!==(e=c["apiKey"])&&void 0!==e?e:null,u=null!==(n=c["oobCode"])&&void 0!==n?n:null,h=Oe(null!==(r=c["mode"])&&void 0!==r?r:null);S(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=null!==(o=c["continueUrl"])&&void 0!==o?o:null,this.languageCode=null!==(s=c["languageCode"])&&void 0!==s?s:null,this.tenantId=null!==(a=c["tenantId"])&&void 0!==a?a:null}static parseLink(t){const e=Te(t);try{return new Se(e)}catch(n){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ce{constructor(){this.providerId=Ce.PROVIDER_ID}static credential(t,e){return de._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=Se.parseLink(e);return S(n,"argument-error"),de._fromEmailAndCode(t,n.code,n.tenantId)}}Ce.PROVIDER_ID="password",Ce.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ce.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ie{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee extends Ie{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ke extends Ee{static credentialFromJSON(t){const e="string"===typeof t?JSON.parse(t):t;return S("providerId"in e&&"signInMethod"in e,"argument-error"),me._fromParams(e)}credential(t){return this._credential(Object.assign(Object.assign({},t),{nonce:t.rawNonce}))}_credential(t){return S(t.idToken||t.accessToken,"argument-error"),me._fromParams(Object.assign(Object.assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(t){return ke.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return ke.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:o,providerId:s}=t;if(!n&&!r&&!e&&!i)return null;if(!s)return null;try{return new ke(s)._credential({idToken:e,accessToken:n,nonce:o,pendingToken:i})}catch(a){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe extends Ee{constructor(){super("facebook.com")}static credential(t){return me._fromParams({providerId:Pe.PROVIDER_ID,signInMethod:Pe.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pe.credentialFromTaggedObject(t)}static credentialFromError(t){return Pe.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Pe.credential(t.oauthAccessToken)}catch(e){return null}}}Pe.FACEBOOK_SIGN_IN_METHOD="facebook.com",Pe.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class xe extends Ee{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return me._fromParams({providerId:xe.PROVIDER_ID,signInMethod:xe.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return xe.credentialFromTaggedObject(t)}static credentialFromError(t){return xe.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return xe.credential(e,n)}catch(r){return null}}}xe.GOOGLE_SIGN_IN_METHOD="google.com",xe.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class De extends Ee{constructor(){super("github.com")}static credential(t){return me._fromParams({providerId:De.PROVIDER_ID,signInMethod:De.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return De.credentialFromTaggedObject(t)}static credentialFromError(t){return De.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return De.credential(t.oauthAccessToken)}catch(e){return null}}}De.GITHUB_SIGN_IN_METHOD="github.com",De.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ae="http://localhost";class je extends te{constructor(t,e){super(t,t),this.pendingToken=e}_getIdTokenResponse(t){const e=this.buildRequest();return fe(t,e)}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,fe(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,fe(t,e)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r,pendingToken:i}=e;return n&&r&&i&&n===r?new je(n,i):null}static _create(t,e){return new je(t,e)}buildRequest(){return{requestUri:Ae,returnSecureToken:!0,pendingToken:this.pendingToken}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re="saml.";class Ne extends Ie{constructor(t){S(t.startsWith(Re),"argument-error"),super(t)}static credentialFromResult(t){return Ne.samlCredentialFromTaggedObject(t)}static credentialFromError(t){return Ne.samlCredentialFromTaggedObject(t.customData||{})}static credentialFromJSON(t){const e=je.fromJSON(t);return S(e,"argument-error"),e}static samlCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{pendingToken:e,providerId:n}=t;if(!e||!n)return null;try{return je._create(n,e)}catch(r){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le extends Ee{constructor(){super("twitter.com")}static credential(t,e){return me._fromParams({providerId:Le.PROVIDER_ID,signInMethod:Le.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Le.credentialFromTaggedObject(t)}static credentialFromError(t){return Le.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return Le.credential(e,n)}catch(r){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Fe(t,e){return B(t,"POST","/v1/accounts:signUp",F(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Le.TWITTER_SIGN_IN_METHOD="twitter.com",Le.PROVIDER_ID="twitter.com";class Me{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,r=!1){const i=await lt._fromIdTokenResponse(t,n,r),o=$e(n),s=new Me({user:i,providerId:o,_tokenResponse:n,operationType:e});return s}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const r=$e(n);return new Me({user:t,providerId:r,_tokenResponse:n,operationType:e})}}function $e(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Be(t){var e;const n=Gt(t);if(await n._initializationPromise,null===(e=n.currentUser)||void 0===e?void 0:e.isAnonymous)return new Me({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Fe(n,{returnSecureToken:!0}),i=await Me._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve extends i.g{constructor(t,e,n,r){var i;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ve.prototype),this.customData={appName:t.name,tenantId:null!==(i=t.tenantId)&&void 0!==i?i:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new Ve(t,e,n,r)}}function Ue(t,e,n,r){const i="reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t);return i.catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Ve._fromErrorAndOperation(t,n,e,r);throw n}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t){return new Set(t.map((({providerId:t})=>t)).filter((t=>!!t)))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qe(t,e){const n=(0,i.Ku)(t);await Ge(!0,n,e);const{providerUserInfo:r}=await H(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),o=ze(r||[]);return n.providerData=n.providerData.filter((t=>o.has(t.providerId))),o.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function He(t,e,n=!1){const r=await J(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Me._forOperation(t,"link",r)}async function Ge(t,e,n){await nt(e);const r=ze(e.providerData),i=!1===t?"provider-already-linked":"no-such-provider";S(r.has(n)===t,e.auth,i)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function We(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await J(t,Ue(r,i,e,t),n);S(o.idToken,r,"internal-error");const s=Q(o.idToken);S(s,r,"internal-error");const{sub:a}=s;return S(t.uid===a,r,"user-mismatch"),Me._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===(null===o||void 0===o?void 0:o.code)&&b(r,"user-mismatch"),o}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ke(t,e,n=!1){const r="signIn",i=await Ue(t,r,e),o=await Me._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Ye(t,e){return Ke(Gt(t),e)}async function Qe(t,e){const n=(0,i.Ku)(t);return await Ge(!1,n,e.providerId),He(n,e)}async function Xe(t,e){return We((0,i.Ku)(t),e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Je(t,e){return B(t,"POST","/v1/accounts:signInWithCustomToken",F(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ze(t,e){const n=Gt(t),r=await Je(n,{token:e,returnSecureToken:!0}),i=await Me._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t,e){this.factorId=t,this.uid=e.mfaEnrollmentId,this.enrollmentTime=new Date(e.enrolledAt).toUTCString(),this.displayName=e.displayName}static _fromServerResponse(t,e){return"phoneInfo"in e?en._fromServerResponse(t,e):"totpInfo"in e?nn._fromServerResponse(t,e):b(t,"internal-error")}}class en extends tn{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,e){return new en(e)}}class nn extends tn{constructor(t){super("totp",t)}static _fromServerResponse(t,e){return new nn(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,e,n){var r;S((null===(r=n.url)||void 0===r?void 0:r.length)>0,t,"invalid-continue-uri"),S("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(S(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(S(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function on(t,e,n){var r;const i=Gt(t),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const t=await zt(i,o,"getOobCode",!0);n&&rn(i,t,n),await ae(i,t)}else n&&rn(i,o,n),await ae(i,o).catch((async t=>{if("auth/missing-recaptcha-token"!==t.code)return Promise.reject(t);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const t=await zt(i,o,"getOobCode",!0);n&&rn(i,t,n),await ae(i,t)}}))}async function sn(t,e,n){await ee((0,i.Ku)(t),{oobCode:e,newPassword:n})}async function an(t,e){await re((0,i.Ku)(t),{oobCode:e})}async function cn(t,e){const n=(0,i.Ku)(t),r=await ee(n,{oobCode:e}),o=r.requestType;switch(S(o,n,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":S(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":S(r.mfaInfo,n,"internal-error");default:S(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=tn._fromServerResponse(Gt(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:o}}async function ln(t,e){const{data:n}=await cn((0,i.Ku)(t),e);return n.email}async function un(t,e,n){var r;const i=Gt(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const t=await zt(i,o,"signUpPassword");s=Fe(i,t)}else s=Fe(i,o).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const t=await zt(i,o,"signUpPassword");return Fe(i,t)}return Promise.reject(t)}));const a=await s.catch((t=>Promise.reject(t))),c=await Me._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(c.user),c}function hn(t,e,n){return Ye((0,i.Ku)(t),Ce.credential(e,n))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dn(t,e,n){var r;const i=Gt(t),o={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(t,e){S(e.handleCodeInApp,i,"argument-error"),e&&rn(i,t,e)}if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const t=await zt(i,o,"getOobCode",!0);s(t,n),await ce(i,t)}else s(o,n),await ce(i,o).catch((async t=>{if("auth/missing-recaptcha-token"!==t.code)return Promise.reject(t);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await zt(i,o,"getOobCode",!0);s(t,n),await ce(i,t)}}))}function fn(t,e){const n=Se.parseLink(e);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}async function pn(t,e,n){const r=(0,i.Ku)(t),o=Ce.credentialWithLink(e,n||E());return S(o._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ye(r,o)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mn(t,e){return M(t,"POST","/v1/accounts:createAuthUri",F(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gn(t,e){const n=k()?E():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:o}=await mn((0,i.Ku)(t),r);return o||[]}async function vn(t,e){const n=(0,i.Ku)(t),r=await t.getIdToken(),o={requestType:"VERIFY_EMAIL",idToken:r};e&&rn(n.auth,o,e);const{email:s}=await se(n.auth,o);s!==t.email&&await t.reload()}async function yn(t,e,n){const r=(0,i.Ku)(t),o=await t.getIdToken(),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:e};n&&rn(r.auth,s,n);const{email:a}=await le(r.auth,s);a!==t.email&&await t.reload()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bn(t,e){return M(t,"POST","/v1/accounts:update",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wn(t,{displayName:e,photoURL:n}){if(void 0===e&&void 0===n)return;const r=(0,i.Ku)(t),o=await r.getIdToken(),s={idToken:o,displayName:e,photoUrl:n,returnSecureToken:!0},a=await J(r,bn(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const c=r.providerData.find((({providerId:t})=>"password"===t));c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function _n(t,e){return Tn((0,i.Ku)(t),e,null)}function On(t,e){return Tn((0,i.Ku)(t),null,e)}async function Tn(t,e,n){const{auth:r}=t,i=await t.getIdToken(),o={idToken:i,returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const s=await J(t,ne(r,o));await t._updateTokensIfNecessary(s,!0)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||"identitytoolkit#SignupNewUserResponse"===t.kind;if(!r&&(null===t||void 0===t?void 0:t.idToken)){const r=null===(n=null===(e=Q(t.idToken))||void 0===e?void 0:e.firebase)||void 0===n?void 0:n["sign_in_provider"];if(r){const t="anonymous"!==r&&"custom"!==r?r:null;return new Cn(o,t)}}if(!r)return null;switch(r){case"facebook.com":return new En(o,i);case"github.com":return new kn(o,i);case"google.com":return new Pn(o,i);case"twitter.com":return new xn(o,i,t.screenName||null);case"custom":case"anonymous":return new Cn(o,null);default:return new Cn(o,r,i)}}class Cn{constructor(t,e,n={}){this.isNewUser=t,this.providerId=e,this.profile=n}}class In extends Cn{constructor(t,e,n,r){super(t,e,n),this.username=r}}class En extends Cn{constructor(t,e){super(t,"facebook.com",e)}}class kn extends In{constructor(t,e){super(t,"github.com",e,"string"===typeof(null===e||void 0===e?void 0:e.login)?null===e||void 0===e?void 0:e.login:null)}}class Pn extends Cn{constructor(t,e){super(t,"google.com",e)}}class xn extends In{constructor(t,e,n){super(t,"twitter.com",e,n)}}function Dn(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Sn(n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t,e,n){this.type=t,this.credential=e,this.auth=n}static _fromIdtoken(t,e){return new An("enroll",t,e)}static _fromMfaPendingCredential(t){return new An("signin",t)}toJSON(){const t="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[t]:this.credential}}}static fromJSON(t){var e,n;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(e=t.multiFactorSession)||void 0===e?void 0:e.pendingCredential)return An._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.idToken)return An._fromIdtoken(t.multiFactorSession.idToken)}return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t,e,n){this.session=t,this.hints=e,this.signInResolver=n}static _fromError(t,e){const n=Gt(t),r=e.customData._serverResponse,i=(r.mfaInfo||[]).map((t=>tn._fromServerResponse(n,t)));S(r.mfaPendingCredential,n,"internal-error");const o=An._fromMfaPendingCredential(r.mfaPendingCredential);return new jn(o,i,(async t=>{const i=await t._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(e.operationType){case"signIn":const t=await Me._fromIdTokenResponse(n,e.operationType,s);return await n._updateCurrentUser(t.user),t;case"reauthenticate":return S(e.user,n,"internal-error"),Me._forOperation(e.user,e.operationType,s);default:b(n,"internal-error")}}))}async resolveSignIn(t){const e=t;return this.signInResolver(e)}}function Rn(t,e){var n;const r=(0,i.Ku)(t),o=e;return S(e.customData.operationType,r,"argument-error"),S(null===(n=o.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),jn._fromError(r,o)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,e){return M(t,"POST","/v2/accounts/mfaEnrollment:start",F(t,e))}function Ln(t,e){return M(t,"POST","/v2/accounts/mfaEnrollment:finalize",F(t,e))}function Fn(t,e){return M(t,"POST","/v2/accounts/mfaEnrollment:start",F(t,e))}function Mn(t,e){return M(t,"POST","/v2/accounts/mfaEnrollment:finalize",F(t,e))}function $n(t,e){return M(t,"POST","/v2/accounts/mfaEnrollment:withdraw",F(t,e))}class Bn{constructor(t){this.user=t,this.enrolledFactors=[],t._onReload((e=>{e.mfaInfo&&(this.enrolledFactors=e.mfaInfo.map((e=>tn._fromServerResponse(t.auth,e))))}))}static _fromUser(t){return new Bn(t)}async getSession(){return An._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(t,e){const n=t,r=await this.getSession(),i=await J(this.user,n._process(this.user.auth,r,e));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(t){const e="string"===typeof t?t:t.uid,n=await this.user.getIdToken();try{const t=await J(this.user,$n(this.user.auth,{idToken:n,mfaEnrollmentId:e}));this.enrolledFactors=this.enrolledFactors.filter((({uid:t})=>t!==e)),await this.user._updateTokensIfNecessary(t),await this.user.reload()}catch(r){throw r}}}const Vn=new WeakMap;function Un(t){const e=(0,i.Ku)(t);return Vn.has(e)||Vn.set(e,Bn._fromUser(e)),Vn.get(e)}const zn="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(zn,"1"),this.storage.removeItem(zn),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){const t=(0,i.ZQ)();return yt(t)||St(t)}const Gn=1e3,Wn=10;class Kn extends qn{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Hn()&&Pt(),this.fallbackToPolling=kt(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(t.newValue!==r)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const r=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},i=this.storage.getItem(n);Et()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,Wn):r()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),Gn)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Kn.type="LOCAL";const Yn=Kn;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn extends qn{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Qn.type="SESSION";const Xn=Qn;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t){return Promise.all(t.map((async t=>{try{const e=await t;return{fulfilled:!0,value:e}}catch(e){return{fulfilled:!1,reason:e}}})))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new Zn(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:r,data:i}=e.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async t=>t(e.origin,i))),a=await Jn(s);e.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function tr(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn.receivers=[];class er{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const c=tr("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===c)switch(e.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(e.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:e},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return window}function rr(t){nr().location.href=t}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return"undefined"!==typeof nr()["WorkerGlobalScope"]&&"function"===typeof nr()["importScripts"]}async function or(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{const t=await navigator.serviceWorker.ready;return t.active}catch(t){return null}}function sr(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}function ar(){return ir()?self:null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="firebaseLocalStorageDb",lr=1,ur="firebaseLocalStorage",hr="fbase_key";class dr{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function fr(t,e){return t.transaction([ur],e?"readwrite":"readonly").objectStore(ur)}function pr(){const t=indexedDB.deleteDatabase(cr);return new dr(t).toPromise()}function mr(){const t=indexedDB.open(cr,lr);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(ur,{keyPath:hr})}catch(r){n(r)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(ur)?e(n):(n.close(),await pr(),e(await mr()))}))}))}async function gr(t,e,n){const r=fr(t,!0).put({[hr]:e,value:n});return new dr(r).toPromise()}async function vr(t,e){const n=fr(t,!1).get(e),r=await new dr(n).toPromise();return void 0===r?null:r.value}function yr(t,e){const n=fr(t,!0).delete(e);return new dr(n).toPromise()}const br=800,wr=3;class _r{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await mr()),this.db}async _withRetries(t){let e=0;while(1)try{const e=await this._openDb();return await t(e)}catch(n){if(e++>wr)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ir()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zn._getInstance(ar()),this.receiver._subscribe("keyChanged",(async(t,e)=>{const n=await this._poll();return{keyProcessed:n.includes(e.key)}})),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await or(),!this.activeServiceWorker)return;this.sender=new er(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&sr()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await mr();return await gr(t,zn,"1"),await yr(t,zn),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>gr(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>vr(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>yr(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=fr(t,!1).getAll();return new dr(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;for(const{fbase_key:r,value:i}of t)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),br)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}_r.type="LOCAL";const Or=_r;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,e){return M(t,"POST","/v2/accounts/mfaSignIn:start",F(t,e))}function Sr(t,e){return M(t,"POST","/v2/accounts/mfaSignIn:finalize",F(t,e))}function Cr(t,e){return M(t,"POST","/v2/accounts/mfaSignIn:finalize",F(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=500,Er=6e4,kr=1e12;class Pr{constructor(t){this.auth=t,this.counter=kr,this._widgets=new Map}render(t,e){const n=this.counter;return this._widgets.set(n,new xr(t,this.auth.name,e||{})),this.counter++,n}reset(t){var e;const n=t||kr;null===(e=this._widgets.get(n))||void 0===e||e.delete(),this._widgets.delete(n)}getResponse(t){var e;const n=t||kr;return(null===(e=this._widgets.get(n))||void 0===e?void 0:e.getResponse())||""}async execute(t){var e;const n=t||kr;return null===(e=this._widgets.get(n))||void 0===e||e.execute(),""}}class xr{constructor(t,e,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof t?document.getElementById(t):t;S(r,"argument-error",{appName:e}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=Dr(50);const{callback:t,"expired-callback":e}=this.params;if(t)try{t(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,e)try{e()}catch(n){}this.isVisible&&this.execute()}),Er)}),Ir))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Dr(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=Mt("rcb"),jr=new A(3e4,6e4),Rr="https://www.google.com/recaptcha/api.js?";class Nr{constructor(){var t;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=nr().grecaptcha)||void 0===t?void 0:t.render)}load(t,e=""){return S(Lr(e),t,"argument-error"),this.shouldResolveImmediately(e)&&jt(nr().grecaptcha)?Promise.resolve(nr().grecaptcha):new Promise(((n,r)=>{const o=nr().setTimeout((()=>{r(w(t,"network-request-failed"))}),jr.get());nr()[Ar]=()=>{nr().clearTimeout(o),delete nr()[Ar];const i=nr().grecaptcha;if(!i||!jt(i))return void r(w(t,"internal-error"));const s=i.render;i.render=(t,e)=>{const n=s(t,e);return this.counter++,n},this.hostLanguage=e,n(i)};const s=`${Rr}?${(0,i.Am)({onload:Ar,render:"explicit",hl:e})}`;Ft(s).catch((()=>{clearTimeout(o),r(w(t,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){var e;return!!(null===(e=nr().grecaptcha)||void 0===e?void 0:e.render)&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Lr(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class Fr{async load(t){return new Pr(t)}clearedOneInstance(){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="recaptcha",$r={theme:"light",type:"image"};class Br{constructor(t,e=Object.assign({},$r),n){this.parameters=e,this.type=Mr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Gt(n),this.isInvisible="invisible"===this.parameters.size,S("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;S(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fr:new Nr,this.validateStartingState()}async verify(){this.assertNotDestroyed();const t=await this.render(),e=this.getAssertedRecaptcha(),n=e.getResponse(t);return n||new Promise((n=>{const r=t=>{t&&(this.tokenChangeListeners.delete(r),n(t))};this.tokenChangeListeners.add(r),this.isInvisible&&e.execute(t)}))}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((t=>{throw this.renderPromise=null,t}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((t=>{this.container.removeChild(t)}))}validateStartingState(){S(!this.parameters.sitekey,this.auth,"argument-error"),S(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),S("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return e=>{if(this.tokenChangeListeners.forEach((t=>t(e))),"function"===typeof t)t(e);else if("string"===typeof t){const n=nr()[t];"function"===typeof n&&n(e)}}}assertNotDestroyed(){S(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let t=this.container;if(!this.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)}return this.widgetId}async init(){S(k()&&!ir(),this.auth,"internal-error"),await Vr(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const t=await Dt(this.auth);S(t,this.auth,"internal-error"),this.parameters.sitekey=t}getAssertedRecaptcha(){return S(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function Vr(){let t=null;return new Promise((e=>{"complete"!==document.readyState?(t=()=>e(),window.addEventListener("load",t)):e()})).catch((e=>{throw t&&window.removeEventListener("load",t),e}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t,e){this.verificationId=t,this.onConfirmation=e}confirm(t){const e=_e._fromVerification(this.verificationId,t);return this.onConfirmation(e)}}async function zr(t,e,n){const r=Gt(t),o=await Gr(r,e,(0,i.Ku)(n));return new Ur(o,(t=>Ye(r,t)))}async function qr(t,e,n){const r=(0,i.Ku)(t);await Ge(!1,r,"phone");const o=await Gr(r.auth,e,(0,i.Ku)(n));return new Ur(o,(t=>Qe(r,t)))}async function Hr(t,e,n){const r=(0,i.Ku)(t),o=await Gr(r.auth,e,(0,i.Ku)(n));return new Ur(o,(t=>Xe(r,t)))}async function Gr(t,e,n){var r;const i=await n.verify();try{let o;if(S("string"===typeof i,t,"argument-error"),S(n.type===Mr,t,"argument-error"),o="string"===typeof e?{phoneNumber:e}:e,"session"in o){const e=o.session;if("phoneNumber"in o){S("enroll"===e.type,t,"internal-error");const n=await Nn(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{S("signin"===e.type,t,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;S(n,t,"missing-multi-factor-info");const s=await Tr(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await ge(t,{phoneNumber:o.phoneNumber,recaptchaToken:i});return e}}finally{n._reset()}}async function Wr(t,e){await He((0,i.Ku)(t),e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(t){this.providerId=Kr.PROVIDER_ID,this.auth=Gt(t)}verifyPhoneNumber(t,e){return Gr(this.auth,t,(0,i.Ku)(e))}static credential(t,e){return _e._fromVerification(t,e)}static credentialFromResult(t){const e=t;return Kr.credentialFromTaggedObject(e)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?_e._fromTokenResponse(e,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Yr(t,e){return e?ht(e):(S(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr.PROVIDER_ID="phone",Kr.PHONE_SIGN_IN_METHOD="phone";class Qr extends te{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return fe(t,this._buildIdpRequest())}_linkToIdToken(t,e){return fe(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return fe(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Xr(t){return Ke(t.auth,new Qr(t),t.bypassAuthState)}function Jr(t){const{auth:e,user:n}=t;return S(n,e,"internal-error"),We(n,new Qr(t),t.bypassAuthState)}async function Zr(t){const{auth:e,user:n}=t;return S(n,e,"internal-error"),He(n,new Qr(t),t.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t,e,n,r,i=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=t;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Xr;case"linkViaPopup":case"linkViaRedirect":return Zr;case"reauthViaPopup":case"reauthViaRedirect":return Jr;default:b(this.auth,"internal-error")}}resolve(t){I(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){I(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new A(2e3,1e4);async function ni(t,e,n){const r=Gt(t);O(t,e,Ie);const i=Yr(r,n),o=new oi(r,"signInViaPopup",e,i);return o.executeNotNull()}async function ri(t,e,n){const r=(0,i.Ku)(t);O(r.auth,e,Ie);const o=Yr(r.auth,n),s=new oi(r.auth,"reauthViaPopup",e,o,r);return s.executeNotNull()}async function ii(t,e,n){const r=(0,i.Ku)(t);O(r.auth,e,Ie);const o=Yr(r.auth,n),s=new oi(r.auth,"linkViaPopup",e,o,r);return s.executeNotNull()}class oi extends ti{constructor(t,e,n,r,i){super(t,e,r,i),this.provider=n,this.authWindow=null,this.pollId=null,oi.currentPopupAction&&oi.currentPopupAction.cancel(),oi.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return S(t,this.auth,"internal-error"),t}async onExecution(){I(1===this.filter.length,"Popup operations only handle one event");const t=tr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(w(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(w(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oi.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(w(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(t,ei.get())};t()}}oi.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const si="pendingRedirect",ai=new Map;class ci extends ti{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=ai.get(this.auth._key());if(!t){try{const e=await li(this.resolver,this.auth),n=e?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}ai.set(this.auth._key(),t)}return this.bypassAuthState||ai.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function li(t,e){const n=pi(e),r=fi(t);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}async function ui(t,e){return fi(t)._set(pi(e),"true")}function hi(){ai.clear()}function di(t,e){ai.set(t._key(),e)}function fi(t){return ht(t._redirectPersistence)}function pi(t){return pt(si,t.config.apiKey,t.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(t,e,n){return gi(t,e,n)}async function gi(t,e,n){const r=Gt(t);O(t,e,Ie),await r._initializationPromise;const i=Yr(r,n);return await ui(i,r),i._openRedirect(r,e,"signInViaRedirect")}function vi(t,e,n){return yi(t,e,n)}async function yi(t,e,n){const r=(0,i.Ku)(t);O(r.auth,e,Ie),await r.auth._initializationPromise;const o=Yr(r.auth,n);await ui(o,r.auth);const s=await Ti(r);return o._openRedirect(r.auth,e,"reauthViaRedirect",s)}function bi(t,e,n){return wi(t,e,n)}async function wi(t,e,n){const r=(0,i.Ku)(t);O(r.auth,e,Ie),await r.auth._initializationPromise;const o=Yr(r.auth,n);await Ge(!1,r,e.providerId),await ui(o,r.auth);const s=await Ti(r);return o._openRedirect(r.auth,e,"linkViaRedirect",s)}async function _i(t,e){return await Gt(t)._initializationPromise,Oi(t,e,!1)}async function Oi(t,e,n=!1){const r=Gt(t),i=Yr(r,e),o=new ci(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}async function Ti(t){const e=tr(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=6e5;class Ci{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!ki(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Ei(t)){const r=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(w(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Si&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ii(t))}saveEventToCache(t){this.cachedEventUids.add(Ii(t)),this.lastProcessedEventTime=Date.now()}}function Ii(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function Ei({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null===e||void 0===e?void 0:e.code)}function ki(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ei(t);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pi(t,e={}){return M(t,"GET","/v1/projects",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Di=/^https?/;async function Ai(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Pi(t);for(const r of e)try{if(ji(r))return}catch(n){}b(t,"unauthorized-domain")}function ji(t){const e=E(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Di.test(n))return!1;if(xi.test(t))return r===t;const i=t.replace(/\./g,"\\."),o=new RegExp("^(.+\\."+i+"|"+i+")$","i");return o.test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new A(3e4,6e4);function Ni(){const t=nr().___jsl;if(null===t||void 0===t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}function Li(t){return new Promise(((e,n)=>{var r,i,o;function s(){Ni(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ni(),n(w(t,"network-request-failed"))},timeout:Ri.get()})}if(null===(i=null===(r=nr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(o=nr().gapi)||void 0===o?void 0:o.load)){const e=Mt("iframefcb");return nr()[e]=()=>{gapi.load?s():n(w(t,"network-request-failed"))},Ft(`https://apis.google.com/js/api.js?onload=${e}`).catch((t=>n(t)))}s()}})).catch((t=>{throw Fi=null,t}))}let Fi=null;function Mi(t){return Fi=Fi||Li(t),Fi}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new A(5e3,15e3),Bi="__/auth/iframe",Vi="emulator/auth/iframe",Ui={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qi(t){const e=t.config;S(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?j(e,Vi):`https://${t.config.authDomain}/${Bi}`,r={apiKey:e.apiKey,appName:t.name,v:o.SDK_VERSION},s=zi.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,i.Am)(r).slice(1)}`}async function Hi(t){const e=await Mi(t),n=nr().gapi;return S(n,t,"internal-error"),e.open({where:document.body,url:qi(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ui,dontclear:!0},(e=>new Promise((async(n,r)=>{await e.restyle({setHideOnLeave:!1});const i=w(t,"network-request-failed"),o=nr().setTimeout((()=>{r(i)}),$i.get());function s(){nr().clearTimeout(o),n(e)}e.ping(s).then(s,(()=>{r(i)}))}))))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Wi=500,Ki=600,Yi="_blank",Qi="http://localhost";class Xi{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function Ji(t,e,n,r=Wi,o=Ki){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l=Object.assign(Object.assign({},Gi),{width:r.toString(),height:o.toString(),top:s,left:a}),u=(0,i.ZQ)().toLowerCase();n&&(c=bt(u)?Yi:n),vt(u)&&(e=e||Qi,l.scrollbars="yes");const h=Object.entries(l).reduce(((t,[e,n])=>`${t}${e}=${n},`),"");if(It(u)&&"_self"!==c)return Zi(e||"",c),new Xi(null);const d=window.open(e||"",c,h);S(d,t,"popup-blocked");try{d.focus()}catch(f){}return new Xi(d)}function Zi(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="__/auth/handler",eo="emulator/auth/handler",no=encodeURIComponent("fac");async function ro(t,e,n,r,s,a){S(t.config.authDomain,t,"auth-domain-config-required"),S(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:o.SDK_VERSION,eventId:s};if(e instanceof Ie){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",(0,i.Im)(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(a||{}))c[t]=e}if(e instanceof Ee){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(c.scopes=t.join(","))}t.tenantId&&(c.tid=t.tenantId);const l=c;for(const i of Object.keys(l))void 0===l[i]&&delete l[i];const u=await t._getAppCheckToken(),h=u?`#${no}=${encodeURIComponent(u)}`:"";return`${io(t)}?${(0,i.Am)(l).slice(1)}${h}`}function io({config:t}){return t.emulator?j(t,eo):`https://${t.authDomain}/${to}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="webStorageSupport";class so{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xn,this._completeRedirectFn=Oi,this._overrideRedirectResult=di}async _openPopup(t,e,n,r){var i;I(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await ro(t,e,n,E(),r);return Ji(t,o,tr())}async _openRedirect(t,e,n,r){await this._originValidation(t);const i=await ro(t,e,n,E(),r);return rr(i),new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(I(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch((()=>{delete this.eventManagers[e]})),n}async initAndGetManager(t){const e=await Hi(t),n=new Ci(t);return e.register("authEvent",(e=>{S(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");const r=n.onEvent(e.authEvent);return{status:r?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){const n=this.iframes[t._key()];n.send(oo,{type:oo},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[oo];void 0!==i&&e(!!i),b(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Ai(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return kt()||yt()||St()}}const ao=so;class co{constructor(t){this.factorId=t}_process(t,e,n){switch(e.type){case"enroll":return this._finalizeEnroll(t,e.credential,n);case"signin":return this._finalizeSignIn(t,e.credential);default:return C("unexpected MultiFactorSessionType")}}}class lo extends co{constructor(t){super("phone"),this.credential=t}static _fromCredential(t){return new lo(t)}_finalizeEnroll(t,e,n){return Ln(t,{idToken:e,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(t,e){return Sr(t,{mfaPendingCredential:e,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class uo{constructor(){}static assertion(t){return lo._fromCredential(t)}}uo.FACTOR_ID="phone";class ho{static assertionForEnrollment(t,e){return fo._fromSecret(t,e)}static assertionForSignIn(t,e){return fo._fromEnrollmentId(t,e)}static async generateSecret(t){const e=t;S("undefined"!==typeof e.auth,"internal-error");const n=await Fn(e.auth,{idToken:e.credential,totpEnrollmentInfo:{}});return po._fromStartTotpMfaEnrollmentResponse(n,e.auth)}}ho.FACTOR_ID="totp";class fo extends co{constructor(t,e,n){super("totp"),this.otp=t,this.enrollmentId=e,this.secret=n}static _fromSecret(t,e){return new fo(e,void 0,t)}static _fromEnrollmentId(t,e){return new fo(e,t)}async _finalizeEnroll(t,e,n){return S("undefined"!==typeof this.secret,t,"argument-error"),Mn(t,{idToken:e,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(t,e){S(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error");const n={verificationCode:this.otp};return Cr(t,{mfaPendingCredential:e,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}}class po{constructor(t,e,n,r,i,o,s){this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=e,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(t,e){return new po(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,e)}_makeTotpVerificationInfo(t){return{sessionInfo:this.sessionInfo,verificationCode:t}}generateQrCodeUrl(t,e){var n;let r=!1;return(mo(t)||mo(e))&&(r=!0),r&&(mo(t)&&(t=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),mo(e)&&(e=this.auth.name)),`otpauth://totp/${e}:${t}?secret=${this.secretKey}&issuer=${e}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function mo(t){return"undefined"===typeof t||0===(null===t||void 0===t?void 0:t.length)}var go="@firebase/auth",vo="0.23.2";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class yo{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;const e=await this.auth.currentUser.getIdToken(t);return{accessToken:e}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{t((null===e||void 0===e?void 0:e.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function wo(t){(0,o._registerComponent)(new c.uA("auth",((e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;S(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xt(t)},l=new Ht(r,i,o,c);return Kt(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{const r=t.getProvider("auth-internal");r.initialize()}))),(0,o._registerComponent)(new c.uA("auth-internal",(t=>{const e=Gt(t.getProvider("auth").getImmediate());return(t=>new yo(t))(e)}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(go,vo,bo(t)),(0,o.registerVersion)(go,vo,"esm2017")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=300;(0,i.XA)("authIdTokenMaxAge");
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Oo(){return window}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wo("Browser");const To=2e3;async function So(t,e,n){var r;const{BuildInfo:i}=Oo();I(e.sessionId,"AuthEvent did not contain a session ID");const o=await Po(e.sessionId),s={};return St()?s["ibi"]=i.packageName:_t()?s["apn"]=i.packageName:b(t,"operation-not-supported-in-this-environment"),i.displayName&&(s["appDisplayName"]=i.displayName),s["sessionId"]=o,ro(t,n,e.type,void 0,null!==(r=e.eventId)&&void 0!==r?r:void 0,s)}async function Co(t){const{BuildInfo:e}=Oo(),n={};St()?n.iosBundleId=e.packageName:_t()?n.androidPackageName=e.packageName:b(t,"operation-not-supported-in-this-environment"),await Pi(t,n)}function Io(t){const{cordova:e}=Oo();return new Promise((n=>{e.plugins.browsertab.isAvailable((r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,Ct()?"_blank":"_system","location=yes"),n(i)}))}))}async function Eo(t,e,n){const{cordova:r}=Oo();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function c(){var t;o();const e=null===(t=r.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof e&&e(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout((()=>{s(w(t,"redirect-cancelled-by-user"))}),To))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}e.addPassiveListener(c),document.addEventListener("resume",l,!1),_t()&&document.addEventListener("visibilitychange",u,!1),i=()=>{e.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}function ko(t){var e,n,r,i,o,s,a,c,l,u;const h=Oo();S("function"===typeof(null===(e=null===h||void 0===h?void 0:h.universalLinks)||void 0===e?void 0:e.subscribe),t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),S("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),S("function"===typeof(null===(o=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),S("function"===typeof(null===(c=null===(a=null===(s=null===h||void 0===h?void 0:h.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),S("function"===typeof(null===(u=null===(l=null===h||void 0===h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Po(t){const e=xo(t),n=await crypto.subtle.digest("SHA-256",e),r=Array.from(new Uint8Array(n));return r.map((t=>t.toString(16).padStart(2,"0"))).join("")}function xo(t){if(I(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=20;class Ao extends Ci{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((t=>{this.resolveInialized=t}))}addPassiveListener(t){this.passiveListeners.add(t)}removePassiveListener(t){this.passiveListeners.delete(t)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(t){return this.resolveInialized(),this.passiveListeners.forEach((e=>e(t))),super.onEvent(t)}async initialized(){await this.initPromise}}function jo(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Fo(),postBody:null,tenantId:t.tenantId,error:w(t,"no-auth-event")}}function Ro(t,e){return Mo()._set($o(t),e)}async function No(t){const e=await Mo()._get($o(t));return e&&await Mo()._remove($o(t)),e}function Lo(t,e){var n,r;const i=Vo(e);if(i.includes("/__/auth/callback")){const e=Uo(i),o=e["firebaseError"]?Bo(decodeURIComponent(e["firebaseError"])):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o["code"])||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?w(s):null;return a?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function Fo(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Do;n++){const n=Math.floor(Math.random()*e.length);t.push(e.charAt(n))}return t.join("")}function Mo(){return ht(Yn)}function $o(t){return pt("authEvent",t.config.apiKey,t.name)}function Bo(t){try{return JSON.parse(t)}catch(e){return null}}function Vo(t){const e=Uo(t),n=e["link"]?decodeURIComponent(e["link"]):void 0,r=Uo(n)["link"],i=e["deep_link_id"]?decodeURIComponent(e["deep_link_id"]):void 0,o=Uo(i)["link"];return o||i||r||n||t}function Uo(t){if(!(null===t||void 0===t?void 0:t.includes("?")))return{};const[e,...n]=t.split("?");return(0,i.I9)(n.join("?"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=500;class qo{constructor(){this._redirectPersistence=Xn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Oi,this._overrideRedirectResult=di}async _initialize(t){const e=t._key();let n=this.eventManagers.get(e);return n||(n=new Ao(t),this.eventManagers.set(e,n),this.attachCallbackListeners(t,n)),n}_openPopup(t){b(t,"operation-not-supported-in-this-environment")}async _openRedirect(t,e,n,r){ko(t);const i=await this._initialize(t);await i.initialized(),i.resetRedirect(),hi(),await this._originValidation(t);const o=jo(t,n,r);await Ro(t,o);const s=await So(t,o,e),a=await Io(s);return Eo(t,i,a)}_isIframeWebStorageSupported(t,e){throw new Error("Method not implemented.")}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Co(t)),this.originValidationPromises[e]}attachCallbackListeners(t,e){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Oo(),o=setTimeout((async()=>{await No(t),e.onEvent(Go())}),zo),s=async n=>{clearTimeout(o);const r=await No(t);let i=null;r&&(null===n||void 0===n?void 0:n["url"])&&(i=Lo(r,n["url"])),e.onEvent(i||Go())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,c=`${i.packageName.toLowerCase()}://`;Oo().handleOpenURL=async t=>{if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof a)try{a(t)}catch(e){console.error(e)}}}}const Ho=qo;function Go(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:w("no-auth-event")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(t,e){Gt(t)._logFramework(e)}var Ko="@firebase/auth-compat",Yo="0.4.2";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Qo=1e3;function Xo(){var t;return(null===(t=null===self||void 0===self?void 0:self.location)||void 0===t?void 0:t.protocol)||null}function Jo(){return"http:"===Xo()||"https:"===Xo()}function Zo(t=(0,i.ZQ)()){return!("file:"!==Xo()&&"ionic:"!==Xo()&&"capacitor:"!==Xo()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function ts(){return(0,i.lV)()||(0,i.Ll)()}function es(){return(0,i.lT)()&&11===(null===document||void 0===document?void 0:document.documentMode)}function ns(t=(0,i.ZQ)()){return/Edge\/\d+/.test(t)}function rs(t=(0,i.ZQ)()){return es()||ns(t)}function is(){try{const t=self.localStorage,e=tr();if(t)return t["setItem"](e,"1"),t["removeItem"](e),!rs()||(0,i.zW)()}catch(t){return os()&&(0,i.zW)()}return!1}function os(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function ss(){return(Jo()||(0,i.sr)()||Zo())&&!ts()&&is()&&!os()}function as(){return Zo()&&"undefined"!==typeof document}async function cs(){return!!as()&&new Promise((t=>{const e=setTimeout((()=>{t(!1)}),Qo);document.addEventListener("deviceready",(()=>{clearTimeout(e),t(!0)}))}))}function ls(){return"undefined"!==typeof window?window:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us={LOCAL:"local",NONE:"none",SESSION:"session"},hs=S,ds="persistence";function fs(t,e){hs(Object.values(us).includes(e),t,"invalid-persistence-type"),(0,i.lV)()?hs(e!==us.SESSION,t,"unsupported-persistence-type"):(0,i.Ll)()?hs(e===us.NONE,t,"unsupported-persistence-type"):os()?hs(e===us.NONE||e===us.LOCAL&&(0,i.zW)(),t,"unsupported-persistence-type"):hs(e===us.NONE||is(),t,"unsupported-persistence-type")}async function ps(t){await t._initializationPromise;const e=gs(),n=pt(ds,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function ms(t,e){const n=gs();if(!n)return[];const r=pt(ds,t,e),i=n.getItem(r);switch(i){case us.NONE:return[ft];case us.LOCAL:return[Or,Xn];case us.SESSION:return[Xn];default:return[]}}function gs(){var t;try{return(null===(t=ls())||void 0===t?void 0:t.sessionStorage)||null}catch(e){return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=S;class ys{constructor(){this.browserResolver=ht(ao),this.cordovaResolver=ht(Ho),this.underlyingResolver=null,this._redirectPersistence=Xn,this._completeRedirectFn=Oi,this._overrideRedirectResult=di}async _initialize(t){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(t)}async _openPopup(t,e,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(t,e,n,r)}async _openRedirect(t,e,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(t,e,n,r)}_isIframeWebStorageSupported(t,e){this.assertedUnderlyingResolver._isIframeWebStorageSupported(t,e)}_originValidation(t){return this.assertedUnderlyingResolver._originValidation(t)}get _shouldInitProactively(){return as()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return vs(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const t=await cs();this.underlyingResolver=t?this.cordovaResolver:this.browserResolver}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t){return t.unwrap()}function ws(t){return t.wrapped()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(t){return Ts(t)}function Os(t,e){var n;const r=null===(n=e.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===e||void 0===e?void 0:e.code)){const n=e;n.resolver=new Is(t,Rn(t,e))}else if(r){const t=Ts(e),n=e;t&&(n.credential=t,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Ts(t){const{_tokenResponse:e}=t instanceof i.g?t.customData:t;if(!e)return null;if(!(t instanceof i.g)&&"temporaryProof"in e&&"phoneNumber"in e)return Kr.credentialFromResult(t);const n=e.providerId;if(!n||n===l.PASSWORD)return null;let r;switch(n){case l.GOOGLE:r=xe;break;case l.FACEBOOK:r=Pe;break;case l.GITHUB:r=De;break;case l.TWITTER:r=Le;break;default:const{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=e;return i||o||t||s?s?n.startsWith("saml.")?je._create(n,s):me._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:t,accessToken:i}):new ke(n).credential({idToken:t,accessToken:i,rawNonce:a}):null}return t instanceof i.g?r.credentialFromError(t):r.credentialFromResult(t)}function Ss(t,e){return e.catch((e=>{throw e instanceof i.g&&Os(t,e),e})).then((t=>{const e=t.operationType,n=t.user;return{operationType:e,credential:_s(t),additionalUserInfo:Dn(t),user:Es.getOrCreate(n)}}))}async function Cs(t,e){const n=await e;return{verificationId:n.verificationId,confirm:e=>Ss(t,n.confirm(e))}}class Is{constructor(t,e){this.resolver=e,this.auth=ws(t)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(t){return Ss(bs(this.auth),this.resolver.resolveSignIn(t))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(t){this._delegate=t,this.multiFactor=Un(t)}static getOrCreate(t){return Es.USER_MAP.has(t)||Es.USER_MAP.set(t,new Es(t)),Es.USER_MAP.get(t)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(t){return this._delegate.getIdTokenResult(t)}getIdToken(t){return this._delegate.getIdToken(t)}linkAndRetrieveDataWithCredential(t){return this.linkWithCredential(t)}async linkWithCredential(t){return Ss(this.auth,Qe(this._delegate,t))}async linkWithPhoneNumber(t,e){return Cs(this.auth,qr(this._delegate,t,e))}async linkWithPopup(t){return Ss(this.auth,ii(this._delegate,t,ys))}async linkWithRedirect(t){return await ps(Gt(this.auth)),bi(this._delegate,t,ys)}reauthenticateAndRetrieveDataWithCredential(t){return this.reauthenticateWithCredential(t)}async reauthenticateWithCredential(t){return Ss(this.auth,Xe(this._delegate,t))}reauthenticateWithPhoneNumber(t,e){return Cs(this.auth,Hr(this._delegate,t,e))}reauthenticateWithPopup(t){return Ss(this.auth,ri(this._delegate,t,ys))}async reauthenticateWithRedirect(t){return await ps(Gt(this.auth)),vi(this._delegate,t,ys)}sendEmailVerification(t){return vn(this._delegate,t)}async unlink(t){return await qe(this._delegate,t),this}updateEmail(t){return _n(this._delegate,t)}updatePassword(t){return On(this._delegate,t)}updatePhoneNumber(t){return Wr(this._delegate,t)}updateProfile(t){return wn(this._delegate,t)}verifyBeforeUpdateEmail(t,e){return yn(this._delegate,t,e)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Es.USER_MAP=new WeakMap;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ks=S;class Ps{constructor(t,e){if(this.app=t,e.isInitialized())return this._delegate=e.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=t.options;ks(n,"invalid-api-key",{appName:t.name}),ks(n,"invalid-api-key",{appName:t.name});const r="undefined"!==typeof window?ys:void 0;this._delegate=e.initialize({options:{persistence:Ds(n,t.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(f),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Es.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,e){Yt(this._delegate,t,e)}applyActionCode(t){return an(this._delegate,t)}checkActionCode(t){return cn(this._delegate,t)}confirmPasswordReset(t,e){return sn(this._delegate,t,e)}async createUserWithEmailAndPassword(t,e){return Ss(this._delegate,un(this._delegate,t,e))}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return gn(this._delegate,t)}isSignInWithEmailLink(t){return fn(this._delegate,t)}async getRedirectResult(){ks(ss(),this._delegate,"operation-not-supported-in-this-environment");const t=await _i(this._delegate,ys);return t?Ss(this._delegate,Promise.resolve(t)):{credential:null,user:null}}addFrameworkForLogging(t){Wo(this._delegate,t)}onAuthStateChanged(t,e,n){const{next:r,error:i,complete:o}=xs(t,e,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(t,e,n){const{next:r,error:i,complete:o}=xs(t,e,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(t,e){return dn(this._delegate,t,e)}sendPasswordResetEmail(t,e){return on(this._delegate,t,e||void 0)}async setPersistence(t){let e;switch(fs(this._delegate,t),t){case us.SESSION:e=Xn;break;case us.LOCAL:const t=await ht(Or)._isAvailable();e=t?Or:Yn;break;case us.NONE:e=ft;break;default:return b("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(e)}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return Ss(this._delegate,Be(this._delegate))}signInWithCredential(t){return Ss(this._delegate,Ye(this._delegate,t))}signInWithCustomToken(t){return Ss(this._delegate,Ze(this._delegate,t))}signInWithEmailAndPassword(t,e){return Ss(this._delegate,hn(this._delegate,t,e))}signInWithEmailLink(t,e){return Ss(this._delegate,pn(this._delegate,t,e))}signInWithPhoneNumber(t,e){return Cs(this._delegate,zr(this._delegate,t,e))}async signInWithPopup(t){return ks(ss(),this._delegate,"operation-not-supported-in-this-environment"),Ss(this._delegate,ni(this._delegate,t,ys))}async signInWithRedirect(t){return ks(ss(),this._delegate,"operation-not-supported-in-this-environment"),await ps(this._delegate),mi(this._delegate,t,ys)}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return ln(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function xs(t,e,n){let r=t;"function"!==typeof t&&({next:r,error:e,complete:n}=t);const i=r,o=t=>i(t&&Es.getOrCreate(t));return{next:o,error:e,complete:n}}function Ds(t,e){const n=ms(t,e);if("undefined"===typeof self||n.includes(Or)||n.push(Or),"undefined"!==typeof window)for(const r of[Yn,Xn])n.includes(r)||n.push(r);return n.includes(ft)||n.push(ft),n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps.Persistence=us;class As{constructor(){this.providerId="phone",this._delegate=new Kr(bs(r.A.auth()))}static credential(t,e){return Kr.credential(t,e)}verifyPhoneNumber(t,e){return this._delegate.verifyPhoneNumber(t,e)}unwrap(){return this._delegate}}As.PHONE_SIGN_IN_METHOD=Kr.PHONE_SIGN_IN_METHOD,As.PROVIDER_ID=Kr.PROVIDER_ID;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const js=S;class Rs{constructor(t,e,n=r.A.app()){var i;js(null===(i=n.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Br(t,e,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="auth-compat";function Ls(t){t.INTERNAL.registerComponent(new c.uA(Ns,(t=>{const e=t.getProvider("app-compat").getImmediate(),n=t.getProvider("auth");return new Ps(e,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:u.EMAIL_SIGNIN,PASSWORD_RESET:u.PASSWORD_RESET,RECOVER_EMAIL:u.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:u.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:u.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:u.VERIFY_EMAIL}},EmailAuthProvider:Ce,FacebookAuthProvider:Pe,GithubAuthProvider:De,GoogleAuthProvider:xe,OAuthProvider:ke,SAMLAuthProvider:Ne,PhoneAuthProvider:As,PhoneMultiFactorGenerator:uo,RecaptchaVerifier:Rs,TwitterAuthProvider:Le,Auth:Ps,AuthCredential:te,Error:i.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Ko,Yo)}Ls(r.A)},4384:(t,e,n)=>{n.d(e,{$:()=>r});var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4495:(t,e,n)=>{var r=n(9519),i=n(9039),o=n(4576),s=o.String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},4576:function(t,e,n){var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4659:(t,e,n)=>{var r=n(3724),i=n(4913),o=n(6980);t.exports=function(t,e,n){r?i.f(t,e,o(0,n)):t[e]=n}},4878:(t,e,n)=>{n.d(e,{_:()=>o});var r=n(1635),i=n(1093);function o(t,e,n,r,i){return new s(t,e,n,r,i)}var s=function(t){function e(e,n,r,i,o,s){var a=t.call(this,e)||this;return a.onFinalize=o,a.shouldUnsubscribe=s,a._next=n?function(t){try{n(t)}catch(r){e.error(r)}}:t.prototype._next,a._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,a._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,a}return(0,r.C6)(e,t),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},e}(i.vU)},4901:t=>{var e="object"==typeof document&&document.all;t.exports="undefined"==typeof e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},4913:(t,e,n)=>{var r=n(3724),i=n(5917),o=n(8686),s=n(8551),a=n(6969),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",f="writable";e.f=r?o?function(t,e,n){if(s(t),e=a(e),s(n),"function"===typeof t&&"prototype"===e&&"value"in n&&f in n&&!n[f]){var r=u(t,e);r&&r[f]&&(t[e]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:h in n?n[h]:r[h],writable:!1})}return l(t,e,n)}:l:function(t,e,n){if(s(t),e=a(e),s(n),i)try{return l(t,e,n)}catch(r){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},4979:(t,e,n)=>{var r=n(6518),i=n(4576),o=n(7751),s=n(6980),a=n(4913).f,c=n(9297),l=n(679),u=n(3167),h=n(2603),d=n(5002),f=n(6193),p=n(3724),m=n(6395),g="DOMException",v=o("Error"),y=o(g),b=function(){l(this,w);var t=arguments.length,e=h(t<1?void 0:arguments[0]),n=h(t<2?void 0:arguments[1],"Error"),r=new y(e,n),i=new v(e);return i.name=g,a(r,"stack",s(1,f(i.stack,1))),u(r,this,b),r},w=b.prototype=y.prototype,_="stack"in new v(g),O="stack"in new y(1,2),T=y&&p&&Object.getOwnPropertyDescriptor(i,g),S=!!T&&!(T.writable&&T.configurable),C=_&&!S&&!O;r({global:!0,constructor:!0,forced:m||C},{DOMException:C?b:y});var I=o(g),E=I.prototype;if(E.constructor!==I)for(var k in m||a(E,"constructor",s(1,I)),d)if(c(d,k)){var P=d[k],x=P.s;c(I,x)||a(I,x,s(6,P.c))}},5002:t=>{t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},5031:(t,e,n)=>{var r=n(7751),i=n(9504),o=n(8480),s=n(3717),a=n(8551),c=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=s.f;return n?c(e,n(t)):e}},5125:(t,e,n)=>{n.d(e,{Kq:()=>s,h1:()=>l,uA:()=>i});var r=n(6743);class i{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new r.cY;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(c(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:r});n.resolve(t)}catch(e){}}}}clearInstance(t=o){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=o){return this.instances.has(t)}getOptions(t=o){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,o]of this.instancesDeferred.entries()){const t=this.normalizeInstanceIdentifier(i);n===t&&o.resolve(r)}return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(r){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:a(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(r){}return n||null}normalizeInstanceIdentifier(t=o){return this.component?this.component.multipleInstances?t:o:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function a(t){return t===o?void 0:t}function c(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){const e=this.getProvider(t.name);e.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new s(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}},5353:(t,e,n)=>{
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function r(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:r});else{var n=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[r].concat(t.init):r,n.call(this,t)}}function r(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}n.d(e,{Ay:()=>Y,i0:()=>L});var i="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{},o=i.__VUE_DEVTOOLS_GLOBAL_HOOK__;function s(t){o&&(t._devtoolHook=o,o.emit("vuex:init",t),o.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){o.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){o.emit("vuex:action",t,e)}),{prepend:!0}))}function a(t,e){return t.filter(e)[0]}function c(t,e){if(void 0===e&&(e=[]),null===t||"object"!==typeof t)return t;var n=a(e,(function(e){return e.original===t}));if(n)return n.copy;var r=Array.isArray(t)?[]:{};return e.push({original:t,copy:r}),Object.keys(t).forEach((function(n){r[n]=c(t[n],e)})),r}function l(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function u(t){return null!==t&&"object"===typeof t}function h(t){return t&&"function"===typeof t.then}function d(t,e){return function(){return t(e)}}var f=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},p={namespaced:{configurable:!0}};p.namespaced.get=function(){return!!this._rawModule.namespaced},f.prototype.addChild=function(t,e){this._children[t]=e},f.prototype.removeChild=function(t){delete this._children[t]},f.prototype.getChild=function(t){return this._children[t]},f.prototype.hasChild=function(t){return t in this._children},f.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},f.prototype.forEachChild=function(t){l(this._children,t)},f.prototype.forEachGetter=function(t){this._rawModule.getters&&l(this._rawModule.getters,t)},f.prototype.forEachAction=function(t){this._rawModule.actions&&l(this._rawModule.actions,t)},f.prototype.forEachMutation=function(t){this._rawModule.mutations&&l(this._rawModule.mutations,t)},Object.defineProperties(f.prototype,p);var m=function(t){this.register([],t,!1)};function g(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return void 0;g(t.concat(r),e.getChild(r),n.modules[r])}}m.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},m.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")}),"")},m.prototype.update=function(t){g([],this.root,t)},m.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new f(e,n);if(0===t.length)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}e.modules&&l(e.modules,(function(e,i){r.register(t.concat(i),e,n)}))},m.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],r=e.getChild(n);r&&r.runtime&&e.removeChild(n)},m.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var v;var y=function(t){var e=this;void 0===t&&(t={}),!v&&"undefined"!==typeof window&&window.Vue&&A(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new m(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new v,this._makeLocalGettersCache=Object.create(null);var i=this,o=this,a=o.dispatch,c=o.commit;this.dispatch=function(t,e){return a.call(i,t,e)},this.commit=function(t,e,n){return c.call(i,t,e,n)},this.strict=r;var l=this._modules.root.state;T(this,l,[],this._modules.root),O(this,l),n.forEach((function(t){return t(e)}));var u=void 0!==t.devtools?t.devtools:v.config.devtools;u&&s(this)},b={state:{configurable:!0}};function w(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function _(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;T(t,n,[],t._modules.root,!0),O(t,n,e)}function O(t,e,n){var r=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={};l(i,(function(e,n){o[n]=d(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var s=v.config.silent;v.config.silent=!0,t._vm=new v({data:{$$state:e},computed:o}),v.config.silent=s,t.strict&&P(t),r&&(n&&t._withCommit((function(){r._data.$$state=null})),v.nextTick((function(){return r.$destroy()})))}function T(t,e,n,r,i){var o=!n.length,s=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=r),!o&&!i){var a=x(e,n.slice(0,-1)),c=n[n.length-1];t._withCommit((function(){v.set(a,c,r.state)}))}var l=r.context=S(t,s,n);r.forEachMutation((function(e,n){var r=s+n;I(t,r,e,l)})),r.forEachAction((function(e,n){var r=e.root?n:s+n,i=e.handler||e;E(t,r,i,l)})),r.forEachGetter((function(e,n){var r=s+n;k(t,r,e,l)})),r.forEachChild((function(r,o){T(t,e,n.concat(o),r,i)}))}function S(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var o=D(n,r,i),s=o.payload,a=o.options,c=o.type;return a&&a.root||(c=e+c),t.dispatch(c,s)},commit:r?t.commit:function(n,r,i){var o=D(n,r,i),s=o.payload,a=o.options,c=o.type;a&&a.root||(c=e+c),t.commit(c,s,a)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return C(t,e)}},state:{get:function(){return x(t.state,n)}}}),i}function C(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function I(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push((function(e){n.call(t,r.state,e)}))}function E(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push((function(e){var i=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return h(i)||(i=Promise.resolve(i)),t._devtoolHook?i.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):i}))}function k(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)})}function P(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function x(t,e){return e.reduce((function(t,e){return t[e]}),t)}function D(t,e,n){return u(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function A(t){v&&t===v||(v=t,r(v))}b.state.get=function(){return this._vm._data.$$state},b.state.set=function(t){0},y.prototype.commit=function(t,e,n){var r=this,i=D(t,e,n),o=i.type,s=i.payload,a=(i.options,{type:o,payload:s}),c=this._mutations[o];c&&(this._withCommit((function(){c.forEach((function(t){t(s)}))})),this._subscribers.slice().forEach((function(t){return t(a,r.state)})))},y.prototype.dispatch=function(t,e){var n=this,r=D(t,e),i=r.type,o=r.payload,s={type:i,payload:o},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(s,n.state)}))}catch(l){0}var c=a.length>1?Promise.all(a.map((function(t){return t(o)}))):a[0](o);return new Promise((function(t,e){c.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(s,n.state)}))}catch(l){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(s,n.state,t)}))}catch(l){0}e(t)}))}))}},y.prototype.subscribe=function(t,e){return w(t,this._subscribers,e)},y.prototype.subscribeAction=function(t,e){var n="function"===typeof t?{before:t}:t;return w(n,this._actionSubscribers,e)},y.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch((function(){return t(r.state,r.getters)}),e,n)},y.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},y.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),T(this,this.state,t,this._modules.get(t),n.preserveState),O(this,this.state)},y.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=x(e.state,t.slice(0,-1));v.delete(n,t[t.length-1])})),_(this)},y.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},y.prototype.hotUpdate=function(t){this._modules.update(t),_(this,!0)},y.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(y.prototype,b);var j=B((function(t,e){var n={};return M(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=V(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,e,n):e[i]},n[r].vuex=!0})),n})),R=B((function(t,e){var n={};return M(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.commit;if(t){var o=V(this.$store,"mapMutations",t);if(!o)return;r=o.context.commit}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),N=B((function(t,e){var n={};return M(e).forEach((function(e){var r=e.key,i=e.val;i=t+i,n[r]=function(){if(!t||V(this.$store,"mapGetters",t))return this.$store.getters[i]},n[r].vuex=!0})),n})),L=B((function(t,e){var n={};return M(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var o=V(this.$store,"mapActions",t);if(!o)return;r=o.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),F=function(t){return{mapState:j.bind(null,t),mapGetters:N.bind(null,t),mapMutations:R.bind(null,t),mapActions:L.bind(null,t)}};function M(t){return $(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function $(t){return Array.isArray(t)||u(t)}function B(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function V(t,e,n){var r=t._modulesNamespaceMap[n];return r}function U(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var n=t.filter;void 0===n&&(n=function(t,e,n){return!0});var r=t.transformer;void 0===r&&(r=function(t){return t});var i=t.mutationTransformer;void 0===i&&(i=function(t){return t});var o=t.actionFilter;void 0===o&&(o=function(t,e){return!0});var s=t.actionTransformer;void 0===s&&(s=function(t){return t});var a=t.logMutations;void 0===a&&(a=!0);var l=t.logActions;void 0===l&&(l=!0);var u=t.logger;return void 0===u&&(u=console),function(t){var h=c(t.state);"undefined"!==typeof u&&(a&&t.subscribe((function(t,o){var s=c(o);if(n(t,h,s)){var a=H(),l=i(t),d="mutation "+t.type+a;z(u,d,e),u.log("%c prev state","color: #9E9E9E; font-weight: bold",r(h)),u.log("%c mutation","color: #03A9F4; font-weight: bold",l),u.log("%c next state","color: #4CAF50; font-weight: bold",r(s)),q(u)}h=s})),l&&t.subscribeAction((function(t,n){if(o(t,n)){var r=H(),i=s(t),a="action "+t.type+r;z(u,a,e),u.log("%c action","color: #03A9F4; font-weight: bold",i),q(u)}})))}}function z(t,e,n){var r=n?t.groupCollapsed:t.group;try{r.call(t,e)}catch(i){t.log(e)}}function q(t){try{t.groupEnd()}catch(e){t.log(" log end ")}}function H(){var t=new Date;return" @ "+W(t.getHours(),2)+":"+W(t.getMinutes(),2)+":"+W(t.getSeconds(),2)+"."+W(t.getMilliseconds(),3)}function G(t,e){return new Array(e+1).join(t)}function W(t,e){return G("0",e-t.toString().length)+t}var K={Store:y,install:A,version:"3.6.2",mapState:j,mapMutations:R,mapGetters:N,mapActions:L,createNamespacedHelpers:F,createLogger:U};const Y=K},5397:(t,e,n)=>{var r=n(7055),i=n(7750);t.exports=function(t){return r(i(t))}},5471:(t,e,n)=>{n.r(e),n.d(e,{EffectScope:()=>Pe,computed:()=>ve,customRef:()=>ce,default:()=>io,defineAsyncComponent:()=>nr,defineComponent:()=>br,del:()=>Ut,effectScope:()=>xe,getCurrentInstance:()=>vt,getCurrentScope:()=>Ae,h:()=>$n,inject:()=>Le,isProxy:()=>Qt,isReactive:()=>Wt,isReadonly:()=>Yt,isRef:()=>te,isShallow:()=>Kt,markRaw:()=>Jt,mergeDefaults:()=>Cn,nextTick:()=>Zn,onActivated:()=>hr,onBeforeMount:()=>or,onBeforeUnmount:()=>lr,onBeforeUpdate:()=>ar,onDeactivated:()=>dr,onErrorCaptured:()=>vr,onMounted:()=>sr,onRenderTracked:()=>pr,onRenderTriggered:()=>mr,onScopeDispose:()=>je,onServerPrefetch:()=>fr,onUnmounted:()=>ur,onUpdated:()=>cr,provide:()=>Re,proxyRefs:()=>se,reactive:()=>qt,readonly:()=>fe,ref:()=>ee,set:()=>Vt,shallowReactive:()=>Ht,shallowReadonly:()=>ge,shallowRef:()=>ne,toRaw:()=>Xt,toRef:()=>ue,toRefs:()=>le,triggerRef:()=>ie,unref:()=>oe,useAttrs:()=>On,useCssModule:()=>tr,useCssVars:()=>er,useListeners:()=>Tn,useSlots:()=>_n,version:()=>yr,watch:()=>Ee,watchEffect:()=>Oe,watchPostEffect:()=>Te,watchSyncEffect:()=>Se});
/*!
 * Vue.js v2.7.16
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({}),i=Array.isArray;function o(t){return void 0===t||null===t}function s(t){return void 0!==t&&null!==t}function a(t){return!0===t}function c(t){return!1===t}function l(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function u(t){return"function"===typeof t}function h(t){return null!==t&&"object"===typeof t}var d=Object.prototype.toString;function f(t){return"[object Object]"===d.call(t)}function p(t){return"[object RegExp]"===d.call(t)}function m(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function g(t){return s(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function v(t){return null==t?"":Array.isArray(t)||f(t)&&t.toString===d?JSON.stringify(t,y,2):String(t)}function y(t,e){return e&&e.__v_isRef?e.value:e}function b(t){var e=parseFloat(t);return isNaN(e)?t:e}function w(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}w("slot,component",!0);var _=w("key,ref,slot,slot-scope,is");function O(t,e){var n=t.length;if(n){if(e===t[n-1])return void(t.length=n-1);var r=t.indexOf(e);if(r>-1)return t.splice(r,1)}}var T=Object.prototype.hasOwnProperty;function S(t,e){return T.call(t,e)}function C(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}var I=/-(\w)/g,E=C((function(t){return t.replace(I,(function(t,e){return e?e.toUpperCase():""}))})),k=C((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),P=/\B([A-Z])/g,x=C((function(t){return t.replace(P,"-$1").toLowerCase()}));function D(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function A(t,e){return t.bind(e)}var j=Function.prototype.bind?A:D;function R(t,e){e=e||0;var n=t.length-e,r=new Array(n);while(n--)r[n]=t[n+e];return r}function N(t,e){for(var n in e)t[n]=e[n];return t}function L(t){for(var e={},n=0;n<t.length;n++)t[n]&&N(e,t[n]);return e}function F(t,e,n){}var M=function(t,e,n){return!1},$=function(t){return t};function B(t,e){if(t===e)return!0;var n=h(t),r=h(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every((function(t,n){return B(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var s=Object.keys(t),a=Object.keys(e);return s.length===a.length&&s.every((function(n){return B(t[n],e[n])}))}catch(c){return!1}}function V(t,e){for(var n=0;n<t.length;n++)if(B(t[n],e))return n;return-1}function U(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function z(t,e){return t===e?0===t&&1/t!==1/e:t===t||e===e}var q="data-server-rendered",H=["component","directive","filter"],G=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],W={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:M,isReservedAttr:M,isUnknownElement:M,getTagNamespace:F,parsePlatformTagName:$,mustUseProp:M,async:!0,_lifecycleHooks:G},K=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function Y(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function Q(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var X=new RegExp("[^".concat(K.source,".$_\\d]"));function J(t){if(!X.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var Z="__proto__"in{},tt="undefined"!==typeof window,et=tt&&window.navigator.userAgent.toLowerCase(),nt=et&&/msie|trident/.test(et),rt=et&&et.indexOf("msie 9.0")>0,it=et&&et.indexOf("edge/")>0;et&&et.indexOf("android");var ot=et&&/iphone|ipad|ipod|ios/.test(et);et&&/chrome\/\d+/.test(et),et&&/phantomjs/.test(et);var st,at=et&&et.match(/firefox\/(\d+)/),ct={}.watch,lt=!1;if(tt)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){lt=!0}}),window.addEventListener("test-passive",null,ut)}catch(oc){}var ht=function(){return void 0===st&&(st=!tt&&"undefined"!==typeof n.g&&(n.g["process"]&&"server"===n.g["process"].env.VUE_ENV)),st},dt=tt&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ft(t){return"function"===typeof t&&/native code/.test(t.toString())}var pt,mt="undefined"!==typeof Symbol&&ft(Symbol)&&"undefined"!==typeof Reflect&&ft(Reflect.ownKeys);pt="undefined"!==typeof Set&&ft(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var gt=null;function vt(){return gt&&{proxy:gt}}function yt(t){void 0===t&&(t=null),t||gt&&gt._scope.off(),gt=t,t&&t._scope.on()}var bt=function(){function t(t,e,n,r,i,o,s,a){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(t.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),t}(),wt=function(t){void 0===t&&(t="");var e=new bt;return e.text=t,e.isComment=!0,e};function _t(t){return new bt(void 0,void 0,void 0,String(t))}function Ot(t){var e=new bt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}"function"===typeof SuppressedError&&SuppressedError;var Tt=0,St=[],Ct=function(){for(var t=0;t<St.length;t++){var e=St[t];e.subs=e.subs.filter((function(t){return t})),e._pending=!1}St.length=0},It=function(){function t(){this._pending=!1,this.id=Tt++,this.subs=[]}return t.prototype.addSub=function(t){this.subs.push(t)},t.prototype.removeSub=function(t){this.subs[this.subs.indexOf(t)]=null,this._pending||(this._pending=!0,St.push(this))},t.prototype.depend=function(e){t.target&&t.target.addDep(this)},t.prototype.notify=function(t){var e=this.subs.filter((function(t){return t}));for(var n=0,r=e.length;n<r;n++){var i=e[n];0,i.update()}},t}();It.target=null;var Et=[];function kt(t){Et.push(t),It.target=t}function Pt(){Et.pop(),It.target=Et[Et.length-1]}var xt=Array.prototype,Dt=Object.create(xt),At=["push","pop","shift","unshift","splice","sort","reverse"];At.forEach((function(t){var e=xt[t];Q(Dt,t,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i,o=e.apply(this,n),s=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&s.observeArray(i),s.dep.notify(),o}))}));var jt=Object.getOwnPropertyNames(Dt),Rt={},Nt=!0;function Lt(t){Nt=t}var Ft={notify:F,depend:F,addSub:F,removeSub:F},Mt=function(){function t(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),this.value=t,this.shallow=e,this.mock=n,this.dep=n?Ft:new It,this.vmCount=0,Q(t,"__ob__",this),i(t)){if(!n)if(Z)t.__proto__=Dt;else for(var r=0,o=jt.length;r<o;r++){var s=jt[r];Q(t,s,Dt[s])}e||this.observeArray(t)}else{var a=Object.keys(t);for(r=0;r<a.length;r++){s=a[r];Bt(t,s,Rt,void 0,e,n)}}}return t.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)$t(t[e],!1,this.mock)},t}();function $t(t,e,n){return t&&S(t,"__ob__")&&t.__ob__ instanceof Mt?t.__ob__:!Nt||!n&&ht()||!i(t)&&!f(t)||!Object.isExtensible(t)||t.__v_skip||te(t)||t instanceof bt?void 0:new Mt(t,e,n)}function Bt(t,e,n,r,o,s,a){void 0===a&&(a=!1);var c=new It,l=Object.getOwnPropertyDescriptor(t,e);if(!l||!1!==l.configurable){var u=l&&l.get,h=l&&l.set;u&&!h||n!==Rt&&2!==arguments.length||(n=t[e]);var d=o?n&&n.__ob__:$t(n,!1,s);return Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=u?u.call(t):n;return It.target&&(c.depend(),d&&(d.dep.depend(),i(e)&&zt(e))),te(e)&&!o?e.value:e},set:function(e){var r=u?u.call(t):n;if(z(r,e)){if(h)h.call(t,e);else{if(u)return;if(!o&&te(r)&&!te(e))return void(r.value=e);n=e}d=o?e&&e.__ob__:$t(e,!1,s),c.notify()}}}),c}}function Vt(t,e,n){if(!Yt(t)){var r=t.__ob__;return i(t)&&m(e)?(t.length=Math.max(t.length,e),t.splice(e,1,n),r&&!r.shallow&&r.mock&&$t(n,!1,!0),n):e in t&&!(e in Object.prototype)?(t[e]=n,n):t._isVue||r&&r.vmCount?n:r?(Bt(r.value,e,n,void 0,r.shallow,r.mock),r.dep.notify(),n):(t[e]=n,n)}}function Ut(t,e){if(i(t)&&m(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||Yt(t)||S(t,e)&&(delete t[e],n&&n.dep.notify())}}function zt(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),i(e)&&zt(e)}function qt(t){return Gt(t,!1),t}function Ht(t){return Gt(t,!0),Q(t,"__v_isShallow",!0),t}function Gt(t,e){if(!Yt(t)){$t(t,e,ht());0}}function Wt(t){return Yt(t)?Wt(t["__v_raw"]):!(!t||!t.__ob__)}function Kt(t){return!(!t||!t.__v_isShallow)}function Yt(t){return!(!t||!t.__v_isReadonly)}function Qt(t){return Wt(t)||Yt(t)}function Xt(t){var e=t&&t["__v_raw"];return e?Xt(e):t}function Jt(t){return Object.isExtensible(t)&&Q(t,"__v_skip",!0),t}var Zt="__v_isRef";function te(t){return!(!t||!0!==t.__v_isRef)}function ee(t){return re(t,!1)}function ne(t){return re(t,!0)}function re(t,e){if(te(t))return t;var n={};return Q(n,Zt,!0),Q(n,"__v_isShallow",e),Q(n,"dep",Bt(n,"value",t,null,e,ht())),n}function ie(t){t.dep&&t.dep.notify()}function oe(t){return te(t)?t.value:t}function se(t){if(Wt(t))return t;for(var e={},n=Object.keys(t),r=0;r<n.length;r++)ae(e,t,n[r]);return e}function ae(t,e,n){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];if(te(t))return t.value;var r=t&&t.__ob__;return r&&r.dep.depend(),t},set:function(t){var r=e[n];te(r)&&!te(t)?r.value=t:e[n]=t}})}function ce(t){var e=new It,n=t((function(){e.depend()}),(function(){e.notify()})),r=n.get,i=n.set,o={get value(){return r()},set value(t){i(t)}};return Q(o,Zt,!0),o}function le(t){var e=i(t)?new Array(t.length):{};for(var n in t)e[n]=ue(t,n);return e}function ue(t,e,n){var r=t[e];if(te(r))return r;var i={get value(){var r=t[e];return void 0===r?n:r},set value(n){t[e]=n}};return Q(i,Zt,!0),i}var he="__v_rawToReadonly",de="__v_rawToShallowReadonly";function fe(t){return pe(t,!1)}function pe(t,e){if(!f(t))return t;if(Yt(t))return t;var n=e?de:he,r=t[n];if(r)return r;var i=Object.create(Object.getPrototypeOf(t));Q(t,n,i),Q(i,"__v_isReadonly",!0),Q(i,"__v_raw",t),te(t)&&Q(i,Zt,!0),(e||Kt(t))&&Q(i,"__v_isShallow",!0);for(var o=Object.keys(t),s=0;s<o.length;s++)me(i,t,o[s],e);return i}function me(t,e,n,r){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];return r||!f(t)?t:fe(t)},set:function(){}})}function ge(t){return pe(t,!0)}function ve(t,e){var n,r,i=u(t);i?(n=t,r=F):(n=t.get,r=t.set);var o=ht()?null:new Cr(gt,n,F,{lazy:!0});var s={effect:o,get value(){return o?(o.dirty&&o.evaluate(),It.target&&o.depend(),o.value):n()},set value(t){r(t)}};return Q(s,Zt,!0),Q(s,"__v_isReadonly",i),s}var ye="watcher",be="".concat(ye," callback"),we="".concat(ye," getter"),_e="".concat(ye," cleanup");function Oe(t,e){return ke(t,null,e)}function Te(t,e){return ke(t,null,{flush:"post"})}function Se(t,e){return ke(t,null,{flush:"sync"})}var Ce,Ie={};function Ee(t,e,n){return ke(t,e,n)}function ke(t,e,n){var o=void 0===n?r:n,s=o.immediate,a=o.deep,c=o.flush,l=void 0===c?"pre":c;o.onTrack,o.onTrigger;var h,d,f=gt,p=function(t,e,n){void 0===n&&(n=null);var r=Vn(t,null,n,f,e);return a&&r&&r.__ob__&&r.__ob__.dep.depend(),r},m=!1,g=!1;if(te(t)?(h=function(){return t.value},m=Kt(t)):Wt(t)?(h=function(){return t.__ob__.dep.depend(),t},a=!0):i(t)?(g=!0,m=t.some((function(t){return Wt(t)||Kt(t)})),h=function(){return t.map((function(t){return te(t)?t.value:Wt(t)?(t.__ob__.dep.depend(),_r(t)):u(t)?p(t,we):void 0}))}):h=u(t)?e?function(){return p(t,we)}:function(){if(!f||!f._isDestroyed)return d&&d(),p(t,ye,[y])}:F,e&&a){var v=h;h=function(){return _r(v())}}var y=function(t){d=b.onStop=function(){p(t,_e)}};if(ht())return y=F,e?s&&p(e,be,[h(),g?[]:void 0,y]):h(),F;var b=new Cr(gt,h,F,{lazy:!0});b.noRecurse=!e;var w=g?[]:Ie;return b.run=function(){if(b.active)if(e){var t=b.get();(a||m||(g?t.some((function(t,e){return z(t,w[e])})):z(t,w)))&&(d&&d(),p(e,be,[t,w===Ie?void 0:w,y]),w=t)}else b.get()},"sync"===l?b.update=b.run:"post"===l?(b.post=!0,b.update=function(){return ri(b)}):b.update=function(){if(f&&f===gt&&!f._isMounted){var t=f._preWatchers||(f._preWatchers=[]);t.indexOf(b)<0&&t.push(b)}else ri(b)},e?s?b.run():w=b.get():"post"===l&&f?f.$once("hook:mounted",(function(){return b.get()})):b.get(),function(){b.teardown()}}var Pe=function(){function t(t){void 0===t&&(t=!1),this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Ce,!t&&Ce&&(this.index=(Ce.scopes||(Ce.scopes=[])).push(this)-1)}return t.prototype.run=function(t){if(this.active){var e=Ce;try{return Ce=this,t()}finally{Ce=e}}else 0},t.prototype.on=function(){Ce=this},t.prototype.off=function(){Ce=this.parent},t.prototype.stop=function(t){if(this.active){var e=void 0,n=void 0;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].teardown();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},t}();function xe(t){return new Pe(t)}function De(t,e){void 0===e&&(e=Ce),e&&e.active&&e.effects.push(t)}function Ae(){return Ce}function je(t){Ce&&Ce.cleanups.push(t)}function Re(t,e){gt&&(Ne(gt)[t]=e)}function Ne(t){var e=t._provided,n=t.$parent&&t.$parent._provided;return n===e?t._provided=Object.create(n):e}function Le(t,e,n){void 0===n&&(n=!1);var r=gt;if(r){var i=r.$parent&&r.$parent._provided;if(i&&t in i)return i[t];if(arguments.length>1)return n&&u(e)?e.call(r):e}else 0}var Fe=C((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}}));function Me(t,e){function n(){var t=n.fns;if(!i(t))return Vn(t,null,arguments,e,"v-on handler");for(var r=t.slice(),o=0;o<r.length;o++)Vn(r[o],null,arguments,e,"v-on handler")}return n.fns=t,n}function $e(t,e,n,r,i,s){var c,l,u,h;for(c in t)l=t[c],u=e[c],h=Fe(c),o(l)||(o(u)?(o(l.fns)&&(l=t[c]=Me(l,s)),a(h.once)&&(l=t[c]=i(h.name,l,h.capture)),n(h.name,l,h.capture,h.passive,h.params)):l!==u&&(u.fns=l,t[c]=u));for(c in e)o(t[c])&&(h=Fe(c),r(h.name,e[c],h.capture))}function Be(t,e,n){var r;t instanceof bt&&(t=t.data.hook||(t.data.hook={}));var i=t[e];function c(){n.apply(this,arguments),O(r.fns,c)}o(i)?r=Me([c]):s(i.fns)&&a(i.merged)?(r=i,r.fns.push(c)):r=Me([i,c]),r.merged=!0,t[e]=r}function Ve(t,e,n){var r=e.options.props;if(!o(r)){var i={},a=t.attrs,c=t.props;if(s(a)||s(c))for(var l in r){var u=x(l);Ue(i,c,l,u,!0)||Ue(i,a,l,u,!1)}return i}}function Ue(t,e,n,r,i){if(s(e)){if(S(e,n))return t[n]=e[n],i||delete e[n],!0;if(S(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function ze(t){for(var e=0;e<t.length;e++)if(i(t[e]))return Array.prototype.concat.apply([],t);return t}function qe(t){return l(t)?[_t(t)]:i(t)?Ge(t):void 0}function He(t){return s(t)&&s(t.text)&&c(t.isComment)}function Ge(t,e){var n,r,c,u,h=[];for(n=0;n<t.length;n++)r=t[n],o(r)||"boolean"===typeof r||(c=h.length-1,u=h[c],i(r)?r.length>0&&(r=Ge(r,"".concat(e||"","_").concat(n)),He(r[0])&&He(u)&&(h[c]=_t(u.text+r[0].text),r.shift()),h.push.apply(h,r)):l(r)?He(u)?h[c]=_t(u.text+r):""!==r&&h.push(_t(r)):He(r)&&He(u)?h[c]=_t(u.text+r.text):(a(t._isVList)&&s(r.tag)&&o(r.key)&&s(e)&&(r.key="__vlist".concat(e,"_").concat(n,"__")),h.push(r)));return h}function We(t,e){var n,r,o,a,c=null;if(i(t)||"string"===typeof t)for(c=new Array(t.length),n=0,r=t.length;n<r;n++)c[n]=e(t[n],n);else if("number"===typeof t)for(c=new Array(t),n=0;n<t;n++)c[n]=e(n+1,n);else if(h(t))if(mt&&t[Symbol.iterator]){c=[];var l=t[Symbol.iterator](),u=l.next();while(!u.done)c.push(e(u.value,c.length)),u=l.next()}else for(o=Object.keys(t),c=new Array(o.length),n=0,r=o.length;n<r;n++)a=o[n],c[n]=e(t[a],a,n);return s(c)||(c=[]),c._isVList=!0,c}function Ke(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=N(N({},r),n)),i=o(n)||(u(e)?e():e)):i=this.$slots[t]||(u(e)?e():e);var s=n&&n.slot;return s?this.$createElement("template",{slot:s},i):i}function Ye(t){return Di(this.$options,"filters",t,!0)||$}function Qe(t,e){return i(t)?-1===t.indexOf(e):t!==e}function Xe(t,e,n,r,i){var o=W.keyCodes[e]||n;return i&&r&&!W.keyCodes[e]?Qe(i,r):o?Qe(o,t):r?x(r)!==e:void 0===t}function Je(t,e,n,r,o){if(n)if(h(n)){i(n)&&(n=L(n));var s=void 0,a=function(i){if("class"===i||"style"===i||_(i))s=t;else{var a=t.attrs&&t.attrs.type;s=r||W.mustUseProp(e,a,i)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=E(i),l=x(i);if(!(c in s)&&!(l in s)&&(s[i]=n[i],o)){var u=t.on||(t.on={});u["update:".concat(i)]=function(t){n[i]=t}}};for(var c in n)a(c)}else;return t}function Ze(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,this._c,this),en(r,"__static__".concat(t),!1)),r}function tn(t,e,n){return en(t,"__once__".concat(e).concat(n?"_".concat(n):""),!0),t}function en(t,e,n){if(i(t))for(var r=0;r<t.length;r++)t[r]&&"string"!==typeof t[r]&&nn(t[r],"".concat(e,"_").concat(r),n);else nn(t,e,n)}function nn(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function rn(t,e){if(e)if(f(e)){var n=t.on=t.on?N({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function on(t,e,n,r){e=e||{$stable:!n};for(var o=0;o<t.length;o++){var s=t[o];i(s)?on(s,e,n):s&&(s.proxy&&(s.fn.proxy=!0),e[s.key]=s.fn)}return r&&(e.$key=r),e}function sn(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"===typeof r&&r&&(t[e[n]]=e[n+1])}return t}function an(t,e){return"string"===typeof t?e+t:t}function cn(t){t._o=tn,t._n=b,t._s=v,t._l=We,t._t=Ke,t._q=B,t._i=V,t._m=Ze,t._f=Ye,t._k=Xe,t._b=Je,t._v=_t,t._e=wt,t._u=on,t._g=rn,t._d=sn,t._p=an}function ln(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==e&&o.fnContext!==e||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=s.slot,c=n[a]||(n[a]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var l in n)n[l].every(un)&&delete n[l];return n}function un(t){return t.isComment&&!t.asyncFactory||" "===t.text}function hn(t){return t.isComment&&t.asyncFactory}function dn(t,e,n,i){var o,s=Object.keys(n).length>0,a=e?!!e.$stable:!s,c=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(a&&i&&i!==r&&c===i.$key&&!s&&!i.$hasNormal)return i;for(var l in o={},e)e[l]&&"$"!==l[0]&&(o[l]=fn(t,n,l,e[l]))}else o={};for(var u in n)u in o||(o[u]=pn(n,u));return e&&Object.isExtensible(e)&&(e._normalized=o),Q(o,"$stable",a),Q(o,"$key",c),Q(o,"$hasNormal",s),o}function fn(t,e,n,r){var o=function(){var e=gt;yt(t);var n=arguments.length?r.apply(null,arguments):r({});n=n&&"object"===typeof n&&!i(n)?[n]:qe(n);var o=n&&n[0];return yt(e),n&&(!o||1===n.length&&o.isComment&&!hn(o))?void 0:n};return r.proxy&&Object.defineProperty(e,n,{get:o,enumerable:!0,configurable:!0}),o}function pn(t,e){return function(){return t[e]}}function mn(t){var e=t.$options,n=e.setup;if(n){var r=t._setupContext=gn(t);yt(t),kt();var i=Vn(n,null,[t._props||Ht({}),r],t,"setup");if(Pt(),yt(),u(i))e.render=i;else if(h(i))if(t._setupState=i,i.__sfc){var o=t._setupProxy={};for(var s in i)"__sfc"!==s&&ae(o,i,s)}else for(var s in i)Y(s)||ae(t,i,s);else 0}}function gn(t){return{get attrs(){if(!t._attrsProxy){var e=t._attrsProxy={};Q(e,"_v_attr_proxy",!0),vn(e,t.$attrs,r,t,"$attrs")}return t._attrsProxy},get listeners(){if(!t._listenersProxy){var e=t._listenersProxy={};vn(e,t.$listeners,r,t,"$listeners")}return t._listenersProxy},get slots(){return bn(t)},emit:j(t.$emit,t),expose:function(e){e&&Object.keys(e).forEach((function(n){return ae(t,e,n)}))}}}function vn(t,e,n,r,i){var o=!1;for(var s in e)s in t?e[s]!==n[s]&&(o=!0):(o=!0,yn(t,s,r,i));for(var s in t)s in e||(o=!0,delete t[s]);return o}function yn(t,e,n,r){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return n[r][e]}})}function bn(t){return t._slotsProxy||wn(t._slotsProxy={},t.$scopedSlots),t._slotsProxy}function wn(t,e){for(var n in e)t[n]=e[n];for(var n in t)n in e||delete t[n]}function _n(){return Sn().slots}function On(){return Sn().attrs}function Tn(){return Sn().listeners}function Sn(){var t=gt;return t._setupContext||(t._setupContext=gn(t))}function Cn(t,e){var n=i(t)?t.reduce((function(t,e){return t[e]={},t}),{}):t;for(var r in e){var o=n[r];o?i(o)||u(o)?n[r]={type:o,default:e[r]}:o.default=e[r]:null===o&&(n[r]={default:e[r]})}return n}function In(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,i=n&&n.context;t.$slots=ln(e._renderChildren,i),t.$scopedSlots=n?dn(t.$parent,n.data.scopedSlots,t.$slots):r,t._c=function(e,n,r,i){return Nn(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return Nn(t,e,n,r,i,!0)};var o=n&&n.data;Bt(t,"$attrs",o&&o.attrs||r,null,!0),Bt(t,"$listeners",e._parentListeners||r,null,!0)}var En=null;function kn(t){cn(t.prototype),t.prototype.$nextTick=function(t){return Zn(t,this)},t.prototype._render=function(){var t=this,e=t.$options,n=e.render,r=e._parentVnode;r&&t._isMounted&&(t.$scopedSlots=dn(t.$parent,r.data.scopedSlots,t.$slots,t.$scopedSlots),t._slotsProxy&&wn(t._slotsProxy,t.$scopedSlots)),t.$vnode=r;var o,s=gt,a=En;try{yt(t),En=t,o=n.call(t._renderProxy,t.$createElement)}catch(oc){Bn(oc,t,"render"),o=t._vnode}finally{En=a,yt(s)}return i(o)&&1===o.length&&(o=o[0]),o instanceof bt||(o=wt()),o.parent=r,o}}function Pn(t,e){return(t.__esModule||mt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),h(t)?e.extend(t):t}function xn(t,e,n,r,i){var o=wt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}function Dn(t,e){if(a(t.error)&&s(t.errorComp))return t.errorComp;if(s(t.resolved))return t.resolved;var n=En;if(n&&s(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),a(t.loading)&&s(t.loadingComp))return t.loadingComp;if(n&&!s(t.owners)){var r=t.owners=[n],i=!0,c=null,l=null;n.$on("hook:destroyed",(function(){return O(r,n)}));var u=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==c&&(clearTimeout(c),c=null),null!==l&&(clearTimeout(l),l=null))},d=U((function(n){t.resolved=Pn(n,e),i?r.length=0:u(!0)})),f=U((function(e){s(t.errorComp)&&(t.error=!0,u(!0))})),p=t(d,f);return h(p)&&(g(p)?o(t.resolved)&&p.then(d,f):g(p.component)&&(p.component.then(d,f),s(p.error)&&(t.errorComp=Pn(p.error,e)),s(p.loading)&&(t.loadingComp=Pn(p.loading,e),0===p.delay?t.loading=!0:c=setTimeout((function(){c=null,o(t.resolved)&&o(t.error)&&(t.loading=!0,u(!1))}),p.delay||200)),s(p.timeout)&&(l=setTimeout((function(){l=null,o(t.resolved)&&f(null)}),p.timeout)))),i=!1,t.loading?t.loadingComp:t.resolved}}function An(t){if(i(t))for(var e=0;e<t.length;e++){var n=t[e];if(s(n)&&(s(n.componentOptions)||hn(n)))return n}}var jn=1,Rn=2;function Nn(t,e,n,r,o,s){return(i(n)||l(n))&&(o=r,r=n,n=void 0),a(s)&&(o=Rn),Ln(t,e,n,r,o)}function Ln(t,e,n,r,o){if(s(n)&&s(n.__ob__))return wt();if(s(n)&&s(n.is)&&(e=n.is),!e)return wt();var a,c;if(i(r)&&u(r[0])&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===Rn?r=qe(r):o===jn&&(r=ze(r)),"string"===typeof e){var l=void 0;c=t.$vnode&&t.$vnode.ns||W.getTagNamespace(e),a=W.isReservedTag(e)?new bt(W.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!s(l=Di(t.$options,"components",e))?new bt(e,n,r,void 0,void 0,t):pi(l,n,t,r,e)}else a=pi(e,n,t,r);return i(a)?a:s(a)?(s(c)&&Fn(a,c),s(n)&&Mn(n),a):wt()}function Fn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),s(t.children))for(var r=0,i=t.children.length;r<i;r++){var c=t.children[r];s(c.tag)&&(o(c.ns)||a(n)&&"svg"!==c.tag)&&Fn(c,e,n)}}function Mn(t){h(t.style)&&_r(t.style),h(t.class)&&_r(t.class)}function $n(t,e,n){return Nn(gt,t,e,n,2,!0)}function Bn(t,e,n){kt();try{if(e){var r=e;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var s=!1===i[o].call(r,t,e,n);if(s)return}catch(oc){Un(oc,r,"errorCaptured hook")}}}Un(t,e,n)}finally{Pt()}}function Vn(t,e,n,r,i){var o;try{o=n?t.apply(e,n):t.call(e),o&&!o._isVue&&g(o)&&!o._handled&&(o.catch((function(t){return Bn(t,r,i+" (Promise/async)")})),o._handled=!0)}catch(oc){Bn(oc,r,i)}return o}function Un(t,e,n){if(W.errorHandler)try{return W.errorHandler.call(null,t,e,n)}catch(oc){oc!==t&&zn(oc,null,"config.errorHandler")}zn(t,e,n)}function zn(t,e,n){if(!tt||"undefined"===typeof console)throw t;console.error(t)}var qn,Hn=!1,Gn=[],Wn=!1;function Kn(){Wn=!1;var t=Gn.slice(0);Gn.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ft(Promise)){var Yn=Promise.resolve();qn=function(){Yn.then(Kn),ot&&setTimeout(F)},Hn=!0}else if(nt||"undefined"===typeof MutationObserver||!ft(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())qn="undefined"!==typeof setImmediate&&ft(setImmediate)?function(){setImmediate(Kn)}:function(){setTimeout(Kn,0)};else{var Qn=1,Xn=new MutationObserver(Kn),Jn=document.createTextNode(String(Qn));Xn.observe(Jn,{characterData:!0}),qn=function(){Qn=(Qn+1)%2,Jn.data=String(Qn)},Hn=!0}function Zn(t,e){var n;if(Gn.push((function(){if(t)try{t.call(e)}catch(oc){Bn(oc,e,"nextTick")}else n&&n(e)})),Wn||(Wn=!0,qn()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){n=t}))}function tr(t){if(void 0===t&&(t="$style"),!gt)return r;var e=gt[t];return e||r}function er(t){if(tt){var e=gt;e&&Te((function(){var n=e.$el,r=t(e,e._setupProxy);if(n&&1===n.nodeType){var i=n.style;for(var o in r)i.setProperty("--".concat(o),r[o])}}))}}function nr(t){u(t)&&(t={loader:t});var e=t.loader,n=t.loadingComponent,r=t.errorComponent,i=t.delay,o=void 0===i?200:i,s=t.timeout,a=(t.suspensible,t.onError);var c=null,l=0,h=function(){return l++,c=null,d()},d=function(){var t;return c||(t=c=e().catch((function(t){if(t=t instanceof Error?t:new Error(String(t)),a)return new Promise((function(e,n){var r=function(){return e(h())},i=function(){return n(t)};a(t,r,i,l+1)}));throw t})).then((function(e){return t!==c&&c?c:(e&&(e.__esModule||"Module"===e[Symbol.toStringTag])&&(e=e.default),e)})))};return function(){var t=d();return{component:t,delay:o,timeout:s,error:r,loading:n}}}function rr(t){return function(e,n){if(void 0===n&&(n=gt),n)return ir(n,t,e)}}function ir(t,e,n){var r=t.$options;r[e]=Ti(r[e],n)}var or=rr("beforeMount"),sr=rr("mounted"),ar=rr("beforeUpdate"),cr=rr("updated"),lr=rr("beforeDestroy"),ur=rr("destroyed"),hr=rr("activated"),dr=rr("deactivated"),fr=rr("serverPrefetch"),pr=rr("renderTracked"),mr=rr("renderTriggered"),gr=rr("errorCaptured");function vr(t,e){void 0===e&&(e=gt),gr(t,e)}var yr="2.7.16";function br(t){return t}var wr=new pt;function _r(t){return Or(t,wr),wr.clear(),t}function Or(t,e){var n,r,o=i(t);if(!(!o&&!h(t)||t.__v_skip||Object.isFrozen(t)||t instanceof bt)){if(t.__ob__){var s=t.__ob__.dep.id;if(e.has(s))return;e.add(s)}if(o){n=t.length;while(n--)Or(t[n],e)}else if(te(t))Or(t.value,e);else{r=Object.keys(t),n=r.length;while(n--)Or(t[r[n]],e)}}}var Tr,Sr=0,Cr=function(){function t(t,e,n,r,i){De(this,Ce&&!Ce._vm?Ce:t?t._scope:void 0),(this.vm=t)&&i&&(t._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Sr,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new pt,this.newDepIds=new pt,this.expression="",u(e)?this.getter=e:(this.getter=J(e),this.getter||(this.getter=F)),this.value=this.lazy?void 0:this.get()}return t.prototype.get=function(){var t;kt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(oc){if(!this.user)throw oc;Bn(oc,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&_r(t),Pt(),this.cleanupDeps()}return t},t.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},t.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},t.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():ri(this)},t.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||h(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'.concat(this.expression,'"');Vn(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},t.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},t.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},t.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&O(this.vm._scope.effects,this),this.active){var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},t}();function Ir(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&xr(t,e)}function Er(t,e){Tr.$on(t,e)}function kr(t,e){Tr.$off(t,e)}function Pr(t,e){var n=Tr;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function xr(t,e,n){Tr=t,$e(e,n||{},Er,kr,Pr,t),Tr=void 0}function Dr(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(i(t))for(var o=0,s=t.length;o<s;o++)r.$on(t[o],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(i(t)){for(var r=0,o=t.length;r<o;r++)n.$off(t[r],e);return n}var s,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;var c=a.length;while(c--)if(s=a[c],s===e||s.fn===e){a.splice(c,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?R(n):n;for(var r=R(arguments,1),i='event handler for "'.concat(t,'"'),o=0,s=n.length;o<s;o++)Vn(n[o],e,r,e,i)}return e}}var Ar=null;function jr(t){var e=Ar;return Ar=t,function(){Ar=e}}function Rr(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._provided=n?n._provided:Object.create(null),t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Nr(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=jr(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n);var s=n;while(s&&s.$vnode&&s.$parent&&s.$vnode===s.$parent._vnode)s.$parent.$el=s.$el,s=s.$parent},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Vr(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||O(e.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Vr(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Lr(t,e,n){var r;t.$el=e,t.$options.render||(t.$options.render=wt),Vr(t,"beforeMount"),r=function(){t._update(t._render(),n)};var i={before:function(){t._isMounted&&!t._isDestroyed&&Vr(t,"beforeUpdate")}};new Cr(t,r,F,i,!0),n=!1;var o=t._preWatchers;if(o)for(var s=0;s<o.length;s++)o[s].run();return null==t.$vnode&&(t._isMounted=!0,Vr(t,"mounted")),t}function Fr(t,e,n,i,o){var s=i.data.scopedSlots,a=t.$scopedSlots,c=!!(s&&!s.$stable||a!==r&&!a.$stable||s&&t.$scopedSlots.$key!==s.$key||!s&&t.$scopedSlots.$key),l=!!(o||t.$options._renderChildren||c),u=t.$vnode;t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=o;var h=i.data.attrs||r;t._attrsProxy&&vn(t._attrsProxy,h,u.data&&u.data.attrs||r,t,"$attrs")&&(l=!0),t.$attrs=h,n=n||r;var d=t.$options._parentListeners;if(t._listenersProxy&&vn(t._listenersProxy,n,d||r,t,"$listeners"),t.$listeners=t.$options._parentListeners=n,xr(t,n,d),e&&t.$options.props){Lt(!1);for(var f=t._props,p=t.$options._propKeys||[],m=0;m<p.length;m++){var g=p[m],v=t.$options.props;f[g]=Ai(g,v,e,t)}Lt(!0),t.$options.propsData=e}l&&(t.$slots=ln(o,i.context),t.$forceUpdate())}function Mr(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function $r(t,e){if(e){if(t._directInactive=!1,Mr(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)$r(t.$children[n]);Vr(t,"activated")}}function Br(t,e){if((!e||(t._directInactive=!0,!Mr(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Br(t.$children[n]);Vr(t,"deactivated")}}function Vr(t,e,n,r){void 0===r&&(r=!0),kt();var i=gt,o=Ae();r&&yt(t);var s=t.$options[e],a="".concat(e," hook");if(s)for(var c=0,l=s.length;c<l;c++)Vn(s[c],t,n||null,t,a);t._hasHookEvent&&t.$emit("hook:"+e),r&&(yt(i),o&&o.on()),Pt()}var Ur=[],zr=[],qr={},Hr=!1,Gr=!1,Wr=0;function Kr(){Wr=Ur.length=zr.length=0,qr={},Hr=Gr=!1}var Yr=0,Qr=Date.now;if(tt&&!nt){var Xr=window.performance;Xr&&"function"===typeof Xr.now&&Qr()>document.createEvent("Event").timeStamp&&(Qr=function(){return Xr.now()})}var Jr=function(t,e){if(t.post){if(!e.post)return 1}else if(e.post)return-1;return t.id-e.id};function Zr(){var t,e;for(Yr=Qr(),Gr=!0,Ur.sort(Jr),Wr=0;Wr<Ur.length;Wr++)t=Ur[Wr],t.before&&t.before(),e=t.id,qr[e]=null,t.run();var n=zr.slice(),r=Ur.slice();Kr(),ni(n),ti(r),Ct(),dt&&W.devtools&&dt.emit("flush")}function ti(t){var e=t.length;while(e--){var n=t[e],r=n.vm;r&&r._watcher===n&&r._isMounted&&!r._isDestroyed&&Vr(r,"updated")}}function ei(t){t._inactive=!1,zr.push(t)}function ni(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,$r(t[e],!0)}function ri(t){var e=t.id;if(null==qr[e]&&(t!==It.target||!t.noRecurse)){if(qr[e]=!0,Gr){var n=Ur.length-1;while(n>Wr&&Ur[n].id>t.id)n--;Ur.splice(n+1,0,t)}else Ur.push(t);Hr||(Hr=!0,Zn(Zr))}}function ii(t){var e=t.$options.provide;if(e){var n=u(e)?e.call(t):e;if(!h(n))return;for(var r=Ne(t),i=mt?Reflect.ownKeys(n):Object.keys(n),o=0;o<i.length;o++){var s=i[o];Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))}}}function oi(t){var e=si(t.$options.inject,t);e&&(Lt(!1),Object.keys(e).forEach((function(n){Bt(t,n,e[n])})),Lt(!0))}function si(t,e){if(t){for(var n=Object.create(null),r=mt?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var s=t[o].from;if(s in e._provided)n[o]=e._provided[s];else if("default"in t[o]){var a=t[o].default;n[o]=u(a)?a.call(e):a}else 0}}return n}}function ai(t,e,n,o,s){var c,l=this,u=s.options;S(o,"_uid")?(c=Object.create(o),c._original=o):(c=o,o=o._original);var h=a(u._compiled),d=!h;this.data=t,this.props=e,this.children=n,this.parent=o,this.listeners=t.on||r,this.injections=si(u.inject,o),this.slots=function(){return l.$slots||dn(o,t.scopedSlots,l.$slots=ln(n,o)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return dn(o,t.scopedSlots,this.slots())}}),h&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=dn(o,t.scopedSlots,this.$slots)),u._scopeId?this._c=function(t,e,n,r){var s=Nn(c,t,e,n,r,d);return s&&!i(s)&&(s.fnScopeId=u._scopeId,s.fnContext=o),s}:this._c=function(t,e,n,r){return Nn(c,t,e,n,r,d)}}function ci(t,e,n,o,a){var c=t.options,l={},u=c.props;if(s(u))for(var h in u)l[h]=Ai(h,u,e||r);else s(n.attrs)&&ui(l,n.attrs),s(n.props)&&ui(l,n.props);var d=new ai(n,l,a,o,t),f=c.render.call(null,d._c,d);if(f instanceof bt)return li(f,n,d.parent,c,d);if(i(f)){for(var p=qe(f)||[],m=new Array(p.length),g=0;g<p.length;g++)m[g]=li(p[g],n,d.parent,c,d);return m}}function li(t,e,n,r,i){var o=Ot(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function ui(t,e){for(var n in e)t[E(n)]=e[n]}function hi(t){return t.name||t.__name||t._componentTag}cn(ai.prototype);var di={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;di.prepatch(n,n)}else{var r=t.componentInstance=mi(t,Ar);r.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,r=e.componentInstance=t.componentInstance;Fr(r,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Vr(n,"mounted")),t.data.keepAlive&&(e._isMounted?ei(n):$r(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Br(e,!0):e.$destroy())}},fi=Object.keys(di);function pi(t,e,n,r,i){if(!o(t)){var c=n.$options._base;if(h(t)&&(t=c.extend(t)),"function"===typeof t){var l;if(o(t.cid)&&(l=t,t=Dn(l,c),void 0===t))return xn(l,e,n,r,i);e=e||{},no(t),s(e.model)&&yi(t.options,e);var u=Ve(e,t,i);if(a(t.options.functional))return ci(t,u,e,n,r);var d=e.on;if(e.on=e.nativeOn,a(t.options.abstract)){var f=e.slot;e={},f&&(e.slot=f)}gi(e);var p=hi(t.options)||i,m=new bt("vue-component-".concat(t.cid).concat(p?"-".concat(p):""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:u,listeners:d,tag:i,children:r},l);return m}}}function mi(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return s(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function gi(t){for(var e=t.hook||(t.hook={}),n=0;n<fi.length;n++){var r=fi[n],i=e[r],o=di[r];i===o||i&&i._merged||(e[r]=i?vi(o,i):o)}}function vi(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function yi(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var o=e.on||(e.on={}),a=o[r],c=e.model.callback;s(a)?(i(a)?-1===a.indexOf(c):a!==c)&&(o[r]=[c].concat(a)):o[r]=c}var bi=F,wi=W.optionMergeStrategies;function _i(t,e,n){if(void 0===n&&(n=!0),!e)return t;for(var r,i,o,s=mt?Reflect.ownKeys(e):Object.keys(e),a=0;a<s.length;a++)r=s[a],"__ob__"!==r&&(i=t[r],o=e[r],n&&S(t,r)?i!==o&&f(i)&&f(o)&&_i(i,o):Vt(t,r,o));return t}function Oi(t,e,n){return n?function(){var r=u(e)?e.call(n,n):e,i=u(t)?t.call(n,n):t;return r?_i(r,i):i}:e?t?function(){return _i(u(e)?e.call(this,this):e,u(t)?t.call(this,this):t)}:e:t}function Ti(t,e){var n=e?t?t.concat(e):i(e)?e:[e]:t;return n?Si(n):n}function Si(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function Ci(t,e,n,r){var i=Object.create(t||null);return e?N(i,e):i}wi.data=function(t,e,n){return n?Oi(t,e,n):e&&"function"!==typeof e?t:Oi(t,e)},G.forEach((function(t){wi[t]=Ti})),H.forEach((function(t){wi[t+"s"]=Ci})),wi.watch=function(t,e,n,r){if(t===ct&&(t=void 0),e===ct&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var o={};for(var s in N(o,t),e){var a=o[s],c=e[s];a&&!i(a)&&(a=[a]),o[s]=a?a.concat(c):i(c)?c:[c]}return o},wi.props=wi.methods=wi.inject=wi.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return N(i,t),e&&N(i,e),i},wi.provide=function(t,e){return t?function(){var n=Object.create(null);return _i(n,u(t)?t.call(this):t),e&&_i(n,u(e)?e.call(this):e,!1),n}:e};var Ii=function(t,e){return void 0===e?t:e};function Ei(t,e){var n=t.props;if(n){var r,o,s,a={};if(i(n)){r=n.length;while(r--)o=n[r],"string"===typeof o&&(s=E(o),a[s]={type:null})}else if(f(n))for(var c in n)o=n[c],s=E(c),a[s]=f(o)?o:{type:o};else 0;t.props=a}}function ki(t,e){var n=t.inject;if(n){var r=t.inject={};if(i(n))for(var o=0;o<n.length;o++)r[n[o]]={from:n[o]};else if(f(n))for(var s in n){var a=n[s];r[s]=f(a)?N({from:s},a):{from:a}}else 0}}function Pi(t){var e=t.directives;if(e)for(var n in e){var r=e[n];u(r)&&(e[n]={bind:r,update:r})}}function xi(t,e,n){if(u(e)&&(e=e.options),Ei(e,n),ki(e,n),Pi(e),!e._base&&(e.extends&&(t=xi(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=xi(t,e.mixins[r],n);var o,s={};for(o in t)a(o);for(o in e)S(t,o)||a(o);function a(r){var i=wi[r]||Ii;s[r]=i(t[r],e[r],n,r)}return s}function Di(t,e,n,r){if("string"===typeof n){var i=t[e];if(S(i,n))return i[n];var o=E(n);if(S(i,o))return i[o];var s=k(o);if(S(i,s))return i[s];var a=i[n]||i[o]||i[s];return a}}function Ai(t,e,n,r){var i=e[t],o=!S(n,t),s=n[t],a=Fi(Boolean,i.type);if(a>-1)if(o&&!S(i,"default"))s=!1;else if(""===s||s===x(t)){var c=Fi(String,i.type);(c<0||a<c)&&(s=!0)}if(void 0===s){s=ji(r,i,t);var l=Nt;Lt(!0),$t(s),Lt(l)}return s}function ji(t,e,n){if(S(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:u(r)&&"Function"!==Ni(e.type)?r.call(t):r}}var Ri=/^\s*function (\w+)/;function Ni(t){var e=t&&t.toString().match(Ri);return e?e[1]:""}function Li(t,e){return Ni(t)===Ni(e)}function Fi(t,e){if(!i(e))return Li(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Li(e[n],t))return n;return-1}var Mi={enumerable:!0,configurable:!0,get:F,set:F};function $i(t,e,n){Mi.get=function(){return this[e][n]},Mi.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Mi)}function Bi(t){var e=t.$options;if(e.props&&Vi(t,e.props),mn(t),e.methods&&Yi(t,e.methods),e.data)Ui(t);else{var n=$t(t._data={});n&&n.vmCount++}e.computed&&Hi(t,e.computed),e.watch&&e.watch!==ct&&Qi(t,e.watch)}function Vi(t,e){var n=t.$options.propsData||{},r=t._props=Ht({}),i=t.$options._propKeys=[],o=!t.$parent;o||Lt(!1);var s=function(o){i.push(o);var s=Ai(o,e,n,t);Bt(r,o,s,void 0,!0),o in t||$i(t,"_props",o)};for(var a in e)s(a);Lt(!0)}function Ui(t){var e=t.$options.data;e=t._data=u(e)?zi(e,t):e||{},f(e)||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);while(i--){var o=n[i];0,r&&S(r,o)||Y(o)||$i(t,"_data",o)}var s=$t(e);s&&s.vmCount++}function zi(t,e){kt();try{return t.call(e,e)}catch(oc){return Bn(oc,e,"data()"),{}}finally{Pt()}}var qi={lazy:!0};function Hi(t,e){var n=t._computedWatchers=Object.create(null),r=ht();for(var i in e){var o=e[i],s=u(o)?o:o.get;0,r||(n[i]=new Cr(t,s||F,F,qi)),i in t||Gi(t,i,o)}}function Gi(t,e,n){var r=!ht();u(n)?(Mi.get=r?Wi(e):Ki(n),Mi.set=F):(Mi.get=n.get?r&&!1!==n.cache?Wi(e):Ki(n.get):F,Mi.set=n.set||F),Object.defineProperty(t,e,Mi)}function Wi(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),It.target&&e.depend(),e.value}}function Ki(t){return function(){return t.call(this,this)}}function Yi(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?F:j(e[n],t)}function Qi(t,e){for(var n in e){var r=e[n];if(i(r))for(var o=0;o<r.length;o++)Xi(t,n,r[o]);else Xi(t,n,r)}}function Xi(t,e,n,r){return f(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,r)}function Ji(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Vt,t.prototype.$delete=Ut,t.prototype.$watch=function(t,e,n){var r=this;if(f(e))return Xi(r,t,e,n);n=n||{},n.user=!0;var i=new Cr(r,t,e,n);if(n.immediate){var o='callback for immediate watcher "'.concat(i.expression,'"');kt(),Vn(e,r,[i.value],r,o),Pt()}return function(){i.teardown()}}}var Zi=0;function to(t){t.prototype._init=function(t){var e=this;e._uid=Zi++,e._isVue=!0,e.__v_skip=!0,e._scope=new Pe(!0),e._scope.parent=void 0,e._scope._vm=!0,t&&t._isComponent?eo(e,t):e.$options=xi(no(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Rr(e),Ir(e),In(e),Vr(e,"beforeCreate",void 0,!1),oi(e),Bi(e),ii(e),Vr(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function eo(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function no(t){var e=t.options;if(t.super){var n=no(t.super),r=t.superOptions;if(n!==r){t.superOptions=n;var i=ro(t);i&&N(t.extendOptions,i),e=t.options=xi(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function ro(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}function io(t){this._init(t)}function oo(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=R(arguments,1);return n.unshift(this),u(t.install)?t.install.apply(t,n):u(t)&&t.apply(null,n),e.push(t),this}}function so(t){t.mixin=function(t){return this.options=xi(this.options,t),this}}function ao(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=hi(t)||hi(n.options);var s=function(t){this._init(t)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=e++,s.options=xi(n.options,t),s["super"]=n,s.options.props&&co(s),s.options.computed&&lo(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,H.forEach((function(t){s[t]=n[t]})),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=t,s.sealedOptions=N({},s.options),i[r]=s,s}}function co(t){var e=t.options.props;for(var n in e)$i(t.prototype,"_props",n)}function lo(t){var e=t.options.computed;for(var n in e)Gi(t.prototype,n,e[n])}function uo(t){H.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&f(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&u(n)&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function ho(t){return t&&(hi(t.Ctor.options)||t.tag)}function fo(t,e){return i(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!p(t)&&t.test(e)}function po(t,e){var n=t.cache,r=t.keys,i=t._vnode,o=t.$vnode;for(var s in n){var a=n[s];if(a){var c=a.name;c&&!e(c)&&mo(n,s,r,i)}}o.componentOptions.children=void 0}function mo(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,O(n,e)}to(io),Ji(io),Dr(io),Nr(io),kn(io);var go=[String,RegExp,Array],vo={name:"keep-alive",abstract:!0,props:{include:go,exclude:go,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,r=t.vnodeToCache,i=t.keyToCache;if(r){var o=r.tag,s=r.componentInstance,a=r.componentOptions;e[i]={name:ho(a),tag:o,componentInstance:s},n.push(i),this.max&&n.length>parseInt(this.max)&&mo(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)mo(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){po(t,(function(t){return fo(e,t)}))})),this.$watch("exclude",(function(e){po(t,(function(t){return!fo(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=An(t),n=e&&e.componentOptions;if(n){var r=ho(n),i=this,o=i.include,s=i.exclude;if(o&&(!r||!fo(o,r))||s&&r&&fo(s,r))return e;var a=this,c=a.cache,l=a.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):e.key;c[u]?(e.componentInstance=c[u].componentInstance,O(l,u),l.push(u)):(this.vnodeToCache=e,this.keyToCache=u),e.data.keepAlive=!0}return e||t&&t[0]}},yo={KeepAlive:vo};function bo(t){var e={get:function(){return W}};Object.defineProperty(t,"config",e),t.util={warn:bi,extend:N,mergeOptions:xi,defineReactive:Bt},t.set=Vt,t.delete=Ut,t.nextTick=Zn,t.observable=function(t){return $t(t),t},t.options=Object.create(null),H.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,N(t.options.components,yo),oo(t),so(t),ao(t),uo(t)}bo(io),Object.defineProperty(io.prototype,"$isServer",{get:ht}),Object.defineProperty(io.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(io,"FunctionalRenderContext",{value:ai}),io.version=yr;var wo=w("style,class"),_o=w("input,textarea,option,select,progress"),Oo=function(t,e,n){return"value"===n&&_o(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},To=w("contenteditable,draggable,spellcheck"),So=w("events,caret,typing,plaintext-only"),Co=function(t,e){return xo(e)||"false"===e?"false":"contenteditable"===t&&So(e)?e:"true"},Io=w("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Eo="http://www.w3.org/1999/xlink",ko=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Po=function(t){return ko(t)?t.slice(6,t.length):""},xo=function(t){return null==t||!1===t};function Do(t){var e=t.data,n=t,r=t;while(s(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(e=Ao(r.data,e));while(s(n=n.parent))n&&n.data&&(e=Ao(e,n.data));return jo(e.staticClass,e.class)}function Ao(t,e){return{staticClass:Ro(t.staticClass,e.staticClass),class:s(t.class)?[t.class,e.class]:e.class}}function jo(t,e){return s(t)||s(e)?Ro(t,No(e)):""}function Ro(t,e){return t?e?t+" "+e:t:e||""}function No(t){return Array.isArray(t)?Lo(t):h(t)?Fo(t):"string"===typeof t?t:""}function Lo(t){for(var e,n="",r=0,i=t.length;r<i;r++)s(e=No(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function Fo(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var Mo={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},$o=w("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Bo=w("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Vo=function(t){return $o(t)||Bo(t)};function Uo(t){return Bo(t)?"svg":"math"===t?"math":void 0}var zo=Object.create(null);function qo(t){if(!tt)return!0;if(Vo(t))return!1;if(t=t.toLowerCase(),null!=zo[t])return zo[t];var e=document.createElement(t);return t.indexOf("-")>-1?zo[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:zo[t]=/HTMLUnknownElement/.test(e.toString())}var Ho=w("text,number,password,search,email,tel,url");function Go(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function Wo(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function Ko(t,e){return document.createElementNS(Mo[t],e)}function Yo(t){return document.createTextNode(t)}function Qo(t){return document.createComment(t)}function Xo(t,e,n){t.insertBefore(e,n)}function Jo(t,e){t.removeChild(e)}function Zo(t,e){t.appendChild(e)}function ts(t){return t.parentNode}function es(t){return t.nextSibling}function ns(t){return t.tagName}function rs(t,e){t.textContent=e}function is(t,e){t.setAttribute(e,"")}var os=Object.freeze({__proto__:null,createElement:Wo,createElementNS:Ko,createTextNode:Yo,createComment:Qo,insertBefore:Xo,removeChild:Jo,appendChild:Zo,parentNode:ts,nextSibling:es,tagName:ns,setTextContent:rs,setStyleScope:is}),ss={create:function(t,e){as(e)},update:function(t,e){t.data.ref!==e.data.ref&&(as(t,!0),as(e))},destroy:function(t){as(t,!0)}};function as(t,e){var n=t.data.ref;if(s(n)){var r=t.context,o=t.componentInstance||t.elm,a=e?null:o,c=e?void 0:o;if(u(n))Vn(n,r,[a],r,"template ref function");else{var l=t.data.refInFor,h="string"===typeof n||"number"===typeof n,d=te(n),f=r.$refs;if(h||d)if(l){var p=h?f[n]:n.value;e?i(p)&&O(p,o):i(p)?p.includes(o)||p.push(o):h?(f[n]=[o],cs(r,n,f[n])):n.value=[o]}else if(h){if(e&&f[n]!==o)return;f[n]=c,cs(r,n,a)}else if(d){if(e&&n.value!==o)return;n.value=a}else 0}}}function cs(t,e,n){var r=t._setupState;r&&S(r,e)&&(te(r[e])?r[e].value=n:r[e]=n)}var ls=new bt("",{},[]),us=["create","activate","update","remove","destroy"];function hs(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&s(t.data)===s(e.data)&&ds(t,e)||a(t.isAsyncPlaceholder)&&o(e.asyncFactory.error))}function ds(t,e){if("input"!==t.tag)return!0;var n,r=s(n=t.data)&&s(n=n.attrs)&&n.type,i=s(n=e.data)&&s(n=n.attrs)&&n.type;return r===i||Ho(r)&&Ho(i)}function fs(t,e,n){var r,i,o={};for(r=e;r<=n;++r)i=t[r].key,s(i)&&(o[i]=r);return o}function ps(t){var e,n,r={},c=t.modules,u=t.nodeOps;for(e=0;e<us.length;++e)for(r[us[e]]=[],n=0;n<c.length;++n)s(c[n][us[e]])&&r[us[e]].push(c[n][us[e]]);function h(t){return new bt(u.tagName(t).toLowerCase(),{},[],void 0,t)}function d(t,e){function n(){0===--n.listeners&&f(t)}return n.listeners=e,n}function f(t){var e=u.parentNode(t);s(e)&&u.removeChild(e,t)}function p(t,e,n,r,i,o,c){if(s(t.elm)&&s(o)&&(t=o[c]=Ot(t)),t.isRootInsert=!i,!m(t,e,n,r)){var l=t.data,h=t.children,d=t.tag;s(d)?(t.elm=t.ns?u.createElementNS(t.ns,d):u.createElement(d,t),T(t),b(t,h,e),s(l)&&O(t,e),y(n,t.elm,r)):a(t.isComment)?(t.elm=u.createComment(t.text),y(n,t.elm,r)):(t.elm=u.createTextNode(t.text),y(n,t.elm,r))}}function m(t,e,n,r){var i=t.data;if(s(i)){var o=s(t.componentInstance)&&i.keepAlive;if(s(i=i.hook)&&s(i=i.init)&&i(t,!1),s(t.componentInstance))return g(t,e),y(n,t.elm,r),a(o)&&v(t,e,n,r),!0}}function g(t,e){s(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,_(t)?(O(t,e),T(t)):(as(t),e.push(t))}function v(t,e,n,i){var o,a=t;while(a.componentInstance)if(a=a.componentInstance._vnode,s(o=a.data)&&s(o=o.transition)){for(o=0;o<r.activate.length;++o)r.activate[o](ls,a);e.push(a);break}y(n,t.elm,i)}function y(t,e,n){s(t)&&(s(n)?u.parentNode(n)===t&&u.insertBefore(t,e,n):u.appendChild(t,e))}function b(t,e,n){if(i(e)){0;for(var r=0;r<e.length;++r)p(e[r],n,t.elm,null,!0,e,r)}else l(t.text)&&u.appendChild(t.elm,u.createTextNode(String(t.text)))}function _(t){while(t.componentInstance)t=t.componentInstance._vnode;return s(t.tag)}function O(t,n){for(var i=0;i<r.create.length;++i)r.create[i](ls,t);e=t.data.hook,s(e)&&(s(e.create)&&e.create(ls,t),s(e.insert)&&n.push(t))}function T(t){var e;if(s(e=t.fnScopeId))u.setStyleScope(t.elm,e);else{var n=t;while(n)s(e=n.context)&&s(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e),n=n.parent}s(e=Ar)&&e!==t.context&&e!==t.fnContext&&s(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e)}function S(t,e,n,r,i,o){for(;r<=i;++r)p(n[r],o,t,e,!1,n,r)}function C(t){var e,n,i=t.data;if(s(i))for(s(e=i.hook)&&s(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(s(e=t.children))for(n=0;n<t.children.length;++n)C(t.children[n])}function I(t,e,n){for(;e<=n;++e){var r=t[e];s(r)&&(s(r.tag)?(E(r),C(r)):f(r.elm))}}function E(t,e){if(s(e)||s(t.data)){var n,i=r.remove.length+1;for(s(e)?e.listeners+=i:e=d(t.elm,i),s(n=t.componentInstance)&&s(n=n._vnode)&&s(n.data)&&E(n,e),n=0;n<r.remove.length;++n)r.remove[n](t,e);s(n=t.data.hook)&&s(n=n.remove)?n(t,e):e()}else f(t.elm)}function k(t,e,n,r,i){var a,c,l,h,d=0,f=0,m=e.length-1,g=e[0],v=e[m],y=n.length-1,b=n[0],w=n[y],_=!i;while(d<=m&&f<=y)o(g)?g=e[++d]:o(v)?v=e[--m]:hs(g,b)?(x(g,b,r,n,f),g=e[++d],b=n[++f]):hs(v,w)?(x(v,w,r,n,y),v=e[--m],w=n[--y]):hs(g,w)?(x(g,w,r,n,y),_&&u.insertBefore(t,g.elm,u.nextSibling(v.elm)),g=e[++d],w=n[--y]):hs(v,b)?(x(v,b,r,n,f),_&&u.insertBefore(t,v.elm,g.elm),v=e[--m],b=n[++f]):(o(a)&&(a=fs(e,d,m)),c=s(b.key)?a[b.key]:P(b,e,d,m),o(c)?p(b,r,t,g.elm,!1,n,f):(l=e[c],hs(l,b)?(x(l,b,r,n,f),e[c]=void 0,_&&u.insertBefore(t,l.elm,g.elm)):p(b,r,t,g.elm,!1,n,f)),b=n[++f]);d>m?(h=o(n[y+1])?null:n[y+1].elm,S(t,h,n,f,y,r)):f>y&&I(e,d,m)}function P(t,e,n,r){for(var i=n;i<r;i++){var o=e[i];if(s(o)&&hs(t,o))return i}}function x(t,e,n,i,c,l){if(t!==e){s(e.elm)&&s(i)&&(e=i[c]=Ot(e));var h=e.elm=t.elm;if(a(t.isAsyncPlaceholder))s(e.asyncFactory.resolved)?j(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(a(e.isStatic)&&a(t.isStatic)&&e.key===t.key&&(a(e.isCloned)||a(e.isOnce)))e.componentInstance=t.componentInstance;else{var d,f=e.data;s(f)&&s(d=f.hook)&&s(d=d.prepatch)&&d(t,e);var p=t.children,m=e.children;if(s(f)&&_(e)){for(d=0;d<r.update.length;++d)r.update[d](t,e);s(d=f.hook)&&s(d=d.update)&&d(t,e)}o(e.text)?s(p)&&s(m)?p!==m&&k(h,p,m,n,l):s(m)?(s(t.text)&&u.setTextContent(h,""),S(h,null,m,0,m.length-1,n)):s(p)?I(p,0,p.length-1):s(t.text)&&u.setTextContent(h,""):t.text!==e.text&&u.setTextContent(h,e.text),s(f)&&s(d=f.hook)&&s(d=d.postpatch)&&d(t,e)}}}function D(t,e,n){if(a(n)&&s(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var A=w("attrs,class,staticClass,staticStyle,key");function j(t,e,n,r){var i,o=e.tag,c=e.data,l=e.children;if(r=r||c&&c.pre,e.elm=t,a(e.isComment)&&s(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(s(c)&&(s(i=c.hook)&&s(i=i.init)&&i(e,!0),s(i=e.componentInstance)))return g(e,n),!0;if(s(o)){if(s(l))if(t.hasChildNodes())if(s(i=c)&&s(i=i.domProps)&&s(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var u=!0,h=t.firstChild,d=0;d<l.length;d++){if(!h||!j(h,l[d],n,r)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else b(e,l,n);if(s(c)){var f=!1;for(var p in c)if(!A(p)){f=!0,O(e,n);break}!f&&c["class"]&&_r(c["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,i){if(!o(e)){var c=!1,l=[];if(o(t))c=!0,p(e,l);else{var d=s(t.nodeType);if(!d&&hs(t,e))x(t,e,l,null,null,i);else{if(d){if(1===t.nodeType&&t.hasAttribute(q)&&(t.removeAttribute(q),n=!0),a(n)&&j(t,e,l))return D(e,l,!0),t;t=h(t)}var f=t.elm,m=u.parentNode(f);if(p(e,l,f._leaveCb?null:m,u.nextSibling(f)),s(e.parent)){var g=e.parent,v=_(e);while(g){for(var y=0;y<r.destroy.length;++y)r.destroy[y](g);if(g.elm=e.elm,v){for(var b=0;b<r.create.length;++b)r.create[b](ls,g);var w=g.data.hook.insert;if(w.merged)for(var O=w.fns.slice(1),T=0;T<O.length;T++)O[T]()}else as(g);g=g.parent}}s(m)?I([t],0,0):s(t.tag)&&C(t)}}return D(e,l,c),e.elm}s(t)&&C(t)}}var ms={create:gs,update:gs,destroy:function(t){gs(t,ls)}};function gs(t,e){(t.data.directives||e.data.directives)&&vs(t,e)}function vs(t,e){var n,r,i,o=t===ls,s=e===ls,a=bs(t.data.directives,t.context),c=bs(e.data.directives,e.context),l=[],u=[];for(n in c)r=a[n],i=c[n],r?(i.oldValue=r.value,i.oldArg=r.arg,_s(i,"update",e,t),i.def&&i.def.componentUpdated&&u.push(i)):(_s(i,"bind",e,t),i.def&&i.def.inserted&&l.push(i));if(l.length){var h=function(){for(var n=0;n<l.length;n++)_s(l[n],"inserted",e,t)};o?Be(e,"insert",h):h()}if(u.length&&Be(e,"postpatch",(function(){for(var n=0;n<u.length;n++)_s(u[n],"componentUpdated",e,t)})),!o)for(n in a)c[n]||_s(a[n],"unbind",t,t,s)}var ys=Object.create(null);function bs(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++){if(r=t[n],r.modifiers||(r.modifiers=ys),i[ws(r)]=r,e._setupState&&e._setupState.__sfc){var o=r.def||Di(e,"_setupState","v-"+r.name);r.def="function"===typeof o?{bind:o,update:o}:o}r.def=r.def||Di(e.$options,"directives",r.name,!0)}return i}function ws(t){return t.rawName||"".concat(t.name,".").concat(Object.keys(t.modifiers||{}).join("."))}function _s(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(oc){Bn(oc,n.context,"directive ".concat(t.name," ").concat(e," hook"))}}var Os=[ss,ms];function Ts(t,e){var n=e.componentOptions;if((!s(n)||!1!==n.Ctor.options.inheritAttrs)&&(!o(t.data.attrs)||!o(e.data.attrs))){var r,i,c,l=e.elm,u=t.data.attrs||{},h=e.data.attrs||{};for(r in(s(h.__ob__)||a(h._v_attr_proxy))&&(h=e.data.attrs=N({},h)),h)i=h[r],c=u[r],c!==i&&Ss(l,r,i,e.data.pre);for(r in(nt||it)&&h.value!==u.value&&Ss(l,"value",h.value),u)o(h[r])&&(ko(r)?l.removeAttributeNS(Eo,Po(r)):To(r)||l.removeAttribute(r))}}function Ss(t,e,n,r){r||t.tagName.indexOf("-")>-1?Cs(t,e,n):Io(e)?xo(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):To(e)?t.setAttribute(e,Co(e,n)):ko(e)?xo(n)?t.removeAttributeNS(Eo,Po(e)):t.setAttributeNS(Eo,e,n):Cs(t,e,n)}function Cs(t,e,n){if(xo(n))t.removeAttribute(e);else{if(nt&&!rt&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var Is={create:Ts,update:Ts};function Es(t,e){var n=e.elm,r=e.data,i=t.data;if(!(o(r.staticClass)&&o(r.class)&&(o(i)||o(i.staticClass)&&o(i.class)))){var a=Do(e),c=n._transitionClasses;s(c)&&(a=Ro(a,No(c))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var ks,Ps={create:Es,update:Es},xs="__r",Ds="__c";function As(t){if(s(t[xs])){var e=nt?"change":"input";t[e]=[].concat(t[xs],t[e]||[]),delete t[xs]}s(t[Ds])&&(t.change=[].concat(t[Ds],t.change||[]),delete t[Ds])}function js(t,e,n){var r=ks;return function i(){var o=e.apply(null,arguments);null!==o&&Ls(t,i,n,r)}}var Rs=Hn&&!(at&&Number(at[1])<=53);function Ns(t,e,n,r){if(Rs){var i=Yr,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}ks.addEventListener(t,e,lt?{capture:n,passive:r}:n)}function Ls(t,e,n,r){(r||ks).removeEventListener(t,e._wrapper||e,n)}function Fs(t,e){if(!o(t.data.on)||!o(e.data.on)){var n=e.data.on||{},r=t.data.on||{};ks=e.elm||t.elm,As(n),$e(n,r,Ns,Ls,js,e.context),ks=void 0}}var Ms,$s={create:Fs,update:Fs,destroy:function(t){return Fs(t,ls)}};function Bs(t,e){if(!o(t.data.domProps)||!o(e.data.domProps)){var n,r,i=e.elm,c=t.data.domProps||{},l=e.data.domProps||{};for(n in(s(l.__ob__)||a(l._v_attr_proxy))&&(l=e.data.domProps=N({},l)),c)n in l||(i[n]="");for(n in l){if(r=l[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===c[n])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===n&&"PROGRESS"!==i.tagName){i._value=r;var u=o(r)?"":String(r);Vs(i,u)&&(i.value=u)}else if("innerHTML"===n&&Bo(i.tagName)&&o(i.innerHTML)){Ms=Ms||document.createElement("div"),Ms.innerHTML="<svg>".concat(r,"</svg>");var h=Ms.firstChild;while(i.firstChild)i.removeChild(i.firstChild);while(h.firstChild)i.appendChild(h.firstChild)}else if(r!==c[n])try{i[n]=r}catch(oc){}}}}function Vs(t,e){return!t.composing&&("OPTION"===t.tagName||Us(t,e)||zs(t,e))}function Us(t,e){var n=!0;try{n=document.activeElement!==t}catch(oc){}return n&&t.value!==e}function zs(t,e){var n=t.value,r=t._vModifiers;if(s(r)){if(r.number)return b(n)!==b(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}var qs={create:Bs,update:Bs},Hs=C((function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function Gs(t){var e=Ws(t.style);return t.staticStyle?N(t.staticStyle,e):e}function Ws(t){return Array.isArray(t)?L(t):"string"===typeof t?Hs(t):t}function Ks(t,e){var n,r={};if(e){var i=t;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=Gs(i.data))&&N(r,n)}(n=Gs(t.data))&&N(r,n);var o=t;while(o=o.parent)o.data&&(n=Gs(o.data))&&N(r,n);return r}var Ys,Qs=/^--/,Xs=/\s*!important$/,Js=function(t,e,n){if(Qs.test(e))t.style.setProperty(e,n);else if(Xs.test(n))t.style.setProperty(x(e),n.replace(Xs,""),"important");else{var r=ta(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},Zs=["Webkit","Moz","ms"],ta=C((function(t){if(Ys=Ys||document.createElement("div").style,t=E(t),"filter"!==t&&t in Ys)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Zs.length;n++){var r=Zs[n]+e;if(r in Ys)return r}}));function ea(t,e){var n=e.data,r=t.data;if(!(o(n.staticStyle)&&o(n.style)&&o(r.staticStyle)&&o(r.style))){var i,a,c=e.elm,l=r.staticStyle,u=r.normalizedStyle||r.style||{},h=l||u,d=Ws(e.data.style)||{};e.data.normalizedStyle=s(d.__ob__)?N({},d):d;var f=Ks(e,!0);for(a in h)o(f[a])&&Js(c,a,"");for(a in f)i=f[a],Js(c,a,null==i?"":i)}}var na={create:ea,update:ea},ra=/\s+/;function ia(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ra).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" ".concat(t.getAttribute("class")||""," ");n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function oa(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ra).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" ".concat(t.getAttribute("class")||""," "),r=" "+e+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function sa(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&N(e,aa(t.name||"v")),N(e,t),e}return"string"===typeof t?aa(t):void 0}}var aa=C((function(t){return{enterClass:"".concat(t,"-enter"),enterToClass:"".concat(t,"-enter-to"),enterActiveClass:"".concat(t,"-enter-active"),leaveClass:"".concat(t,"-leave"),leaveToClass:"".concat(t,"-leave-to"),leaveActiveClass:"".concat(t,"-leave-active")}})),ca=tt&&!rt,la="transition",ua="animation",ha="transition",da="transitionend",fa="animation",pa="animationend";ca&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ha="WebkitTransition",da="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(fa="WebkitAnimation",pa="webkitAnimationEnd"));var ma=tt?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function ga(t){ma((function(){ma(t)}))}function va(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),ia(t,e))}function ya(t,e){t._transitionClasses&&O(t._transitionClasses,e),oa(t,e)}function ba(t,e,n){var r=_a(t,e),i=r.type,o=r.timeout,s=r.propCount;if(!i)return n();var a=i===la?da:pa,c=0,l=function(){t.removeEventListener(a,u),n()},u=function(e){e.target===t&&++c>=s&&l()};setTimeout((function(){c<s&&l()}),o+1),t.addEventListener(a,u)}var wa=/\b(transform|all)(,|$)/;function _a(t,e){var n,r=window.getComputedStyle(t),i=(r[ha+"Delay"]||"").split(", "),o=(r[ha+"Duration"]||"").split(", "),s=Oa(i,o),a=(r[fa+"Delay"]||"").split(", "),c=(r[fa+"Duration"]||"").split(", "),l=Oa(a,c),u=0,h=0;e===la?s>0&&(n=la,u=s,h=o.length):e===ua?l>0&&(n=ua,u=l,h=c.length):(u=Math.max(s,l),n=u>0?s>l?la:ua:null,h=n?n===la?o.length:c.length:0);var d=n===la&&wa.test(r[ha+"Property"]);return{type:n,timeout:u,propCount:h,hasTransform:d}}function Oa(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return Ta(e)+Ta(t[n])})))}function Ta(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Sa(t,e){var n=t.elm;s(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=sa(t.data.transition);if(!o(r)&&!s(n._enterCb)&&1===n.nodeType){var i=r.css,a=r.type,c=r.enterClass,l=r.enterToClass,d=r.enterActiveClass,f=r.appearClass,p=r.appearToClass,m=r.appearActiveClass,g=r.beforeEnter,v=r.enter,y=r.afterEnter,w=r.enterCancelled,_=r.beforeAppear,O=r.appear,T=r.afterAppear,S=r.appearCancelled,C=r.duration,I=Ar,E=Ar.$vnode;while(E&&E.parent)I=E.context,E=E.parent;var k=!I._isMounted||!t.isRootInsert;if(!k||O||""===O){var P=k&&f?f:c,x=k&&m?m:d,D=k&&p?p:l,A=k&&_||g,j=k&&u(O)?O:v,R=k&&T||y,N=k&&S||w,L=b(h(C)?C.enter:C);0;var F=!1!==i&&!rt,M=Ea(j),$=n._enterCb=U((function(){F&&(ya(n,D),ya(n,x)),$.cancelled?(F&&ya(n,P),N&&N(n)):R&&R(n),n._enterCb=null}));t.data.show||Be(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),j&&j(n,$)})),A&&A(n),F&&(va(n,P),va(n,x),ga((function(){ya(n,P),$.cancelled||(va(n,D),M||(Ia(L)?setTimeout($,L):ba(n,a,$)))}))),t.data.show&&(e&&e(),j&&j(n,$)),F||M||$()}}}function Ca(t,e){var n=t.elm;s(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=sa(t.data.transition);if(o(r)||1!==n.nodeType)return e();if(!s(n._leaveCb)){var i=r.css,a=r.type,c=r.leaveClass,l=r.leaveToClass,u=r.leaveActiveClass,d=r.beforeLeave,f=r.leave,p=r.afterLeave,m=r.leaveCancelled,g=r.delayLeave,v=r.duration,y=!1!==i&&!rt,w=Ea(f),_=b(h(v)?v.leave:v);0;var O=n._leaveCb=U((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),y&&(ya(n,l),ya(n,u)),O.cancelled?(y&&ya(n,c),m&&m(n)):(e(),p&&p(n)),n._leaveCb=null}));g?g(T):T()}function T(){O.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),d&&d(n),y&&(va(n,c),va(n,u),ga((function(){ya(n,c),O.cancelled||(va(n,l),w||(Ia(_)?setTimeout(O,_):ba(n,a,O)))}))),f&&f(n,O),y||w||O())}}function Ia(t){return"number"===typeof t&&!isNaN(t)}function Ea(t){if(o(t))return!1;var e=t.fns;return s(e)?Ea(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function ka(t,e){!0!==e.data.show&&Sa(e)}var Pa=tt?{create:ka,activate:ka,remove:function(t,e){!0!==t.data.show?Ca(t,e):e()}}:{},xa=[Is,Ps,$s,qs,na,Pa],Da=xa.concat(Os),Aa=ps({nodeOps:os,modules:Da});rt&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&Ba(t,"input")}));var ja={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?Be(n,"postpatch",(function(){ja.componentUpdated(t,e,n)})):Ra(t,e,n.context),t._vOptions=[].map.call(t.options,Fa)):("textarea"===n.tag||Ho(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Ma),t.addEventListener("compositionend",$a),t.addEventListener("change",$a),rt&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Ra(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,Fa);if(i.some((function(t,e){return!B(t,r[e])}))){var o=t.multiple?e.value.some((function(t){return La(t,i)})):e.value!==e.oldValue&&La(e.value,i);o&&Ba(t,"change")}}}};function Ra(t,e,n){Na(t,e,n),(nt||it)&&setTimeout((function(){Na(t,e,n)}),0)}function Na(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,s,a=0,c=t.options.length;a<c;a++)if(s=t.options[a],i)o=V(r,Fa(s))>-1,s.selected!==o&&(s.selected=o);else if(B(Fa(s),r))return void(t.selectedIndex!==a&&(t.selectedIndex=a));i||(t.selectedIndex=-1)}}function La(t,e){return e.every((function(e){return!B(e,t)}))}function Fa(t){return"_value"in t?t._value:t.value}function Ma(t){t.target.composing=!0}function $a(t){t.target.composing&&(t.target.composing=!1,Ba(t.target,"input"))}function Ba(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Va(t){return!t.componentInstance||t.data&&t.data.transition?t:Va(t.componentInstance._vnode)}var Ua={bind:function(t,e,n){var r=e.value;n=Va(n);var i=n.data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,Sa(n,(function(){t.style.display=o}))):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value,i=e.oldValue;if(!r!==!i){n=Va(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,r?Sa(n,(function(){t.style.display=t.__vOriginalDisplay})):Ca(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}},za={model:ja,show:Ua},qa={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Ha(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Ha(An(e.children)):t}function Ga(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var r in i)e[E(r)]=i[r];return e}function Wa(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Ka(t){while(t=t.parent)if(t.data.transition)return!0}function Ya(t,e){return e.key===t.key&&e.tag===t.tag}var Qa=function(t){return t.tag||hn(t)},Xa=function(t){return"show"===t.name},Ja={name:"transition",props:qa,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Qa),n.length)){0;var r=this.mode;0;var i=n[0];if(Ka(this.$vnode))return i;var o=Ha(i);if(!o)return i;if(this._leaving)return Wa(t,i);var s="__transition-".concat(this._uid,"-");o.key=null==o.key?o.isComment?s+"comment":s+o.tag:l(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var a=(o.data||(o.data={})).transition=Ga(this),c=this._vnode,u=Ha(c);if(o.data.directives&&o.data.directives.some(Xa)&&(o.data.show=!0),u&&u.data&&!Ya(o,u)&&!hn(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=N({},a);if("out-in"===r)return this._leaving=!0,Be(h,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Wa(t,i);if("in-out"===r){if(hn(o))return c;var d,f=function(){d()};Be(a,"afterEnter",f),Be(a,"enterCancelled",f),Be(h,"delayLeave",(function(t){d=t}))}}return i}}},Za=N({tag:String,moveClass:String},qa);delete Za.mode;var tc={props:Za,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=jr(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],s=Ga(this),a=0;a<i.length;a++){var c=i[a];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))o.push(c),n[c.key]=c,(c.data||(c.data={})).transition=s;else;}if(r){var l=[],u=[];for(a=0;a<r.length;a++){c=r[a];c.data.transition=s,c.data.pos=c.elm.getBoundingClientRect(),n[c.key]?l.push(c):u.push(c)}this.kept=t(e,null,l),this.removed=u}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(ec),t.forEach(nc),t.forEach(rc),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;va(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(da,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(da,t),n._moveCb=null,ya(n,e))})}})))},methods:{hasMove:function(t,e){if(!ca)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){oa(n,t)})),ia(n,e),n.style.display="none",this.$el.appendChild(n);var r=_a(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function ec(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function nc(t){t.data.newPos=t.elm.getBoundingClientRect()}function rc(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate(".concat(r,"px,").concat(i,"px)"),o.transitionDuration="0s"}}var ic={Transition:Ja,TransitionGroup:tc};io.config.mustUseProp=Oo,io.config.isReservedTag=Vo,io.config.isReservedAttr=wo,io.config.getTagNamespace=Uo,io.config.isUnknownElement=qo,N(io.options.directives,za),N(io.options.components,ic),io.prototype.__patch__=tt?Aa:F,io.prototype.$mount=function(t,e){return t=t&&tt?Go(t):void 0,Lr(this,t,e)},tt&&setTimeout((function(){W.devtools&&dt&&dt.emit("init",io)}),0)},5604:(t,e,n)=>{n.d(e,{s:()=>r});var r=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}()},5610:(t,e,n)=>{var r=n(1291),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5611:(t,e,n)=>{var r,i=n(8840),o=n(9928),s=n(5125),a=n(3424),c=n(6743),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},u={},h=h||{},d=l||self;function f(t){var e=typeof t;return e="object"!=e?e:t?Array.isArray(t)?"array":e:"null","array"==e||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,g)&&t[g]||(t[g]=++v)}var g="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b,w.apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function O(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function T(){this.s=this.s,this.o=this.o}var S=0;T.prototype.s=!1,T.prototype.sa=function(){this.s||(this.s=!0,this.N(),0==S)||m(this)},T.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const C=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function I(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function E(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(f(e)){const n=t.length||0,r=e.length||0;t.length=n+r;for(let i=0;i<r;i++)t[n+i]=e[i]}else t.push(e)}}function k(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{d.addEventListener("test",(()=>{}),e),d.removeEventListener("test",(()=>{}),e)}catch(n){}return t}();function x(t){return/^[\s\xa0]*$/.test(t)}function D(){var t=d.navigator;return t&&(t=t.userAgent)?t:""}function A(t){return-1!=D().indexOf(t)}function j(t){return j[" "](t),t}function R(t,e){var n=_r;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}j[" "]=function(){};var N,L,F=A("Opera"),M=A("Trident")||A("MSIE"),$=A("Edge"),B=$||M,V=A("Gecko")&&!(-1!=D().toLowerCase().indexOf("webkit")&&!A("Edge"))&&!(A("Trident")||A("MSIE"))&&!A("Edge"),U=-1!=D().toLowerCase().indexOf("webkit")&&!A("Edge");function z(){var t=d.document;return t?t.documentMode:void 0}t:{var q="",H=function(){var t=D();return V?/rv:([^\);]+)(\)|;)/.exec(t):$?/Edge\/([\d\.]+)/.exec(t):M?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):U?/WebKit\/(\S+)/.exec(t):F?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(H&&(q=H?H[1]:""),M){var G=z();if(null!=G&&G>parseFloat(q)){N=String(G);break t}}N=q}if(d.document&&M){var W=z();L=W||(parseInt(N,10)||void 0)}else L=void 0;var K=L;function Y(t,e){if(k.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(V){t:{try{j(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:Q[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Y.$.h.call(this)}}O(Y,k);var Q={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var X="closure_listenable_"+(1e6*Math.random()|0),J=0;function Z(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++J,this.fa=this.ia=!1}function tt(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function et(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function nt(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function rt(t){const e={};for(const n in t)e[n]=t[n];return e}const it="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let e=0;e<it.length;e++)n=it[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function st(t){this.src=t,this.g={},this.h=0}function at(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=C(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(tt(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function ct(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}st.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=ct(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new Z(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};var lt="closure_lm_"+(1e6*Math.random()|0),ut={};function ht(t,e,n,r,i){if(r&&r.once)return pt(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ht(t,e[o],n,r,i);return null}return n=_t(n),t&&t[X]?t.O(e,n,p(r)?!!r.capture:!!r,i):dt(t,e,n,!1,r,i)}function dt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=bt(t);if(a||(t[lt]=a=new st(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=ft(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)P||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ft(){function t(n){return e.call(t.src,t.listener,n)}const e=yt;return t}function pt(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,r,i);return null}return n=_t(n),t&&t[X]?t.P(e,n,p(r)?!!r.capture:!!r,i):dt(t,e,n,!0,r,i)}function mt(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)mt(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=_t(n),t&&t[X]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=ct(o,n,r,i),-1<n&&(tt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=bt(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ct(e,n,r,i)),(n=-1<t?e[t]:null)&&gt(n))}function gt(t){if("number"!==typeof t&&t&&!t.fa){var e=t.src;if(e&&e[X])at(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bt(e))?(at(n,t),0==n.h&&(n.src=null,e[lt]=null)):tt(t)}}}function vt(t){return t in ut?ut[t]:ut[t]="on"+t}function yt(t,e){if(t.fa)t=!0;else{e=new Y(e,this);var n=t.listener,r=t.la||t.src;t.ia&&gt(t),t=n.call(r,e)}return t}function bt(t){return t=t[lt],t instanceof st?t:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function _t(t){return"function"===typeof t?t:(t[wt]||(t[wt]=function(e){return t.handleEvent(e)}),t[wt])}function Ot(){T.call(this),this.i=new st(this),this.S=this,this.J=null}function Tt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"===typeof e)e=new k(e,t);else if(e instanceof k)e.target=e.target||t;else{var i=e;e=new k(r,t),ot(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=St(s,r,!0,e)&&i}if(s=e.g=t,i=St(s,r,!0,e)&&i,i=St(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=St(s,r,!1,e)&&i}function St(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&at(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}O(Ot,T),Ot.prototype[X]=!0,Ot.prototype.removeEventListener=function(t,e,n,r){mt(this,t,e,n,r)},Ot.prototype.N=function(){if(Ot.$.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)tt(n[r]);delete e.g[t],e.h--}}this.J=null},Ot.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ot.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Ct=d.JSON.stringify;class It{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function Et(){var t=Nt;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class kt{constructor(){this.h=this.g=null}add(t,e){const n=Pt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}}var Pt=new It((()=>new xt),(t=>t.reset()));class xt{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Dt(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function At(t){d.setTimeout((()=>{throw t}),0)}let jt,Rt=!1,Nt=new kt,Lt=()=>{const t=d.Promise.resolve(void 0);jt=()=>{t.then(Ft)}};var Ft=()=>{for(var t;t=Et();){try{t.h.call(t.g)}catch(n){At(n)}var e=Pt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Rt=!1};function Mt(t,e){Ot.call(this),this.h=t||1,this.g=e||d,this.j=w(this.qb,this),this.l=Date.now()}function $t(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Bt(t,e,n){if("function"===typeof t)n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:d.setTimeout(t,e||0)}function Vt(t){t.g=Bt((()=>{t.g=null,t.i&&(t.i=!1,Vt(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}O(Mt,Ot),r=Mt.prototype,r.ga=!1,r.T=null,r.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tt(this,"tick"),this.ga&&($t(this),this.start()))}},r.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.N=function(){Mt.$.N.call(this),$t(this),delete this.g};class Ut extends T{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Vt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zt(t){T.call(this),this.h=t,this.g={}}O(zt,T);var qt=[];function Ht(t,e,n,r){Array.isArray(n)||(n&&(qt[0]=n.toString()),n=qt);for(var i=0;i<n.length;i++){var o=ht(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Gt(t){et(t.g,(function(t,e){this.g.hasOwnProperty(e)&&gt(t)}),t),t.g={}}function Wt(){this.g=!0}function Kt(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}function Yt(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}function Qt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+Jt(t,n)+(r?" "+r:"")}))}function Xt(t,e){t.info((function(){return"TIMEOUT: "+e}))}function Jt(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ct(n)}catch(a){return e}}zt.prototype.N=function(){zt.$.N.call(this),Gt(this)},zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wt.prototype.Ea=function(){this.g=!1},Wt.prototype.info=function(){};var Zt={},te=null;function ee(){return te=te||new Ot}function ne(t){k.call(this,Zt.Ta,t)}function re(t){const e=ee();Tt(e,new ne(e))}function ie(t,e){k.call(this,Zt.STAT_EVENT,t),this.stat=e}function oe(t){const e=ee();Tt(e,new ie(e,t))}function se(t,e){k.call(this,Zt.Ua,t),this.size=e}function ae(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return d.setTimeout((function(){t()}),e)}Zt.Ta="serverreachability",O(ne,k),Zt.STAT_EVENT="statevent",O(ie,k),Zt.Ua="timingevent",O(se,k);var ce={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},le={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ue(){}function he(t){return t.h||(t.h=t.i())}function de(){}ue.prototype.h=null;var fe,pe={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function me(){k.call(this,"d")}function ge(){k.call(this,"c")}function ve(){}function ye(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new zt(this),this.P=we,t=B?125:void 0,this.V=new Mt(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new be}function be(){this.i=null,this.g="",this.h=!1}O(me,k),O(ge,k),O(ve,ue),ve.prototype.g=function(){return new XMLHttpRequest},ve.prototype.i=function(){return{}},fe=new ve;var we=45e3,_e={},Oe={};function Te(t,e,n){t.L=1,t.v=He(Be(e)),t.s=n,t.S=!0,Se(t,null)}function Se(t,e){t.G=Date.now(),ke(t),t.A=Be(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),on(n.i,"t",r),t.C=0,n=t.l.J,t.h=new be,t.g=ur(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Ut(w(t.Pa,t,t.g),t.O)),Ht(t.U,t.g,"readystatechange",t.nb),e=t.I?rt(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),re(),Kt(t.j,t.u,t.A,t.m,t.W,t.s)}function Ce(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.l.Ha)}function Ie(t,e,n){let r,i=!0;for(;!t.J&&t.C<n.length;){if(r=Ee(t,n),r==Oe){4==e&&(t.o=4,oe(14),i=!1),Qt(t.j,t.m,null,"[Incomplete Response]");break}if(r==_e){t.o=4,oe(15),Qt(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Qt(t.j,t.m,r,null),je(t,r)}Ce(t)&&r!=Oe&&r!=_e&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,oe(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),nr(e),e.M=!0,oe(11))):(Qt(t.j,t.m,n,"[Invalid Chunked Response]"),Ae(t),De(t))}function Ee(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Oe:(n=Number(e.substring(n,r)),isNaN(n)?_e:(r+=1,r+n>e.length?Oe:(e=e.slice(r,r+n),t.C=r+n,e)))}function ke(t){t.Y=Date.now()+t.P,Pe(t,t.P)}function Pe(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ae(w(t.lb,t),e)}function xe(t){t.B&&(d.clearTimeout(t.B),t.B=null)}function De(t){0==t.l.H||t.J||or(t.l,t)}function Ae(t){xe(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,$t(t.V),Gt(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function je(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||fn(n.i,t)))if(!t.K&&fn(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break t;ir(n),Wn(n)}er(n),oe(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ae(w(n.ib,n),6e3));if(1>=dn(n.i)&&n.oa){try{n.oa()}catch(l){}n.oa=void 0}}else ar(n,11)}else if((t.K||n.g==t)&&ir(n),!x(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const e=l[3];null!=e&&(n.ra=e,n.l.info("VER="+n.ra));const i=l[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var o=r.i;o.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(pn(o,o.h),o.h=null))}if(r.F){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.Da=t,qe(r.I,r.F,t))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=lr(r,r.J?r.pa:null,r.Y),s.K){mn(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&(xe(a),ke(a)),r.g=s}else tr(r);0<n.j.length&&Yn(n)}else"stop"!=l[0]&&"close"!=l[0]||ar(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?ar(n,7):Gn(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}re(4)}catch(l){}}function Re(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Ne(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(f(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Le(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=Ne(t),r=Re(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}r=ye.prototype,r.setTimeout=function(t){this.P=t},r.nb=function(t){t=t.target;const e=this.M;e&&3==$n(t)?e.l():this.Pa(t)},r.Pa=function(t){try{if(t==this.g)t:{const u=$n(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(3!=u||B||this.g&&(this.h.h||this.g.ja()||Bn(this.g)))){this.J||4!=u||7==e||re(8==e||0>=h?3:2),xe(this);var n=this.g.da();this.ca=n;e:if(Ce(this)){var r=Bn(this.g);t="";var i=r.length,o=4==$n(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ae(this),De(this);var s="";break e}this.h.i=new d.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,Yt(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(a)){var l=a;break e}}l=null}if(!(n=l)){this.i=!1,this.o=3,oe(12),Ae(this),De(this);break t}Qt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,je(this,n)}this.S?(Ie(this,u,s),B&&this.i&&3==u&&(Ht(this.U,this.V,"tick",this.mb),this.V.start())):(Qt(this.j,this.m,s,null),je(this,s)),4==u&&Ae(this),this.i&&!this.J&&(4==u?or(this.l,this):(this.i=!1,ke(this)))}else Vn(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,oe(12)):(this.o=0,oe(13)),Ae(this),De(this)}}}catch(u){}},r.mb=function(){if(this.g){var t=$n(this.g),e=this.g.ja();this.C<e.length&&(xe(this),Ie(this,t,e),this.i&&4!=t&&ke(this))}},r.cancel=function(){this.J=!0,Ae(this)},r.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Xt(this.j,this.A),2!=this.L&&(re(),oe(17)),Ae(this),this.o=2,De(this)):Pe(this,this.Y-t)};var Fe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Me(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function $e(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof $e){this.h=t.h,Ve(this,t.j),this.s=t.s,this.g=t.g,Ue(this,t.m),this.l=t.l;var e=t.i,n=new tn;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ze(this,n),this.o=t.o}else t&&(e=String(t).match(Fe))?(this.h=!1,Ve(this,e[1]||"",!0),this.s=Ge(e[2]||""),this.g=Ge(e[3]||"",!0),Ue(this,e[4]),this.l=Ge(e[5]||"",!0),ze(this,e[6]||"",!0),this.o=Ge(e[7]||"")):(this.h=!1,this.i=new tn(null,this.h))}function Be(t){return new $e(t)}function Ve(t,e,n){t.j=n?Ge(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ue(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ze(t,e,n){e instanceof tn?(t.i=e,an(t.i,t.h)):(n||(e=We(e,Je)),t.i=new tn(e,t.h))}function qe(t,e,n){t.i.set(e,n)}function He(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ge(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function We(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Ke),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ke(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}$e.prototype.toString=function(){var t=[],e=this.j;e&&t.push(We(e,Ye,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(We(e,Ye,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(We(n,"/"==n.charAt(0)?Xe:Qe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",We(n,Ze)),t.join("")};var Ye=/[#\/\?@]/g,Qe=/[#\?:]/g,Xe=/[#\?]/g,Je=/[#\?@]/g,Ze=/#/g;function tn(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function en(t){t.g||(t.g=new Map,t.h=0,t.i&&Me(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function nn(t,e){en(t),e=sn(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function rn(t,e){return en(t),e=sn(t,e),t.g.has(e)}function on(t,e,n){nn(t,e),0<n.length&&(t.i=null,t.g.set(sn(t,e),I(n)),t.h+=n.length)}function sn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function an(t,e){e&&!t.j&&(en(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(nn(this,e),on(this,n,t))}),t)),t.j=e}r=tn.prototype,r.add=function(t,e){en(this),this.i=null,t=sn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},r.forEach=function(t,e){en(this),this.g.forEach((function(n,r){n.forEach((function(n){t.call(e,n,r,this)}),this)}),this)},r.ta=function(){en(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let t=0;t<i.length;t++)n.push(e[r])}return n},r.Z=function(t){en(this);let e=[];if("string"===typeof t)rn(this,t)&&(e=e.concat(this.g.get(sn(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},r.set=function(t,e){return en(this),this.i=null,t=sn(this,t),rn(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},r.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var cn=class{constructor(t,e){this.g=t,this.map=e}};function ln(t){this.l=t||un,d.PerformanceNavigationTiming?(t=d.performance.getEntriesByType("navigation"),t=0<t.length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol)):t=!!(d.g&&d.g.Ka&&d.g.Ka()&&d.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var un=10;function hn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function dn(t){return t.h?1:t.g?t.g.size:0}function fn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function pn(t,e){t.g?t.g.add(e):t.h=e}function mn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function gn(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return I(t.i)}ln.prototype.cancel=function(){if(this.i=gn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var vn=class{stringify(t){return d.JSON.stringify(t,void 0)}parse(t){return d.JSON.parse(t,void 0)}};function yn(){this.g=new vn}function bn(t,e,n){const r=n||"";try{Le(t,(function(t,n){let i=t;p(t)&&(i=Ct(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wn(t,e){const n=new Wt;if(d.Image){const r=new Image;r.onload=_(_n,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_(_n,n,r,"TestLoadImage: error",!1,e),r.onabort=_(_n,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_(_n,n,r,"TestLoadImage: timeout",!1,e),d.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}function _n(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function On(t){this.l=t.fc||null,this.j=t.ob||!1}function Tn(t,e){Ot.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Sn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}O(On,ue),On.prototype.g=function(){return new Tn(this.l,this.j)},On.prototype.i=function(t){return function(){return t}}({}),O(Tn,Ot);var Sn=0;function Cn(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function In(t){t.readyState=4,t.l=null,t.j=null,t.A=null,En(t)}function En(t){t.onreadystatechange&&t.onreadystatechange.call(t)}r=Tn.prototype,r.open=function(t,e){if(this.readyState!=Sn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,En(this)},r.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||d).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,In(this)),this.readyState=Sn},r.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,En(this)),this.g&&(this.readyState=3,En(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof d.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cn(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},r.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?In(this):En(this),3==this.readyState&&Cn(this)}},r.Za=function(t){this.g&&(this.response=this.responseText=t,In(this))},r.Ya=function(t){this.g&&(this.response=t,In(this))},r.ka=function(){this.g&&In(this)},r.setRequestHeader=function(t,e){this.v.append(t,e)},r.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Tn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var kn=d.JSON.parse;function Pn(t){Ot.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xn,this.L=this.M=!1}O(Pn,Ot);var xn="",Dn=/^https?$/i,An=["POST","PUT"];function jn(t){return M&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function Rn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Nn(t),Fn(t)}function Nn(t){t.F||(t.F=!0,Tt(t,"complete"),Tt(t,"error"))}function Ln(t){if(t.h&&"undefined"!=typeof h&&(!t.C[1]||4!=$n(t)||2!=t.da()))if(t.v&&4==$n(t))Bt(t.La,0,t);else if(Tt(t,"readystatechange"),4==$n(t)){t.h=!1;try{const a=t.da();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.I).match(Fe)[1]||null;!i&&d.self&&d.self.location&&(i=d.self.location.protocol.slice(0,-1)),r=!Dn.test(i?i.toLowerCase():"")}n=r}if(n)Tt(t,"complete"),Tt(t,"success");else{t.m=6;try{var o=2<$n(t)?t.g.statusText:""}catch(s){o=""}t.j=o+" ["+t.da()+"]",Nn(t)}}finally{Fn(t)}}}function Fn(t,e){if(t.g){Mn(t);const r=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Tt(t,"ready");try{r.onreadystatechange=i}catch(n){}}}function Mn(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(d.clearTimeout(t.A),t.A=null)}function $n(t){return t.g?t.g.readyState:0}function Bn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case xn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(Yr){return null}}function Vn(t){const e={};t=(t.g&&2<=$n(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(x(t[r]))continue;var n=Dt(t[r]);const i=n[0];if(n=n[1],"string"!==typeof n)continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}nt(e,(function(t){return t.join(", ")}))}function Un(t){let e="";return et(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function zn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Un(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):qe(t,e,n))}function qn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Hn(t){this.Ga=0,this.j=[],this.l=new Wt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qn("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qn("baseRetryDelayMs",5e3,t),this.hb=qn("retryDelaySeedMs",1e4,t),this.eb=qn("forwardChannelMaxRetries",2,t),this.xa=qn("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ln(t&&t.concurrentRequestLimit),this.Ja=new yn,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Gn(t){if(Kn(t),3==t.H){var e=t.W++,n=Be(t.I);if(qe(n,"SID",t.K),qe(n,"RID",e),qe(n,"TYPE","terminate"),Jn(t,n),e=new ye(t,t.l,e),e.L=2,e.v=He(Be(n)),n=!1,d.navigator&&d.navigator.sendBeacon)try{n=d.navigator.sendBeacon(e.v.toString(),"")}catch(r){}!n&&d.Image&&((new Image).src=e.v,n=!0),n||(e.g=ur(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ke(e)}cr(t)}function Wn(t){t.g&&(nr(t),t.g.cancel(),t.g=null)}function Kn(t){Wn(t),t.u&&(d.clearTimeout(t.u),t.u=null),ir(t),t.i.cancel(),t.m&&("number"===typeof t.m&&d.clearTimeout(t.m),t.m=null)}function Yn(t){if(!hn(t.i)&&!t.m){t.m=!0;var e=t.Na;jt||Lt(),Rt||(jt(),Rt=!0),Nt.add(e,t),t.C=0}}function Qn(t,e){return!(dn(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.j=e.F.concat(t.j),!0):!(1==t.H||2==t.H||t.C>=(t.cb?0:t.eb))&&(t.m=ae(w(t.Na,t,e),sr(t,t.C)),t.C++,!0))}function Xn(t,e){var n;n=e?e.m:t.W++;const r=Be(t.I);qe(r,"SID",t.K),qe(r,"RID",n),qe(r,"AID",t.V),Jn(t,r),t.o&&t.s&&zn(r,t.o,t.s),n=new ye(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Zn(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),pn(t.i,n),Te(n,r,e)}function Jn(t,e){t.na&&et(t.na,(function(t,n){qe(e,n,t)})),t.h&&Le({},(function(t,n){qe(e,n,t)}))}function Zn(t,e,n){n=Math.min(t.j.length,n);var r=t.h?w(t.h.Va,t.h,t):null;t:{var i=t.j;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=e,0>n)e=Math.max(0,i[s].g-100),o=!1;else try{bn(a,t,"req"+n+"_")}catch(ci){r&&r(a)}}if(o){r=t.join("&");break t}}}return t=t.j.splice(0,n),e.F=t,r}function tr(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;jt||Lt(),Rt||(jt(),Rt=!0),Nt.add(e,t),t.A=0}}function er(t){return!(t.g||t.u||3<=t.A)&&(t.ba++,t.u=ae(w(t.Ma,t),sr(t,t.A)),t.A++,!0)}function nr(t){null!=t.B&&(d.clearTimeout(t.B),t.B=null)}function rr(t){t.g=new ye(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Be(t.wa);qe(e,"RID","rpc"),qe(e,"SID",t.K),qe(e,"AID",t.V),qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&qe(e,"TO",t.qa),qe(e,"TYPE","xmlhttp"),Jn(t,e),t.o&&t.s&&zn(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=He(Be(e)),n.s=null,n.S=!0,Se(n,t)}function ir(t){null!=t.v&&(d.clearTimeout(t.v),t.v=null)}function or(t,e){var n=null;if(t.g==e){ir(t),nr(t),t.g=null;var r=2}else{if(!fn(t.i,e))return;n=e.F,mn(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=ee(),Tt(r,new se(r,n)),Yn(t)}else tr(t);else if(i=e.o,3==i||0==i&&0<e.ca||!(1==r&&Qn(t,e)||2==r&&er(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ar(t,5);break;case 4:ar(t,10);break;case 3:ar(t,6);break;default:ar(t,2)}}function sr(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ar(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=w(t.pb,t);n||(n=new $e("//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||Ve(n,"https"),He(n)),wn(n.toString(),r)}else oe(2);t.H=0,t.h&&t.h.za(e),cr(t),Kn(t)}function cr(t){if(t.H=0,t.ma=[],t.h){const e=gn(t.i);0==e.length&&0==t.j.length||(E(t.ma,e),E(t.ma,t.j),t.i.i.length=0,I(t.j),t.j.length=0),t.h.ya()}}function lr(t,e,n){var r=n instanceof $e?Be(n):new $e(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Ue(r,r.m);else{var i=d.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new $e(null);r&&Ve(o,r),e&&(o.g=e),i&&Ue(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&qe(r,n,e),qe(r,"VER",t.ra),Jn(t,r),r}function ur(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Pn(new On({ob:!0})):new Pn(t.va),e.Oa(t.J),e}function hr(){}function dr(){if(M&&!(10<=Number(K)))throw Error("Environmental error: no available transport.")}function fr(t,e){Ot.call(this),this.g=new Hn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!x(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!x(e)&&(this.g.F=e,t=this.h,null!==t&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new gr(this)}function pr(t){me.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function mr(){ge.call(this),this.status=1}function gr(t){this.g=t}function vr(){this.blockSize=-1}function yr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function br(t,e,n){n||(n=0);var r=Array(16);if("string"===typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function wr(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}r=Pn.prototype,r.Oa=function(t){this.M=t},r.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():fe.g(),this.C=this.u?he(this.u):he(fe),this.g.onreadystatechange=w(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void Rn(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const t of r.keys())n.set(t,r.get(t))}r=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),i=d.FormData&&t instanceof d.FormData,!(0<=C(An,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Mn(this),0<this.B&&((this.L=jn(this.g))?(this.g.timeout=this.B,this.g.ontimeout=w(this.ua,this)):this.A=Bt(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Rn(this,o)}},r.ua=function(){"undefined"!=typeof h&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tt(this,"timeout"),this.abort(8))},r.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tt(this,"complete"),Tt(this,"abort"),Fn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fn(this,!0)),Pn.$.N.call(this)},r.La=function(){this.s||(this.G||this.v||this.l?Ln(this):this.kb())},r.kb=function(){Ln(this)},r.isActive=function(){return!!this.g},r.da=function(){try{return 2<$n(this)?this.g.status:-1}catch(t){return-1}},r.ja=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},r.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),kn(e)}},r.Ia=function(){return this.m},r.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},r=Hn.prototype,r.ra=8,r.H=1,r.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ye(this,this.l,t);let o=this.s;if(this.U&&(o?(o=rt(o),ot(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)t:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(r="__data__"in r.map&&(r=r.map.__data__,"string"===typeof r)?r.length:void 0,void 0===r)break;if(e+=r,4096<e){e=n;break t}if(4096===e||n===this.j.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=Zn(this,i,e),n=Be(this.I),qe(n,"RID",t),qe(n,"CVER",22),this.F&&qe(n,"X-HTTP-Session-Id",this.F),Jn(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(Un(o)))+"&"+e:this.o&&zn(n,this.o,o)),pn(this.i,i),this.bb&&qe(n,"TYPE","init"),this.P?(qe(n,"$req",e),qe(n,"SID","null"),i.aa=!0,Te(i,n,null)):Te(i,n,e),this.H=2}}else 3==this.H&&(t?Xn(this,t):0==this.j.length||hn(this.i)||Xn(this))},r.Ma=function(){if(this.u=null,rr(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ae(w(this.jb,this),t)}},r.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,oe(10),Wn(this),rr(this))},r.ib=function(){null!=this.v&&(this.v=null,Wn(this),er(this),oe(19))},r.pb=function(t){t?(this.l.info("Successfully pinged google.com"),oe(2)):(this.l.info("Failed to ping google.com"),oe(1))},r.isActive=function(){return!!this.h&&this.h.isActive(this)},r=hr.prototype,r.Ba=function(){},r.Aa=function(){},r.za=function(){},r.ya=function(){},r.isActive=function(){return!0},r.Va=function(){},dr.prototype.g=function(t,e){return new fr(t,e)},O(fr,Ot),fr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;oe(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=lr(t,null,t.Y),Yn(t)},fr.prototype.close=function(){Gn(this.g)},fr.prototype.u=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ct(t),t=n);e.j.push(new cn(e.fb++,t)),3==e.H&&Yn(e)},fr.prototype.N=function(){this.g.h=null,delete this.j,Gn(this.g),delete this.g,fr.$.N.call(this)},O(pr,me),O(mr,ge),O(gr,hr),gr.prototype.Ba=function(){Tt(this.g,"a")},gr.prototype.Aa=function(t){Tt(this.g,new pr(t))},gr.prototype.za=function(t){Tt(this.g,new mr)},gr.prototype.ya=function(){Tt(this.g,"b")},O(yr,vr),yr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},yr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)br(this,t,o),o+=this.blockSize;if("string"===typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){br(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){br(this,r),i=0;break}}this.h=i,this.i+=e},yr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var _r={};function Or(t){return-128<=t&&128>t?R(t,(function(t){return new wr([0|t],0>t?-1:0)})):new wr([0|t],0>t?-1:0)}function Tr(t){if(isNaN(t)||!isFinite(t))return Ir;if(0>t)return Dr(Tr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Cr;return new wr(e,0)}function Sr(t,e){if(0==t.length)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Dr(Sr(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Tr(Math.pow(e,8)),r=Ir,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Tr(Math.pow(e,o)),r=r.R(o).add(Tr(s))):(r=r.R(n),r=r.add(Tr(s)))}return r}var Cr=4294967296,Ir=Or(0),Er=Or(1),kr=Or(16777216);function Pr(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function xr(t){return-1==t.h}function Dr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new wr(n,~t.h).add(Er)}function Ar(t,e){return t.add(Dr(e))}function jr(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Rr(t,e){this.g=t,this.h=e}function Nr(t,e){if(Pr(e))throw Error("division by zero");if(Pr(t))return new Rr(Ir,Ir);if(xr(t))return e=Nr(Dr(t),e),new Rr(Dr(e.g),Dr(e.h));if(xr(e))return e=Nr(t,Dr(e)),new Rr(Dr(e.g),e.h);if(30<t.g.length){if(xr(t)||xr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Er,r=e;0>=r.X(t);)n=Lr(n),r=Lr(r);var i=Fr(n,1),o=Fr(r,1);for(r=Fr(r,2),n=Fr(n,2);!Pr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Fr(r,1),n=Fr(n,1)}return e=Ar(t,i.R(e)),new Rr(i,e)}for(i=Ir;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Tr(n),s=o.R(e);xr(s)||0<s.X(t);)n-=r,o=Tr(n),s=o.R(e);Pr(o)&&(o=Er),i=i.add(o),t=Ar(t,s)}return new Rr(i,t)}function Lr(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new wr(n,t.h)}function Fr(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new wr(i,t.h)}r=wr.prototype,r.ea=function(){if(xr(this))return-Dr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Cr+r)*e,e*=Cr}return t},r.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Pr(this))return"0";if(xr(this))return"-"+Dr(this).toString(t);for(var e=Tr(Math.pow(t,6)),n=this,r="";;){var i=Nr(n,e).g;n=Ar(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Pr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},r.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},r.X=function(t){return t=Ar(this,t),xr(t)?-1:Pr(t)?0:1},r.abs=function(){return xr(this)?Dr(this):this},r.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new wr(n,-2147483648&n[n.length-1]?-1:0)},r.R=function(t){if(Pr(this)||Pr(t))return Ir;if(xr(this))return xr(t)?Dr(this).R(Dr(t)):Dr(Dr(this).R(t));if(xr(t))return Dr(this.R(Dr(t)));if(0>this.X(kr)&&0>t.X(kr))return Tr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=s*c,jr(n,2*r+2*i),n[2*r+2*i+1]+=o*c,jr(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,jr(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,jr(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new wr(n,0)},r.gb=function(t){return Nr(this,t).h},r.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new wr(n,this.h&t.h)},r.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new wr(n,this.h|t.h)},r.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new wr(n,this.h^t.h)},dr.prototype.createWebChannel=dr.prototype.g,fr.prototype.send=fr.prototype.u,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,ce.NO_ERROR=0,ce.TIMEOUT=8,ce.HTTP_ERROR=6,le.COMPLETE="complete",de.EventType=pe,pe.OPEN="a",pe.CLOSE="b",pe.ERROR="c",pe.MESSAGE="d",Ot.prototype.listen=Ot.prototype.O,Pn.prototype.listenOnce=Pn.prototype.P,Pn.prototype.getLastError=Pn.prototype.Sa,Pn.prototype.getLastErrorCode=Pn.prototype.Ia,Pn.prototype.getStatus=Pn.prototype.da,Pn.prototype.getResponseJson=Pn.prototype.Wa,Pn.prototype.getResponseText=Pn.prototype.ja,Pn.prototype.send=Pn.prototype.ha,Pn.prototype.setWithCredentials=Pn.prototype.Oa,yr.prototype.digest=yr.prototype.l,yr.prototype.reset=yr.prototype.reset,yr.prototype.update=yr.prototype.j,wr.prototype.add=wr.prototype.add,wr.prototype.multiply=wr.prototype.R,wr.prototype.modulo=wr.prototype.gb,wr.prototype.compare=wr.prototype.X,wr.prototype.toNumber=wr.prototype.ea,wr.prototype.toString=wr.prototype.toString,wr.prototype.getBits=wr.prototype.D,wr.fromNumber=Tr,wr.fromString=Sr;var Mr=u.createWebChannelTransport=function(){return new dr},$r=u.getStatEventTarget=function(){return ee()},Br=u.ErrorCode=ce,Vr=u.EventType=le,Ur=u.Event=Zt,zr=u.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qr=u.FetchXmlHttpFactory=On,Hr=u.WebChannel=de,Gr=u.XhrIo=Pn,Wr=u.Md5=yr,Kr=u.Integer=wr;const Yr="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qr.UNAUTHENTICATED=new Qr(null),Qr.GOOGLE_CREDENTIALS=new Qr("google-credentials-uid"),Qr.FIRST_PARTY=new Qr("first-party-uid"),Qr.MOCK_USER=new Qr("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Xr="9.23.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new a.Vy("@firebase/firestore");function Zr(){return Jr.logLevel}function ti(t){Jr.setLogLevel(t)}function ei(t,...e){if(Jr.logLevel<=a.$b.DEBUG){const n=e.map(ii);Jr.debug(`Firestore (${Xr}): ${t}`,...n)}}function ni(t,...e){if(Jr.logLevel<=a.$b.ERROR){const n=e.map(ii);Jr.error(`Firestore (${Xr}): ${t}`,...n)}}function ri(t,...e){if(Jr.logLevel<=a.$b.WARN){const n=e.map(ii);Jr.warn(`Firestore (${Xr}): ${t}`,...n)}}function ii(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t="Unexpected state"){const e=`FIRESTORE (${Xr}) INTERNAL ASSERTION FAILED: `+t;throw ni(e),new Error(e)}function si(t,e){t||oi()}function ai(t,e){t||oi()}function ci(t,e){return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ui extends c.g{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class fi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Qr.UNAUTHENTICATED)))}shutdown(){}}class pi{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class mi{constructor(t){this.t=t,this.currentUser=Qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new hi,t.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await r(this.currentUser)}))},s=t=>{ei("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((t=>s(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?s(t):(ei("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new hi)}}),0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(ei("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(si("string"==typeof e.accessToken),new di(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return si(null===t||"string"==typeof t),new Qr(t)}}class gi{constructor(t,e,n){this.h=t,this.l=e,this.m=n,this.type="FirstParty",this.user=Qr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class vi{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new gi(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable((()=>e(Qr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yi{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bi{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const n=t=>{null!=t.error&&ei("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.T;return this.T=t.token,ei("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const r=t=>{ei("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.I.onInit((t=>r(t))),setTimeout((()=>{if(!this.appCheck){const t=this.I.getImmediate({optional:!0});t?r(t):ei("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(si("string"==typeof t.token),this.T=t.token,new yi(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function wi(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const r=wi(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length))}return n}}function Oi(t,e){return t<e?-1:t>e?1:0}function Ti(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}function Si(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ui(li.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ui(li.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ui(li.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ui(li.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ci.fromMillis(Date.now())}static fromDate(t){return Ci.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Ci(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Oi(this.nanoseconds,t.nanoseconds):Oi(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ii(t)}static min(){return new Ii(new Ci(0,0))}static max(){return new Ii(new Ci(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(t,e,n){void 0===e?e=0:e>t.length&&oi(),void 0===n?n=t.length-e:n>t.length-e&&oi(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Ei.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ki extends Ei{construct(t,e,n){return new ki(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new ui(li.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new ki(e)}static emptyPath(){return new ki([])}}const Pi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xi extends Ei{construct(t,e,n){return new xi(t,e,n)}static isValidIdentifier(t){return Pi.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xi.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xi(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ui(li.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let o=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new ui(li.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new ui(li.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(o=!o,r++):"."!==e||o?(n+=e,r++):(i(),r++)}if(i(),o)throw new ui(li.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new xi(e)}static emptyPath(){return new xi([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t){this.path=t}static fromPath(t){return new Di(ki.fromString(t))}static fromName(t){return new Di(ki.fromString(t).popFirst(5))}static empty(){return new Di(ki.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ki.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ki.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Di(new ki(t.slice()))}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}}function ji(t){return t.fields.find((t=>2===t.kind))}function Ri(t){return t.fields.filter((t=>2!==t.kind))}Ai.UNKNOWN_ID=-1;class Ni{constructor(t,e){this.fieldPath=t,this.kind=e}}class Li{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Li(0,$i.min())}}function Fi(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ii.fromTimestamp(1e9===r?new Ci(n+1,0):new Ci(n,r));return new $i(i,Di.empty(),e)}function Mi(t){return new $i(t.readTime,t.key,-1)}class $i{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new $i(Ii.min(),Di.empty(),-1)}static max(){return new $i(Ii.max(),Di.empty(),-1)}}function Bi(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Di.comparator(t.documentKey,e.documentKey),0!==n?n:Oi(t.largestBatchId,e.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}const Vi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ui{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zi(t){if(t.code!==li.FAILED_PRECONDITION||t.message!==Vi)throw t;ei("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&oi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new qi(((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof qi?e:qi.resolve(e)}catch(t){return qi.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):qi.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):qi.reject(e)}static resolve(t){return new qi(((e,n)=>{e(t)}))}static reject(t){return new qi(((e,n)=>{n(t)}))}static waitFor(t){return new qi(((e,n)=>{let r=0,i=0,o=!1;t.forEach((t=>{++r,t.next((()=>{++i,o&&i===r&&e()}),(t=>n(t)))})),o=!0,i===r&&e()}))}static or(t){let e=qi.resolve(!1);for(const n of t)e=e.next((t=>t?qi.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,r)=>{n.push(e.call(this,t,r))})),this.waitFor(n)}static mapArray(t,e){return new qi(((n,r)=>{const i=t.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const c=a;e(t[c]).next((t=>{o[c]=t,++s,s===i&&n(o)}),(t=>r(t)))}}))}static doWhile(t,e){return new qi(((n,r)=>{const i=()=>{!0===t()?e().next((()=>{i()}),r):n()};i()}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new hi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new Ki(t,e.error)):this.v.resolve()},this.transaction.onerror=e=>{const n=Zi(e.target.error);this.v.reject(new Ki(t,n))}}static open(t,e,n,r){try{return new Hi(e,t.transaction(r,n))}catch(t){throw new Ki(e,t)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(ei("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Qi(e)}}class Gi{constructor(t,e,n){this.name=t,this.version=e,this.V=n,12.2===Gi.S((0,c.ZQ)())&&ni("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return ei("SimpleDb","Removing database:",t),Xi(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,c.zW)())return!1;if(Gi.C())return!0;const t=(0,c.ZQ)(),e=Gi.S(t),n=0<e&&e<10,r=Gi.N(t),i=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||i)}static C(){var t;return"undefined"!=typeof process&&"YES"===(null===(t={NODE_ENV:"production",BASE_URL:"/"})||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async $(t){return this.db||(ei("SimpleDb","Opening database:",this.name),this.db=await new Promise(((e,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=t=>{const n=t.target.result;e(n)},r.onblocked=()=>{n(new Ki(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=e=>{const r=e.target.error;"VersionError"===r.name?n(new ui(li.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new ui(li.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Ki(t,r))},r.onupgradeneeded=t=>{ei("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',t.oldVersion);const e=t.target.result;this.V.O(e,r.transaction,t.oldVersion,this.version).next((()=>{ei("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.F&&(this.db.onversionchange=t=>this.F(t)),this.db}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,n,r){const i="readonly"===e;let o=0;for(;;){++o;try{this.db=await this.$(t);const e=Hi.open(this.db,t,i?"readonly":"readwrite",n),o=r(e).next((t=>(e.P(),t))).catch((t=>(e.abort(t),qi.reject(t)))).toPromise();return o.catch((()=>{})),await e.R,o}catch(t){const e=t,n="FirebaseError"!==e.name&&o<3;if(ei("SimpleDb","Transaction failed with error:",e.message,"Retrying:",n),this.close(),!n)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Wi{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Xi(this.L.delete())}}class Ki extends ui{constructor(t,e){super(li.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Yi(t){return"IndexedDbTransactionError"===t.name}class Qi{constructor(t){this.store=t}put(t,e){let n;return void 0!==e?(ei("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ei("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Xi(n)}add(t){return ei("SimpleDb","ADD",this.store.name,t,t),Xi(this.store.add(t))}get(t){return Xi(this.store.get(t)).next((e=>(void 0===e&&(e=null),ei("SimpleDb","GET",this.store.name,t,e),e)))}delete(t){return ei("SimpleDb","DELETE",this.store.name,t),Xi(this.store.delete(t))}count(){return ei("SimpleDb","COUNT",this.store.name),Xi(this.store.count())}j(t,e){const n=this.options(t,e);if(n.index||"function"!=typeof this.store.getAll){const t=this.cursor(n),e=[];return this.W(t,((t,n)=>{e.push(n)})).next((()=>e))}{const t=this.store.getAll(n.range);return new qi(((e,n)=>{t.onerror=t=>{n(t.target.error)},t.onsuccess=t=>{e(t.target.result)}}))}}H(t,e){const n=this.store.getAll(t,null===e?void 0:e);return new qi(((t,e)=>{n.onerror=t=>{e(t.target.error)},n.onsuccess=e=>{t(e.target.result)}}))}J(t,e){ei("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,e);n.Y=!1;const r=this.cursor(n);return this.W(r,((t,e,n)=>n.delete()))}X(t,e){let n;e?n=t:(n={},e=t);const r=this.cursor(n);return this.W(r,e)}Z(t){const e=this.cursor({});return new qi(((n,r)=>{e.onerror=t=>{const e=Zi(t.target.error);r(e)},e.onsuccess=e=>{const r=e.target.result;r?t(r.primaryKey,r.value).next((t=>{t?r.continue():n()})):n()}}))}W(t,e){const n=[];return new qi(((r,i)=>{t.onerror=t=>{i(t.target.error)},t.onsuccess=t=>{const i=t.target.result;if(!i)return void r();const o=new Wi(i),s=e(i.primaryKey,i.value,o);if(s instanceof qi){const t=s.catch((t=>(o.done(),qi.reject(t))));n.push(t)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>qi.waitFor(n)))}options(t,e){let n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.Y?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Xi(t){return new qi(((e,n)=>{t.onsuccess=t=>{const n=t.target.result;e(n)},t.onerror=t=>{const e=Zi(t.target.error);n(e)}}))}let Ji=!1;function Zi(t){const e=Gi.S((0,c.ZQ)());if(e>=12.2&&e<13){const e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){const t=new ui("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ji||(Ji=!0,setTimeout((()=>{throw t}),0)),t}}return t}class to{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){ei("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{ei("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(t){Yi(t)?ei("IndexBackiller","Ignoring IndexedDB error during index backfill: ",t):await zi(t)}await this.et(6e4)}))}}class eo{constructor(t,e){this.localStore=t,this.persistence=e}async nt(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(e=>this.st(e,t)))}st(t,e){const n=new Set;let r=e,i=!0;return qi.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((e=>{if(null!==e&&!n.has(e))return ei("IndexBackiller",`Processing collection: ${e}`),this.it(t,e,r).next((t=>{r-=t,n.add(e)}));i=!1})))).next((()=>e-r))}it(t,e,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next((r=>this.localStore.localDocuments.getNextDocuments(t,e,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(t,i).next((()=>this.rt(r,n))).next((n=>(ei("IndexBackiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(t,e,n)))).next((()=>i.size))}))))}rt(t,e){let n=t;return e.changes.forEach(((t,e)=>{const r=Mi(e);Bi(r,n)>0&&(n=r)})),new $i(n.readTime,n.documentKey,Math.max(e.batchId,t.largestBatchId))}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ot(t),this.ut=t=>e.writeSequenceNumber(t))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}function ro(t){return null==t}function io(t){return 0===t&&1/t==-1/0}function oo(t){return"number"==typeof t&&Number.isInteger(t)&&!io(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=co(e)),e=ao(t.get(n),e);return co(e)}function ao(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const e=t.charAt(i);switch(e){case"\0":n+="";break;case"":n+="";break;default:n+=e}}return n}function co(t){return t+""}function lo(t){const e=t.length;if(si(e>=2),2===e)return si(""===t.charAt(0)&&""===t.charAt(1)),ki.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const e=t.indexOf("",o);switch((e<0||e>n)&&oi(),t.charAt(e+1)){case"":const n=t.substring(o,e);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"":i+=t.substring(o,e),i+="\0";break;case"":i+=t.substring(o,e+1);break;default:oi()}o=e+2}return new ki(r)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */no.ct=-1;const uo=["userId","batchId"];
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t,e){return[t,so(e)]}function fo(t,e,n){return[t,so(e),n]}const po={},mo=["prefixPath","collectionGroup","readTime","documentId"],go=["prefixPath","collectionGroup","documentId"],vo=["collectionGroup","readTime","prefixPath","documentId"],yo=["canonicalId","targetId"],bo=["targetId","path"],wo=["path","targetId"],_o=["collectionId","parent"],Oo=["indexId","uid"],To=["uid","sequenceNumber"],So=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Co=["indexId","uid","orderedDocumentKey"],Io=["userId","collectionPath","documentId"],Eo=["userId","collectionPath","largestBatchId"],ko=["userId","collectionGroup","largestBatchId"],Po=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],xo=[...Po,"documentOverlays"],Do=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ao=Do,jo=[...Ao,"indexConfiguration","indexState","indexEntries"];
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends Ui{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function No(t,e){const n=ci(t);return Gi.M(n.ht,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Mo(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t,e){this.comparator=t,this.root=e||Vo.EMPTY}insert(t,e){return new $o(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Vo.BLACK,null,null))}remove(t){return new $o(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Vo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Bo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Bo(this.root,t,this.comparator,!1)}getReverseIterator(){return new Bo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Bo(this.root,t,this.comparator,!0)}}class Bo{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Vo{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Vo.RED,this.left=null!=r?r:Vo.EMPTY,this.right=null!=i?i:Vo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new Vo(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Vo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Vo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Vo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Vo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oi();if(this.right.isRed())throw oi();const t=this.left.check();if(t!==this.right.check())throw oi();return t+(this.isRed()?0:1)}}Vo.EMPTY=null,Vo.RED=!0,Vo.BLACK=!1,Vo.EMPTY=new class{constructor(){this.size=0}get key(){throw oi()}get value(){throw oi()}get color(){throw oi()}get left(){throw oi()}get right(){throw oi()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Vo(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Uo{constructor(t){this.comparator=t,this.data=new $o(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new zo(this.data.getIterator())}getIteratorFrom(t){return new zo(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Uo))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Uo(this.comparator);return e.data=t,e}}class zo{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function qo(t){return t.hasNext()?t.getNext():void 0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(t){this.fields=t,t.sort(xi.comparator)}static empty(){return new Ho([])}unionWith(t){let e=new Uo(xi.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new Ho(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ti(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(){return"undefined"!=typeof atob}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new Go("Invalid base64 string: "+t):t}}(t);return new Ko(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new Ko(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Oi(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ko.EMPTY_BYTE_STRING=new Ko("");const Yo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qo(t){if(si(!!t),"string"==typeof t){let e=0;const n=Yo.exec(t);if(si(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xo(t.seconds),nanos:Xo(t.nanos)}}function Xo(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Jo(t){return"string"==typeof t?Ko.fromBase64String(t):Ko.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ts(t){const e=t.mapValue.fields.__previous_value__;return Zo(e)?ts(e):e}function es(t){const e=Qo(t.mapValue.fields.__local_write_time__.timestampValue);return new Ci(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t,e,n,r,i,o,s,a,c){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=c}}class rs{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new rs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof rs&&t.projectId===this.projectId&&t.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},os={nullValue:"NULL_VALUE"};function ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zo(t)?4:ws(t)?9007199254740991:10:oi()}function as(t,e){if(t===e)return!0;const n=ss(t);if(n!==ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return es(t).isEqual(es(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=Qo(t.timestampValue),r=Qo(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Jo(t.bytesValue).isEqual(Jo(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Xo(t.geoPointValue.latitude)===Xo(e.geoPointValue.latitude)&&Xo(t.geoPointValue.longitude)===Xo(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Xo(t.integerValue)===Xo(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=Xo(t.doubleValue),r=Xo(e.doubleValue);return n===r?io(n)===io(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ti(t.arrayValue.values||[],e.arrayValue.values||[],as);case 10:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Lo(n)!==Lo(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!as(n[i],r[i])))return!1;return!0}(t,e);default:return oi()}}function cs(t,e){return void 0!==(t.values||[]).find((t=>as(t,e)))}function ls(t,e){if(t===e)return 0;const n=ss(t),r=ss(e);if(n!==r)return Oi(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oi(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=Xo(t.integerValue||t.doubleValue),r=Xo(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return us(t.timestampValue,e.timestampValue);case 4:return us(es(t),es(e));case 5:return Oi(t.stringValue,e.stringValue);case 6:return function(t,e){const n=Jo(t),r=Jo(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){const t=Oi(n[i],r[i]);if(0!==t)return t}return Oi(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=Oi(Xo(t.latitude),Xo(e.latitude));return 0!==n?n:Oi(Xo(t.longitude),Xo(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const t=ls(n[i],r[i]);if(t)return t}return Oi(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===is.mapValue&&e===is.mapValue)return 0;if(t===is.mapValue)return 1;if(e===is.mapValue)return-1;const n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const t=Oi(r[s],o[s]);if(0!==t)return t;const e=ls(n[r[s]],i[o[s]]);if(0!==e)return e}return Oi(r.length,o.length)}(t.mapValue,e.mapValue);default:throw oi()}}function us(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Oi(t,e);const n=Qo(t),r=Qo(e),i=Oi(n.seconds,r.seconds);return 0!==i?i:Oi(n.nanos,r.nanos)}function hs(t){return ds(t)}function ds(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=Qo(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Jo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Di.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=ds(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+=`${i}:${ds(t.fields[i])}`;return n+"}"}(t.mapValue):oi();var e,n}function fs(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ps(t){return!!t&&"integerValue"in t}function ms(t){return!!t&&"arrayValue"in t}function gs(t){return!!t&&"nullValue"in t}function vs(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ys(t){return!!t&&"mapValue"in t}function bs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fo(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=bs(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ws(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function _s(t){return"nullValue"in t?os:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?fs(rs.empty(),Di.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:oi()}function Os(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?fs(rs.empty(),Di.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?is:oi()}function Ts(t,e){const n=ls(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Ss(t,e){const n=ls(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t){this.value=t}static empty(){return new Cs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!ys(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=bs(e)}setAll(t){let e=xi.emptyPath(),n={},r=[];t.forEach(((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=bs(t):r.push(i.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());ys(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return as(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];ys(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Fo(e,((e,n)=>t[e]=n));for(const r of n)delete t[r]}clone(){return new Cs(bs(this.value))}}function Is(t){const e=[];return Fo(t.fields,((t,n)=>{const r=new xi([t]);if(ys(n)){const t=Is(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)})),new Ho(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Es{constructor(t,e,n,r,i,o,s){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(t){return new Es(t,0,Ii.min(),Ii.min(),Ii.min(),Cs.empty(),0)}static newFoundDocument(t,e,n,r){return new Es(t,1,e,Ii.min(),n,r,0)}static newNoDocument(t,e){return new Es(t,2,e,Ii.min(),Ii.min(),Cs.empty(),0)}static newUnknownDocument(t,e){return new Es(t,3,e,Ii.min(),Ii.min(),Cs.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ii.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Cs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Cs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ii.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Es&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Es(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t,e){this.position=t,this.inclusive=e}}function Ps(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Di.comparator(Di.fromName(s.referenceValue),n.key):ls(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function xs(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!as(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t,e="asc"){this.field=t,this.dir=e}}function As(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{}class Rs extends js{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new qs(t,e,n):"array-contains"===e?new Ks(t,n):"in"===e?new Ys(t,n):"not-in"===e?new Qs(t,n):"array-contains-any"===e?new Xs(t,n):new Rs(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new Hs(t,n):new Gs(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(ls(e,this.value)):null!==e&&ss(this.value)===ss(e)&&this.matchesComparison(ls(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return oi()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ns extends js{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new Ns(t,e)}matches(t){return Ls(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft((t=>t.isInequality()));return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function Ls(t){return"and"===t.op}function Fs(t){return"or"===t.op}function Ms(t){return $s(t)&&Ls(t)}function $s(t){for(const e of t.filters)if(e instanceof Ns)return!1;return!0}function Bs(t){if(t instanceof Rs)return t.field.canonicalString()+t.op.toString()+hs(t.value);if(Ms(t))return t.filters.map((t=>Bs(t))).join(",");{const e=t.filters.map((t=>Bs(t))).join(",");return`${t.op}(${e})`}}function Vs(t,e){return t instanceof Rs?function(t,e){return e instanceof Rs&&t.op===e.op&&t.field.isEqual(e.field)&&as(t.value,e.value)}(t,e):t instanceof Ns?function(t,e){return e instanceof Ns&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,r)=>t&&Vs(n,e.filters[r])),!0)}(t,e):void oi()}function Us(t,e){const n=t.filters.concat(e);return Ns.create(n,t.op)}function zs(t){return t instanceof Rs?function(t){return`${t.field.canonicalString()} ${t.op} ${hs(t.value)}`}(t):t instanceof Ns?function(t){return t.op.toString()+" {"+t.getFilters().map(zs).join(" ,")+"}"}(t):"Filter"}class qs extends Rs{constructor(t,e,n){super(t,e,n),this.key=Di.fromName(n.referenceValue)}matches(t){const e=Di.comparator(t.key,this.key);return this.matchesComparison(e)}}class Hs extends Rs{constructor(t,e){super(t,"in",e),this.keys=Ws("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Gs extends Rs{constructor(t,e){super(t,"not-in",e),this.keys=Ws("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Ws(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>Di.fromName(t.referenceValue)))}class Ks extends Rs{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ms(e)&&cs(e.arrayValue,this.value)}}class Ys extends Rs{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&cs(this.value.arrayValue,e)}}class Qs extends Rs{constructor(t,e){super(t,"not-in",e)}matches(t){if(cs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!cs(this.value.arrayValue,e)}}class Xs extends Rs{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ms(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>cs(this.value.arrayValue,t)))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,e=null,n=[],r=[],i=null,o=null,s=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.dt=null}}function Zs(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Js(t,e,n,r,i,o,s)}function ta(t){const e=ci(t);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>Bs(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),ro(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>hs(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>hs(t))).join(",")),e.dt=t}return e.dt}function ea(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!As(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Vs(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xs(t.startAt,e.startAt)&&xs(t.endAt,e.endAt)}function na(t){return Di.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function ra(t,e){return t.filters.filter((t=>t instanceof Rs&&t.field.isEqual(e)))}function ia(t,e,n){let r=os,i=!0;for(const o of ra(t,e)){let t=os,e=!0;switch(o.op){case"<":case"<=":t=_s(o.value);break;case"==":case"in":case">=":t=o.value;break;case">":t=o.value,e=!1;break;case"!=":case"not-in":t=os}Ts({value:r,inclusive:i},{value:t,inclusive:e})<0&&(r=t,i=e)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const t=n.position[o];Ts({value:r,inclusive:i},{value:t,inclusive:n.inclusive})<0&&(r=t,i=n.inclusive);break}return{value:r,inclusive:i}}function oa(t,e,n){let r=is,i=!0;for(const o of ra(t,e)){let t=is,e=!0;switch(o.op){case">=":case">":t=Os(o.value),e=!1;break;case"==":case"in":case"<=":t=o.value;break;case"<":t=o.value,e=!1;break;case"!=":case"not-in":t=is}Ss({value:r,inclusive:i},{value:t,inclusive:e})>0&&(r=t,i=e)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const t=n.position[o];Ss({value:r,inclusive:i},{value:t,inclusive:n.inclusive})>0&&(r=t,i=n.inclusive);break}return{value:r,inclusive:i}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t,e=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function aa(t,e,n,r,i,o,s,a){return new sa(t,e,n,r,i,o,s,a)}function ca(t){return new sa(t)}function la(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function ua(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ha(t){for(const e of t.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function da(t){return null!==t.collectionGroup}function fa(t){const e=ci(t);if(null===e.wt){e.wt=[];const t=ha(e),n=ua(e);if(null!==t&&null===n)t.isKeyField()||e.wt.push(new Ds(t)),e.wt.push(new Ds(xi.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.wt.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ds(xi.keyField(),t))}}}return e.wt}function pa(t){const e=ci(t);if(!e._t)if("F"===e.limitType)e._t=Zs(e.path,e.collectionGroup,fa(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const i of fa(e)){const e="desc"===i.dir?"asc":"desc";t.push(new Ds(i.field,e))}const n=e.endAt?new ks(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ks(e.startAt.position,e.startAt.inclusive):null;e._t=Zs(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}return e._t}function ma(t,e){e.getFirstInequalityField(),ha(t);const n=t.filters.concat([e]);return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ga(t,e,n){return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function va(t,e){return ea(pa(t),pa(e))&&t.limitType===e.limitType}function ya(t){return`${ta(pa(t))}|lt:${t.limitType}`}function ba(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>zs(t))).join(", ")}]`),ro(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>hs(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>hs(t))).join(",")),`Target(${e})`}(pa(t))}; limitType=${t.limitType})`}function wa(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Di.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of fa(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const r=Ps(t,e,n);return t.inclusive?r<=0:r<0}(t.startAt,fa(t),e))&&!(t.endAt&&!function(t,e,n){const r=Ps(t,e,n);return t.inclusive?r>=0:r>0}(t.endAt,fa(t),e))}(t,e)}function _a(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Oa(t){return(e,n)=>{let r=!1;for(const i of fa(t)){const t=Ta(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function Ta(t,e,n){const r=t.field.isKeyField()?Di.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?ls(r,i):oi()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oi()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Fo(this.inner,((e,n)=>{for(const[r,i]of n)t(r,i)}))}isEmpty(){return Mo(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new $o(Di.comparator);function Ia(){return Ca}const Ea=new $o(Di.comparator);function ka(...t){let e=Ea;for(const n of t)e=e.insert(n.key,n);return e}function Pa(t){let e=Ea;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function xa(){return Aa()}function Da(){return Aa()}function Aa(){return new Sa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const ja=new $o(Di.comparator),Ra=new Uo(Di.comparator);function Na(...t){let e=Ra;for(const n of t)e=e.add(n);return e}const La=new Uo(Oi);function Fa(){return La}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:io(e)?"-0":e}}function $a(t){return{integerValue:""+t}}function Ba(t,e){return oo(e)?$a(e):Ma(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){this._=void 0}}function Ua(t,e,n){return t instanceof Ha?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&Zo(e)&&(e=ts(e)),e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ga?Wa(t,e):t instanceof Ka?Ya(t,e):function(t,e){const n=qa(t,e),r=Xa(n)+Xa(t.gt);return ps(n)&&ps(t.gt)?$a(r):Ma(t.serializer,r)}(t,e)}function za(t,e,n){return t instanceof Ga?Wa(t,e):t instanceof Ka?Ya(t,e):n}function qa(t,e){return t instanceof Qa?ps(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class Ha extends Va{}class Ga extends Va{constructor(t){super(),this.elements=t}}function Wa(t,e){const n=Ja(e);for(const r of t.elements)n.some((t=>as(t,r)))||n.push(r);return{arrayValue:{values:n}}}class Ka extends Va{constructor(t){super(),this.elements=t}}function Ya(t,e){let n=Ja(e);for(const r of t.elements)n=n.filter((t=>!as(t,r)));return{arrayValue:{values:n}}}class Qa extends Va{constructor(t,e){super(),this.serializer=t,this.gt=e}}function Xa(t){return Xo(t.integerValue||t.doubleValue)}function Ja(t){return ms(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t,e){this.field=t,this.transform=e}}function tc(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ga&&e instanceof Ga||t instanceof Ka&&e instanceof Ka?Ti(t.elements,e.elements,as):t instanceof Qa&&e instanceof Qa?as(t.gt,e.gt):t instanceof Ha&&e instanceof Ha}(t.transform,e.transform)}class ec{constructor(t,e){this.version=t,this.transformResults=e}}class nc{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new nc}static exists(t){return new nc(void 0,t)}static updateTime(t){return new nc(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function rc(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class ic{}function oc(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new mc(t.key,nc.none()):new uc(t.key,t.data,nc.none());{const n=t.data,r=Cs.empty();let i=new Uo(xi.comparator);for(let t of e.fields)if(!i.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?r.delete(t):r.set(t,e),i=i.add(t)}return new hc(t.key,r,new Ho(i.toArray()),nc.none())}}function sc(t,e,n){t instanceof uc?function(t,e,n){const r=t.value.clone(),i=fc(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof hc?function(t,e,n){if(!rc(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=fc(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(dc(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function ac(t,e,n,r){return t instanceof uc?function(t,e,n,r){if(!rc(t.precondition,e))return n;const i=t.value.clone(),o=pc(t.fieldTransforms,r,e);return i.setAll(o),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}(t,e,n,r):t instanceof hc?function(t,e,n,r){if(!rc(t.precondition,e))return n;const i=pc(t.fieldTransforms,r,e),o=e.data;return o.setAll(dc(t)),o.setAll(i),e.convertToFoundDocument(e.version,o).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,r):function(t,e,n){return rc(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function cc(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=qa(r.transform,t||null);null!=i&&(null===n&&(n=Cs.empty()),n.set(r.field,i))}return n||null}function lc(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ti(t,e,((t,e)=>tc(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class uc extends ic{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class hc extends ic{constructor(t,e,n,r,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function dc(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function fc(t,e,n){const r=new Map;si(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,za(s,a,n[i]))}return r}function pc(t,e,n){const r=new Map;for(const i of t){const t=i.transform,o=n.data.field(i.field);r.set(i.field,Ua(t,o,e))}return r}class mc extends ic{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gc extends ic{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&sc(e,t,n[r])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=ac(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=ac(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=Da();return this.mutations.forEach((r=>{const i=t.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=e.has(r.key)?null:s;const a=oc(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Ii.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Na())}isEqual(t){return this.batchId===t.batchId&&Ti(this.mutations,t.mutations,((t,e)=>lc(t,e)))&&Ti(this.baseMutations,t.baseMutations,((t,e)=>lc(t,e)))}}class yc{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){si(t.mutations.length===n.length);let r=ja;const i=t.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new yc(t,e,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class wc{constructor(t,e){this.count=t,this.unchangedNames=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _c,Oc;function Tc(t){switch(t){default:return oi();case li.CANCELLED:case li.UNKNOWN:case li.DEADLINE_EXCEEDED:case li.RESOURCE_EXHAUSTED:case li.INTERNAL:case li.UNAVAILABLE:case li.UNAUTHENTICATED:return!1;case li.INVALID_ARGUMENT:case li.NOT_FOUND:case li.ALREADY_EXISTS:case li.PERMISSION_DENIED:case li.FAILED_PRECONDITION:case li.ABORTED:case li.OUT_OF_RANGE:case li.UNIMPLEMENTED:case li.DATA_LOSS:return!0}}function Sc(t){if(void 0===t)return ni("GRPC error has no .code"),li.UNKNOWN;switch(t){case _c.OK:return li.OK;case _c.CANCELLED:return li.CANCELLED;case _c.UNKNOWN:return li.UNKNOWN;case _c.DEADLINE_EXCEEDED:return li.DEADLINE_EXCEEDED;case _c.RESOURCE_EXHAUSTED:return li.RESOURCE_EXHAUSTED;case _c.INTERNAL:return li.INTERNAL;case _c.UNAVAILABLE:return li.UNAVAILABLE;case _c.UNAUTHENTICATED:return li.UNAUTHENTICATED;case _c.INVALID_ARGUMENT:return li.INVALID_ARGUMENT;case _c.NOT_FOUND:return li.NOT_FOUND;case _c.ALREADY_EXISTS:return li.ALREADY_EXISTS;case _c.PERMISSION_DENIED:return li.PERMISSION_DENIED;case _c.FAILED_PRECONDITION:return li.FAILED_PRECONDITION;case _c.ABORTED:return li.ABORTED;case _c.OUT_OF_RANGE:return li.OUT_OF_RANGE;case _c.UNIMPLEMENTED:return li.UNIMPLEMENTED;case _c.DATA_LOSS:return li.DATA_LOSS;default:return oi()}}(Oc=_c||(_c={}))[Oc.OK=0]="OK",Oc[Oc.CANCELLED=1]="CANCELLED",Oc[Oc.UNKNOWN=2]="UNKNOWN",Oc[Oc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oc[Oc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oc[Oc.NOT_FOUND=5]="NOT_FOUND",Oc[Oc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oc[Oc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oc[Oc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oc[Oc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oc[Oc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oc[Oc.ABORTED=10]="ABORTED",Oc[Oc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oc[Oc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oc[Oc.INTERNAL=13]="INTERNAL",Oc[Oc.UNAVAILABLE=14]="UNAVAILABLE",Oc[Oc.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Cc{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ic}static getOrCreateInstance(){return null===Ic&&(Ic=new Cc),Ic}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach((e=>e(t)))}}let Ic=null;
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(){return new TextEncoder}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new Kr([4294967295,4294967295],0);function Pc(t){const e=Ec().encode(t),n=new Wr;return n.update(e),new Uint8Array(n.digest())}function xc(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Kr([n,r],0),new Kr([i,o],0)]}class Dc{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Ac(`Invalid padding: ${e}`);if(n<0)throw new Ac(`Invalid hash count: ${n}`);if(t.length>0&&0===this.hashCount)throw new Ac(`Invalid hash count: ${n}`);if(0===t.length&&0!==e)throw new Ac(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=Kr.fromNumber(this.It)}Et(t,e,n){let r=t.add(e.multiply(Kr.fromNumber(n)));return 1===r.compare(kc)&&(r=new Kr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=Pc(t),[n,r]=xc(e);for(let i=0;i<this.hashCount;i++){const t=this.Et(n,r,i);if(!this.At(t))return!1}return!0}static create(t,e,n){const r=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),o=new Dc(i,r,e);return n.forEach((t=>o.insert(t))),o}insert(t){if(0===this.It)return;const e=Pc(t),[n,r]=xc(e);for(let i=0;i<this.hashCount;i++){const t=this.Et(n,r,i);this.Rt(t)}}Rt(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class Ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,Rc.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new jc(Ii.min(),r,new $o(Oi),Ia(),Na())}}class Rc{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new Rc(n,e,Na(),Na(),Na())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,e,n,r){this.Pt=t,this.removedTargetIds=e,this.key=n,this.bt=r}}class Lc{constructor(t,e){this.targetId=t,this.Vt=e}}class Fc{constructor(t,e,n=Ko.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class Mc{constructor(){this.St=0,this.Dt=Vc(),this.Ct=Ko.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=Na(),e=Na(),n=Na();return this.Dt.forEach(((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:oi()}})),new Rc(this.Ct,this.xt,t,e,n)}Ft(){this.Nt=!1,this.Dt=Vc()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class $c{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=Ia(),this.zt=Bc(),this.Wt=new $o(Oi)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,(e=>{const n=this.Zt(e);switch(t.state){case 0:this.te(e)&&n.$t(t.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(t.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(e);break;case 3:this.te(e)&&(n.Kt(),n.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),n.$t(t.resumeToken));break;default:oi()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach(((t,n)=>{this.te(n)&&e(n)}))}ne(t){var e;const n=t.targetId,r=t.Vt.count,i=this.se(n);if(i){const o=i.target;if(na(o))if(0===r){const t=new Di(o.path);this.Yt(n,t,Es.newNoDocument(t,Ii.min()))}else si(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(t,i);if(0!==r){this.ee(n);const t=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,t)}null===(e=Cc.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(t,e,n){var r,i,o,s,a,c;const l={localCacheCount:e,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(l.bloomFilter={applied:0===t,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(s=null===(o=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(c=null===(a=null==u?void 0:u.bits)||void 0===a?void 0:a.padding)&&void 0!==c?c:0}),l}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r,i,t.Vt))}}}}re(t,e){const{unchangedNames:n,count:r}=t.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:s=0}=n;let a,c;try{a=Jo(i).toUint8Array()}catch(t){if(t instanceof Go)return ri("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw t}try{c=new Dc(a,o,s)}catch(t){return ri(t instanceof Ac?"BloomFilter error: ":"Applying bloom filter failed: ",t),1}return 0===c.It?1:r!==e-this.oe(t.targetId,c)?2:0}oe(t,e){const n=this.Gt.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.vt(o)||(this.Yt(t,n,null),r++)})),r}ce(t){const e=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&na(i.target)){const e=new Di(i.target.path);null!==this.jt.get(e)||this.ae(r,e)||this.Yt(r,e,Es.newNoDocument(e,t))}n.Mt&&(e.set(r,n.Ot()),n.Ft())}}));let n=Na();this.zt.forEach(((t,e)=>{let r=!0;e.forEachWhile((t=>{const e=this.se(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(r=!1,!1)})),r&&(n=n.add(t))})),this.jt.forEach(((e,n)=>n.setReadTime(t)));const r=new jc(t,e,this.Wt,this.jt,n);return this.jt=Ia(),this.zt=Bc(),this.Wt=new $o(Oi),r}Jt(t,e){if(!this.te(t))return;const n=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,n),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,n){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),n&&(this.jt=this.jt.insert(e,n))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new Mc,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Uo(Oi),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||ei("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new Mc),this.Gt.getRemoteKeysForTarget(t).forEach((e=>{this.Yt(t,e,null)}))}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function Bc(){return new $o(Di.comparator)}function Vc(){return new $o(Di.comparator)}const Uc=(()=>{const t={asc:"ASCENDING",desc:"DESCENDING"};return t})(),zc=(()=>{const t={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return t})(),qc=(()=>{const t={and:"AND",or:"OR"};return t})();class Hc{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Gc(t,e){return t.useProto3Json||ro(e)?e:{value:e}}function Wc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kc(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Yc(t,e){return Wc(t,e.toTimestamp())}function Qc(t){return si(!!t),Ii.fromTimestamp(function(t){const e=Qo(t);return new Ci(e.seconds,e.nanos)}(t))}function Xc(t,e){return function(t){return new ki(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Jc(t){const e=ki.fromString(t);return si(Sl(e)),e}function Zc(t,e){return Xc(t.databaseId,e.path)}function tl(t,e){const n=Jc(e);if(n.get(1)!==t.databaseId.projectId)throw new ui(li.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ui(li.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Di(il(n))}function el(t,e){return Xc(t.databaseId,e)}function nl(t){const e=Jc(t);return 4===e.length?ki.emptyPath():il(e)}function rl(t){return new ki(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function il(t){return si(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ol(t,e,n){return{name:Zc(t,e),fields:n.value.mapValue.fields}}function sl(t,e,n){const r=tl(t,e.name),i=Qc(e.updateTime),o=e.createTime?Qc(e.createTime):Ii.min(),s=new Cs({mapValue:{fields:e.fields}}),a=Es.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function al(t,e){return"found"in e?function(t,e){si(!!e.found),e.found.name,e.found.updateTime;const n=tl(t,e.found.name),r=Qc(e.found.updateTime),i=e.found.createTime?Qc(e.found.createTime):Ii.min(),o=new Cs({mapValue:{fields:e.found.fields}});return Es.newFoundDocument(n,r,i,o)}(t,e):"missing"in e?function(t,e){si(!!e.missing),si(!!e.readTime);const n=tl(t,e.missing),r=Qc(e.readTime);return Es.newNoDocument(n,r)}(t,e):oi()}function cl(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:oi()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.useProto3Json?(si(void 0===e||"string"==typeof e),Ko.fromBase64String(e||"")):(si(void 0===e||e instanceof Uint8Array),Ko.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){const e=void 0===t.code?li.UNKNOWN:Sc(t.code);return new ui(e,t.message||"")}(s);n=new Fc(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=tl(t,r.document.name),o=Qc(r.document.updateTime),s=r.document.createTime?Qc(r.document.createTime):Ii.min(),a=new Cs({mapValue:{fields:r.document.fields}}),c=Es.newFoundDocument(i,o,s,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Nc(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=tl(t,r.document),o=r.readTime?Qc(r.readTime):Ii.min(),s=Es.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Nc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=tl(t,r.document),o=r.removedTargetIds||[];n=new Nc([],o,i,null)}else{if(!("filter"in e))return oi();{e.filter;const t=e.filter;t.targetId;const{count:r=0,unchangedNames:i}=t,o=new wc(r,i),s=t.targetId;n=new Lc(s,o)}}return n}function ll(t,e){let n;if(e instanceof uc)n={update:ol(t,e.key,e.value)};else if(e instanceof mc)n={delete:Zc(t,e.key)};else if(e instanceof hc)n={update:ol(t,e.key,e.data),updateMask:Tl(e.fieldMask)};else{if(!(e instanceof gc))return oi();n={verify:Zc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof Ha)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ga)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ka)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Qa)return{fieldPath:e.field.canonicalString(),increment:n.gt};throw oi()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Yc(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:oi()}(t,e.precondition)),n}function ul(t,e){const n=e.currentDocument?function(t){return void 0!==t.updateTime?nc.updateTime(Qc(t.updateTime)):void 0!==t.exists?nc.exists(t.exists):nc.none()}(e.currentDocument):nc.none(),r=e.updateTransforms?e.updateTransforms.map((e=>function(t,e){let n=null;if("setToServerValue"in e)si("REQUEST_TIME"===e.setToServerValue),n=new Ha;else if("appendMissingElements"in e){const t=e.appendMissingElements.values||[];n=new Ga(t)}else if("removeAllFromArray"in e){const t=e.removeAllFromArray.values||[];n=new Ka(t)}else"increment"in e?n=new Qa(t,e.increment):oi();const r=xi.fromServerFormat(e.fieldPath);return new Za(r,n)}(t,e))):[];if(e.update){e.update.name;const i=tl(t,e.update.name),o=new Cs({mapValue:{fields:e.update.fields}});if(e.updateMask){const t=function(t){const e=t.fieldPaths||[];return new Ho(e.map((t=>xi.fromServerFormat(t))))}(e.updateMask);return new hc(i,o,t,n,r)}return new uc(i,o,n,r)}if(e.delete){const r=tl(t,e.delete);return new mc(r,n)}if(e.verify){const r=tl(t,e.verify);return new gc(r,n)}return oi()}function hl(t,e){return t&&t.length>0?(si(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?Qc(t.updateTime):Qc(e);return n.isEqual(Ii.min())&&(n=Qc(e)),new ec(n,t.transformResults||[])}(t,e)))):[]}function dl(t,e){return{documents:[el(t,e.path)]}}function fl(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=el(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=el(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(t){if(0!==t.length)return Ol(Ns.create(t,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:wl(t.field),direction:vl(t.dir)}}(t)))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Gc(t,e.limit);var a;return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),n}function pl(t){let e=nl(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){si(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let o=[];n.where&&(o=function(t){const e=gl(t);return e instanceof Ns&&Ms(e)?e.getFilters():[e]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((t=>function(t){return new Ds(_l(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,ro(e)?null:e}(n.limit));let c=null;n.startAt&&(c=function(t){const e=!!t.before,n=t.values||[];return new ks(n,e)}(n.startAt));let l=null;return n.endAt&&(l=function(t){const e=!t.before,n=t.values||[];return new ks(n,e)}(n.endAt)),aa(e,i,s,o,a,"F",c,l)}function ml(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oi()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}function gl(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=_l(t.unaryFilter.field);return Rs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=_l(t.unaryFilter.field);return Rs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_l(t.unaryFilter.field);return Rs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=_l(t.unaryFilter.field);return Rs.create(i,"!=",{nullValue:"NULL_VALUE"});default:return oi()}}(t):void 0!==t.fieldFilter?function(t){return Rs.create(_l(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oi()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return Ns.create(t.compositeFilter.filters.map((t=>gl(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return oi()}}(t.compositeFilter.op))}(t):oi()}function vl(t){return Uc[t]}function yl(t){return zc[t]}function bl(t){return qc[t]}function wl(t){return{fieldPath:t.canonicalString()}}function _l(t){return xi.fromServerFormat(t.fieldPath)}function Ol(t){return t instanceof Rs?function(t){if("=="===t.op){if(vs(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NAN"}};if(gs(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(vs(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NOT_NAN"}};if(gs(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wl(t.field),op:yl(t.op),value:t.value}}}(t):t instanceof Ns?function(t){const e=t.getFilters().map((t=>Ol(t)));return 1===e.length?e[0]:{compositeFilter:{op:bl(t.op),filters:e}}}(t):oi()}function Tl(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Sl(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(t,e,n,r,i=Ii.min(),o=Ii.min(),s=Ko.EMPTY_BYTE_STRING,a=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(t){return new Cl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(t){this.fe=t}}function El(t,e){let n;if(e.document)n=sl(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const t=Di.fromSegments(e.noDocument.path),r=Dl(e.noDocument.readTime);n=Es.newNoDocument(t,r),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return oi();{const t=Di.fromSegments(e.unknownDocument.path),r=Dl(e.unknownDocument.version);n=Es.newUnknownDocument(t,r)}}return e.readTime&&n.setReadTime(function(t){const e=new Ci(t[0],t[1]);return Ii.fromTimestamp(e)}(e.readTime)),n}function kl(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Pl(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(t,e){return{name:Zc(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Wc(t,e.version.toTimestamp()),createTime:Wc(t,e.createTime.toTimestamp())}}(t.fe,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:xl(e.version)};else{if(!e.isUnknownDocument())return oi();r.unknownDocument={path:n.path.toArray(),version:xl(e.version)}}return r}function Pl(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function xl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Dl(t){const e=new Ci(t.seconds,t.nanoseconds);return Ii.fromTimestamp(e)}function Al(t,e){const n=(e.baseMutations||[]).map((e=>ul(t.fe,e)));for(let o=0;o<e.mutations.length-1;++o){const t=e.mutations[o];if(o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform){const n=e.mutations[o+1];t.updateTransforms=n.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((e=>ul(t.fe,e))),i=Ci.fromMillis(e.localWriteTimeMs);return new vc(e.batchId,i,n,r)}function jl(t){const e=Dl(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Dl(t.lastLimboFreeSnapshotVersion):Ii.min();let r;var i;return void 0!==t.query.documents?(si(1===(i=t.query).documents.length),r=pa(ca(nl(i.documents[0])))):r=function(t){return pa(pl(t))}(t.query),new Cl(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ko.fromBase64String(t.resumeToken))}function Rl(t,e){const n=xl(e.snapshotVersion),r=xl(e.lastLimboFreeSnapshotVersion);let i;i=na(e.target)?dl(t.fe,e.target):fl(t.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ta(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Nl(t){const e=pl({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ga(e,e.limit,"L"):e}function Ll(t,e){return new bc(e.largestBatchId,ul(t.fe,e.overlayMutation))}function Fl(t,e){const n=e.path.lastSegment();return[t,so(e.path.popLast()),n]}function Ml(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:xl(r.readTime),documentKey:so(r.documentKey.path),largestBatchId:r.largestBatchId}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{getBundleMetadata(t,e){return Bl(t).get(e).next((t=>{if(t)return{id:(e=t).bundleId,createTime:Dl(e.createTime),version:e.version};var e}))}saveBundleMetadata(t,e){return Bl(t).put({bundleId:(n=e).id,createTime:xl(Qc(n.createTime)),version:n.version});var n}getNamedQuery(t,e){return Vl(t).get(e).next((t=>{if(t)return{name:(e=t).name,query:Nl(e.bundledQuery),readTime:Dl(e.readTime)};var e}))}saveNamedQuery(t,e){return Vl(t).put(function(t){return{name:t.name,readTime:xl(Qc(t.readTime)),bundledQuery:t.bundledQuery}}(e))}}function Bl(t){return No(t,"bundles")}function Vl(t){return No(t,"namedQueries")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){const n=e.uid||"";return new Ul(t,n)}getOverlay(t,e){return zl(t).get(Fl(this.userId,e)).next((t=>t?Ll(this.serializer,t):null))}getOverlays(t,e){const n=xa();return qi.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){const r=[];return n.forEach(((n,i)=>{const o=new bc(e,i);r.push(this.we(t,o))})),qi.waitFor(r)}removeOverlaysForBatchId(t,e,n){const r=new Set;e.forEach((t=>r.add(so(t.getCollectionPath()))));const i=[];return r.forEach((e=>{const r=IDBKeyRange.bound([this.userId,e,n],[this.userId,e,n+1],!1,!0);i.push(zl(t).J("collectionPathOverlayIndex",r))})),qi.waitFor(i)}getOverlaysForCollection(t,e,n){const r=xa(),i=so(e),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return zl(t).j("collectionPathOverlayIndex",o).next((t=>{for(const e of t){const t=Ll(this.serializer,e);r.set(t.getKey(),t)}return r}))}getOverlaysForCollectionGroup(t,e,n,r){const i=xa();let o;const s=IDBKeyRange.bound([this.userId,e,n],[this.userId,e,Number.POSITIVE_INFINITY],!0);return zl(t).X({index:"collectionGroupOverlayIndex",range:s},((t,e,n)=>{const s=Ll(this.serializer,e);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}we(t,e){return zl(t).put(function(t,e,n){const[r,i,o]=Fl(e,n.mutation.key);return{userId:e,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:ll(t.fe,n.mutation)}}(this.serializer,this.userId,e))}}function zl(t){return No(t,"documentOverlays")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(Xo(t.integerValue));else if("doubleValue"in t){const n=Xo(t.doubleValue);isNaN(n)?this.ye(e,13):(this.ye(e,15),io(n)?e.pe(0):e.pe(n))}else if("timestampValue"in t){const n=t.timestampValue;this.ye(e,20),"string"==typeof n?e.Ie(n):(e.Ie(`${n.seconds||""}`),e.pe(n.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(Jo(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.ye(e,45),e.pe(n.latitude||0),e.pe(n.longitude||0)}else"mapValue"in t?ws(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):oi()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const n=t.fields||{};this.ye(e,55);for(const r of Object.keys(n))this.Te(r,e),this.me(n[r],e)}Pe(t,e){const n=t.values||[];this.ye(e,50);for(const r of n)this.me(r,e)}ve(t,e){this.ye(e,37),Di.fromName(t).path.forEach((t=>{this.ye(e,60),this.be(t,e)}))}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function Hl(t){if(0===t)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function Gl(t){const e=64-function(t){let e=0;for(let n=0;n<8;++n){const r=Hl(255&t[n]);if(e+=r,8!==r)break}return e}(t);return Math.ceil(e/8)}ql.Ve=new ql;class Wl{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.De(n.value),n=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.Ne(n.value),n=e.next();this.ke()}Me(t){for(const e of t){const t=e.charCodeAt(0);if(t<128)this.De(t);else if(t<2048)this.De(960|t>>>6),this.De(128|63&t);else if(e<"\ud800"||"\udbff"<e)this.De(480|t>>>12),this.De(128|63&t>>>6),this.De(128|63&t);else{const t=e.codePointAt(0);this.De(240|t>>>18),this.De(128|63&t>>>12),this.De(128|63&t>>>6),this.De(128|63&t)}}this.Ce()}$e(t){for(const e of t){const t=e.charCodeAt(0);if(t<128)this.Ne(t);else if(t<2048)this.Ne(960|t>>>6),this.Ne(128|63&t);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|t>>>12),this.Ne(128|63&t>>>6),this.Ne(128|63&t);else{const t=e.codePointAt(0);this.Ne(240|t>>>18),this.Ne(128|63&t>>>12),this.Ne(128|63&t>>>6),this.Ne(128|63&t)}}this.ke()}Oe(t){const e=this.Fe(t),n=Gl(e);this.Be(1+n),this.buffer[this.position++]=255&n;for(let r=e.length-n;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),n=Gl(e);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let r=e.length-n;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(t){const e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,t,!1),new Uint8Array(e.buffer)}(t),n=0!=(128&e[0]);e[0]^=n?255:128;for(let r=1;r<e.length;++r)e[r]^=n?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let n=2*this.buffer.length;n<e&&(n=e);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Kl{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class Yl{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class Ql{constructor(){this.je=new Wl,this.ze=new Kl(this.je),this.We=new Yl(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t,e,n,r){this.indexId=t,this.documentKey=e,this.arrayValue=n,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,n=new Uint8Array(e);return n.set(this.directionalValue,0),e!==t?n.set([0],this.directionalValue.length):++n[n.length-1],new Xl(this.indexId,this.documentKey,this.arrayValue,n)}}function Jl(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=Zl(t.arrayValue,e.arrayValue),0!==n?n:(n=Zl(t.directionalValue,e.directionalValue),0!==n?n:Di.comparator(t.documentKey,e.documentKey)))}function Zl(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const t=e;t.isInequality()?this.Ze=t:this.Xe.push(t)}}tn(t){si(t.collectionGroup===this.collectionId);const e=ji(t);if(void 0!==e&&!this.en(e))return!1;const n=Ri(t);let r=new Set,i=0,o=0;for(;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const t=n[i];if(!this.nn(this.Ze,t)||!this.sn(this.Ye[o++],t))return!1}++i}for(;i<n.length;++i){const t=n[i];if(o>=this.Ye.length||!this.sn(this.Ye[o++],t))return!1}return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){if(void 0===t||!t.field.isEqual(e.fieldPath))return!1;const n="array-contains"===t.op||"array-contains-any"===t.op;return 2===e.kind===n}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){var e,n;if(si(t instanceof Rs||t instanceof Ns),t instanceof Rs){if(t instanceof Ys){const r=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map((e=>Rs.create(t.field,"==",e))))||[];return Ns.create(r,"or")}return t}const r=t.filters.map((t=>eu(t)));return Ns.create(r,t.op)}function nu(t){if(0===t.getFilters().length)return[];const e=su(eu(t));return si(ou(e)),ru(e)||iu(e)?[e]:e.getFilters()}function ru(t){return t instanceof Rs}function iu(t){return t instanceof Ns&&Ms(t)}function ou(t){return ru(t)||iu(t)||function(t){if(t instanceof Ns&&Fs(t)){for(const e of t.getFilters())if(!ru(e)&&!iu(e))return!1;return!0}return!1}(t)}function su(t){if(si(t instanceof Rs||t instanceof Ns),t instanceof Rs)return t;if(1===t.filters.length)return su(t.filters[0]);const e=t.filters.map((t=>su(t)));let n=Ns.create(e,t.op);return n=lu(n),ou(n)?n:(si(n instanceof Ns),si(Ls(n)),si(n.filters.length>1),n.filters.reduce(((t,e)=>au(t,e))))}function au(t,e){let n;return si(t instanceof Rs||t instanceof Ns),si(e instanceof Rs||e instanceof Ns),n=t instanceof Rs?e instanceof Rs?function(t,e){return Ns.create([t,e],"and")}(t,e):cu(t,e):e instanceof Rs?cu(e,t):function(t,e){if(si(t.filters.length>0&&e.filters.length>0),Ls(t)&&Ls(e))return Us(t,e.getFilters());const n=Fs(t)?t:e,r=Fs(t)?e:t,i=n.filters.map((t=>au(t,r)));return Ns.create(i,"or")}(t,e),lu(n)}function cu(t,e){if(Ls(e))return Us(e,t.getFilters());{const n=e.filters.map((e=>au(t,e)));return Ns.create(n,"or")}}function lu(t){if(si(t instanceof Rs||t instanceof Ns),t instanceof Rs)return t;const e=t.getFilters();if(1===e.length)return lu(e[0]);if($s(t))return t;const n=e.map((t=>lu(t))),r=[];return n.forEach((e=>{e instanceof Rs?r.push(e):e instanceof Ns&&(e.op===t.op?r.push(...e.filters):r.push(e))})),1===r.length?r[0]:Ns.create(r,t.op)
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class uu{constructor(){this.rn=new hu}addToCollectionParentIndex(t,e){return this.rn.add(e),qi.resolve()}getCollectionParents(t,e){return qi.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return qi.resolve()}deleteFieldIndex(t,e){return qi.resolve()}getDocumentsMatchingTarget(t,e){return qi.resolve(null)}getIndexType(t,e){return qi.resolve(0)}getFieldIndexes(t,e){return qi.resolve([])}getNextCollectionGroupToUpdate(t){return qi.resolve(null)}getMinOffset(t,e){return qi.resolve($i.min())}getMinOffsetFromCollectionGroup(t,e){return qi.resolve($i.min())}updateCollectionGroup(t,e,n){return qi.resolve()}updateIndexEntries(t,e){return qi.resolve()}}class hu{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Uo(ki.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new Uo(ki.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new Uint8Array(0);class fu{constructor(t,e){this.user=t,this.databaseId=e,this.on=new hu,this.un=new Sa((t=>ta(t)),((t,e)=>ea(t,e))),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const n=e.lastSegment(),r=e.popLast();t.addOnCommittedListener((()=>{this.on.add(e)}));const i={collectionId:n,parent:so(r)};return pu(t).put(i)}return qi.resolve()}getCollectionParents(t,e){const n=[],r=IDBKeyRange.bound([e,""],[Si(e),""],!1,!0);return pu(t).j(r).next((t=>{for(const r of t){if(r.collectionId!==e)break;n.push(lo(r.parent))}return n}))}addFieldIndex(t,e){const n=gu(t),r=function(t){return{indexId:t.indexId,collectionGroup:t.collectionGroup,fields:t.fields.map((t=>[t.fieldPath.canonicalString(),t.kind]))}}(e);delete r.indexId;const i=n.add(r);if(e.indexState){const n=vu(t);return i.next((t=>{n.put(Ml(t,this.user,e.indexState.sequenceNumber,e.indexState.offset))}))}return i.next()}deleteFieldIndex(t,e){const n=gu(t),r=vu(t),i=mu(t);return n.delete(e.indexId).next((()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}getDocumentsMatchingTarget(t,e){const n=mu(t);let r=!0;const i=new Map;return qi.forEach(this.cn(e),(e=>this.an(t,e).next((t=>{r&&(r=!!t),i.set(e,t)})))).next((()=>{if(r){let t=Na();const r=[];return qi.forEach(i,((i,o)=>{var s;ei("IndexedDbIndexManager",`Using index ${s=i,`id=${s.indexId}|cg=${s.collectionGroup}|f=${s.fields.map((t=>`${t.fieldPath}:${t.kind}`)).join(",")}`} to execute ${ta(e)}`);const a=function(t,e){const n=ji(e);if(void 0===n)return null;for(const r of ra(t,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),c=function(t,e){const n=new Map;for(const r of Ri(e))for(const e of ra(t,r.fieldPath))switch(e.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),e.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),e.value),Array.from(n.values())}return null}(o,i),l=function(t,e){const n=[];let r=!0;for(const i of Ri(e)){const e=0===i.kind?ia(t,i.fieldPath,t.startAt):oa(t,i.fieldPath,t.startAt);n.push(e.value),r&&(r=e.inclusive)}return new ks(n,r)}(o,i),u=function(t,e){const n=[];let r=!0;for(const i of Ri(e)){const e=0===i.kind?oa(t,i.fieldPath,t.endAt):ia(t,i.fieldPath,t.endAt);n.push(e.value),r&&(r=e.inclusive)}return new ks(n,r)}(o,i),h=this.hn(i,o,l),d=this.hn(i,o,u),f=this.ln(i,o,c),p=this.fn(i.indexId,a,h,l.inclusive,d,u.inclusive,f);return qi.forEach(p,(i=>n.H(i,e.limit).next((e=>{e.forEach((e=>{const n=Di.fromSegments(e.documentKey);t.has(n)||(t=t.add(n),r.push(n))}))}))))})).next((()=>r))}return qi.resolve(null)}))}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:nu(Ns.create(t.filters,"and")).map((e=>Zs(t.path,t.collectionGroup,t.orderBy,e.getFilters(),t.limit,t.startAt,t.endAt))),this.un.set(t,e),e)}fn(t,e,n,r,i,o,s){const a=(null!=e?e.length:1)*Math.max(n.length,i.length),c=a/(null!=e?e.length:1),l=[];for(let u=0;u<a;++u){const a=e?this.dn(e[u/c]):du,h=this.wn(t,a,n[u%c],r),d=this._n(t,a,i[u%c],o),f=s.map((e=>this.wn(t,a,e,!0)));l.push(...this.createRange(h,d,f))}return l}wn(t,e,n,r){const i=new Xl(t,Di.empty(),e,n);return r?i:i.Je()}_n(t,e,n,r){const i=new Xl(t,Di.empty(),e,n);return r?i.Je():i}an(t,e){const n=new tu(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next((t=>{let e=null;for(const r of t)n.tn(r)&&(!e||r.fields.length>e.fields.length)&&(e=r);return e}))}getIndexType(t,e){let n=2;const r=this.cn(e);return qi.forEach(r,(e=>this.an(t,e).next((t=>{t?0!==n&&t.fields.length<function(t){let e=new Uo(xi.comparator),n=!1;for(const r of t.filters)for(const t of r.getFlattenedFilters())t.field.isKeyField()||("array-contains"===t.op||"array-contains-any"===t.op?n=!0:e=e.add(t.field));for(const r of t.orderBy)r.field.isKeyField()||(e=e.add(r.field));return e.size+(n?1:0)}(e)&&(n=1):n=0})))).next((()=>function(t){return null!==t.limit}(e)&&r.length>1&&2===n?1:n))}mn(t,e){const n=new Ql;for(const r of Ri(t)){const t=e.data.field(r.fieldPath);if(null==t)return null;const i=n.He(r.kind);ql.Ve._e(t,i)}return n.Qe()}dn(t){const e=new Ql;return ql.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const n=new Ql;return ql.Ve._e(fs(this.databaseId,e),n.He(function(t){const e=Ri(t);return 0===e.length?0:e[e.length-1].kind}(t))),n.Qe()}ln(t,e,n){if(null===n)return[];let r=[];r.push(new Ql);let i=0;for(const o of Ri(t)){const t=n[i++];for(const n of r)if(this.yn(e,o.fieldPath)&&ms(t))r=this.pn(r,o,t);else{const e=n.He(o.kind);ql.Ve._e(t,e)}}return this.In(r)}hn(t,e,n){return this.ln(t,e,n.position)}In(t){const e=[];for(let n=0;n<t.length;++n)e[n]=t[n].Qe();return e}pn(t,e,n){const r=[...t],i=[];for(const o of n.arrayValue.values||[])for(const t of r){const n=new Ql;n.seed(t.Qe()),ql.Ve._e(o,n.He(e.kind)),i.push(n)}return i}yn(t,e){return!!t.filters.find((t=>t instanceof Rs&&t.field.isEqual(e)&&("in"===t.op||"not-in"===t.op)))}getFieldIndexes(t,e){const n=gu(t),r=vu(t);return(e?n.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):n.j()).next((t=>{const e=[];return qi.forEach(t,(t=>r.get([t.indexId,this.uid]).next((n=>{e.push(function(t,e){const n=e?new Li(e.sequenceNumber,new $i(Dl(e.readTime),new Di(lo(e.documentKey)),e.largestBatchId)):Li.empty(),r=t.fields.map((([t,e])=>new Ni(xi.fromServerFormat(t),e)));return new Ai(t.indexId,t.collectionGroup,r,n)}(t,n))})))).next((()=>e))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((t=>0===t.length?null:(t.sort(((t,e)=>{const n=t.indexState.sequenceNumber-e.indexState.sequenceNumber;return 0!==n?n:Oi(t.collectionGroup,e.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(t,e,n){const r=gu(t),i=vu(t);return this.Tn(t).next((t=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next((e=>qi.forEach(e,(e=>i.put(Ml(e.indexId,this.user,t,n))))))))}updateIndexEntries(t,e){const n=new Map;return qi.forEach(e,((e,r)=>{const i=n.get(e.collectionGroup);return(i?qi.resolve(i):this.getFieldIndexes(t,e.collectionGroup)).next((i=>(n.set(e.collectionGroup,i),qi.forEach(i,(n=>this.En(t,e,n).next((e=>{const i=this.An(r,n);return e.isEqual(i)?qi.resolve():this.vn(t,r,n,e,i)})))))))}))}Rn(t,e,n,r){return mu(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,n,r){return mu(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,e.key),e.key.path.toArray()])}En(t,e,n){const r=mu(t);let i=new Uo(Jl);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,e)])},((t,r)=>{i=i.add(new Xl(n.indexId,e,r.arrayValue,r.directionalValue))})).next((()=>i))}An(t,e){let n=new Uo(Jl);const r=this.mn(e,t);if(null==r)return n;const i=ji(e);if(null!=i){const o=t.data.field(i.fieldPath);if(ms(o))for(const i of o.arrayValue.values||[])n=n.add(new Xl(e.indexId,t.key,this.dn(i),r))}else n=n.add(new Xl(e.indexId,t.key,du,r));return n}vn(t,e,n,r,i){ei("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const o=[];return function(t,e,n,r,i){const o=t.getIterator(),s=e.getIterator();let a=qo(o),c=qo(s);for(;a||c;){let t=!1,e=!1;if(a&&c){const r=n(a,c);r<0?e=!0:r>0&&(t=!0)}else null!=a?e=!0:t=!0;t?(r(c),c=qo(s)):e?(i(a),a=qo(o)):(a=qo(o),c=qo(s))}}(r,i,Jl,(r=>{o.push(this.Rn(t,e,n,r))}),(r=>{o.push(this.Pn(t,e,n,r))})),qi.waitFor(o)}Tn(t){let e=1;return vu(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((t,n,r)=>{r.done(),e=n.sequenceNumber+1})).next((()=>e))}createRange(t,e,n){n=n.sort(((t,e)=>Jl(t,e))).filter(((t,e,n)=>!e||0!==Jl(t,n[e-1])));const r=[];r.push(t);for(const o of n){const n=Jl(o,t),i=Jl(o,e);if(0===n)r[0]=t.Je();else if(n>0&&i<0)r.push(o),r.push(o.Je());else if(i>0)break}r.push(e);const i=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];const t=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,du,[]],e=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,du,[]];i.push(IDBKeyRange.bound(t,e))}return i}bn(t,e){return Jl(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(yu)}getMinOffset(t,e){return qi.mapArray(this.cn(e),(e=>this.an(t,e).next((t=>t||oi())))).next(yu)}}function pu(t){return No(t,"collectionParents")}function mu(t){return No(t,"indexEntries")}function gu(t){return No(t,"indexConfiguration")}function vu(t){return No(t,"indexState")}function yu(t){si(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Bi(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new $i(e.readTime,e.documentKey,n)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class wu{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new wu(t,wu.DEFAULT_COLLECTION_PERCENTILE,wu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const c=r.X({range:s},((t,e,n)=>(a++,n.delete())));o.push(c.next((()=>{si(1===a)})));const l=[];for(const u of n.mutations){const t=fo(e,u.key.path,n.batchId);o.push(i.delete(t)),l.push(u.key)}return qi.waitFor(o).next((()=>l))}function Ou(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw oi();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wu.DEFAULT_COLLECTION_PERCENTILE=10,wu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wu.DEFAULT=new wu(41943040,wu.DEFAULT_COLLECTION_PERCENTILE,wu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wu.DISABLED=new wu(-1,0,0);class Tu{constructor(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.Vn={}}static de(t,e,n,r){si(""!==t.uid);const i=t.isAuthenticated()?t.uid:"";return new Tu(i,e,n,r)}checkEmpty(t){let e=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cu(t).X({index:"userMutationsIndex",range:n},((t,n,r)=>{e=!1,r.done()})).next((()=>e))}addMutationBatch(t,e,n,r){const i=Iu(t),o=Cu(t);return o.add({}).next((s=>{si("number"==typeof s);const a=new vc(s,e,n,r),c=function(t,e,n){const r=n.baseMutations.map((e=>ll(t.fe,e))),i=n.mutations.map((e=>ll(t.fe,e)));return{userId:e,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),l=[];let u=new Uo(((t,e)=>Oi(t.canonicalString(),e.canonicalString())));for(const t of r){const e=fo(this.userId,t.key.path,s);u=u.add(t.key.path.popLast()),l.push(o.put(c)),l.push(i.put(e,po))}return u.forEach((e=>{l.push(this.indexManager.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((()=>{this.Vn[s]=a.keys()})),qi.waitFor(l).next((()=>a))}))}lookupMutationBatch(t,e){return Cu(t).get(e).next((t=>t?(si(t.userId===this.userId),Al(this.serializer,t)):null))}Sn(t,e){return this.Vn[e]?qi.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next((t=>{if(t){const n=t.keys();return this.Vn[e]=n,n}return null}))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Cu(t).X({index:"userMutationsIndex",range:r},((t,e,r)=>{e.userId===this.userId&&(si(e.batchId>=n),i=Al(this.serializer,e)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Cu(t).X({index:"userMutationsIndex",range:e,reverse:!0},((t,e,r)=>{n=e.batchId,r.done()})).next((()=>n))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cu(t).j("userMutationsIndex",e).next((t=>t.map((t=>Al(this.serializer,t)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const n=ho(this.userId,e.path),r=IDBKeyRange.lowerBound(n),i=[];return Iu(t).X({range:r},((n,r,o)=>{const[s,a,c]=n,l=lo(a);if(s===this.userId&&e.path.isEqual(l))return Cu(t).get(c).next((t=>{if(!t)throw oi();si(t.userId===this.userId),i.push(Al(this.serializer,t))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Uo(Oi);const r=[];return e.forEach((e=>{const i=ho(this.userId,e.path),o=IDBKeyRange.lowerBound(i),s=Iu(t).X({range:o},((t,r,i)=>{const[o,s,a]=t,c=lo(s);o===this.userId&&e.path.isEqual(c)?n=n.add(a):i.done()}));r.push(s)})),qi.waitFor(r).next((()=>this.Dn(t,n)))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1,i=ho(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new Uo(Oi);return Iu(t).X({range:o},((t,e,i)=>{const[o,a,c]=t,l=lo(a);o===this.userId&&n.isPrefixOf(l)?l.length===r&&(s=s.add(c)):i.done()})).next((()=>this.Dn(t,s)))}Dn(t,e){const n=[],r=[];return e.forEach((e=>{r.push(Cu(t).get(e).next((t=>{if(null===t)throw oi();si(t.userId===this.userId),n.push(Al(this.serializer,t))})))})),qi.waitFor(r).next((()=>n))}removeMutationBatch(t,e){return _u(t.ht,this.userId,e).next((n=>(t.addOnCommittedListener((()=>{this.Cn(e.batchId)})),qi.forEach(n,(e=>this.referenceDelegate.markPotentiallyOrphaned(t,e))))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return qi.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return Iu(t).X({range:n},((t,e,n)=>{if(t[0]===this.userId){const e=lo(t[1]);r.push(e)}else n.done()})).next((()=>{si(0===r.length)}))}))}containsKey(t,e){return Su(t,this.userId,e)}xn(t){return Eu(t).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Su(t,e,n){const r=ho(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Iu(t).X({range:o,Y:!0},((t,n,r)=>{const[o,a,c]=t;o===e&&a===i&&(s=!0),r.done()})).next((()=>s))}function Cu(t){return No(t,"mutations")}function Iu(t){return No(t,"documentMutations")}function Eu(t){return No(t,"mutationQueues")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new ku(0)}static Mn(){return new ku(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next((e=>{const n=new ku(e.highestTargetId);return e.highestTargetId=n.next(),this.On(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.$n(t).next((t=>Ii.fromTimestamp(new Ci(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.$n(t).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(t,e,n){return this.$n(t).next((r=>(r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r))))}addTargetData(t,e){return this.Fn(t,e).next((()=>this.$n(t).next((n=>(n.targetCount+=1,this.Bn(e,n),this.On(t,n))))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>xu(t).delete(e.targetId))).next((()=>this.$n(t))).next((e=>(si(e.targetCount>0),e.targetCount-=1,this.On(t,e))))}removeTargets(t,e,n){let r=0;const i=[];return xu(t).X(((o,s)=>{const a=jl(s);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(t,a)))})).next((()=>qi.waitFor(i))).next((()=>r))}forEachTarget(t,e){return xu(t).X(((t,n)=>{const r=jl(n);e(r)}))}$n(t){return Du(t).get("targetGlobalKey").next((t=>(si(null!==t),t)))}On(t,e){return Du(t).put("targetGlobalKey",e)}Fn(t,e){return xu(t).put(Rl(this.serializer,e))}Bn(t,e){let n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.$n(t).next((t=>t.targetCount))}getTargetData(t,e){const n=ta(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return xu(t).X({range:r,index:"queryTargetsIndex"},((t,n,r)=>{const o=jl(n);ea(e,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(t,e,n){const r=[],i=Au(t);return e.forEach((e=>{const o=so(e.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(t,n,e))})),qi.waitFor(r)}removeMatchingKeys(t,e,n){const r=Au(t);return qi.forEach(e,(e=>{const i=so(e.path);return qi.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(t,n,e)])}))}removeMatchingKeysForTargetId(t,e){const n=Au(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(t,e){const n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Au(t);let i=Na();return r.X({range:n,Y:!0},((t,e,n)=>{const r=lo(t[1]),o=new Di(r);i=i.add(o)})).next((()=>i))}containsKey(t,e){const n=so(e.path),r=IDBKeyRange.bound([n],[Si(n)],!1,!0);let i=0;return Au(t).X({index:"documentTargetsIndex",Y:!0,range:r},(([t,e],n,r)=>{0!==t&&(i++,r.done())})).next((()=>i>0))}le(t,e){return xu(t).get(e).next((t=>t?jl(t):null))}}function xu(t){return No(t,"targets")}function Du(t){return No(t,"targetGlobal")}function Au(t){return No(t,"targetDocuments")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju([t,e],[n,r]){const i=Oi(t,n);return 0===i?Oi(e,r):i}class Ru{constructor(t){this.Ln=t,this.buffer=new Uo(ju),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();ju(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Nu{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){ei("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Yi(t)?ei("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await zi(t)}await this.Qn(3e5)}))}}class Lu{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next((t=>Math.floor(e/100*t)))}nthSequenceNumber(t,e){if(0===e)return qi.resolve(no.ct);const n=new Ru(e);return this.jn.forEachTarget(t,(t=>n.Kn(t.sequenceNumber))).next((()=>this.jn.Wn(t,(t=>n.Kn(t))))).next((()=>n.maxValue))}removeTargets(t,e,n){return this.jn.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(ei("LruGarbageCollector","Garbage collection skipped; disabled"),qi.resolve(bu)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(ei("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bu):this.Hn(t,e)))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let n,r,i,o,s,c,l;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((e=>(e>this.params.maximumSequenceNumbersToCollect?(ei("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),r=this.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),this.nthSequenceNumber(t,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(t,n,e)))).next((e=>(i=e,c=Date.now(),this.removeOrphanedDocuments(t,n)))).next((t=>(l=Date.now(),Zr()<=a.$b.DEBUG&&ei("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-u}ms\n\tDetermined least recently used ${r} in `+(s-o)+"ms\n"+`\tRemoved ${i} targets in `+(c-s)+"ms\n"+`\tRemoved ${t} documents in `+(l-c)+"ms\n"+`Total Duration: ${l-u}ms`),qi.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t}))))}}function Fu(t,e){return new Lu(t,e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(t,e){this.db=t,this.garbageCollector=Fu(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next((t=>e.next((e=>t+e))))}Jn(t){let e=0;return this.Wn(t,(t=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,((t,n)=>e(n)))}addReference(t,e,n){return $u(t,n)}removeReference(t,e,n){return $u(t,n)}removeTargets(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)}markPotentiallyOrphaned(t,e){return $u(t,e)}Xn(t,e){return function(t,e){let n=!1;return Eu(t).Z((r=>Su(t,r,e).next((t=>(t&&(n=!0),qi.resolve(!t)))))).next((()=>n))}(t,e)}removeOrphanedDocuments(t,e){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Yn(t,((o,s)=>{if(s<=e){const e=this.Xn(t,o).next((e=>{if(!e)return i++,n.getEntry(t,o).next((()=>(n.removeEntry(o,Ii.min()),Au(t).delete([0,so(o.path)]))))}));r.push(e)}})).next((()=>qi.waitFor(r))).next((()=>n.apply(t))).next((()=>i))}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,e){return $u(t,e)}Yn(t,e){const n=Au(t);let r,i=no.ct;return n.X({index:"documentTargetsIndex"},(([t,n],{path:o,sequenceNumber:s})=>{0===t?(i!==no.ct&&e(new Di(lo(r)),i),i=s,r=o):i=no.ct})).next((()=>{i!==no.ct&&e(new Di(lo(r)),i)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function $u(t,e){return Au(t).put(function(t,e){return{targetId:0,path:so(t.path),sequenceNumber:e}}(e,t.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this.changes=new Sa((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Es.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?qi.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,n){return Hu(t).put(n)}removeEntry(t,e,n){return Hu(t).delete(function(t,e){const n=t.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Pl(e),n[n.length-1]]}(e,n))}updateMetadata(t,e){return this.getMetadata(t).next((n=>(n.byteSize+=e,this.Zn(t,n))))}getEntry(t,e){let n=Es.newInvalidDocument(e);return Hu(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Gu(e))},((t,r)=>{n=this.ts(e,r)})).next((()=>n))}es(t,e){let n={size:0,document:Es.newInvalidDocument(e)};return Hu(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Gu(e))},((t,r)=>{n={document:this.ts(e,r),size:Ou(r)}})).next((()=>n))}getEntries(t,e){let n=Ia();return this.ns(t,e,((t,e)=>{const r=this.ts(t,e);n=n.insert(t,r)})).next((()=>n))}ss(t,e){let n=Ia(),r=new $o(Di.comparator);return this.ns(t,e,((t,e)=>{const i=this.ts(t,e);n=n.insert(t,i),r=r.insert(t,Ou(e))})).next((()=>({documents:n,rs:r})))}ns(t,e,n){if(e.isEmpty())return qi.resolve();let r=new Uo(Ku);e.forEach((t=>r=r.add(t)));const i=IDBKeyRange.bound(Gu(r.first()),Gu(r.last())),o=r.getIterator();let s=o.getNext();return Hu(t).X({index:"documentKeyIndex",range:i},((t,e,r)=>{const i=Di.fromSegments([...e.prefixPath,e.collectionGroup,e.documentId]);for(;s&&Ku(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,e),s=o.hasNext()?o.getNext():null),s?r.G(Gu(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(t,e,n,r){const i=e.path,o=[i.popLast().toArray(),i.lastSegment(),Pl(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Hu(t).j(IDBKeyRange.bound(o,s,!0)).next((t=>{let n=Ia();for(const i of t){const t=this.ts(Di.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);t.isFoundDocument()&&(wa(e,t)||r.has(t.key))&&(n=n.insert(t.key,t))}return n}))}getAllFromCollectionGroup(t,e,n,r){let i=Ia();const o=Wu(e,n),s=Wu(e,$i.max());return Hu(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((t,e,n)=>{const o=this.ts(Di.fromSegments(e.prefixPath.concat(e.collectionGroup,e.documentId)),e);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(t){return new zu(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((t=>t.byteSize))}getMetadata(t){return qu(t).get("remoteDocumentGlobalKey").next((t=>(si(!!t),t)))}Zn(t,e){return qu(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const t=El(this.serializer,e);if(!t.isNoDocument()||!t.version.isEqual(Ii.min()))return t}return Es.newInvalidDocument(t)}}function Uu(t){return new Vu(t)}class zu extends Bu{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new Sa((t=>t.toString()),((t,e)=>t.isEqual(e)))}applyChanges(t){const e=[];let n=0,r=new Uo(((t,e)=>Oi(t.canonicalString(),e.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.us.get(i);if(e.push(this.os.removeEntry(t,i,s.readTime)),o.isValidDocument()){const a=kl(this.os.serializer,o);r=r.add(i.path.popLast());const c=Ou(a);n+=c-s.size,e.push(this.os.addEntry(t,i,a))}else if(n-=s.size,this.trackRemovals){const n=kl(this.os.serializer,o.convertToNoDocument(Ii.min()));e.push(this.os.addEntry(t,i,n))}})),r.forEach((n=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,n))})),e.push(this.os.updateMetadata(t,n)),qi.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next((t=>(this.us.set(e,{size:t.size,readTime:t.document.readTime}),t.document)))}getAllFromCache(t,e){return this.os.ss(t,e).next((({documents:t,rs:e})=>(e.forEach(((e,n)=>{this.us.set(e,{size:n,readTime:t.get(e).readTime})})),t)))}}function qu(t){return No(t,"remoteDocumentGlobal")}function Hu(t){return No(t,"remoteDocumentsV14")}function Gu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Wu(t,e){const n=e.documentKey.path.toArray();return[t,Pl(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ku(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Oi(n[o],r[o]),i)return i;return i=Oi(n.length,r.length),i||(i=Oi(n[n.length-2],r[r.length-2]),i||Oi(n[n.length-1],r[r.length-1])
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class Yu{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(n=r,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&ac(n.mutation,t,Ho.empty(),Ci.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,Na()).next((()=>e))))}getLocalViewOfDocuments(t,e,n=Na()){const r=xa();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,n).next((t=>{let e=ka();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=xa();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,Na())))}populateOverlays(t,e,n){const r=[];return n.forEach((t=>{e.has(t)||r.push(t)})),this.documentOverlayCache.getOverlays(t,r).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,r){let i=Ia();const o=Aa(),s=Aa();return e.forEach(((t,e)=>{const s=n.get(e.key);r.has(e.key)&&(void 0===s||s.mutation instanceof hc)?i=i.insert(e.key,e):void 0!==s?(o.set(e.key,s.mutation.getFieldMask()),ac(s.mutation,e,s.mutation.getFieldMask(),Ci.now())):o.set(e.key,Ho.empty())})),this.recalculateAndSaveOverlays(t,i).next((t=>(t.forEach(((t,e)=>o.set(t,e))),e.forEach(((t,e)=>{var n;return s.set(t,new Yu(e,null!==(n=o.get(t))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(t,e){const n=Aa();let r=new $o(((t,e)=>t-e)),i=Na();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const i of t)i.keys().forEach((t=>{const o=e.get(t);if(null===o)return;let s=n.get(t)||Ho.empty();s=i.applyToLocalView(o,s),n.set(t,s);const a=(r.get(i.batchId)||Na()).add(t);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,c=r.value,l=Da();c.forEach((t=>{if(!i.has(t)){const r=oc(e.get(t),n.get(t));null!==r&&l.set(t,r),i=i.add(t)}})),o.push(this.documentOverlayCache.saveOverlays(t,a,l))}return qi.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n){return function(t){return Di.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):da(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-i.size):qi.resolve(xa());let s=-1,a=i;return o.next((e=>qi.forEach(e,((e,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(e)?qi.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,i))).next((()=>this.computeViews(t,a,e,Na()))).next((t=>({batchId:s,changes:Pa(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Di(e)).next((t=>{let e=ka();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n){const r=e.collectionGroup;let i=ka();return this.indexManager.getCollectionParents(t,r).next((o=>qi.forEach(o,(o=>{const s=function(t,e){return new sa(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(r));return this.getDocumentsMatchingCollectionQuery(t,s,n).next((t=>{t.forEach(((t,e)=>{i=i.insert(t,e)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(t,e,n){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,r)))).next((t=>{r.forEach(((e,n)=>{const r=n.getKey();null===t.get(r)&&(t=t.insert(r,Es.newInvalidDocument(r)))}));let n=ka();return t.forEach(((t,i)=>{const o=r.get(t);void 0!==o&&ac(o.mutation,i,Ho.empty(),Ci.now()),wa(e,i)&&(n=n.insert(t,i))})),n}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return qi.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var n;return this.cs.set(e.id,{id:(n=e).id,version:n.version,createTime:Qc(n.createTime)}),qi.resolve()}getNamedQuery(t,e){return qi.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,function(t){return{name:t.name,query:Nl(t.bundledQuery),readTime:Qc(t.readTime)}}(e)),qi.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(){this.overlays=new $o(Di.comparator),this.ls=new Map}getOverlay(t,e){return qi.resolve(this.overlays.get(e))}getOverlays(t,e){const n=xa();return qi.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,r)=>{this.we(t,e,r)})),qi.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((t=>this.overlays=this.overlays.remove(t))),this.ls.delete(n)),qi.resolve()}getOverlaysForCollection(t,e,n){const r=xa(),i=e.length+1,o=new Di(e.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const t=s.getNext().value,o=t.getKey();if(!e.isPrefixOf(o.path))break;o.path.length===i&&t.largestBatchId>n&&r.set(t.getKey(),t)}return qi.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let i=new $o(((t,e)=>t-e));const o=this.overlays.getIterator();for(;o.hasNext();){const t=o.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=i.get(t.largestBatchId);null===e&&(e=xa(),i=i.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const s=xa(),a=i.getIterator();for(;a.hasNext();)if(a.getNext().value.forEach(((t,e)=>s.set(t,e))),s.size()>=r)break;return qi.resolve(s)}we(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const t=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new bc(e,n));let i=this.ls.get(e);void 0===i&&(i=Na(),this.ls.set(e,i)),this.ls.set(e,i.add(n.key))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(){this.fs=new Uo(th.ds),this.ws=new Uo(th._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const n=new th(t,e);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.ys(new th(t,e))}ps(t,e){t.forEach((t=>this.removeReference(t,e)))}Is(t){const e=new Di(new ki([])),n=new th(e,t),r=new th(e,t+1),i=[];return this.ws.forEachInRange([n,r],(t=>{this.ys(t),i.push(t.key)})),i}Ts(){this.fs.forEach((t=>this.ys(t)))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new Di(new ki([])),n=new th(e,t),r=new th(e,t+1);let i=Na();return this.ws.forEachInRange([n,r],(t=>{i=i.add(t.key)})),i}containsKey(t){const e=new th(t,0),n=this.fs.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class th{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return Di.comparator(t.key,e.key)||Oi(t.As,e.As)}static _s(t,e){return Oi(t.As,e.As)||Di.comparator(t.key,e.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Uo(th.ds)}checkEmpty(t){return qi.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new vc(i,e,n,r);this.mutationQueue.push(o);for(const s of r)this.Rs=this.Rs.add(new th(s.key,i)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast());return qi.resolve(o)}lookupMutationBatch(t,e){return qi.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.bs(n),i=r<0?0:r;return qi.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return qi.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return qi.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new th(e,0),r=new th(e,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(t=>{const e=this.Ps(t.As);i.push(e)})),qi.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Uo(Oi);return e.forEach((t=>{const e=new th(t,0),r=new th(t,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([e,r],(t=>{n=n.add(t.As)}))})),qi.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;Di.isDocumentKey(i)||(i=i.child(""));const o=new th(new Di(i),0);let s=new Uo(Oi);return this.Rs.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.As)),!0)}),o),qi.resolve(this.Vs(s))}Vs(t){const e=[];return t.forEach((t=>{const n=this.Ps(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){si(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return qi.forEach(e.mutations,(r=>{const i=new th(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Rs=n}))}Cn(t){}containsKey(t,e){const n=new th(e,0),r=this.Rs.firstAfterOrEqual(n);return qi.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,qi.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t){this.Ds=t,this.docs=new $o(Di.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),i=r?r.size:0,o=this.Ds(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return qi.resolve(n?n.document.mutableCopy():Es.newInvalidDocument(e))}getEntries(t,e){let n=Ia();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Es.newInvalidDocument(t))})),qi.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let i=Ia();const o=e.path,s=new Di(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:t,value:{document:s}}=a.getNext();if(!o.isPrefixOf(t.path))break;t.path.length>o.length+1||Bi(Mi(s),n)<=0||(r.has(s.key)||wa(e,s))&&(i=i.insert(s.key,s.mutableCopy()))}return qi.resolve(i)}getAllFromCollectionGroup(t,e,n,r){oi()}Cs(t,e){return qi.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new rh(this)}getSize(t){return qi.resolve(this.size)}}class rh extends Bu{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(n)})),qi.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t){this.persistence=t,this.xs=new Sa((t=>ta(t)),ea),this.lastRemoteSnapshotVersion=Ii.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Zu,this.targetCount=0,this.Ms=ku.kn()}forEachTarget(t,e){return this.xs.forEach(((t,n)=>e(n))),qi.resolve()}getLastRemoteSnapshotVersion(t){return qi.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return qi.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),qi.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ns&&(this.Ns=e),qi.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new ku(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,qi.resolve()}updateTargetData(t,e){return this.Fn(e),qi.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,qi.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.xs.forEach(((o,s)=>{s.sequenceNumber<=e&&null===n.get(s.targetId)&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(t,s.targetId)),r++)})),qi.waitFor(i).next((()=>r))}getTargetCount(t){return qi.resolve(this.targetCount)}getTargetData(t,e){const n=this.xs.get(e)||null;return qi.resolve(n)}addMatchingKeys(t,e,n){return this.ks.gs(e,n),qi.resolve()}removeMatchingKeys(t,e,n){this.ks.ps(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((e=>{i.push(r.markPotentiallyOrphaned(t,e))})),qi.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),qi.resolve()}getMatchingKeysForTargetId(t,e){const n=this.ks.Es(e);return qi.resolve(n)}containsKey(t,e){return qi.resolve(this.ks.containsKey(e))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,e){this.$s={},this.overlays={},this.Os=new no(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new ih(this),this.indexManager=new uu,this.remoteDocumentCache=function(t){return new nh(t)}((t=>this.referenceDelegate.Ls(t))),this.serializer=new Il(e),this.qs=new Xu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Ju,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.$s[t.toKey()];return n||(n=new eh(e,this.referenceDelegate),this.$s[t.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,n){ei("MemoryPersistence","Starting transaction:",t);const r=new sh(this.Os.next());return this.referenceDelegate.Us(),n(r).next((t=>this.referenceDelegate.Ks(r).next((()=>t)))).toPromise().then((t=>(r.raiseOnCommittedEvent(),t)))}Gs(t,e){return qi.or(Object.values(this.$s).map((n=>()=>n.containsKey(t,e))))}}class sh extends Ui{constructor(t){super(),this.currentSequenceNumber=t}}class ah{constructor(t){this.persistence=t,this.Qs=new Zu,this.js=null}static zs(t){return new ah(t)}get Ws(){if(this.js)return this.js;throw oi()}addReference(t,e,n){return this.Qs.addReference(n,e),this.Ws.delete(n.toString()),qi.resolve()}removeReference(t,e,n){return this.Qs.removeReference(n,e),this.Ws.add(n.toString()),qi.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),qi.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach((t=>this.Ws.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.Ws.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qi.forEach(this.Ws,(n=>{const r=Di.fromPath(n);return this.Hs(t,r).next((t=>{t||e.removeEntry(r,Ii.min())}))})).next((()=>(this.js=null,e.apply(t))))}updateLimboDocument(t,e){return this.Hs(t,e).next((t=>{t?this.Ws.delete(e.toString()):this.Ws.add(e.toString())}))}Ls(t){return 0}Hs(t,e){return qi.or([()=>qi.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t){this.serializer=t}O(t,e,n,r){const i=new Hi("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore("owner")}(t),function(t){t.createObjectStore("mutationQueues",{keyPath:"userId"}),t.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uo,{unique:!0}),t.createObjectStore("documentMutations")}(t),lh(t),function(t){t.createObjectStore("remoteDocuments")}(t));let o=qi.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore("targetDocuments"),t.deleteObjectStore("targets"),t.deleteObjectStore("targetGlobal")}(t),lh(t)),o=o.next((()=>function(t){const e=t.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ii.min().toTimestamp(),targetCount:0};return e.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(t,e){return e.store("mutations").j().next((n=>{t.deleteObjectStore("mutations"),t.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uo,{unique:!0});const r=e.store("mutations"),i=n.map((t=>r.put(t)));return qi.waitFor(i)}))}(t,i)))),o=o.next((()=>{!function(t){t.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)}))),n<5&&r>=5&&(o=o.next((()=>this.Ys(i)))),n<6&&r>=6&&(o=o.next((()=>(function(t){t.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(i))))),n<7&&r>=7&&(o=o.next((()=>this.Zs(i)))),n<8&&r>=8&&(o=o.next((()=>this.ti(t,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t)}))),n<10&&r>=10&&(o=o.next((()=>this.ei(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(t){t.createObjectStore("bundles",{keyPath:"bundleId"})}(t),function(t){t.createObjectStore("namedQueries",{keyPath:"name"})}(t)}))),n<12&&r>=12&&(o=o.next((()=>{!function(t){const e=t.createObjectStore("documentOverlays",{keyPath:Io});e.createIndex("collectionPathOverlayIndex",Eo,{unique:!1}),e.createIndex("collectionGroupOverlayIndex",ko,{unique:!1})}(t)}))),n<13&&r>=13&&(o=o.next((()=>function(t){const e=t.createObjectStore("remoteDocumentsV14",{keyPath:mo});e.createIndex("documentKeyIndex",go),e.createIndex("collectionGroupIndex",vo)}(t))).next((()=>this.ni(t,i))).next((()=>t.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.si(t,i)))),n<15&&r>=15&&(o=o.next((()=>function(t){t.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),t.createObjectStore("indexState",{keyPath:Oo}).createIndex("sequenceNumberIndex",To,{unique:!1}),t.createObjectStore("indexEntries",{keyPath:So}).createIndex("documentKeyIndex",Co,{unique:!1})}(t)))),o}Xs(t){let e=0;return t.store("remoteDocuments").X(((t,n)=>{e+=Ou(n)})).next((()=>{const n={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Ys(t){const e=t.store("mutationQueues"),n=t.store("mutations");return e.j().next((e=>qi.forEach(e,(e=>{const r=IDBKeyRange.bound([e.userId,-1],[e.userId,e.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",r).next((n=>qi.forEach(n,(n=>{si(n.userId===e.userId);const r=Al(this.serializer,n);return _u(t,e.userId,r).next((()=>{}))}))))}))))}Zs(t){const e=t.store("targetDocuments"),n=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next((t=>{const r=[];return n.X(((n,i)=>{const o=new ki(n),s=function(t){return[0,so(t)]}(o);r.push(e.get(s).next((n=>n?qi.resolve():(n=>e.put({targetId:0,path:so(n),sequenceNumber:t.highestListenSequenceNumber}))(o))))})).next((()=>qi.waitFor(r)))}))}ti(t,e){t.createObjectStore("collectionParents",{keyPath:_o});const n=e.store("collectionParents"),r=new hu,i=t=>{if(r.add(t)){const e=t.lastSegment(),r=t.popLast();return n.put({collectionId:e,parent:so(r)})}};return e.store("remoteDocuments").X({Y:!0},((t,e)=>{const n=new ki(t);return i(n.popLast())})).next((()=>e.store("documentMutations").X({Y:!0},(([t,e,n],r)=>{const o=lo(e);return i(o.popLast())}))))}ei(t){const e=t.store("targets");return e.X(((t,n)=>{const r=jl(n),i=Rl(this.serializer,r);return e.put(i)}))}ni(t,e){const n=e.store("remoteDocuments"),r=[];return n.X(((t,n)=>{const i=e.store("remoteDocumentsV14"),o=(s=n,s.document?new Di(ki.fromString(s.document.name).popFirst(5)):s.noDocument?Di.fromSegments(s.noDocument.path):s.unknownDocument?Di.fromSegments(s.unknownDocument.path):oi()).path.toArray();var s;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>qi.waitFor(r)))}si(t,e){const n=e.store("mutations"),r=Uu(this.serializer),i=new oh(ah.zs,this.serializer.fe);return n.j().next((t=>{const n=new Map;return t.forEach((t=>{var e;let r=null!==(e=n.get(t.userId))&&void 0!==e?e:Na();Al(this.serializer,t).keys().forEach((t=>r=r.add(t))),n.set(t.userId,r)})),qi.forEach(n,((t,n)=>{const o=new Qr(n),s=Ul.de(this.serializer,o),a=i.getIndexManager(o),c=Tu.de(o,this.serializer,a,i.referenceDelegate);return new Qu(r,c,s,a).recalculateAndSaveOverlaysForDocumentKeys(new Ro(e,no.ct),t).next()}))}))}}function lh(t){t.createObjectStore("targetDocuments",{keyPath:bo}).createIndex("documentTargetsIndex",wo,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",yo,{unique:!0}),t.createObjectStore("targetGlobal")}const uh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hh{constructor(t,e,n,r,i,o,s,a,c,l,u=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.ii=i,this.window=o,this.document=s,this.ri=c,this.oi=l,this.ui=u,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=t=>Promise.resolve(),!hh.D())throw new ui(li.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Mu(this,r),this.di=e+"main",this.serializer=new Il(a),this.wi=new Gi(this.di,this.ui,new ch(this.serializer)),this.Bs=new Pu(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Uu(this.serializer),this.qs=new $l,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&ni("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ui(li.FAILED_PRECONDITION,uh);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.Bs.getHighestSequenceNumber(t)))})).then((t=>{this.Os=new no(t,this.ri)})).then((()=>{this.Fs=!0})).catch((t=>(this.wi&&this.wi.close(),Promise.reject(t))))}Ii(t){return this.fi=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B((async e=>{null===e.newVersion&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>fh(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Ti(t).next((t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Ei(t))).next((e=>this.isPrimary&&!e?this.Ai(t).next((()=>!1)):!!e&&this.vi(t).next((()=>!0)))))).catch((t=>{if(Yi(t))return ei("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return ei("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.ii.enqueueRetryable((()=>this.fi(t))),this.isPrimary=t}))}Ti(t){return dh(t).get("owner").next((t=>qi.resolve(this.Ri(t))))}Pi(t){return fh(t).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const e=No(t,"clientMetadata");return e.j().next((t=>{const n=this.Si(t,18e5),r=t.filter((t=>-1===n.indexOf(t)));return qi.forEach(r,(t=>e.delete(t.clientId))).next((()=>r))}))})).catch((()=>[]));if(this._i)for(const e of t)this._i.removeItem(this.Di(e.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.bi())).then((()=>this.pi()))))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?qi.resolve(!0):dh(t).get("owner").next((e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new ui(li.FAILED_PRECONDITION,uh);return!1}}return!(!this.networkEnabled||!this.inForeground)||fh(t).j().next((t=>void 0===this.Si(t,5e3).find((t=>{if(this.clientId!==t.clientId){const e=!this.networkEnabled&&t.networkEnabled,n=!this.inForeground&&t.inForeground,r=this.networkEnabled===t.networkEnabled;if(e||n&&r)return!0}return!1}))))})).next((t=>(this.isPrimary!==t&&ei("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(t=>{const e=new Ro(t,no.ct);return this.Ai(e).next((()=>this.Pi(e)))})),this.wi.close(),this.Mi()}Si(t,e){return t.filter((t=>this.Vi(t.updateTimeMs,e)&&!this.Ci(t.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(t=>fh(t).j().next((t=>this.Si(t,18e5).map((t=>t.clientId))))))}get started(){return this.Fs}getMutationQueue(t,e){return Tu.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new fu(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return Ul.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,n){ei("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",i=15===(o=this.ui)?jo:14===o?Ao:13===o?Do:12===o?xo:11===o?Po:void oi();var o;let s;return this.wi.runTransaction(t,r,i,(r=>(s=new Ro(r,this.Os?this.Os.next():no.ct),"readwrite-primary"===e?this.Ti(s).next((t=>!!t||this.Ei(s))).next((e=>{if(!e)throw ni(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))),new ui(li.FAILED_PRECONDITION,Vi);return n(s)})).next((t=>this.vi(s).next((()=>t)))):this.Oi(s).next((()=>n(s)))))).then((t=>(s.raiseOnCommittedEvent(),t)))}Oi(t){return dh(t).get("owner").next((t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ui(li.FAILED_PRECONDITION,uh)}))}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return dh(t).put("owner",e)}static D(){return Gi.D()}Ai(t){const e=dh(t);return e.get("owner").next((t=>this.Ri(t)?(ei("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):qi.resolve()))}Vi(t,e){const n=Date.now();return!(t<n-e)&&(!(t>n)||(ni(`Detected an update time that is in the future: ${t} > ${n}`),!1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.mi())))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,c.nr)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const n=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return ei("IndexedDbPersistence",`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(t){return ni("IndexedDbPersistence","Failed to get zombied client id.",t),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){ni("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(t){}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function dh(t){return No(t,"owner")}function fh(t){return No(t,"clientMetadata")}function ph(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class mh{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Fi=n,this.Bi=r}static Li(t,e){let n=Na(),r=Na();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new mh(t,e.fromCache,n,r)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,n,r){return this.Ki(t,e).next((i=>i||this.Gi(t,e,r,n))).next((n=>n||this.Qi(t,e)))}Ki(t,e){if(la(e))return qi.resolve(null);let n=pa(e);return this.indexManager.getIndexType(t,n).next((r=>0===r?null:(null!==e.limit&&1===r&&(e=ga(e,null,"F"),n=pa(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((r=>{const i=Na(...r);return this.Ui.getDocuments(t,i).next((r=>this.indexManager.getMinOffset(t,n).next((n=>{const o=this.ji(e,r);return this.zi(e,o,i,n.readTime)?this.Ki(t,ga(e,null,"F")):this.Wi(t,o,e,n)}))))})))))}Gi(t,e,n,r){return la(e)||r.isEqual(Ii.min())?this.Qi(t,e):this.Ui.getDocuments(t,n).next((i=>{const o=this.ji(e,i);return this.zi(e,o,n,r)?this.Qi(t,e):(Zr()<=a.$b.DEBUG&&ei("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ba(e)),this.Wi(t,o,e,Fi(r,-1)))}))}ji(t,e){let n=new Uo(Oa(t));return e.forEach(((e,r)=>{wa(t,r)&&(n=n.add(r))})),n}zi(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const i="F"===t.limitType?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(t,e){return Zr()<=a.$b.DEBUG&&ei("QueryEngine","Using full collection scan to execute query:",ba(e)),this.Ui.getDocumentsMatchingQuery(t,e,$i.min())}Wi(t,e,n,r){return this.Ui.getDocumentsMatchingQuery(t,n,r).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,e,n,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new $o(Oi),this.Yi=new Sa((t=>ta(t)),ea),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(n)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Qu(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ji)))}}function yh(t,e,n,r){return new vh(t,e,n,r)}async function bh(t,e){const n=ci(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let r;return n.mutationQueue.getAllMutationBatches(t).next((i=>(r=i,n.tr(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const i=[],o=[];let s=Na();for(const t of r){i.push(t.batchId);for(const e of t.mutations)s=s.add(e.key)}for(const t of e){o.push(t.batchId);for(const e of t.mutations)s=s.add(e.key)}return n.localDocuments.getDocuments(t,s).next((t=>({er:t,removedBatchIds:i,addedBatchIds:o})))}))}))}function wh(t,e){const n=ci(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const r=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,o=i.keys();let s=qi.resolve();return o.forEach((t=>{s=s.next((()=>r.getEntry(e,t))).next((e=>{const o=n.docVersions.get(t);si(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),r.addEntry(e)))}))})),s.next((()=>t.mutationQueue.removeMutationBatch(e,i)))}(n,t,e,i).next((()=>i.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=Na();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,r)))}))}function _h(t){const e=ci(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Bs.getLastRemoteSnapshotVersion(t)))}function Oh(t,e){const n=ci(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const s=[];e.targetChanges.forEach(((o,a)=>{const c=i.get(a);if(!c)return;s.push(n.Bs.removeMatchingKeys(t,o.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(t,o.addedDocuments,a))));let l=c.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(a)?l=l.withResumeToken(Ko.EMPTY_BYTE_STRING,Ii.min()).withLastLimboFreeSnapshotVersion(Ii.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,r)),i=i.insert(a,l),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(c,l,o)&&s.push(n.Bs.updateTargetData(t,l))}));let a=Ia(),c=Na();if(e.documentUpdates.forEach((r=>{e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(Th(t,o,e.documentUpdates).next((t=>{a=t.nr,c=t.sr}))),!r.isEqual(Ii.min())){const e=n.Bs.getLastRemoteSnapshotVersion(t).next((e=>n.Bs.setTargetsMetadata(t,t.currentSequenceNumber,r)));s.push(e)}return qi.waitFor(s).next((()=>o.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,a,c))).next((()=>a))})).then((t=>(n.Ji=i,t)))}function Th(t,e,n){let r=Na(),i=Na();return n.forEach((t=>r=r.add(t))),e.getEntries(t,r).next((t=>{let r=Ia();return n.forEach(((n,o)=>{const s=t.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Ii.min())?(e.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(o),r=r.insert(n,o)):ei("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{nr:r,sr:i}}))}function Sh(t,e){const n=ci(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function Ch(t,e){const n=ci(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let r;return n.Bs.getTargetData(t,e).next((i=>i?(r=i,qi.resolve(r)):n.Bs.allocateTargetId(t).next((i=>(r=new Cl(e,i,"TargetPurposeListen",t.currentSequenceNumber),n.Bs.addTargetData(t,r).next((()=>r)))))))})).then((t=>{const r=n.Ji.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(t.targetId,t),n.Yi.set(e,t.targetId)),t}))}async function Ih(t,e,n){const r=ci(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(t=>r.persistence.referenceDelegate.removeTarget(t,i)))}catch(t){if(!Yi(t))throw t;ei("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Eh(t,e,n){const r=ci(t);let i=Ii.min(),o=Na();return r.persistence.runTransaction("Execute query","readonly",(t=>function(t,e,n){const r=ci(t),i=r.Yi.get(n);return void 0!==i?qi.resolve(r.Ji.get(i)):r.Bs.getTargetData(e,n)}(r,t,pa(e)).next((e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(t,e.targetId).next((t=>{o=t}))})).next((()=>r.Hi.getDocumentsMatchingQuery(t,e,n?i:Ii.min(),n?o:Na()))).next((t=>(xh(r,_a(e),t),{documents:t,ir:o})))))}function kh(t,e){const n=ci(t),r=ci(n.Bs),i=n.Ji.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(t=>r.le(t,e).next((t=>t?t.target:null))))}function Ph(t,e){const n=ci(t),r=n.Xi.get(e)||Ii.min();return n.persistence.runTransaction("Get new document changes","readonly",(t=>n.Zi.getAllFromCollectionGroup(t,e,Fi(r,-1),Number.MAX_SAFE_INTEGER))).then((t=>(xh(n,e,t),t)))}function xh(t,e,n){let r=t.Xi.get(e)||Ii.min();n.forEach(((t,e)=>{e.readTime.compareTo(r)>0&&(r=e.readTime)})),t.Xi.set(e,r)}async function Dh(t,e,n,r){const i=ci(t);let o=Na(),s=Ia();for(const l of n){const t=e.rr(l.metadata.name);l.document&&(o=o.add(t));const n=e.ur(l);n.setReadTime(e.cr(l.metadata.readTime)),s=s.insert(t,n)}const a=i.Zi.newChangeBuffer({trackRemovals:!0}),c=await Ch(i,function(t){return pa(ca(ki.fromString(`__bundle__/docs/${t}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(t=>Th(t,a,s).next((e=>(a.apply(t),e))).next((e=>i.Bs.removeMatchingKeysForTargetId(t,c.targetId).next((()=>i.Bs.addMatchingKeys(t,o,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(t,e.nr,e.sr))).next((()=>e.nr))))))}async function Ah(t,e,n=Na()){const r=await Ch(t,pa(Nl(e.bundledQuery))),i=ci(t);return i.persistence.runTransaction("Save named query","readwrite",(t=>{const o=Qc(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.qs.saveNamedQuery(t,e);const s=r.withResumeToken(Ko.EMPTY_BYTE_STRING,o);return i.Ji=i.Ji.insert(s.targetId,s),i.Bs.updateTargetData(t,s).next((()=>i.Bs.removeMatchingKeysForTargetId(t,r.targetId))).next((()=>i.Bs.addMatchingKeys(t,n,r.targetId))).next((()=>i.qs.saveNamedQuery(t,e)))}))}function jh(t,e){return`firestore_clients_${t}_${e}`}function Rh(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Nh(t,e){return`firestore_targets_${t}_${e}`}class Lh{constructor(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}static ar(t,e,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new ui(r.error.code,r.error.message))),o?new Lh(t,e,r.state,i):(ni("SharedClientState",`Failed to parse mutation state for ID '${e}': ${n}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Fh{constructor(t,e,n){this.targetId=t,this.state=e,this.error=n}static ar(t,e){const n=JSON.parse(e);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new ui(n.error.code,n.error.message))),i?new Fh(t,n.state,r):(ni("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Mh{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const n=JSON.parse(e);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Fa();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=oo(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Mh(t,i):(ni("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class $h{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new $h(e.clientId,e.onlineState):(ni("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Bh{constructor(){this.activeTargetIds=Fa()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Vh{constructor(t,e,n,r,i){this.window=t,this.ii=e,this.persistenceKey=n,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new $o(Oi),this.started=!1,this.yr=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.pr=jh(this.persistenceKey,this.wr),this.Ir=function(t){return`firestore_sequence_number_${t}`}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.persistenceKey),this.gr=this.gr.insert(this.wr,new Bh),this.Tr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vr=function(t){return`firestore_online_state_${t}`}(this.persistenceKey),this.Rr=function(t){return`firestore_bundle_loaded_v2_${t}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}async start(){const t=await this.syncEngine.$i();for(const n of t){if(n===this.wr)continue;const t=this.getItem(jh(this.persistenceKey,n));if(t){const e=Mh.ar(n,t);e&&(this.gr=this.gr.insert(e.clientId,e))}}this.Pr();const e=this.storage.getItem(this.vr);if(e){const t=this.br(e);t&&this.Vr(t)}for(const n of this.yr)this.mr(n);this.yr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach(((n,r)=>{r.activeTargetIds.has(t)&&(e=!0)})),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,n){this.Dr(t,e,n),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const n=this.storage.getItem(Nh(this.persistenceKey,t));if(n){const r=Fh.ar(t,n);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Nh(this.persistenceKey,t))}updateQueryState(t,e,n){this.kr(t,e,n)}handleUserChange(t,e,n){e.forEach((t=>{this.Cr(t)})),this.currentUser=t,n.forEach((t=>{this.addPendingMutation(t)}))}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return ei("SharedClientState","READ",t,e),e}setItem(t,e){ei("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){ei("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){const e=t;if(e.storageArea===this.storage){if(ei("SharedClientState","EVENT",e.key,e.newValue),e.key===this.pr)return void ni("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((async()=>{if(this.started){if(null!==e.key)if(this.Tr.test(e.key)){if(null==e.newValue){const t=this.Or(e.key);return this.Fr(t,null)}{const t=this.Br(e.key,e.newValue);if(t)return this.Fr(t.clientId,t)}}else if(this.Er.test(e.key)){if(null!==e.newValue){const t=this.Lr(e.key,e.newValue);if(t)return this.qr(t)}}else if(this.Ar.test(e.key)){if(null!==e.newValue){const t=this.Ur(e.key,e.newValue);if(t)return this.Kr(t)}}else if(e.key===this.vr){if(null!==e.newValue){const t=this.br(e.newValue);if(t)return this.Vr(t)}}else if(e.key===this.Ir){const t=function(t){let e=no.ct;if(null!=t)try{const n=JSON.parse(t);si("number"==typeof n),e=n}catch(t){ni("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(e.newValue);t!==no.ct&&this.sequenceNumberHandler(t)}else if(e.key===this.Rr){const t=this.Gr(e.newValue);await Promise.all(t.map((t=>this.syncEngine.Qr(t))))}}else this.yr.push(e)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,n){const r=new Lh(this.currentUser,t,e,n),i=Rh(this.persistenceKey,this.currentUser,t);this.setItem(i,r.hr())}Cr(t){const e=Rh(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){const e={clientId:this.wr,onlineState:t};this.storage.setItem(this.vr,JSON.stringify(e))}kr(t,e,n){const r=Nh(this.persistenceKey,t),i=new Fh(t,e,n);this.setItem(r,i.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const n=this.Or(t);return Mh.ar(n,e)}Lr(t,e){const n=this.Er.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Lh.ar(new Qr(i),r,e)}Ur(t,e){const n=this.Ar.exec(t),r=Number(n[1]);return Fh.ar(r,e)}br(t){return $h.ar(t)}Gr(t){return JSON.parse(t)}async qr(t){if(t.user.uid===this.currentUser.uid)return this.syncEngine.jr(t.batchId,t.state,t.error);ei("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const n=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),i=this.Sr(n),o=[],s=[];return i.forEach((t=>{r.has(t)||o.push(t)})),r.forEach((t=>{i.has(t)||s.push(t)})),this.syncEngine.Wr(o,s).then((()=>{this.gr=n}))}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=Fa();return t.forEach(((t,n)=>{e=e.unionWith(n.activeTargetIds)})),e}}class Uh{constructor(){this.Hr=new Bh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,n){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new Bh,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{Yr(t){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ei("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){ei("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh=null;function Gh(){return null===Hh?Hh=268435456+Math.round(2147483648*Math.random()):Hh++,"0x"+Hh.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const Wh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh="WebChannelConnection";class Qh extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.mo=e+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,n,r,i){const o=Gh(),s=this.To(t,e);ei("RestConnection",`Sending RPC '${t}' ${o}:`,s,n);const a={};return this.Eo(a,r,i),this.Ao(t,s,a,n).then((e=>(ei("RestConnection",`Received RPC '${t}' ${o}: `,e),e)),(e=>{throw ri("RestConnection",`RPC '${t}' ${o} failed with error: `,e,"url: ",s,"request:",n),e}))}vo(t,e,n,r,i,o){return this.Io(t,e,n,r,i)}Eo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Xr,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}To(t,e){const n=Wh[t];return`${this.mo}/v1/${e}:${n}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,n,r){const i=Gh();return new Promise(((o,s)=>{const a=new Gr;a.setWithCredentials(!0),a.listenOnce(Vr.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Br.NO_ERROR:const e=a.getResponseJson();ei(Yh,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(e)),o(e);break;case Br.TIMEOUT:ei(Yh,`RPC '${t}' ${i} timed out`),s(new ui(li.DEADLINE_EXCEEDED,"Request time out"));break;case Br.HTTP_ERROR:const n=a.getStatus();if(ei(Yh,`RPC '${t}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(li).indexOf(e)>=0?e:li.UNKNOWN}(e.status);s(new ui(t,e.message))}else s(new ui(li.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new ui(li.UNAVAILABLE,"Connection failed."));break;default:oi()}}finally{ei(Yh,`RPC '${t}' ${i} completed.`)}}));const c=JSON.stringify(r);ei(Yh,`RPC '${t}' ${i} sending request:`,r),a.send(e,"POST",c,n,15)}))}Ro(t,e,n){const r=Gh(),i=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Mr(),s=$r(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.xmlHttpFactory=new qr({})),this.Eo(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const l=i.join("");ei(Yh,`Creating RPC '${t}' stream ${r}: ${l}`,a);const u=o.createWebChannel(l,a);let h=!1,d=!1;const f=new Kh({ro:e=>{d?ei(Yh,`Not sending because RPC '${t}' stream ${r} is closed:`,e):(h||(ei(Yh,`Opening RPC '${t}' stream ${r} transport.`),u.open(),h=!0),ei(Yh,`RPC '${t}' stream ${r} sending:`,e),u.send(e))},oo:()=>u.close()}),p=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return p(u,Hr.EventType.OPEN,(()=>{d||ei(Yh,`RPC '${t}' stream ${r} transport opened.`)})),p(u,Hr.EventType.CLOSE,(()=>{d||(d=!0,ei(Yh,`RPC '${t}' stream ${r} transport closed`),f.wo())})),p(u,Hr.EventType.ERROR,(e=>{d||(d=!0,ri(Yh,`RPC '${t}' stream ${r} transport errored:`,e),f.wo(new ui(li.UNAVAILABLE,"The operation could not be completed")))})),p(u,Hr.EventType.MESSAGE,(e=>{var n;if(!d){const i=e.data[0];si(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){ei(Yh,`RPC '${t}' stream ${r} received error:`,s);const e=s.status;let n=function(t){const e=_c[t];if(void 0!==e)return Sc(e)}(e),i=s.message;void 0===n&&(n=li.INTERNAL,i="Unknown error status: "+e+" with message "+s.message),d=!0,f.wo(new ui(n,i)),u.close()}else ei(Yh,`RPC '${t}' stream ${r} received:`,i),f._o(i)}})),p(s,Ur.STAT_EVENT,(e=>{e.stat===zr.PROXY?ei(Yh,`RPC '${t}' stream ${r} detected buffering proxy`):e.stat===zr.NOPROXY&&ei(Yh,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.fo()}),0),f}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(){return"undefined"!=typeof window?window:null}function Jh(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t){return new Hc(t,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(t,e,n=1e3,r=1.5,i=6e4){this.ii=t,this.timerId=e,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-n);r>0&&ei("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),t()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(t,e,n,r,i,o,s,a){this.ii=t,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new td(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(t){this.Ho(),this.stream.send(t)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(t,e){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():e&&e.code===li.RESOURCE_EXHAUSTED?(ni(e.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):e&&e.code===li.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.ao(e)}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,n])=>{this.Fo===e&&this.Zo(t,n)}),(e=>{t((()=>{const t=new ui(li.UNKNOWN,"Fetching auth token failed: "+e.message);return this.tu(t)}))}))}Zo(t,e){const n=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((t=>{n((()=>this.tu(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(t){return ei("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget((()=>this.Fo===t?e():(ei("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nd extends ed{constructor(t,e,n,r,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,o),this.serializer=i}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=cl(this.serializer,t),n=function(t){if(!("targetChange"in t))return Ii.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Ii.min():e.readTime?Qc(e.readTime):Ii.min()}(t);return this.listener.nu(e,n)}su(t){const e={};e.database=rl(this.serializer),e.addTarget=function(t,e){let n;const r=e.target;if(n=na(r)?{documents:dl(t,r)}:{query:fl(t,r)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=Kc(t,e.resumeToken);const r=Gc(t,e.expectedCount);null!==r&&(n.expectedCount=r)}else if(e.snapshotVersion.compareTo(Ii.min())>0){n.readTime=Wc(t,e.snapshotVersion.toTimestamp());const r=Gc(t,e.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,t);const n=ml(this.serializer,t);n&&(e.labels=n),this.Wo(e)}iu(t){const e={};e.database=rl(this.serializer),e.removeTarget=t,this.Wo(e)}}class rd extends ed{constructor(t,e,n,r,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(si(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=hl(t.writeResults,t.commitTime),n=Qc(t.commitTime);return this.listener.cu(n,e)}return si(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=rl(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>ll(this.serializer,t)))};this.Wo(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new ui(li.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.connection.Io(t,e,n,r,i))).catch((t=>{throw"FirebaseError"===t.name?(t.code===li.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new ui(li.UNKNOWN,t.toString())}))}vo(t,e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.vo(t,e,n,i,o,r))).catch((t=>{throw"FirebaseError"===t.name?(t.code===li.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new ui(li.UNKNOWN,t.toString())}))}terminate(){this.lu=!0}}class od{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ni(e),this.mu=!1):ei("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((t=>{n.enqueueAndForget((async()=>{md(this)&&(ei("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=ci(t);e.vu.add(4),await cd(e),e.bu.set("Unknown"),e.vu.delete(4),await ad(e)}(this))}))})),this.bu=new od(n,r)}}async function ad(t){if(md(t))for(const e of t.Ru)await e(!0)}async function cd(t){for(const e of t.Ru)await e(!1)}function ld(t,e){const n=ci(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),pd(n)?fd(n):jd(n).Ko()&&hd(n,e))}function ud(t,e){const n=ci(t),r=jd(n);n.Au.delete(e),r.Ko()&&dd(n,e),0===n.Au.size&&(r.Ko()?r.jo():md(n)&&n.bu.set("Unknown"))}function hd(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ii.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jd(t).su(e)}function dd(t,e){t.Vu.qt(e),jd(t).iu(e)}function fd(t){t.Vu=new $c({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),jd(t).start(),t.bu.gu()}function pd(t){return md(t)&&!jd(t).Uo()&&t.Au.size>0}function md(t){return 0===ci(t).vu.size}function gd(t){t.Vu=void 0}async function vd(t){t.Au.forEach(((e,n)=>{hd(t,e)}))}async function yd(t,e){gd(t),pd(t)?(t.bu.Iu(e),fd(t)):t.bu.set("Unknown")}async function bd(t,e,n){if(t.bu.set("Online"),e instanceof Fc&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.Au.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.Au.delete(r),t.Vu.removeTarget(r))}(t,e)}catch(n){ei("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await wd(t,n)}else if(e instanceof Nc?t.Vu.Ht(e):e instanceof Lc?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(Ii.min()))try{const e=await _h(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.Vu.ce(e);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.Au.get(r);i&&t.Au.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach(((e,n)=>{const r=t.Au.get(e);if(!r)return;t.Au.set(e,r.withResumeToken(Ko.EMPTY_BYTE_STRING,r.snapshotVersion)),dd(t,e);const i=new Cl(r.target,e,n,r.sequenceNumber);hd(t,i)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){ei("RemoteStore","Failed to raise snapshot:",e),await wd(t,e)}}async function wd(t,e,n){if(!Yi(e))throw e;t.vu.add(1),await cd(t),t.bu.set("Offline"),n||(n=()=>_h(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ei("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await ad(t)}))}function _d(t,e){return e().catch((n=>wd(t,n,e)))}async function Od(t){const e=ci(t),n=Rd(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Td(e);)try{const t=await Sh(e.localStore,r);if(null===t){0===e.Eu.length&&n.jo();break}r=t.batchId,Sd(e,t)}catch(t){await wd(e,t)}Cd(e)&&Id(e)}function Td(t){return md(t)&&t.Eu.length<10}function Sd(t,e){t.Eu.push(e);const n=Rd(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Cd(t){return md(t)&&!Rd(t).Uo()&&t.Eu.length>0}function Id(t){Rd(t).start()}async function Ed(t){Rd(t).hu()}async function kd(t){const e=Rd(t);for(const n of t.Eu)e.uu(n.mutations)}async function Pd(t,e,n){const r=t.Eu.shift(),i=yc.from(r,e,n);await _d(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Od(t)}async function xd(t,e){e&&Rd(t).ou&&await async function(t,e){if(n=e.code,Tc(n)&&n!==li.ABORTED){const n=t.Eu.shift();Rd(t).Qo(),await _d(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await Od(t)}var n}(t,e),Cd(t)&&Id(t)}async function Dd(t,e){const n=ci(t);n.asyncQueue.verifyOperationInProgress(),ei("RemoteStore","RemoteStore received new credentials");const r=md(n);n.vu.add(3),await cd(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await ad(n)}async function Ad(t,e){const n=ci(t);e?(n.vu.delete(2),await ad(n)):e||(n.vu.add(2),await cd(n),n.bu.set("Unknown"))}function jd(t){return t.Su||(t.Su=function(t,e,n){const r=ci(t);return r.fu(),new nd(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(t.datastore,t.asyncQueue,{uo:vd.bind(null,t),ao:yd.bind(null,t),nu:bd.bind(null,t)}),t.Ru.push((async e=>{e?(t.Su.Qo(),pd(t)?fd(t):t.bu.set("Unknown")):(await t.Su.stop(),gd(t))}))),t.Su}function Rd(t){return t.Du||(t.Du=function(t,e,n){const r=ci(t);return r.fu(),new rd(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{uo:Ed.bind(null,t),ao:xd.bind(null,t),au:kd.bind(null,t),cu:Pd.bind(null,t)}),t.Ru.push((async e=>{e?(t.Du.Qo(),await Od(t)):(await t.Du.stop(),t.Eu.length>0&&(ei("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))}))),t.Du
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Nd{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,n,r,i){const o=Date.now()+n,s=new Nd(t,e,o,r,i);return s.start(n),s}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ui(li.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ld(t,e){if(ni("AsyncQueue",`${e}: ${t}`),Yi(t))return new ui(li.UNAVAILABLE,`${e}: ${t}`);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t){this.comparator=t?(e,n)=>t(e,n)||Di.comparator(e.key,n.key):(t,e)=>Di.comparator(t.key,e.key),this.keyedMap=ka(),this.sortedSet=new $o(this.comparator)}static emptySet(t){return new Fd(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Fd))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Fd;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(){this.Cu=new $o(Di.comparator)}track(t){const e=t.doc.key,n=this.Cu.get(e);n?0!==t.type&&3===n.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==n.type?this.Cu=this.Cu.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Cu=this.Cu.remove(e):1===t.type&&2===n.type?this.Cu=this.Cu.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):oi():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal(((e,n)=>{t.push(n)})),t}}class $d{constructor(t,e,n,r,i,o,s,a,c){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(t,e,n,r,i){const o=[];return e.forEach((t=>{o.push({type:0,doc:t})})),new $d(t,e,Fd.emptySet(e),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&va(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this.Nu=void 0,this.listeners=[]}}class Vd{constructor(){this.queries=new Sa((t=>ya(t)),va),this.onlineState="Unknown",this.ku=new Set}}async function Ud(t,e){const n=ci(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Bd),i)try{o.Nu=await n.onListen(r)}catch(t){const n=Ld(t,`Initialization of query '${ba(e.query)}' failed`);return void e.onError(n)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&Gd(n)}async function zd(t,e){const n=ci(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const t=o.listeners.indexOf(e);t>=0&&(o.listeners.splice(t,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function qd(t,e){const n=ci(t);let r=!1;for(const i of e){const t=i.query,e=n.queries.get(t);if(e){for(const t of e.listeners)t.$u(i)&&(r=!0);e.Nu=i}}r&&Gd(n)}function Hd(t,e,n){const r=ci(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function Gd(t){t.ku.forEach((t=>{t.next()}))}class Wd{constructor(t,e,n){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new $d(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return(!this.options.Ku||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){if(t.docChanges.length>0)return!0;const e=this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}Uu(t){t=$d.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(t){this.serializer=t}rr(t){return tl(this.serializer,t)}ur(t){return t.metadata.exists?sl(this.serializer,t.document,!1):Es.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return Qc(t)}}class Qd{constructor(t,e,n){this.ju=t,this.localStore=e,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Xd(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const n=ki.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,n=new Yd(this.serializer);for(const r of t)if(r.metadata.queries){const t=n.rr(r.metadata.name);for(const n of r.metadata.queries){const r=(e.get(n)||Na()).add(t);e.set(n,r)}}return e}async complete(){const t=await Dh(this.localStore,new Yd(this.serializer),this.documents,this.ju.id),e=this.Wu(this.documents);for(const n of this.queries)await Ah(this.localStore,n,e.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}}}function Xd(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(t){this.key=t}}class Zd{constructor(t){this.key=t}}class tf{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Na(),this.mutatedKeys=Na(),this.tc=Oa(t),this.ec=new Fd(this.tc)}get nc(){return this.Yu}sc(t,e){const n=e?e.ic:new Md,r=e?e.ec:this.ec;let i=e?e.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((t,e)=>{const l=r.get(t),u=wa(this.query,e)?e:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.rc(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.tc(u,a)>0||c&&this.tc(u,c)<0)&&(s=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(t):i.delete(t)):(o=o.delete(t),i=i.delete(t)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const t="F"===this.query.limitType?o.last():o.first();o=o.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{ec:o,ic:n,zi:s,mutatedKeys:i}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const i=t.ic.xu();i.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oi()}};return n(t)-n(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t.type,e.type)||this.tc(t.doc,e.doc))),this.oc(n);const o=e?this.uc():[],s=0===this.Zu.size&&this.current?1:0,a=s!==this.Xu;return this.Xu=s,0!==i.length||a?{snapshot:new $d(this.query,t.ec,r,i,t.mutatedKeys,0===s,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Md,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach((t=>this.Yu=this.Yu.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.Yu=this.Yu.delete(t))),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=Na(),this.ec.forEach((t=>{this.ac(t.key)&&(this.Zu=this.Zu.add(t.key))}));const e=[];return t.forEach((t=>{this.Zu.has(t)||e.push(new Zd(t))})),this.Zu.forEach((n=>{t.has(n)||e.push(new Jd(n))})),e}hc(t){this.Yu=t.ir,this.Zu=Na();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return $d.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class ef{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class nf{constructor(t){this.key=t,this.fc=!1}}class rf{constructor(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Sa((t=>ya(t)),va),this._c=new Map,this.mc=new Set,this.gc=new $o(Di.comparator),this.yc=new Map,this.Ic=new Zu,this.Tc={},this.Ec=new Map,this.Ac=ku.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function of(t,e){const n=Rf(t);let r,i;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const t=await Ch(n.localStore,pa(e)),o=n.sharedClientState.addLocalQueryTarget(t.targetId);r=t.targetId,i=await sf(n,e,r,"current"===o,t.resumeToken),n.isPrimaryClient&&ld(n.remoteStore,t)}return i}async function sf(t,e,n,r,i){t.Rc=(e,n,r)=>async function(t,e,n,r){let i=e.view.sc(n);i.zi&&(i=await Eh(t.localStore,e.query,!1).then((({documents:t})=>e.view.sc(t,i))));const o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o);return bf(t,e.targetId,s.cc),s.snapshot}(t,e,n,r);const o=await Eh(t.localStore,e,!0),s=new tf(e,o.ir),a=s.sc(o.documents),c=Rc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=s.applyChanges(a,t.isPrimaryClient,c);bf(t,n,l.cc);const u=new ef(e,n,s);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),l.snapshot}async function af(t,e){const n=ci(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((t=>!va(t,e)))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ih(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),ud(n.remoteStore,r.targetId),vf(n,r.targetId)})).catch(zi)):(vf(n,r.targetId),await Ih(n.localStore,r.targetId,!0))}async function cf(t,e,n){const r=Nf(t);try{const t=await function(t,e){const n=ci(t),r=Ci.now(),i=e.reduce(((t,e)=>t.add(e.key)),Na());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=Ia(),c=Na();return n.Zi.getEntries(t,i).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(c=c.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,a))).next((i=>{o=i;const s=[];for(const t of e){const e=cc(t,o.get(t.key).overlayedDocument);null!=e&&s.push(new hc(t.key,e,Is(e.value.mapValue),nc.exists(!0)))}return n.mutationQueue.addMutationBatch(t,r,s,e)})).next((e=>{s=e;const r=e.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(t,e.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Pa(o)})))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.Tc[t.currentUser.toKey()];r||(r=new $o(Oi)),r=r.insert(e,n),t.Tc[t.currentUser.toKey()]=r}(r,t.batchId,n),await Of(r,t.changes),await Od(r.remoteStore)}catch(t){const e=Ld(t,"Failed to persist write");n.reject(e)}}async function lf(t,e){const n=ci(t);try{const t=await Oh(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const r=n.yc.get(e);r&&(si(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.fc=!0:t.modifiedDocuments.size>0?si(r.fc):t.removedDocuments.size>0&&(si(r.fc),r.fc=!1))})),await Of(n,t,e)}catch(t){await zi(t)}}function uf(t,e,n){const r=ci(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(e);i.snapshot&&t.push(i.snapshot)})),function(t,e){const n=ci(t);n.onlineState=e;let r=!1;n.queries.forEach(((t,n)=>{for(const i of n.listeners)i.Mu(e)&&(r=!0)})),r&&Gd(n)}(r.eventManager,e),t.length&&r.dc.nu(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hf(t,e,n){const r=ci(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),o=i&&i.key;if(o){let t=new $o(Di.comparator);t=t.insert(o,Es.newNoDocument(o,Ii.min()));const n=Na().add(o),i=new jc(Ii.min(),new Map,new $o(Oi),t,n);await lf(r,i),r.gc=r.gc.remove(o),r.yc.delete(e),_f(r)}else await Ih(r.localStore,e,!1).then((()=>vf(r,e,n))).catch(zi)}async function df(t,e){const n=ci(t),r=e.batch.batchId;try{const t=await wh(n.localStore,e);gf(n,r,null),mf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Of(n,t)}catch(t){await zi(t)}}async function ff(t,e,n){const r=ci(t);try{const t=await function(t,e){const n=ci(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let r;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(si(null!==e),r=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,r))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(r.localStore,e);gf(r,e,n),mf(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Of(r,t)}catch(n){await zi(n)}}async function pf(t,e){const n=ci(t);md(n.remoteStore)||ei("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const t=await function(t){const e=ci(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(t=>e.mutationQueue.getHighestUnacknowledgedBatchId(t)))}(n.localStore);if(-1===t)return void e.resolve();const r=n.Ec.get(t)||[];r.push(e),n.Ec.set(t,r)}catch(t){const n=Ld(t,"Initialization of waitForPendingWrites() operation failed");e.reject(n)}}function mf(t,e){(t.Ec.get(e)||[]).forEach((t=>{t.resolve()})),t.Ec.delete(e)}function gf(t,e,n){const r=ci(t);let i=r.Tc[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function vf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach((e=>{t.Ic.containsKey(e)||yf(t,e)}))}function yf(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(ud(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),_f(t))}function bf(t,e,n){for(const r of n)r instanceof Jd?(t.Ic.addReference(r.key,e),wf(t,r)):r instanceof Zd?(ei("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||yf(t,r.key)):oi()}function wf(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(ei("SyncEngine","New document in limbo: "+n),t.mc.add(r),_f(t))}function _f(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Di(ki.fromString(e)),r=t.Ac.next();t.yc.set(r,new nf(n)),t.gc=t.gc.insert(n,r),ld(t.remoteStore,new Cl(pa(ca(n.path)),r,"TargetPurposeLimboResolution",no.ct))}}async function Of(t,e,n){const r=ci(t),i=[],o=[],s=[];r.wc.isEmpty()||(r.wc.forEach(((t,a)=>{s.push(r.Rc(a,e,n).then((t=>{if((t||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){i.push(t);const e=mh.Li(a.targetId,t);o.push(e)}})))})),await Promise.all(s),r.dc.nu(i),await async function(t,e){const n=ci(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>qi.forEach(e,(e=>qi.forEach(e.Fi,(r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r))).next((()=>qi.forEach(e.Bi,(r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))))))}catch(t){if(!Yi(t))throw t;ei("LocalStore","Failed to update sequence numbers: "+t)}for(const r of e){const t=r.targetId;if(!r.fromCache){const e=n.Ji.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(t,i)}}}(r.localStore,o))}async function Tf(t,e){const n=ci(t);if(!n.currentUser.isEqual(e)){ei("SyncEngine","User change. New user:",e.toKey());const t=await bh(n.localStore,e);n.currentUser=e,function(t,e){t.Ec.forEach((t=>{t.forEach((t=>{t.reject(new ui(li.CANCELLED,e))}))})),t.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await Of(n,t.er)}}function Sf(t,e){const n=ci(t),r=n.yc.get(e);if(r&&r.fc)return Na().add(r.key);{let t=Na();const r=n._c.get(e);if(!r)return t;for(const e of r){const r=n.wc.get(e);t=t.unionWith(r.view.nc)}return t}}async function Cf(t,e){const n=ci(t),r=await Eh(n.localStore,e.query,!0),i=e.view.hc(r);return n.isPrimaryClient&&bf(n,e.targetId,i.cc),i}async function If(t,e){const n=ci(t);return Ph(n.localStore,e).then((t=>Of(n,t)))}async function Ef(t,e,n,r){const i=ci(t),o=await function(t,e){const n=ci(t),r=ci(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(t=>r.Sn(t,e).next((e=>e?n.localDocuments.getDocuments(t,e):qi.resolve(null)))))}(i.localStore,e);null!==o?("pending"===n?await Od(i.remoteStore):"acknowledged"===n||"rejected"===n?(gf(i,e,r||null),mf(i,e),function(t,e){ci(ci(t).mutationQueue).Cn(e)}(i.localStore,e)):oi(),await Of(i,o)):ei("SyncEngine","Cannot apply mutation batch with id: "+e)}async function kf(t,e){const n=ci(t);if(Rf(n),Nf(n),!0===e&&!0!==n.vc){const t=n.sharedClientState.getAllActiveQueryTargets(),e=await Pf(n,t.toArray());n.vc=!0,await Ad(n.remoteStore,!0);for(const r of e)ld(n.remoteStore,r)}else if(!1===e&&!1!==n.vc){const t=[];let e=Promise.resolve();n._c.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?t.push(i):e=e.then((()=>(vf(n,i),Ih(n.localStore,i,!0)))),ud(n.remoteStore,i)})),await e,await Pf(n,t),function(t){const e=ci(t);e.yc.forEach(((t,n)=>{ud(e.remoteStore,n)})),e.Ic.Ts(),e.yc=new Map,e.gc=new $o(Di.comparator)}(n),n.vc=!1,await Ad(n.remoteStore,!1)}}async function Pf(t,e,n){const r=ci(t),i=[],o=[];for(const s of e){let t;const e=r._c.get(s);if(e&&0!==e.length){t=await Ch(r.localStore,pa(e[0]));for(const t of e){const e=r.wc.get(t),n=await Cf(r,e);n.snapshot&&o.push(n.snapshot)}}else{const e=await kh(r.localStore,s);t=await Ch(r.localStore,e),await sf(r,xf(e),s,!1,t.resumeToken)}i.push(t)}return r.dc.nu(o),i}function xf(t){return aa(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Df(t){const e=ci(t);return ci(ci(e.localStore).persistence).$i()}async function Af(t,e,n,r){const i=ci(t);if(i.vc)return void ei("SyncEngine","Ignoring unexpected query state notification.");const o=i._c.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const t=await Ph(i.localStore,_a(o[0])),r=jc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Ko.EMPTY_BYTE_STRING);await Of(i,t,r);break}case"rejected":await Ih(i.localStore,e,!0),vf(i,e,r);break;default:oi()}}async function jf(t,e,n){const r=Rf(t);if(r.vc){for(const t of e){if(r._c.has(t)){ei("SyncEngine","Adding an already active target "+t);continue}const e=await kh(r.localStore,t),n=await Ch(r.localStore,e);await sf(r,xf(e),n.targetId,!1,n.resumeToken),ld(r.remoteStore,n)}for(const t of n)r._c.has(t)&&await Ih(r.localStore,t,!1).then((()=>{ud(r.remoteStore,t),vf(r,t)})).catch(zi)}}function Rf(t){const e=ci(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hf.bind(null,e),e.dc.nu=qd.bind(null,e.eventManager),e.dc.Pc=Hd.bind(null,e.eventManager),e}function Nf(t){const e=ci(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=df.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ff.bind(null,e),e}function Lf(t,e,n){const r=ci(t);(async function(t,e,n){try{const r=await e.getMetadata();if(await function(t,e){const n=ci(t),r=Qc(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(t=>n.qs.getBundleMetadata(t,e.id))).then((t=>!!t&&t.createTime.compareTo(r)>=0))}(t.localStore,r))return await e.close(),n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Xd(r));const i=new Qd(r,t.localStore,e.serializer);let o=await e.bc();for(;o;){const t=await i.zu(o);t&&n._updateProgress(t),o=await e.bc()}const s=await i.complete();return await Of(t,s.Ju,void 0),await function(t,e){const n=ci(t);return n.persistence.runTransaction("Save bundle","readwrite",(t=>n.qs.saveBundleMetadata(t,e)))}(t.localStore,r),n._completeWith(s.progress),Promise.resolve(s.Hu)}catch(t){return ri("SyncEngine",`Loading bundle failed with ${t}`),n._failWith(t),Promise.resolve(new Set)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(r,e,n).then((t=>{r.sharedClientState.notifyBundleLoaded(t)}))}class Ff{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Zh(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return yh(this.persistence,new gh,t.initialUser,this.serializer)}createPersistence(t){return new oh(ah.zs,this.serializer)}createSharedClientState(t){return new Uh}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Mf extends Ff{constructor(t,e,n){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.Vc.initialize(this,t),await Nf(this.Vc.syncEngine),await Od(this.Vc.remoteStore),await this.persistence.Ii((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(t){return yh(this.persistence,new gh,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){const n=this.persistence.referenceDelegate.garbageCollector;return new Nu(n,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const n=new eo(e,this.persistence);return new to(t.asyncQueue,n)}createPersistence(t){const e=ph(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?wu.withCacheSize(this.cacheSizeBytes):wu.DEFAULT;return new hh(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Xh(),Jh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new Uh}}class $f extends Mf{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}async initialize(t){await super.initialize(t);const e=this.Vc.syncEngine;this.sharedClientState instanceof Vh&&(this.sharedClientState.syncEngine={jr:Ef.bind(null,e),zr:Af.bind(null,e),Wr:jf.bind(null,e),$i:Df.bind(null,e),Qr:If.bind(null,e)},await this.sharedClientState.start()),await this.persistence.Ii((async t=>{await kf(this.Vc.syncEngine,t),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start():t||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(t&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():t||this.indexBackfillerScheduler.stop())}))}createSharedClientState(t){const e=Xh();if(!Vh.D(e))throw new ui(li.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=ph(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Vh(e,t.asyncQueue,n,t.clientId,t.initialUser)}}class Bf{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>uf(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=Tf.bind(null,this.syncEngine),await Ad(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Vd}createDatastore(t){const e=Zh(t.databaseInfo.databaseId),n=(r=t.databaseInfo,new Qh(r));var r;return function(t,e,n,r){return new id(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=t=>uf(this.syncEngine,t,0),o=qh.D()?new qh:new zh,new sd(e,n,r,i,o);var e,n,r,i,o}createSyncEngine(t,e){return function(t,e,n,r,i,o,s){const a=new rf(t,e,n,r,i,o);return s&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=ci(t);ei("RemoteStore","RemoteStore shutting down."),e.vu.add(5),await cd(e),e.Pu.shutdown(),e.bu.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):ni("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new hi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((t=>{t&&t.Qu()?this.metadata.resolve(t.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==t?void 0:t.Gu)}`))}),(t=>this.metadata.reject(t)))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const t=await this.kc();if(null===t)return null;const e=this.xc.decode(t),n=Number(e);isNaN(n)&&this.Mc(`length string (${e}) is not valid number`);const r=await this.$c(n);return new Kd(JSON.parse(r),t.length+n)}Oc(){return this.buffer.findIndex((t=>t==="{".charCodeAt(0)))}async kc(){for(;this.Oc()<0;)if(await this.Fc())break;if(0===this.buffer.length)return null;const t=this.Oc();t<0&&this.Mc("Reached the end of bundle when a length string is expected.");const e=this.buffer.slice(0,t);return this.buffer=this.buffer.slice(t),e}async $c(t){for(;this.buffer.length<t;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const e=this.xc.decode(this.buffer.slice(0,t));return this.buffer=this.buffer.slice(t),e}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}async Fc(){const t=await this.Cc.read();if(!t.done){const e=new Uint8Array(this.buffer.length+t.value.length);e.set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e}return t.done}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ui(li.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const e=await async function(t,e){const n=ci(t),r=rl(n.serializer)+"/documents",i={documents:e.map((t=>Zc(n.serializer,t)))},o=await n.vo("BatchGetDocuments",r,i,e.length),s=new Map;o.forEach((t=>{const e=al(n.serializer,t);s.set(e.key.toString(),e)}));const a=[];return e.forEach((t=>{const e=s.get(t.toString());si(!!e),a.push(e)})),a}(this.datastore,t);return e.forEach((t=>this.recordVersion(t))),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())}delete(t){this.write(new mc(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const t=this.readVersions;this.mutations.forEach((e=>{t.delete(e.key.toString())})),t.forEach(((t,e)=>{const n=Di.fromPath(e);this.mutations.push(new gc(n,this.precondition(n)))})),await async function(t,e){const n=ci(t),r=rl(n.serializer)+"/documents",i={writes:e.map((t=>ll(n.serializer,t)))};await n.Io("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw oi();e=Ii.min()}const n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ui(li.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Ii.min())?nc.exists(!1):nc.updateTime(e):nc.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ii.min()))throw new ui(li.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nc.updateTime(e)}return nc.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t,e,n,r,i){this.asyncQueue=t,this.datastore=e,this.options=n,this.updateFunction=r,this.deferred=i,this.Bc=n.maxAttempts,this.qo=new td(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No((async()=>{const t=new qf(this.datastore),e=this.qc(t);e&&e.then((e=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(e)})).catch((t=>{this.Uc(t)}))))})).catch((t=>{this.Uc(t)}))}))}qc(t){try{const e=this.updateFunction(t);return!ro(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Lc(),Promise.resolve())))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!Tc(e)}return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t,e,n,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Qr.UNAUTHENTICATED,this.clientId=_i.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{ei("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(ei("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ui(li.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=Ld(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function Wf(t,e){t.asyncQueue.verifyOperationInProgress(),ei("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async t=>{r.isEqual(t)||(await bh(e.localStore,t),r=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Kf(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Qf(t);ei("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener((t=>Dd(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>Dd(e.remoteStore,n))),t._onlineComponents=e}function Yf(t){return"FirebaseError"===t.name?t.code===li.FAILED_PRECONDITION||t.code===li.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}async function Qf(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ei("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Yf(n))throw n;ri("Error using user provided cache. Falling back to memory cache: "+n),await Wf(t,new Ff)}}else ei("FirestoreClient","Using default OfflineComponentProvider"),await Wf(t,new Ff);return t._offlineComponents}async function Xf(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ei("FirestoreClient","Using user provided OnlineComponentProvider"),await Kf(t,t._uninitializedComponentsProvider._online)):(ei("FirestoreClient","Using default OnlineComponentProvider"),await Kf(t,new Bf))),t._onlineComponents}function Jf(t){return Qf(t).then((t=>t.persistence))}function Zf(t){return Qf(t).then((t=>t.localStore))}function tp(t){return Xf(t).then((t=>t.remoteStore))}function ep(t){return Xf(t).then((t=>t.syncEngine))}function np(t){return Xf(t).then((t=>t.datastore))}async function rp(t){const e=await Xf(t),n=e.eventManager;return n.onListen=of.bind(null,e.syncEngine),n.onUnlisten=af.bind(null,e.syncEngine),n}function ip(t){return t.asyncQueue.enqueue((async()=>{const e=await Jf(t),n=await tp(t);return e.setNetworkEnabled(!0),function(t){const e=ci(t);return e.vu.delete(0),ad(e)}(n)}))}function op(t){return t.asyncQueue.enqueue((async()=>{const e=await Jf(t),n=await tp(t);return e.setNetworkEnabled(!1),async function(t){const e=ci(t);e.vu.add(0),await cd(e),e.bu.set("Offline")}(n)}))}function sp(t,e){const n=new hi;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){try{const r=await function(t,e){const n=ci(t);return n.persistence.runTransaction("read document","readonly",(t=>n.localDocuments.getDocument(t,e)))}(t,e);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new ui(li.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(t){const r=Ld(t,`Failed to get document '${e} from cache`);n.reject(r)}}(await Zf(t),e,n))),n.promise}function ap(t,e,n={}){const r=new hi;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const o=new Uf({next:o=>{e.enqueueAndForget((()=>zd(t,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new ui(li.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new ui(li.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:t=>i.reject(t)}),s=new Wd(ca(n.path),o,{includeMetadataChanges:!0,Ku:!0});return Ud(t,s)}(await rp(t),t.asyncQueue,e,n,r))),r.promise}function cp(t,e){const n=new hi;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){try{const r=await Eh(t,e,!0),i=new tf(e,r.ir),o=i.sc(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(t){const r=Ld(t,`Failed to execute query '${e} against cache`);n.reject(r)}}(await Zf(t),e,n))),n.promise}function lp(t,e,n={}){const r=new hi;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const o=new Uf({next:n=>{e.enqueueAndForget((()=>zd(t,s))),n.fromCache&&"server"===r.source?i.reject(new ui(li.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:t=>i.reject(t)}),s=new Wd(n,o,{includeMetadataChanges:!0,Ku:!0});return Ud(t,s)}(await rp(t),t.asyncQueue,e,n,r))),r.promise}function up(t,e){const n=new Uf(e);return t.asyncQueue.enqueueAndForget((async()=>function(t,e){ci(t).ku.add(e),e.next()}(await rp(t),n))),()=>{n.Dc(),t.asyncQueue.enqueueAndForget((async()=>function(t,e){ci(t).ku.delete(e)}(await rp(t),n)))}}function hp(t,e,n,r){const i=function(t,e){let n;return n="string"==typeof t?Ec().encode(t):t,function(t,e){return new zf(t,e)}(function(t,e){if(t instanceof Uint8Array)return Vf(t,e);if(t instanceof ArrayBuffer)return Vf(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),e)}(n,Zh(e));t.asyncQueue.enqueueAndForget((async()=>{Lf(await ep(t),i,r)}))}function dp(t,e){return t.asyncQueue.enqueue((async()=>function(t,e){const n=ci(t);return n.persistence.runTransaction("Get named query","readonly",(t=>n.qs.getNamedQuery(t,e)))}(await Zf(t),e)))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function fp(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const pp=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(t,e,n){if(!n)throw new ui(li.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gp(t,e,n,r){if(!0===e&&!0===r)throw new ui(li.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vp(t){if(!Di.isDocumentKey(t))throw new ui(li.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yp(t){if(Di.isDocumentKey(t))throw new ui(li.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":oi()}function wp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ui(li.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bp(t);throw new ui(li.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function _p(t,e){if(e<=0)throw new ui(li.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new ui(li.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ui(li.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}gp("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fp(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new ui(li.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (must not be NaN)`);if(t.timeoutSeconds<5)throw new ui(li.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (minimum allowed value is 5)`);if(t.timeoutSeconds>30)throw new ui(li.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (maximum allowed value is 30)`)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(e=this.experimentalLongPollingOptions,n=t.experimentalLongPollingOptions,e.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var e,n}}class Tp{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Op({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ui(li.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ui(li.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Op(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new fi;switch(t.type){case"firstParty":return new vi(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ui(li.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=pp.get(t);e&&(ei("ComponentProvider","Removing Datastore"),pp.delete(t),e.terminate())}(this),Promise.resolve()}}function Sp(t,e,n,r={}){var i;const o=(t=wp(t,Tp))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&ri("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=Qr.MOCK_USER;else{e=(0,c.Fy)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new ui(li.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Qr(o)}t._authCredentials=new pi(new di(e,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ep(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Cp(this.firestore,t,this._key)}}class Ip{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Ip(this.firestore,t,this._query)}}class Ep extends Ip{constructor(t,e,n){super(t,e,ca(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Cp(this.firestore,null,new Di(t))}withConverter(t){return new Ep(this.firestore,t,this._path)}}function kp(t,e,...n){if(t=(0,c.Ku)(t),mp("collection","path",e),t instanceof Tp){const r=ki.fromString(e,...n);return yp(r),new Ep(t,null,r)}{if(!(t instanceof Cp||t instanceof Ep))throw new ui(li.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ki.fromString(e,...n));return yp(r),new Ep(t.firestore,null,r)}}function Pp(t,e){if(t=wp(t,Tp),mp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ui(li.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ip(t,null,function(t){return new sa(ki.emptyPath(),t)}(e))}function xp(t,e,...n){if(t=(0,c.Ku)(t),1===arguments.length&&(e=_i.A()),mp("doc","path",e),t instanceof Tp){const r=ki.fromString(e,...n);return vp(r),new Cp(t,null,new Di(r))}{if(!(t instanceof Cp||t instanceof Ep))throw new ui(li.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ki.fromString(e,...n));return vp(r),new Cp(t.firestore,t instanceof Ep?t.converter:null,new Di(r))}}function Dp(t,e){return t=(0,c.Ku)(t),e=(0,c.Ku)(e),(t instanceof Cp||t instanceof Ep)&&(e instanceof Cp||e instanceof Ep)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Ap(t,e){return t=(0,c.Ku)(t),e=(0,c.Ku)(e),t instanceof Ip&&e instanceof Ip&&t.firestore===e.firestore&&va(t._query,e._query)&&t.converter===e.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class jp{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new td(this,"async_queue_retry"),this.Xc=()=>{const t=Jh();t&&ei("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const t=Jh();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=Jh();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise((()=>{}));const e=new hi;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Qc.push(t),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(t){if(!Yi(t))throw t;ei("AsyncQueue","Operation failed with retryable error: "+t)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(t){const e=this.Gc.then((()=>(this.Hc=!0,t().catch((t=>{this.Wc=t,this.Hc=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);throw ni("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Hc=!1,t))))));return this.Gc=e,e}enqueueAfterDelay(t,e,n){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=Nd.createAndSchedule(this,t,e,n,(t=>this.na(t)));return this.zc.push(r),r}Zc(){this.Wc&&oi()}verifyOperationInProgress(){}async sa(){let t;do{t=this.Gc,await t}while(t!==this.Gc)}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then((()=>{this.zc.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()}))}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function Rp(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,["next","error","complete"])}class Np{constructor(){this._progressObserver={},this._taskCompletionResolver=new hi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,n){this._progressObserver={next:t,error:e,complete:n}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=-1;class Fp extends Tp{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new jp,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||$p(this),this._firestoreClient.terminate()}}function Mp(t){return t._firestoreClient||$p(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $p(t){var e,n,r;const i=t._freezeSettings(),o=function(t,e,n,r){return new ns(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,fp(r.experimentalLongPollingOptions),r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Gf(t._authCredentials,t._appCheckCredentials,t._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function Bp(t,e){Yp(t=wp(t,Fp));const n=Mp(t);if(n._uninitializedComponentsProvider)throw new ui(li.FAILED_PRECONDITION,"SDK cache is already specified.");ri("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Bf;return Up(n,i,new Mf(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Vp(t){Yp(t=wp(t,Fp));const e=Mp(t);if(e._uninitializedComponentsProvider)throw new ui(li.FAILED_PRECONDITION,"SDK cache is already specified.");ri("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Bf;return Up(e,r,new $f(r,n.cacheSizeBytes))}function Up(t,e,n){const r=new hi;return t.asyncQueue.enqueue((async()=>{try{await Wf(t,n),await Kf(t,e),r.resolve()}catch(t){const n=t;if(!Yf(n))throw n;ri("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function zp(t){if(t._initialized&&!t._terminated)throw new ui(li.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new hi;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(t){if(!Gi.D())return Promise.resolve();const e=t+"main";await Gi.delete(e)}(ph(t._databaseId,t._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function qp(t){return function(t){const e=new hi;return t.asyncQueue.enqueueAndForget((async()=>pf(await ep(t),e))),e.promise}(Mp(t=wp(t,Fp)))}function Hp(t){return ip(Mp(t=wp(t,Fp)))}function Gp(t){return op(Mp(t=wp(t,Fp)))}function Wp(t,e){const n=Mp(t=wp(t,Fp)),r=new Np;return hp(n,t._databaseId,e,r),r}function Kp(t,e){return dp(Mp(t=wp(t,Fp)),e).then((e=>e?new Ip(t,null,e.query):null))}function Yp(t){if(t._initialized||t._terminated)throw new ui(li.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Qp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qp(Ko.fromBase64String(t))}catch(t){throw new ui(li.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new Qp(Ko.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ui(li.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Jp{constructor(t){this._methodName=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ui(li.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ui(li.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Oi(this._lat,t._lat)||Oi(this._long,t._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=/^__.*__$/;class em{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new hc(t,this.data,this.fieldMask,e,this.fieldTransforms):new uc(t,this.data,e,this.fieldTransforms)}}class nm{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new hc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function rm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oi()}}class im{constructor(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new im(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:n,la:!1});return r.fa(t),r}da(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:n,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return Sm(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(rm(this.ca)&&tm.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class om{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||Zh(t)}ya(t,e,n,r=!1){return new im({ca:t,methodName:e,ga:n,path:xi.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sm(t){const e=t._freezeSettings(),n=Zh(t._databaseId);return new om(t._databaseId,!!e.ignoreUndefinedProperties,n)}function am(t,e,n,r,i,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,i);wm("Data must be an object, but it was:",s,r);const a=ym(r,s);let c,l;if(o.merge)c=new Ho(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const t=[];for(const r of o.mergeFields){const i=_m(e,r,n);if(!s.contains(i))throw new ui(li.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Cm(t,i)||t.push(i)}c=new Ho(t),l=s.fieldTransforms.filter((t=>c.covers(t.field)))}else c=null,l=s.fieldTransforms;return new em(new Cs(a),c,l)}class cm extends Jp{_toFieldTransform(t){if(2!==t.ca)throw 1===t.ca?t._a(`${this._methodName}() can only appear at the top level of your update data`):t._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof cm}}function lm(t,e,n){return new im({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class um extends Jp{_toFieldTransform(t){return new Za(t.path,new Ha)}isEqual(t){return t instanceof um}}class hm extends Jp{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=lm(this,t,!0),n=this.pa.map((t=>vm(t,e))),r=new Ga(n);return new Za(t.path,r)}isEqual(t){return this===t}}class dm extends Jp{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=lm(this,t,!0),n=this.pa.map((t=>vm(t,e))),r=new Ka(n);return new Za(t.path,r)}isEqual(t){return this===t}}class fm extends Jp{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new Qa(t.serializer,Ba(t.serializer,this.Ia));return new Za(t.path,e)}isEqual(t){return this===t}}function pm(t,e,n,r){const i=t.ya(1,e,n);wm("Data must be an object, but it was:",i,r);const o=[],s=Cs.empty();Fo(r,((t,r)=>{const a=Tm(e,t,n);r=(0,c.Ku)(r);const l=i.da(a);if(r instanceof cm)o.push(a);else{const t=vm(r,l);null!=t&&(o.push(a),s.set(a,t))}}));const a=new Ho(o);return new nm(s,a,i.fieldTransforms)}function mm(t,e,n,r,i,o){const s=t.ya(1,e,n),a=[_m(e,r,n)],l=[i];if(o.length%2!=0)throw new ui(li.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let c=0;c<o.length;c+=2)a.push(_m(e,o[c])),l.push(o[c+1]);const u=[],h=Cs.empty();for(let f=a.length-1;f>=0;--f)if(!Cm(u,a[f])){const t=a[f];let e=l[f];e=(0,c.Ku)(e);const n=s.da(t);if(e instanceof cm)u.push(t);else{const r=vm(e,n);null!=r&&(u.push(t),h.set(t,r))}}const d=new Ho(u);return new nm(h,d,s.fieldTransforms)}function gm(t,e,n,r=!1){return vm(n,t.ya(r?4:3,e))}function vm(t,e){if(bm(t=(0,c.Ku)(t)))return wm("Unsupported field value:",e,t),ym(t,e);if(t instanceof Jp)return function(t,e){if(!rm(e.ca))throw e._a(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e._a(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=vm(i,e.wa(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,c.Ku)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ba(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Ci.fromDate(t);return{timestampValue:Wc(e.serializer,n)}}if(t instanceof Ci){const n=new Ci(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Wc(e.serializer,n)}}if(t instanceof Zp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Qp)return{bytesValue:Kc(e.serializer,t._byteString)};if(t instanceof Cp){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Xc(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e._a(`Unsupported field value: ${bp(t)}`)}(t,e)}function ym(t,e){const n={};return Mo(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fo(t,((t,r)=>{const i=vm(r,e.ha(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function bm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ci||t instanceof Zp||t instanceof Qp||t instanceof Cp||t instanceof Jp)}function wm(t,e,n){if(!bm(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=bp(n);throw"an object"===r?e._a(t+" a custom object"):e._a(t+" "+r)}}function _m(t,e,n){if((e=(0,c.Ku)(e))instanceof Xp)return e._internalPath;if("string"==typeof e)return Tm(t,e);throw Sm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Om=new RegExp("[~\\*/\\[\\]]");function Tm(t,e,n){if(e.search(Om)>=0)throw Sm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xp(...e.split("."))._internalPath}catch(r){throw Sm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sm(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new ui(li.INVALID_ARGUMENT,a+t+c)}function Cm(t,e){return t.some((t=>t.isEqual(e)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Cp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Em(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(km("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Em extends Im{data(){return super.data()}}function km(t,e){return"string"==typeof e?Tm(t,e):e instanceof Xp?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new ui(li.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xm{}class Dm extends xm{}function Am(t,e,...n){let r=[];e instanceof xm&&r.push(e),r=r.concat(n),function(t){const e=t.filter((t=>t instanceof Nm)).length,n=t.filter((t=>t instanceof jm)).length;if(e>1||e>0&&n>0)throw new ui(li.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r);for(const i of r)t=i._apply(t);return t}class jm extends Dm{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new jm(t,e,n)}_apply(t){const e=this._parse(t);return Qm(t._query,e),new Ip(t.firestore,t.converter,ma(t._query,e))}_parse(t){const e=sm(t.firestore),n=function(t,e,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ui(li.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){Ym(s,o);const e=[];for(const n of s)e.push(Km(r,t,n));a={arrayValue:{values:e}}}else a=Km(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ym(s,o),a=gm(n,e,s,"in"===o||"not-in"===o);return Rs.create(i,o,a)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value);return n}}function Rm(t,e,n){const r=e,i=km("where",t);return jm._create(i,r,n)}class Nm extends xm{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Nm(t,e)}_parse(t){const e=this._queryConstraints.map((e=>e._parse(t))).filter((t=>t.getFilters().length>0));return 1===e.length?e[0]:Ns.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const r=e.getFlattenedFilters();for(const i of r)Qm(n,i),n=ma(n,i)}(t._query,e),new Ip(t.firestore,t.converter,ma(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Lm extends Dm{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Lm(t,e)}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new ui(li.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ui(li.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Ds(e,n);return function(t,e){if(null===ua(t)){const n=ha(t);null!==n&&Xm(t,n,e.field)}}(t,r),r}(t._query,this._field,this._direction);return new Ip(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new sa(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function Fm(t,e="asc"){const n=e,r=km("orderBy",t);return Lm._create(r,n)}class Mm extends Dm{constructor(t,e,n){super(),this.type=t,this._limit=e,this._limitType=n}static _create(t,e,n){return new Mm(t,e,n)}_apply(t){return new Ip(t.firestore,t.converter,ga(t._query,this._limit,this._limitType))}}function $m(t){return _p("limit",t),Mm._create("limit",t,"F")}function Bm(t){return _p("limitToLast",t),Mm._create("limitToLast",t,"L")}class Vm extends Dm{constructor(t,e,n){super(),this.type=t,this._docOrFields=e,this._inclusive=n}static _create(t,e,n){return new Vm(t,e,n)}_apply(t){const e=Wm(t,this.type,this._docOrFields,this._inclusive);return new Ip(t.firestore,t.converter,function(t,e){return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))}}function Um(...t){return Vm._create("startAt",t,!0)}function zm(...t){return Vm._create("startAfter",t,!1)}class qm extends Dm{constructor(t,e,n){super(),this.type=t,this._docOrFields=e,this._inclusive=n}static _create(t,e,n){return new qm(t,e,n)}_apply(t){const e=Wm(t,this.type,this._docOrFields,this._inclusive);return new Ip(t.firestore,t.converter,function(t,e){return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))}}function Hm(...t){return qm._create("endBefore",t,!1)}function Gm(...t){return qm._create("endAt",t,!0)}function Wm(t,e,n,r){if(n[0]=(0,c.Ku)(n[0]),n[0]instanceof Im)return function(t,e,n,r,i){if(!r)throw new ui(li.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const s of fa(t))if(s.field.isKeyField())o.push(fs(e,r.key));else{const t=r.data.field(s.field);if(Zo(t))throw new ui(li.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===t){const t=s.field.canonicalString();throw new ui(li.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${t}' (used as the orderBy) does not exist.`)}o.push(t)}return new ks(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=sm(t.firestore);return function(t,e,n,r,i,o){const s=t.explicitOrderBy;if(i.length>s.length)throw new ui(li.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let c=0;c<i.length;c++){const o=i[c];if(s[c].field.isKeyField()){if("string"!=typeof o)throw new ui(li.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof o}`);if(!da(t)&&-1!==o.indexOf("/"))throw new ui(li.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${o}' contains a slash.`);const n=t.path.child(ki.fromString(o));if(!Di.isDocumentKey(n))throw new ui(li.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new Di(n);a.push(fs(e,i))}else{const t=gm(n,r,o);a.push(t)}}return new ks(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}}function Km(t,e,n){if("string"==typeof(n=(0,c.Ku)(n))){if(""===n)throw new ui(li.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!da(e)&&-1!==n.indexOf("/"))throw new ui(li.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ki.fromString(n));if(!Di.isDocumentKey(r))throw new ui(li.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fs(t,new Di(r))}if(n instanceof Cp)return fs(t,n._key);throw new ui(li.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bp(n)}.`)}function Ym(t,e){if(!Array.isArray(t)||0===t.length)throw new ui(li.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Qm(t,e){if(e.isInequality()){const n=ha(t),r=e.field;if(null!==n&&!n.isEqual(r))throw new ui(li.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=ua(t);null!==i&&Xm(t,r,i)}const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new ui(li.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ui(li.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Xm(t,e,n){if(!n.isEqual(e))throw new ui(li.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Jm{convertValue(t,e="none"){switch(ss(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xo(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Jo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw oi()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return Fo(t,((t,r)=>{n[t]=this.convertValue(r,e)})),n}convertGeoPoint(t){return new Zp(Xo(t.latitude),Xo(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=ts(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(es(t));default:return null}}convertTimestamp(t){const e=Qo(t);return new Ci(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=ki.fromString(t);si(Sl(n));const r=new rs(n.get(1),n.get(3)),i=new Di(n.popFirst(5));return r.isEqual(e)||ni(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class tg extends Jm{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qp(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Cp(this.firestore,null,e)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class eg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ng extends Im{constructor(t,e,n,r,i,o){super(t,e,n,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new rg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(km("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class rg extends ng{data(t={}){return super.data(t)}}class ig{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new eg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new rg(this._firestore,this._userDataWriter,n.key,n,new eg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ui(li.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const r=new rg(t._firestore,t._userDataWriter,n.doc.key,n.doc,new eg(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const r=new rg(t._firestore,t._userDataWriter,e.doc.key,e.doc,new eg(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,o=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),o=n.indexOf(e.doc.key)),{type:og(e.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function og(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oi()}}function sg(t,e){return t instanceof ng&&e instanceof ng?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ig&&e instanceof ig&&t._firestore===e._firestore&&Ap(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t){t=wp(t,Cp);const e=wp(t.firestore,Fp);return ap(Mp(e),t._key).then((n=>_g(e,t,n)))}class cg extends Jm{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qp(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Cp(this.firestore,null,e)}}function lg(t){t=wp(t,Cp);const e=wp(t.firestore,Fp),n=Mp(e),r=new cg(e);return sp(n,t._key).then((n=>new ng(e,r,t._key,n,new eg(null!==n&&n.hasLocalMutations,!0),t.converter)))}function ug(t){t=wp(t,Cp);const e=wp(t.firestore,Fp);return ap(Mp(e),t._key,{source:"server"}).then((n=>_g(e,t,n)))}function hg(t){t=wp(t,Ip);const e=wp(t.firestore,Fp),n=Mp(e),r=new cg(e);return Pm(t._query),lp(n,t._query).then((n=>new ig(e,r,t,n)))}function dg(t){t=wp(t,Ip);const e=wp(t.firestore,Fp),n=Mp(e),r=new cg(e);return cp(n,t._query).then((n=>new ig(e,r,t,n)))}function fg(t){t=wp(t,Ip);const e=wp(t.firestore,Fp),n=Mp(e),r=new cg(e);return lp(n,t._query,{source:"server"}).then((n=>new ig(e,r,t,n)))}function pg(t,e,n){t=wp(t,Cp);const r=wp(t.firestore,Fp),i=Zm(t.converter,e,n);return wg(r,[am(sm(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,nc.none())])}function mg(t,e,n,...r){t=wp(t,Cp);const i=wp(t.firestore,Fp),o=sm(i);let s;return s="string"==typeof(e=(0,c.Ku)(e))||e instanceof Xp?mm(o,"updateDoc",t._key,e,n,r):pm(o,"updateDoc",t._key,e),wg(i,[s.toMutation(t._key,nc.exists(!0))])}function gg(t){return wg(wp(t.firestore,Fp),[new mc(t._key,nc.none())])}function vg(t,e){const n=wp(t.firestore,Fp),r=xp(t),i=Zm(t.converter,e);return wg(n,[am(sm(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,nc.exists(!1))]).then((()=>r))}function yg(t,...e){var n,r,i;t=(0,c.Ku)(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||Rp(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(Rp(e[s])){const t=e[s];e[s]=null===(n=t.next)||void 0===n?void 0:n.bind(t),e[s+1]=null===(r=t.error)||void 0===r?void 0:r.bind(t),e[s+2]=null===(i=t.complete)||void 0===i?void 0:i.bind(t)}let l,u,h;if(t instanceof Cp)u=wp(t.firestore,Fp),h=ca(t._key.path),l={next:n=>{e[s]&&e[s](_g(u,t,n))},error:e[s+1],complete:e[s+2]};else{const n=wp(t,Ip);u=wp(n.firestore,Fp),h=n._query;const r=new cg(u);l={next:t=>{e[s]&&e[s](new ig(u,r,n,t))},error:e[s+1],complete:e[s+2]},Pm(t._query)}return function(t,e,n,r){const i=new Uf(r),o=new Wd(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>Ud(await rp(t),o))),()=>{i.Dc(),t.asyncQueue.enqueueAndForget((async()=>zd(await rp(t),o)))}}(Mp(u),h,a,l)}function bg(t,e){return up(Mp(t=wp(t,Fp)),Rp(e)?e:{next:e})}function wg(t,e){return function(t,e){const n=new hi;return t.asyncQueue.enqueueAndForget((async()=>cf(await ep(t),e,n))),n.promise}(Mp(t),e)}function _g(t,e,n){const r=n.docs.get(e._key),i=new cg(t);return new ng(t,i,e._key,r,new eg(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Og={maxAttempts:5};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=sm(t)}set(t,e,n){this._verifyNotCommitted();const r=Sg(t,this._firestore),i=Zm(r.converter,e,n),o=am(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,nc.none())),this}update(t,e,n,...r){this._verifyNotCommitted();const i=Sg(t,this._firestore);let o;return o="string"==typeof(e=(0,c.Ku)(e))||e instanceof Xp?mm(this._dataReader,"WriteBatch.update",i._key,e,n,r):pm(this._dataReader,"WriteBatch.update",i._key,e),this._mutations.push(o.toMutation(i._key,nc.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Sg(t,this._firestore);return this._mutations=this._mutations.concat(new mc(e._key,nc.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ui(li.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sg(t,e){if((t=(0,c.Ku)(t)).firestore!==e)throw new ui(li.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=sm(t)}get(t){const e=Sg(t,this._firestore),n=new tg(this._firestore);return this._transaction.lookup([e._key]).then((t=>{if(!t||1!==t.length)return oi();const r=t[0];if(r.isFoundDocument())return new Im(this._firestore,n,r.key,r,e.converter);if(r.isNoDocument())return new Im(this._firestore,n,e._key,null,e.converter);throw oi()}))}set(t,e,n){const r=Sg(t,this._firestore),i=Zm(r.converter,e,n),o=am(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(t,e,n,...r){const i=Sg(t,this._firestore);let o;return o="string"==typeof(e=(0,c.Ku)(e))||e instanceof Xp?mm(this._dataReader,"Transaction.update",i._key,e,n,r):pm(this._dataReader,"Transaction.update",i._key,e),this._transaction.update(i._key,o),this}delete(t){const e=Sg(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Sg(t,this._firestore),n=new cg(this._firestore);return super.get(t).then((t=>new ng(this._firestore,n,e._key,t._document,new eg(!1,!1),e.converter)))}}function Ig(t,e,n){t=wp(t,Fp);const r=Object.assign(Object.assign({},Og),n);return function(t){if(t.maxAttempts<1)throw new ui(li.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(t,e,n){const r=new hi;return t.asyncQueue.enqueueAndForget((async()=>{const i=await np(t);new Hf(t.asyncQueue,i,n,e,r).run()})),r.promise}(Mp(t),(n=>e(new Cg(t,n))),r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(){return new cm("deleteField")}function kg(){return new um("serverTimestamp")}function Pg(...t){return new hm("arrayUnion",t)}function xg(...t){return new dm("arrayRemove",t)}function Dg(t){return new fm("increment",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t,e=!0){!function(t){Xr=t}(o.SDK_VERSION),(0,o._registerComponent)(new s.uA("firestore",((t,{instanceIdentifier:n,options:r})=>{const i=t.getProvider("app").getImmediate(),o=new Fp(new mi(t.getProvider("auth-internal")),new bi(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ui(li.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rs(t.options.projectId,e)}(i,n),i);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(Yr,"3.13.0",t),(0,o.registerVersion)(Yr,"3.13.0","esm2017")}();const Ag="@firebase/firestore-compat",jg="0.3.12";
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Rg(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ui("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(){if("undefined"===typeof Uint8Array)throw new ui("unimplemented","Uint8Arrays are not available in this environment.")}function Lg(){if(!Wo())throw new ui("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Fg{constructor(t){this._delegate=t}static fromBase64String(t){return Lg(),new Fg(Qp.fromBase64String(t))}static fromUint8Array(t){return Ng(),new Fg(Qp.fromUint8Array(t))}toBase64(){return Lg(),this._delegate.toBase64()}toUint8Array(){return Ng(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t){return $g(t,["next","error","complete"])}function $g(t,e){if("object"!==typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"===typeof n[r])return!0;return!1}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{enableIndexedDbPersistence(t,e){return Bp(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return Vp(t._delegate)}clearIndexedDbPersistence(t){return zp(t._delegate)}}class Vg{constructor(t,e,n){this._delegate=e,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},t instanceof rs||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();t.merge||e.host===t.host||ri("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&(t=Object.assign(Object.assign({},e),t),delete t.merge),this._delegate._setSettings(t)}useEmulator(t,e,n={}){Sp(this._delegate,t,e,n)}enableNetwork(){return Hp(this._delegate)}disableNetwork(){return Gp(this._delegate)}enablePersistence(t){let e=!1,n=!1;return t&&(e=!!t.synchronizeTabs,n=!!t.experimentalForceOwningTab,gp("synchronizeTabs",e,"experimentalForceOwningTab",n)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return qp(this._delegate)}onSnapshotsInSync(t){return bg(this._delegate,t)}get app(){if(!this._appCompat)throw new ui("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new nv(this,kp(this._delegate,t))}catch(e){throw Kg(e,"collection()","Firestore.collection()")}}doc(t){try{return new Wg(this,xp(this._delegate,t))}catch(e){throw Kg(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Zg(this,Pp(this._delegate,t))}catch(e){throw Kg(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return Ig(this._delegate,(e=>t(new qg(this,e))))}batch(){return Mp(this._delegate),new Hg(new Tg(this._delegate,(t=>wg(this._delegate,t))))}loadBundle(t){return Wp(this._delegate,t)}namedQuery(t){return Kp(this._delegate,t).then((t=>t?new Zg(this,t):null))}}class Ug extends Jm{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fg(new Qp(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Wg.forKey(e,this.firestore,null)}}function zg(t){ti(t)}class qg{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Ug(t)}get(t){const e=rv(t);return this._delegate.get(e).then((t=>new Xg(this._firestore,new ng(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,e.converter))))}set(t,e,n){const r=rv(t);return n?(Rg("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this}update(t,e,n,...r){const i=rv(t);return 2===arguments.length?this._delegate.update(i,e):this._delegate.update(i,e,n,...r),this}delete(t){const e=rv(t);return this._delegate.delete(e),this}}class Hg{constructor(t){this._delegate=t}set(t,e,n){const r=rv(t);return n?(Rg("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this}update(t,e,n,...r){const i=rv(t);return 2===arguments.length?this._delegate.update(i,e):this._delegate.update(i,e,n,...r),this}delete(t){const e=rv(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Gg{constructor(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}fromFirestore(t,e){const n=new rg(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Jg(this._firestore,n),null!==e&&void 0!==e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const n=Gg.INSTANCES;let r=n.get(t);r||(r=new WeakMap,n.set(t,r));let i=r.get(e);return i||(i=new Gg(t,new Ug(t),e),r.set(e,i)),i}}Gg.INSTANCES=new WeakMap;class Wg{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ug(t)}static forPath(t,e,n){if(t.length%2!==0)throw new ui("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Wg(e,new Cp(e._delegate,n,new Di(t)))}static forKey(t,e,n){return new Wg(e,new Cp(e._delegate,n,t))}get id(){return this._delegate.id}get parent(){return new nv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new nv(this.firestore,kp(this._delegate,t))}catch(e){throw Kg(e,"collection()","DocumentReference.collection()")}}isEqual(t){return t=(0,c.Ku)(t),t instanceof Cp&&Dp(this._delegate,t)}set(t,e){e=Rg("DocumentReference.set",e);try{return e?pg(this._delegate,t,e):pg(this._delegate,t)}catch(n){throw Kg(n,"setDoc()","DocumentReference.set()")}}update(t,e,...n){try{return 1===arguments.length?mg(this._delegate,t):mg(this._delegate,t,e,...n)}catch(r){throw Kg(r,"updateDoc()","DocumentReference.update()")}}delete(){return gg(this._delegate)}onSnapshot(...t){const e=Yg(t),n=Qg(t,(t=>new Xg(this.firestore,new ng(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter))));return yg(this._delegate,e,n)}get(t){let e;return e="cache"===(null===t||void 0===t?void 0:t.source)?lg(this._delegate):"server"===(null===t||void 0===t?void 0:t.source)?ug(this._delegate):ag(this._delegate),e.then((t=>new Xg(this.firestore,new ng(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter))))}withConverter(t){return new Wg(this.firestore,t?this._delegate.withConverter(Gg.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}function Kg(t,e,n){return t.message=t.message.replace(e,n),t}function Yg(t){for(const e of t)if("object"===typeof e&&!Mg(e))return e;return{}}function Qg(t,e){var n,r;let i;return i=Mg(t[0])?t[0]:Mg(t[1])?t[1]:"function"===typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:t=>{i.next&&i.next(e(t))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Xg{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Wg(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return sg(this._delegate,t._delegate)}}class Jg extends Xg{data(t){const e=this._delegate.data(t);return ai(void 0!==e,"Document in a QueryDocumentSnapshot should exist"),e}}class Zg{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ug(t)}where(t,e,n){try{return new Zg(this.firestore,Am(this._delegate,Rm(t,e,n)))}catch(r){throw Kg(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Zg(this.firestore,Am(this._delegate,Fm(t,e)))}catch(n){throw Kg(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Zg(this.firestore,Am(this._delegate,$m(t)))}catch(e){throw Kg(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Zg(this.firestore,Am(this._delegate,Bm(t)))}catch(e){throw Kg(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Zg(this.firestore,Am(this._delegate,Um(...t)))}catch(e){throw Kg(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Zg(this.firestore,Am(this._delegate,zm(...t)))}catch(e){throw Kg(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Zg(this.firestore,Am(this._delegate,Hm(...t)))}catch(e){throw Kg(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Zg(this.firestore,Am(this._delegate,Gm(...t)))}catch(e){throw Kg(e,"endAt()","Query.endAt()")}}isEqual(t){return Ap(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null===t||void 0===t?void 0:t.source)?dg(this._delegate):"server"===(null===t||void 0===t?void 0:t.source)?fg(this._delegate):hg(this._delegate),e.then((t=>new ev(this.firestore,new ig(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot))))}onSnapshot(...t){const e=Yg(t),n=Qg(t,(t=>new ev(this.firestore,new ig(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot))));return yg(this._delegate,e,n)}withConverter(t){return new Zg(this.firestore,t?this._delegate.withConverter(Gg.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}class tv{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Jg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ev{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Zg(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((t=>new Jg(this._firestore,t)))}docChanges(t){return this._delegate.docChanges(t).map((t=>new tv(this._firestore,t)))}forEach(t,e){this._delegate.forEach((n=>{t.call(e,new Jg(this._firestore,n))}))}isEqual(t){return sg(this._delegate,t._delegate)}}class nv extends Zg{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Wg(this.firestore,t):null}doc(t){try{return new Wg(this.firestore,void 0===t?xp(this._delegate):xp(this._delegate,t))}catch(e){throw Kg(e,"doc()","CollectionReference.doc()")}}add(t){return vg(this._delegate,t).then((t=>new Wg(this.firestore,t)))}isEqual(t){return Dp(this._delegate,t._delegate)}withConverter(t){return new nv(this.firestore,t?this._delegate.withConverter(Gg.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}function rv(t){return wp(t,Cp)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(...t){this._delegate=new Xp(...t)}static documentId(){return new iv(xi.keyField().canonicalString())}isEqual(t){return t=(0,c.Ku)(t),t instanceof Xp&&this._delegate._internalPath.isEqual(t._internalPath)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(t){this._delegate=t}static serverTimestamp(){const t=kg();return t._methodName="FieldValue.serverTimestamp",new ov(t)}static delete(){const t=Eg();return t._methodName="FieldValue.delete",new ov(t)}static arrayUnion(...t){const e=Pg(...t);return e._methodName="FieldValue.arrayUnion",new ov(e)}static arrayRemove(...t){const e=xg(...t);return e._methodName="FieldValue.arrayRemove",new ov(e)}static increment(t){const e=Dg(t);return e._methodName="FieldValue.increment",new ov(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv={Firestore:Vg,GeoPoint:Zp,Timestamp:Ci,Blob:Fg,Transaction:qg,WriteBatch:Hg,DocumentReference:Wg,DocumentSnapshot:Xg,Query:Zg,QueryDocumentSnapshot:Jg,QuerySnapshot:ev,CollectionReference:nv,FieldPath:iv,FieldValue:ov,setLogLevel:zg,CACHE_SIZE_UNLIMITED:Lp};function av(t,e){t.INTERNAL.registerComponent(new s.uA("firestore-compat",(t=>{const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(n,r)}),"PUBLIC").setServiceProps(Object.assign({},sv)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t){av(t,((t,e)=>new Vg(t,e,new Bg))),t.registerVersion(Ag,jg)}cv(i.A)},5745:(t,e,n)=>{var r=n(7629);t.exports=function(t,e){return r[t]||(r[t]=e||{})}},5917:(t,e,n)=>{var r=n(3724),i=n(9039),o=n(4055);t.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},5966:(t,e,n)=>{var r=n(9306),i=n(4117);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},6080:(t,e,n)=>{var r=n(7476),i=n(9306),o=n(616),s=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?s(t,e):function(){return t.apply(e,arguments)}}},6119:(t,e,n)=>{var r=n(5745),i=n(3392),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},6126:(t,e,n)=>{n.d(e,{p:()=>o});var r=n(2908),i=n(4878);function o(t,e){return(0,r.N)((function(n,r){var o=0;n.subscribe((0,i._)(r,(function(n){return t.call(e,n,o++)&&r.next(n)})))}))}},6174:(t,e,n)=>{function r(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}n.d(e,{o:()=>r})},6193:(t,e,n)=>{var r=n(9504),i=Error,o=r("".replace),s=function(t){return String(new i(t).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(s);t.exports=function(t,e){if(c&&"string"==typeof t&&!i.prepareStackTrace)while(e--)t=o(t,a,"");return t}},6198:(t,e,n)=>{var r=n(8014);t.exports=function(t){return r(t.length)}},6269:t=>{t.exports={}},6279:(t,e,n)=>{var r=n(6840);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},6319:(t,e,n)=>{var r=n(8551),i=n(9539);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(s){i(t,"throw",s)}}},6395:t=>{t.exports=!1},6518:(t,e,n)=>{var r=n(4576),i=n(7347).f,o=n(6699),s=n(6840),a=n(9433),c=n(7740),l=n(2796);t.exports=function(t,e){var n,u,h,d,f,p,m=t.target,g=t.global,v=t.stat;if(u=g?r:v?r[m]||a(m,{}):r[m]&&r[m].prototype,u)for(h in e){if(f=e[h],t.dontCallGetSet?(p=i(u,h),d=p&&p.value):d=u[h],n=l(g?h:m+(v?".":"#")+h,t.forced),!n&&void 0!==d){if(typeof f==typeof d)continue;c(f,d)}(t.sham||d&&d.sham)&&o(f,"sham",!0),s(u,h,f,t)}}},6699:(t,e,n)=>{var r=n(3724),i=n(4913),o=n(6980);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},6706:(t,e,n)=>{var r=n(9504),i=n(9306);t.exports=function(t,e,n){try{return r(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(o){}}},6743:(t,e,n)=>{n.d(e,{$L:()=>V,$g:()=>A,A4:()=>f,Am:()=>J,As:()=>U,Bd:()=>k,Cv:()=>q,FA:()=>M,Fy:()=>S,HN:()=>lt,Hk:()=>o,I9:()=>Z,Im:()=>K,K3:()=>c,KA:()=>u,Ku:()=>dt,Ll:()=>E,OE:()=>ht,T9:()=>_,Uj:()=>h,XA:()=>O,ZQ:()=>C,bD:()=>Q,cY:()=>T,dI:()=>at,eX:()=>N,g:()=>F,gR:()=>G,gz:()=>et,hp:()=>tt,jZ:()=>I,kH:()=>Y,kj:()=>ut,lT:()=>D,lV:()=>x,nr:()=>j,oD:()=>ct,od:()=>st,qc:()=>H,sr:()=>P,tD:()=>nt,u:()=>d,vA:()=>i,yw:()=>W,zW:()=>R,zw:()=>p});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a=function(t){const e=[];let n=0,r=0;while(n<t.length){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],c=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&a)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],o=i+1<t.length,s=o?t[i+1]:0,a=i+2<t.length,c=a?t[i+2]:0,l=e>>2,u=(3&e)<<4|s>>4;let h=(15&s)<<2|c>>6,d=63&c;a||(d=64,o||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):a(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],o=i<t.length,s=o?n[t.charAt(i)]:0;++i;const a=i<t.length,c=a?n[t.charAt(i)]:64;++i;const u=i<t.length,h=u?n[t.charAt(i)]:64;if(++i,null==e||null==s||null==c||null==h)throw new l;const d=e<<2|s>>4;if(r.push(d),64!==c){const t=s<<4&240|c>>2;if(r.push(t),64!==h){const t=c<<6&192|h;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u=function(t){const e=s(t);return c.encodeByteArray(e,!0)},h=function(t){return u(t).replace(/\./g,"")},d=function(t){try{return c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function f(t){return p(void 0,t)}function p(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)e.hasOwnProperty(n)&&m(n)&&(t[n]=p(t[n],e[n]));return t}function m(t){return"__proto__"!==t}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v=()=>g().__FIREBASE_DEFAULTS__,y=()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",BASE_URL:"/"}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0},b=()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&d(t[1]);return e&&JSON.parse(e)},w=()=>{try{return v()||y()||b()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},_=()=>{var t;return null===(t=w())||void 0===t?void 0:t.config},O=t=>{var e;return null===(e=w())||void 0===e?void 0:e[`_${t}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class T{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[h(JSON.stringify(n)),h(JSON.stringify(s)),a].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function I(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(C())}function E(){var t;const e=null===(t=w())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function k(){return"object"===typeof self&&self.self===self}function P(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function x(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function D(){const t=C();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function A(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN}function j(){return!E()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R(){try{return"object"===typeof indexedDB}catch(t){return!1}}function N(){return new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const L="FirebaseError";class F extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=L,Object.setPrototypeOf(this,F.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,M.prototype.create)}}class M{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],o=i?$(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`,a=new F(r,s,n);return a}}function $(t,e){return t.replace(B,((t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`}))}const B=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V(t){return JSON.parse(t)}function U(t){return JSON.stringify(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=V(d(o[0])||""),n=V(d(o[1])||""),i=o[2],r=n["d"]||{},delete n["d"]}catch(o){}return{header:e,claims:n,data:r,signature:i}},q=function(t){const e=z(t),n=e.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},H=function(t){const e=z(t).claims;return"object"===typeof e&&!0===e["admin"]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function G(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function W(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function K(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Y(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Q(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],o=e[i];if(X(n)&&X(o)){if(!Q(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function X(t){return null!==t&&"object"===typeof t}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function J(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Z(t){const e={},n=t.replace(/^\?/,"").split("&");return n.forEach((t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}})),e}function tt(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const n=this.W_;if("string"===typeof t)for(let u=0;u<16;u++)n[u]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let u=0;u<16;u++)n[u]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let u=16;u<80;u++){const t=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(t<<1|t>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=c^s&(a^c),i=1518500249):(r=s^a^c,i=1859775393):u<60?(r=s&a|c&(s|a),i=2400959708):(r=s^a^c,i=3395469782);const t=(o<<5|o>>>27)+r+l+i+n[u]&4294967295;l=c,c=a,a=4294967295&(s<<30|s>>>2),s=o,o=t}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,e){if(null==t)return;void 0===e&&(e=t.length);const n=e-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;while(r<e){if(0===o)while(r<=n)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){while(r<e)if(i[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else while(r<e)if(i[o]=t[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}digest(){const t=[];let e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&e,e/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let e=24;e>=0;e-=8)t[n]=this.chain_[r]>>e&255,++n;return t}}function nt(t,e){const n=new rt(t,e);return n.subscribe.bind(n)}class rt{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=it(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=ot),void 0===r.error&&(r.error=ot),void 0===r.complete&&(r.complete=ot);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(t){}})),this.observers.push(r),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function it(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}function ot(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st=function(t,e,n,r){let i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i){const e=t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(e)}};function at(t,e){return`${t} failed: ${e} argument `}function ct(t,e,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(at(t,e)+"must be a valid function.")}function lt(t,e,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(at(t,e)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=55296&&o<=56319){const e=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate.");const n=t.charCodeAt(r)-56320;o=65536+(e<<10)+n}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},ht=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function dt(t){return t&&t._delegate?t._delegate:t}},6744:(t,e,n)=>{n.d(e,{f:()=>i});var r=n(1635),i={setTimeout:function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var s=i.delegate;return(null===s||void 0===s?void 0:s.setTimeout)?s.setTimeout.apply(s,(0,r.fX)([t,e],(0,r.zs)(n))):setTimeout.apply(void 0,(0,r.fX)([t,e],(0,r.zs)(n)))},clearTimeout:function(t){var e=i.delegate;return((null===e||void 0===e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0}},6801:(t,e,n)=>{var r=n(3724),i=n(8686),o=n(4913),s=n(8551),a=n(5397),c=n(1072);e.f=r&&!i?Object.defineProperties:function(t,e){s(t);var n,r=a(e),i=c(e),l=i.length,u=0;while(l>u)o.f(t,n=i[u++],r[n]);return t}},6823:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},6840:(t,e,n)=>{var r=n(4901),i=n(4913),o=n(283),s=n(9433);t.exports=function(t,e,n,a){a||(a={});var c=a.enumerable,l=void 0!==a.name?a.name:e;if(r(n)&&o(n,l,a),a.global)c?t[e]=n:s(e,n);else{try{a.unsafe?t[e]&&(c=!0):delete t[e]}catch(u){}c?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},6955:(t,e,n)=>{var r=n(2140),i=n(4901),o=n(2195),s=n(8227),a=s("toStringTag"),c=Object,l="Arguments"===o(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(n){}};t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(e=c(t),a))?n:l?o(e):"Object"===(r=o(e))&&i(e.callee)?"Arguments":r}},6969:(t,e,n)=>{var r=n(2777),i=n(757);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},6980:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7008:(t,e,n)=>{n.d(e,{Y:()=>o,l:()=>s});var r=n(4384),i=null;function o(t){if(r.$.useDeprecatedSynchronousErrorHandling){var e=!i;if(e&&(i={errorThrown:!1,error:null}),t(),e){var n=i,o=n.errorThrown,s=n.error;if(i=null,o)throw s}}else t()}function s(t){r.$.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=t)}},7040:(t,e,n)=>{var r=n(4495);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7055:(t,e,n)=>{var r=n(9504),i=n(9039),o=n(2195),s=Object,a=r("".split);t.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?a(t,""):s(t)}:s},7091:(t,e,n)=>{n.d(e,{c:()=>h});var r=n(1093),i=n(7992),o=n(5604);function s(t){return t}function a(t){return 0===t.length?s:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var c=n(4384),l=n(1209),u=n(7008),h=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var i=this,o=p(t)?t:new r.Ms(t,e,n);return(0,u.Y)((function(){var t=i,e=t.operator,n=t.source;o.add(e?e.call(o,n):n?i._subscribe(o):i._trySubscribe(o))})),o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return e=d(e),new e((function(e,i){var o=new r.Ms({next:function(e){try{t(e)}catch(n){i(n),o.unsubscribe()}},error:i,complete:e});n.subscribe(o)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[o.s]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a(t)(this)},t.prototype.toPromise=function(t){var e=this;return t=d(t),new t((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function d(t){var e;return null!==(e=null!==t&&void 0!==t?t:c.$.Promise)&&void 0!==e?e:Promise}function f(t){return t&&(0,l.T)(t.next)&&(0,l.T)(t.error)&&(0,l.T)(t.complete)}function p(t){return t&&t instanceof r.vU||f(t)&&(0,i.Uv)(t)}},7213:(t,e,n)=>{n.d(e,{Tg:()=>y});var r=n(1635),i=function(t){return t&&"number"===typeof t.length&&"function"!==typeof t},o=n(1209);function s(t){return(0,o.T)(null===t||void 0===t?void 0:t.then)}var a=n(7091),c=n(5604);function l(t){return(0,o.T)(t[c.s])}function u(t){return Symbol.asyncIterator&&(0,o.T)(null===t||void 0===t?void 0:t[Symbol.asyncIterator])}function h(t){return new TypeError("You provided "+(null!==t&&"object"===typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function d(){return"function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var f=d();function p(t){return(0,o.T)(null===t||void 0===t?void 0:t[f])}function m(t){return(0,r.AQ)(this,arguments,(function(){var e,n,i,o;return(0,r.YH)(this,(function(s){switch(s.label){case 0:e=t.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,(0,r.N3)(e.read())];case 3:return n=s.sent(),i=n.value,o=n.done,o?[4,(0,r.N3)(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,(0,r.N3)(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function g(t){return(0,o.T)(null===t||void 0===t?void 0:t.getReader)}var v=n(2564);function y(t){if(t instanceof a.c)return t;if(null!=t){if(l(t))return b(t);if(i(t))return w(t);if(s(t))return _(t);if(u(t))return T(t);if(p(t))return O(t);if(g(t))return S(t)}throw h(t)}function b(t){return new a.c((function(e){var n=t[c.s]();if((0,o.T)(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}function w(t){return new a.c((function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()}))}function _(t){return new a.c((function(e){t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,v.m)}))}function O(t){return new a.c((function(e){var n,i;try{for(var o=(0,r.Ju)(t),s=o.next();!s.done;s=o.next()){var a=s.value;if(e.next(a),e.closed)return}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}e.complete()}))}function T(t){return new a.c((function(e){C(t,e).catch((function(t){return e.error(t)}))}))}function S(t){return T(m(t))}function C(t,e){var n,i,o,s;return(0,r.sH)(this,void 0,void 0,(function(){var a,c;return(0,r.YH)(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=(0,r.xN)(t),l.label=1;case 1:return[4,n.next()];case 2:if(i=l.sent(),i.done)return[3,4];if(a=i.value,e.next(a),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=l.sent(),o={error:c},[3,11];case 6:return l.trys.push([6,,9,10]),i&&!i.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))}},7347:(t,e,n)=>{var r=n(3724),i=n(9565),o=n(8773),s=n(6980),a=n(5397),c=n(6969),l=n(9297),u=n(5917),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(t,e){if(t=a(t),e=c(e),u)try{return h(t,e)}catch(n){}if(l(t,e))return s(!i(o.f,t,e),t[e])}},7476:(t,e,n)=>{var r=n(2195),i=n(9504);t.exports=function(t){if("Function"===r(t))return i(t)}},7588:(t,e,n)=>{var r=n(6518),i=n(2652),o=n(9306),s=n(8551),a=n(1767);r({target:"Iterator",proto:!0,real:!0},{forEach:function(t){s(this),o(t);var e=a(this),n=0;i(e,(function(e){t(e,n++)}),{IS_RECORD:!0})}})},7629:(t,e,n)=>{var r=n(6395),i=n(4576),o=n(9433),s="__core-js_shared__",a=t.exports=i[s]||o(s,{});(a.versions||(a.versions=[])).push({version:"3.41.0",mode:r?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7657:(t,e,n)=>{var r,i,o,s=n(9039),a=n(4901),c=n(34),l=n(2360),u=n(2787),h=n(6840),d=n(8227),f=n(6395),p=d("iterator"),m=!1;[].keys&&(o=[].keys(),"next"in o?(i=u(u(o)),i!==Object.prototype&&(r=i)):m=!0);var g=!c(r)||s((function(){var t={};return r[p].call(t)!==t}));g?r={}:f&&(r=l(r)),a(r[p])||h(r,p,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},7740:(t,e,n)=>{var r=n(9297),i=n(5031),o=n(7347),s=n(4913);t.exports=function(t,e,n){for(var a=i(e),c=s.f,l=o.f,u=0;u<a.length;u++){var h=a[u];r(t,h)||n&&r(n,h)||c(t,h,l(e,h))}}},7750:(t,e,n)=>{var r=n(4117),i=TypeError;t.exports=function(t){if(r(t))throw new i("Can't call method on "+t);return t}},7751:(t,e,n)=>{var r=n(4576),i=n(4901),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},7992:(t,e,n)=>{n.d(e,{yU:()=>c,Uv:()=>l});var r=n(1635),i=n(1209);function o(t){var e=function(t){Error.call(t),t.stack=(new Error).stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var s=o((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}})),a=n(6174),c=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var t,e,n,o,a;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var l=(0,r.Ju)(c),h=l.next();!h.done;h=l.next()){var d=h.value;d.remove(this)}}catch(y){t={error:y}}finally{try{h&&!h.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}else c.remove(this);var f=this.initialTeardown;if((0,i.T)(f))try{f()}catch(b){a=b instanceof s?b.errors:[b]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var m=(0,r.Ju)(p),g=m.next();!g.done;g=m.next()){var v=g.value;try{u(v)}catch(w){a=null!==a&&void 0!==a?a:[],w instanceof s?a=(0,r.fX)((0,r.fX)([],(0,r.zs)(a)),(0,r.zs)(w.errors)):a.push(w)}}}catch(_){n={error:_}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(n)throw n.error}}}if(a)throw new s(a)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)u(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&(0,a.o)(e,t)},t.prototype.remove=function(e){var n=this._finalizers;n&&(0,a.o)(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}();c.EMPTY;function l(t){return t instanceof c||t&&"closed"in t&&(0,i.T)(t.remove)&&(0,i.T)(t.add)&&(0,i.T)(t.unsubscribe)}function u(t){(0,i.T)(t)?t():t.unsubscribe()}},8014:(t,e,n)=>{var r=n(1291),i=Math.min;t.exports=function(t){var e=r(t);return e>0?i(e,9007199254740991):0}},8111:(t,e,n)=>{var r=n(6518),i=n(4576),o=n(679),s=n(8551),a=n(4901),c=n(2787),l=n(2106),u=n(4659),h=n(9039),d=n(9297),f=n(8227),p=n(7657).IteratorPrototype,m=n(3724),g=n(6395),v="constructor",y="Iterator",b=f("toStringTag"),w=TypeError,_=i[y],O=g||!a(_)||_.prototype!==p||!h((function(){_({})})),T=function(){if(o(this,p),c(this)===p)throw new w("Abstract class Iterator not directly constructable")},S=function(t,e){m?l(p,t,{configurable:!0,get:function(){return e},set:function(e){if(s(this),this===p)throw new w("You can't redefine this property");d(this,t)?this[t]=e:u(this,t,e)}}):p[t]=e};d(p,b)||S(b,y),!O&&d(p,v)&&p[v]!==Object||S(v,T),T.prototype=p,r({global:!0,constructor:!0,forced:O},{Iterator:T})},8227:(t,e,n)=>{var r=n(4576),i=n(5745),o=n(9297),s=n(3392),a=n(4495),c=n(7040),l=r.Symbol,u=i("wks"),h=c?l["for"]||l:l&&l.withoutSetter||s;t.exports=function(t){return o(u,t)||(u[t]=a&&o(l,t)?l[t]:h("Symbol."+t)),u[t]}},8237:(t,e,n)=>{var r=n(6518),i=n(2652),o=n(9306),s=n(8551),a=n(1767),c=TypeError;r({target:"Iterator",proto:!0,real:!0},{reduce:function(t){s(this),o(t);var e=a(this),n=arguments.length<2,r=n?void 0:arguments[1],l=0;if(i(e,(function(e){n?(n=!1,r=e):r=t(r,e,l),l++}),{IS_RECORD:!0}),n)throw new c("Reduce of empty iterator with no initial value");return r}})},8292:(t,e,n)=>{n.d(e,{vGs:()=>vL});var r=n(5471),i="undefined"!==typeof window,o="undefined"!==typeof document,s="undefined"!==typeof navigator,a="undefined"!==typeof Promise,c="undefined"!==typeof MutationObserver||"undefined"!==typeof WebKitMutationObserver||"undefined"!==typeof MozMutationObserver,l=i&&o&&s,u=i?window:{},h=o?document:{},d=s?navigator:{},f=(d.userAgent||"").toLowerCase(),p=f.indexOf("jsdom")>0,m=(/msie|trident/.test(f),function(){var t=!1;if(l)try{var e={get passive(){t=!0}};u.addEventListener("test",e,e),u.removeEventListener("test",e,e)}catch(n){t=!1}return t}()),g=l&&("ontouchstart"in h.documentElement||d.maxTouchPoints>0),v=l&&Boolean(u.PointerEvent||u.MSPointerEvent),y=l&&"IntersectionObserver"in u&&"IntersectionObserverEntry"in u&&"intersectionRatio"in u.IntersectionObserverEntry.prototype,b="BvConfig",w="$bvConfig",_=["xs","sm","md","lg","xl"],O=/\[(\d+)]/g,T=/^(BV?)/,S=/^\d+$/,C=/^\..+/,I=/^#/,E=/^#[A-Za-z]+[\w\-:.]*$/,k=/(<([^>]+)>)/gi,P=/\B([A-Z])/g,x=/([a-z])([A-Z])/g,D=/^[0-9]*\.?[0-9]+$/,A=/\+/g,j=/[-/\\^$*+?.()|[\]{}]/g,R=/[\s\uFEFF\xA0]+/g,N=/\s+/,L=/\/\*$/,F=/(\s|^)(\w)/g,M=/^\s+/,$=/_/g,B=/-(\w)/g,V=/^\d+-\d\d?-\d\d?(?:\s|T|$)/,U=/-|\s|T/,z=/^([0-1]?[0-9]|2[0-3]):[0-5]?[0-9](:[0-5]?[0-9])?$/,q=/^.*(#[^#]+)$/,H=/%2C/g,G=/[!'()*]/g,W=/^(\?|#|&)/,K=/^\d+(\.\d*)?[/:]\d+(\.\d*)?$/,Y=/[/:]/,Q=/^col-/,X=/^BIcon/,J=/-u-.+/;function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function et(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&lt(t,e)}function nt(t){var e=at();return function(){var n,r=ut(t);if(e){var i=ut(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rt(this,n)}}function rt(t,e){if(e&&("object"===Z(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return it(t)}function it(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ot(t){var e="function"===typeof Map?new Map:void 0;return ot=function(t){if(null===t||!ct(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return st(t,arguments,ut(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),lt(n,t)},ot(t)}function st(t,e,n){return st=at()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=Function.bind.apply(t,r),o=new i;return n&&lt(o,n.prototype),o},st.apply(null,arguments)}function at(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ti){return!1}}function ct(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function lt(t,e){return lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},lt(t,e)}function ut(t){return ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ut(t)}var ht=i?u.Element:function(t){et(n,t);var e=nt(n);function n(){return tt(this,n),e.apply(this,arguments)}return n}(ot(Object)),dt=i?u.HTMLElement:function(t){et(n,t);var e=nt(n);function n(){return tt(this,n),e.apply(this,arguments)}return n}(ht),ft=i?u.SVGElement:function(t){et(n,t);var e=nt(n);function n(){return tt(this,n),e.apply(this,arguments)}return n}(ht),pt=i?u.File:function(t){et(n,t);var e=nt(n);function n(){return tt(this,n),e.apply(this,arguments)}return n}(ot(Object));function mt(t){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(t)}var gt=function(t){return mt(t)},vt=function(t){return Object.prototype.toString.call(t).slice(8,-1)},yt=function(t){return void 0===t},bt=function(t){return null===t},wt=function(t){return yt(t)||bt(t)},_t=function(t){return"function"===gt(t)},Ot=function(t){return"boolean"===gt(t)},Tt=function(t){return"string"===gt(t)},St=function(t){return"number"===gt(t)},Ct=function(t){return D.test(String(t))},It=function(t){return Array.isArray(t)},Et=function(t){return null!==t&&"object"===mt(t)},kt=function(t){return"[object Object]"===Object.prototype.toString.call(t)},Pt=function(t){return t instanceof Date},xt=function(t){return t instanceof Event},Dt=function(t){return t instanceof pt},At=function(t){return"RegExp"===vt(t)},jt=function(t){return!wt(t)&&_t(t.then)&&_t(t.catch)};function Rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rt(Object(n),!0).forEach((function(e){Lt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Lt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ft=function(){return Object.assign.apply(Object,arguments)},Mt=function(t,e){return Object.create(t,e)},$t=function(t,e){return Object.defineProperties(t,e)},Bt=function(t,e,n){return Object.defineProperty(t,e,n)},Vt=function(t){return Object.getOwnPropertyNames(t)},Ut=function(t){return Object.keys(t)},zt=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},qt=function(t){return Object.prototype.toString.call(t)},Ht=function(t){return Nt({},t)},Gt=function(t,e){return Ut(t).filter((function(t){return-1!==e.indexOf(t)})).reduce((function(e,n){return Nt(Nt({},e),{},Lt({},n,t[n]))}),{})},Wt=function(t,e){return Ut(t).filter((function(t){return-1===e.indexOf(t)})).reduce((function(e,n){return Nt(Nt({},e),{},Lt({},n,t[n]))}),{})},Kt=function t(e,n){return Et(e)&&Et(n)&&Ut(n).forEach((function(r){Et(n[r])?(e[r]&&Et(e[r])||(e[r]=n[r]),t(e[r],n[r])):Ft(e,Lt({},r,n[r]))})),e},Yt=function(t){return Ut(t).sort().reduce((function(e,n){return Nt(Nt({},e),{},Lt({},n,t[n]))}),{})},Qt=function(){return{enumerable:!0,configurable:!1,writable:!1}};function Xt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xt(Object(n),!0).forEach((function(e){Zt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function te(t){return ie(t)||re(t)||ne(t)||ee()}function ee(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ne(t,e){if(t){if("string"===typeof t)return oe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(t,e):void 0}}function re(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function ie(t){if(Array.isArray(t))return oe(t)}function oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var se=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return It(e)?e.reduce((function(e,n){return[].concat(te(e),[t(n,n)])}),[]):kt(e)?Ut(e).reduce((function(n,r){return Jt(Jt({},n),{},Zt({},r,t(e[r],e[r])))}),{}):n},ae=function(t){return t},ce=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(e=It(e)?e.join("."):e,!e||!Et(t))return n;if(e in t)return t[e];e=String(e).replace(O,".$1");var r=e.split(".").filter(ae);return 0===r.length?n:r.every((function(e){return Et(t)&&e in t&&!wt(t=t[e])}))?t:bt(t)?null:n},le=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=ce(t,e);return wt(r)?n:r},ue=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="undefined"!==typeof process&&process?{NODE_ENV:"production",BASE_URL:"/"}||0:{};return t?n[t]||e:n},he=function(){return ue("BOOTSTRAP_VUE_NO_WARN")||"production"===ue("NODE_ENV")},de=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;he()||console.warn("[BootstrapVue warn]: ".concat(e?"".concat(e," - "):"").concat(t))},fe=function(t){return!l&&(de("".concat(t,": Can not be called during SSR.")),!0)},pe=function(t){return!a&&(de("".concat(t,": Requires Promise support.")),!0)},me=function(t){return!c&&(de("".concat(t,": Requires MutationObserver support.")),!0)};function ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ye(t,e,n){return e&&ve(t.prototype,e),n&&ve(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var be=function(){function t(){ge(this,t),this.$_config={}}return ye(t,[{key:"setConfig",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(kt(e)){var n=Vt(e);n.forEach((function(n){var r=e[n];"breakpoints"===n?!It(r)||r.length<2||r.some((function(t){return!Tt(t)||0===t.length}))?de('"breakpoints" must be an array of at least 2 breakpoint names',b):t.$_config[n]=se(r):kt(r)&&(t.$_config[n]=Vt(r).reduce((function(t,e){return yt(r[e])||(t[e]=se(r[e])),t}),t.$_config[n]||{}))}))}}},{key:"resetConfig",value:function(){this.$_config={}}},{key:"getConfig",value:function(){return se(this.$_config)}},{key:"getConfigValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return se(ce(this.$_config,t,e))}}]),t}(),we=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r["default"];e.prototype[w]=r["default"].prototype[w]=e.prototype[w]||r["default"].prototype[w]||new be,e.prototype[w].setConfig(t)};function _e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_e(Object(n),!0).forEach((function(e){Te(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Te(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Se=function(){var t=!1,e=["Multiple instances of Vue detected!","You may need to set up an alias for Vue in your bundler config.","See: https://bootstrap-vue.org/docs#using-module-bundlers"].join("\n");return function(n){t||r["default"]===n||p||de(e),t=!0}}(),Ce=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.components,n=t.directives,r=t.plugins,i=function t(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.installed||(t.installed=!0,Se(i),we(o,i),Pe(i,e),De(i,n),Ee(i,r))};return i.installed=!1,i},Ie=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Oe(Oe({},e),{},{install:Ce(t)})},Ee=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in e)n&&e[n]&&t.use(e[n])},ke=function(t,e,n){t&&e&&n&&t.component(e,n)},Pe=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in e)ke(t,n,e[n])},xe=function(t,e,n){t&&e&&n&&t.directive(e.replace(/^VB/,"B"),n)},De=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in e)xe(t,n,e[n])},Ae="BAlert",je="BAspect",Re="BAvatar",Ne="BAvatarGroup",Le="BBadge",Fe="BBreadcrumb",Me="BBreadcrumbItem",$e="BBreadcrumbLink",Be="BButton",Ve="BButtonClose",Ue="BButtonGroup",ze="BButtonToolbar",qe="BCalendar",He="BCard",Ge="BCardBody",We="BCardFooter",Ke="BCardGroup",Ye="BCardHeader",Qe="BCardImg",Xe="BCardImgLazy",Je="BCardSubTitle",Ze="BCardText",tn="BCardTitle",en="BCarousel",nn="BCarouselSlide",rn="BCol",on="BCollapse",sn="BContainer",an="BDropdown",cn="BDropdownDivider",ln="BDropdownForm",un="BDropdownGroup",hn="BDropdownHeader",dn="BDropdownItem",fn="BDropdownItemButton",pn="BDropdownText",mn="BEmbed",gn="BForm",vn="BFormCheckbox",yn="BFormCheckboxGroup",bn="BFormDatalist",wn="BFormDatepicker",_n="BFormFile",On="BFormGroup",Tn="BFormInput",Sn="BFormInvalidFeedback",Cn="BFormRadio",In="BFormRadioGroup",En="BFormRating",kn="BFormRow",Pn="BFormSelect",xn="BFormSelectOption",Dn="BFormSelectOptionGroup",An="BFormSpinbutton",jn="BFormTag",Rn="BFormTags",Nn="BFormText",Ln="BFormTextarea",Fn="BFormTimepicker",Mn="BFormValidFeedback",$n="BIcon",Bn="BIconBase",Vn="BImg",Un="BImgLazy",zn="BInputGroup",qn="BInputGroupAddon",Hn="BInputGroupAppend",Gn="BInputGroupPrepend",Wn="BInputGroupText",Kn="BJumbotron",Yn="BLink",Qn="BListGroup",Xn="BListGroupItem",Jn="BMedia",Zn="BMediaAside",tr="BMediaBody",er="BModal",nr="BMsgBox",rr="BNav",ir="BNavbar",or="BNavbarBrand",sr="BNavbarNav",ar="BNavbarToggle",cr="BNavForm",lr="BNavItem",ur="BNavItemDropdown",hr="BNavText",dr="BOverlay",fr="BPagination",pr="BPaginationNav",mr="BPopover",gr="BProgress",vr="BProgressBar",yr="BRow",br="BSidebar",wr="BSkeleton",_r="BSkeletonIcon",Or="BSkeletonImg",Tr="BSkeletonTable",Sr="BSkeletonWrapper",Cr="BSpinner",Ir="BTab",Er="BTable",kr="BTableCell",Pr="BTableLite",xr="BTableSimple",Dr="BTabs",Ar="BTbody",jr="BTfoot",Rr="BTh",Nr="BThead",Lr="BTime",Fr="BToast",Mr="BToaster",$r="BTooltip",Br="BTr",Vr="BVCollapse",Ur="BVFormBtnLabelControl",zr="BVFormRatingStar",qr="BVPopover",Hr="BVPopoverTemplate",Gr="BVPopper",Wr="BVTabButton",Kr="BVToastPop",Yr="BVTooltip",Qr="BVTooltipTemplate",Xr="BVTransition",Jr="BVTransporter",Zr="BVTransporterTarget",ti=function(){return(ti=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},ei={kebab:/-(\w)/g,styleProp:/:(.*)/,styleList:/;(?![^(]*\))/g};function ni(t,e){return e?e.toUpperCase():""}function ri(t){for(var e,n={},r=0,i=t.split(ei.styleList);r<i.length;r++){var o=i[r].split(ei.styleProp),s=o[0],a=o[1];(s=s.trim())&&("string"==typeof a&&(a=a.trim()),n[(e=s,e.replace(ei.kebab,ni))]=a)}return n}function ii(){for(var t,e,n={},r=arguments.length;r--;)for(var i=0,o=Object.keys(arguments[r]);i<o.length;i++)switch(t=o[i]){case"class":case"style":case"directives":if(Array.isArray(n[t])||(n[t]=[]),"style"===t){var s=void 0;s=Array.isArray(arguments[r].style)?arguments[r].style:[arguments[r].style];for(var a=0;a<s.length;a++){var c=s[a];"string"==typeof c&&(s[a]=ri(c))}arguments[r].style=s}n[t]=n[t].concat(arguments[r][t]);break;case"staticClass":if(!arguments[r][t])break;void 0===n[t]&&(n[t]=""),n[t]&&(n[t]+=" "),n[t]+=arguments[r][t].trim();break;case"on":case"nativeOn":n[t]||(n[t]={});for(var l=0,u=Object.keys(arguments[r][t]||{});l<u.length;l++)e=u[l],n[t][e]?n[t][e]=[].concat(n[t][e],arguments[r][t][e]):n[t][e]=arguments[r][t][e];break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":n[t]||(n[t]={}),n[t]=ti({},arguments[r][t],n[t]);break;case"slot":case"key":case"ref":case"tag":case"show":case"keepAlive":default:n[t]||(n[t]=arguments[r][t])}return n}function oi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function si(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oi(Object(n),!0).forEach((function(e){ai(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ai(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ci(t,e){if(null==t)return{};var n,r,i=li(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function li(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function ui(t){return ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ui(t)}var hi="_uid",di=r["default"].version.startsWith("3"),fi=di?"ref_for":"refInFor",pi=["class","staticClass","style","attrs","props","domProps","on","nativeOn","directives","scopedSlots","slot","key","ref","refInFor"],mi=r["default"].extend.bind(r["default"]);if(di){var gi=r["default"].extend,vi=["router-link","transition","transition-group"],yi=r["default"].vModelDynamic.created,bi=r["default"].vModelDynamic.beforeUpdate;r["default"].vModelDynamic.created=function(t,e,n){yi.call(this,t,e,n),t._assign||(t._assign=function(){})},r["default"].vModelDynamic.beforeUpdate=function(t,e,n){bi.call(this,t,e,n),t._assign||(t._assign=function(){})},mi=function(t){if("object"===ui(t)&&t.render&&!t.__alreadyPatched){var e=t.render;t.__alreadyPatched=!0,t.render=function(n){var r=function(t,e,r){var i=void 0===r?[]:[Array.isArray(r)?r.filter(Boolean):r],o="string"===typeof t&&!vi.includes(t),s=e&&"object"===ui(e)&&!Array.isArray(e);if(!s)return n.apply(void 0,[t,e].concat(i));var a=e.attrs,c=e.props,l=ci(e,["attrs","props"]),u=si(si({},l),{},{attrs:a,props:o?{}:c});return"router-link"!==t||u.slots||u.scopedSlots||(u.scopedSlots={$hasNormal:function(){}}),n.apply(void 0,[t,u].concat(i))};if(t.functional){var i,o,s=arguments[1],a=si({},s);a.data={attrs:si({},s.data.attrs||{}),props:si({},s.data.props||{})},Object.keys(s.data||{}).forEach((function(t){pi.includes(t)?a.data[t]=s.data[t]:t in s.props?a.data.props[t]=s.data[t]:t.startsWith("on")||(a.data.attrs[t]=s.data[t])}));var c=["_ctx"],l=(null===(i=s.children)||void 0===i||null===(o=i.default)||void 0===o?void 0:o.call(i))||s.children;return l&&0===Object.keys(a.children).filter((function(t){return!c.includes(t)})).length?delete a.children:a.children=l,a.data.on=s.listeners,e.call(this,r,a)}return e.call(this,r)}}return gi.call(this,t)}.bind(r["default"])}var wi=r["default"].nextTick,_i="activate-tab",Oi="blur",Ti="cancel",Si="change",Ci="changed",Ii="click",Ei="close",ki="context",Pi="context-changed",xi="destroyed",Di="disable",Ai="disabled",ji="dismissed",Ri="dismiss-count-down",Ni="enable",Li="enabled",Fi="filtered",Mi="first",$i="focus",Bi="focusin",Vi="focusout",Ui="head-clicked",zi="hidden",qi="hide",Hi="img-error",Gi="input",Wi="last",Ki="mouseenter",Yi="mouseleave",Qi="next",Xi="ok",Ji="open",Zi="page-click",to="paused",eo="prev",no="refresh",ro="refreshed",io="remove",oo="row-clicked",so="row-contextmenu",ao="row-dblclicked",co="row-hovered",lo="row-middle-clicked",uo="row-selected",ho="row-unhovered",fo="selected",po="show",mo="shown",go="sliding-end",vo="sliding-start",yo="sort-changed",bo="tag-state",wo="toggle",_o="unpaused",Oo="update",To=di?"vnodeBeforeUnmount":"hook:beforeDestroy",So=di?"vNodeUnmounted":"hook:destroyed",Co="update:",Io="bv",Eo="::",ko={passive:!0},Po={passive:!0,capture:!1},xo=void 0,Do=Array,Ao=Boolean,jo=Date,Ro=Function,No=Number,Lo=Object,Fo=RegExp,Mo=String,$o=[Do,Ro],Bo=[Do,Lo],Vo=[Do,Lo,Mo],Uo=[Do,Mo],zo=[Ao,No],qo=[Ao,No,Mo],Ho=[Ao,Mo],Go=[jo,Mo],Wo=[Ro,Mo],Ko=[No,Mo],Yo=[No,Lo,Mo],Qo=[Lo,Ro],Xo=[Lo,Mo],Jo="add-button-text",Zo="append",ts="aside",es="badge",ns="bottom-row",rs="button-content",is="custom-foot",os="decrement",ss="default",as="description",cs="dismiss",ls="drop-placeholder",us="ellipsis-text",hs="empty",ds="emptyfiltered",fs="file-name",ps="first",ms="first-text",gs="footer",vs="header",ys="header-close",bs="icon-clear",ws="icon-empty",_s="icon-full",Os="icon-half",Ts="img",Ss="increment",Cs="invalid-feedback",Is="label",Es="last-text",ks="lead",Ps="loading",xs="modal-backdrop",Ds="modal-cancel",As="modal-footer",js="modal-header",Rs="modal-header-close",Ns="modal-ok",Ls="modal-title",Fs="nav-next-decade",Ms="nav-next-month",$s="nav-next-year",Bs="nav-prev-decade",Vs="nav-prev-month",Us="nav-prev-year",zs="nav-this-month",qs="next-text",Hs="overlay",Gs="page",Ws="placeholder",Ks="prepend",Ys="prev-text",Qs="row-details",Xs="table-busy",Js="table-caption",Zs="table-colgroup",ta="tabs-end",ea="tabs-start",na="text",ra="thead-top",ia="title",oa="toast-title",sa="top-row",aa="valid-feedback",ca=function(){return Array.from.apply(Array,arguments)},la=function(t,e){return-1!==t.indexOf(e)},ua=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Array.prototype.concat.apply([],e)},ha=function(t,e){var n=_t(e)?e:function(){return e};return Array.apply(null,{length:t}).map(n)},da=function(t){return t.reduce((function(t,e){return ua(t,e)}),[])},fa=function t(e){return e.reduce((function(e,n){return ua(e,Array.isArray(n)?t(n):n)}),[])},pa=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=ua(t).filter(ae),t.some((function(t){return e[t]||n[t]}))},ma=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=ua(t).filter(ae);for(var o=0;o<t.length&&!e;o++){var s=t[o];e=r[s]||i[s]}return _t(e)?e(n):e},ga=mi({methods:{hasNormalizedSlot:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ss,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$scopedSlots,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.$slots;return pa(t,e,n)},normalizeSlot:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ss,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.$scopedSlots,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.$slots,i=ma(t,e,n,r);return i?ua(i):i}}}),va=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN,n=parseInt(t,10);return isNaN(n)?e:n},ya=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN,n=parseFloat(t);return isNaN(n)?e:n},ba=function(t,e){return ya(t).toFixed(va(e,0))},wa=function(t){return t.replace(P,"-$1").toLowerCase()},_a=function(t){return t=wa(t).replace(B,(function(t,e){return e?e.toUpperCase():""})),t.charAt(0).toUpperCase()+t.slice(1)},Oa=function(t){return t.replace($," ").replace(x,(function(t,e,n){return e+" "+n})).replace(F,(function(t,e,n){return e+n.toUpperCase()}))},Ta=function(t){return t=Tt(t)?t.trim():String(t),t.charAt(0).toLowerCase()+t.slice(1)},Sa=function(t){return t=Tt(t)?t.trim():String(t),t.charAt(0).toUpperCase()+t.slice(1)},Ca=function(t){return t.replace(j,"\\$&")},Ia=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return wt(t)?"":It(t)||kt(t)&&t.toString===Object.prototype.toString?JSON.stringify(t,null,e):String(t)},Ea=function(t){return Ia(t).replace(M,"")},ka=function(t){return Ia(t).trim()},Pa=function(t){return Ia(t).toLowerCase()},xa=ht.prototype,Da=["button","[href]:not(.disabled)","input","select","textarea","[tabindex]","[contenteditable]"].map((function(t){return"".concat(t,":not(:disabled):not([disabled])")})).join(", "),Aa=xa.matches||xa.msMatchesSelector||xa.webkitMatchesSelector,ja=xa.closest||function(t){var e=this;do{if(Ga(e,t))return e;e=e.parentElement||e.parentNode}while(!bt(e)&&e.nodeType===Node.ELEMENT_NODE);return null},Ra=(u.requestAnimationFrame||u.webkitRequestAnimationFrame||u.mozRequestAnimationFrame||u.msRequestAnimationFrame||u.oRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(u),Na=u.MutationObserver||u.WebKitMutationObserver||u.MozMutationObserver||null,La=function(t){return t&&t.parentNode&&t.parentNode.removeChild(t)},Fa=function(t){return!(!t||t.nodeType!==Node.ELEMENT_NODE)},Ma=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=h.activeElement;return e&&!t.some((function(t){return t===e}))?e:null},$a=function(t,e){return Ia(t).toLowerCase()===Ia(e).toLowerCase()},Ba=function(t){return Fa(t)&&t===Ma()},Va=function(t){if(!Fa(t)||!t.parentNode||!Ka(h.body,t))return!1;if("none"===oc(t,"display"))return!1;var e=sc(t);return!!(e&&e.height>0&&e.width>0)},Ua=function(t){return!Fa(t)||t.disabled||nc(t,"disabled")||Ja(t,"disabled")},za=function(t){return Fa(t)&&t.offsetHeight},qa=function(t,e){return ca((Fa(e)?e:h).querySelectorAll(t))},Ha=function(t,e){return(Fa(e)?e:h).querySelector(t)||null},Ga=function(t,e){return!!Fa(t)&&Aa.call(t,e)},Wa=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!Fa(e))return null;var r=ja.call(e,t);return n?r:r===e?null:r},Ka=function(t,e){return!(!t||!_t(t.contains))&&t.contains(e)},Ya=function(t){return h.getElementById(/^#/.test(t)?t.slice(1):t)||null},Qa=function(t,e){e&&Fa(t)&&t.classList&&t.classList.add(e)},Xa=function(t,e){e&&Fa(t)&&t.classList&&t.classList.remove(e)},Ja=function(t,e){return!!(e&&Fa(t)&&t.classList)&&t.classList.contains(e)},Za=function(t,e,n){e&&Fa(t)&&t.setAttribute(e,n)},tc=function(t,e){e&&Fa(t)&&t.removeAttribute(e)},ec=function(t,e){return e&&Fa(t)?t.getAttribute(e):null},nc=function(t,e){return e&&Fa(t)?t.hasAttribute(e):null},rc=function(t,e,n){e&&Fa(t)&&(t.style[e]=n)},ic=function(t,e){e&&Fa(t)&&(t.style[e]="")},oc=function(t,e){return e&&Fa(t)&&t.style[e]||null},sc=function(t){return Fa(t)?t.getBoundingClientRect():null},ac=function(t){var e=u.getComputedStyle;return e&&Fa(t)?e(t):{}},cc=function(){var t=u.getSelection;return t?u.getSelection():null},lc=function(t){var e={top:0,left:0};if(!Fa(t)||0===t.getClientRects().length)return e;var n=sc(t);if(n){var r=t.ownerDocument.defaultView;e.top=n.top+r.pageYOffset,e.left=n.left+r.pageXOffset}return e},uc=function(t){var e={top:0,left:0};if(!Fa(t))return e;var n={top:0,left:0},r=ac(t);if("fixed"===r.position)e=sc(t)||e;else{e=lc(t);var i=t.ownerDocument,o=t.offsetParent||i.documentElement;while(o&&(o===i.body||o===i.documentElement)&&"static"===ac(o).position)o=o.parentNode;if(o&&o!==t&&o.nodeType===Node.ELEMENT_NODE){n=lc(o);var s=ac(o);n.top+=ya(s.borderTopWidth,0),n.left+=ya(s.borderLeftWidth,0)}}return{top:e.top-n.top-ya(r.marginTop,0),left:e.left-n.left-ya(r.marginLeft,0)}},hc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return qa(Da,t).filter(Va).filter((function(t){return t.tabIndex>-1&&!t.disabled}))},dc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{t.focus(e)}catch(n){}return Ba(t)},fc=function(t){try{t.blur()}catch(e){}return!Ba(t)},pc=function(t){var e=Mt(null);return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=JSON.stringify(r);return e[o]=e[o]||t.apply(null,r)}},mc=r["default"].prototype,gc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=mc[w];return n?n.getConfigValue(t,e):se(e)},vc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return e?gc("".concat(t,".").concat(e),n):gc(t,{})},yc=function(){return gc("breakpoints",_)},bc=pc((function(){return yc()})),wc=function(){return se(bc())},_c=pc((function(){var t=wc();return t[0]="",t}));function Oc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oc(Object(n),!0).forEach((function(e){Sc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Sc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Cc=function(t,e){return t+Sa(e)},Ic=function(t,e){return Ta(e.replace(t,""))},Ec=function(t,e){return e+(t?Sa(t):"")},kc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xo,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=!0===n;return r=i?r:n,Tc(Tc(Tc({},t?{type:t}:{}),i?{required:i}:yt(e)?{}:{default:Et(e)?function(){return e}:e}),yt(r)?{}:{validator:r})},Pc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae;if(It(t))return t.map(e);var n={};for(var r in t)zt(t,r)&&(n[e(r)]=Et(t[r])?Ht(t[r]):t[r]);return n},xc=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ae;return(It(t)?t.slice():Ut(t)).reduce((function(t,r){return t[n(r)]=e[r],t}),{})},Dc=function(t,e,n){return Tc(Tc({},se(t)),{},{default:function(){var r=vc(n,e,t.default);return _t(r)?r():r}})},Ac=function(t,e){return Ut(t).reduce((function(n,r){return Tc(Tc({},n),{},Sc({},r,Dc(t[r],r,e)))}),{})},jc=Dc({},"","").default.name,Rc=function(t){return _t(t)&&t.name&&t.name!==jc};function Nc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Lc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.type,r=void 0===n?xo:n,i=e.defaultValue,o=void 0===i?void 0:i,s=e.validator,a=void 0===s?void 0:s,c=e.event,l=void 0===c?Gi:c,u=Nc({},t,kc(r,o,a)),h=mi({model:{prop:t,event:l},props:u});return{mixin:h,props:u,prop:t,event:l}},Fc=function(t){return m?Et(t)?t:{capture:!!t||!1}:!!(Et(t)?t.capture:t)},Mc=function(t,e,n,r){t&&t.addEventListener&&t.addEventListener(e,n,Fc(r))},$c=function(t,e,n,r){t&&t.removeEventListener&&t.removeEventListener(e,n,Fc(r))},Bc=function(t){for(var e=t?Mc:$c,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.apply(void 0,r)},Vc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.preventDefault,r=void 0===n||n,i=e.propagation,o=void 0===i||i,s=e.immediatePropagation,a=void 0!==s&&s;r&&t.preventDefault(),o&&t.stopPropagation(),a&&t.stopImmediatePropagation()},Uc=function(t){return wa(t.replace(T,""))},zc=function(t,e){return[Io,Uc(t),e].join(Eo)},qc=function(t,e){return[Io,e,Uc(t)].join(Eo)};function Hc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gc=Ac({ariaLabel:kc(Mo,"Close"),content:kc(Mo,"&times;"),disabled:kc(Ao,!1),textVariant:kc(Mo)},Ve),Wc=mi({name:Ve,functional:!0,props:Gc,render:function(t,e){var n=e.props,r=e.data,i=e.slots,o=e.scopedSlots,s=i(),a=o||{},c={staticClass:"close",class:Hc({},"text-".concat(n.textVariant),n.textVariant),attrs:{type:"button",disabled:n.disabled,"aria-label":n.ariaLabel?String(n.ariaLabel):null},on:{click:function(t){n.disabled&&xt(t)&&Vc(t)}}};return pa(ss,a,s)||(c.domProps={innerHTML:n.content}),t("button",ii(r,c),ma(ss,{},a,s))}});function Kc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kc(Object(n),!0).forEach((function(e){Qc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Qc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xc,Jc={name:"",enterClass:"",enterActiveClass:"",enterToClass:"show",leaveClass:"show",leaveActiveClass:"",leaveToClass:""},Zc=Yc(Yc({},Jc),{},{enterActiveClass:"fade",leaveActiveClass:"fade"}),tl={appear:kc(Ao,!1),mode:kc(Mo),noFade:kc(Ao,!1),transProps:kc(Lo)},el=mi({name:Xr,functional:!0,props:tl,render:function(t,e){var n=e.children,r=e.data,i=e.props,o=i.transProps;kt(o)||(o=i.noFade?Jc:Zc,i.appear&&(o=Yc(Yc({},o),{},{appear:!0,appearClass:o.enterClass,appearActiveClass:o.enterActiveClass,appearToClass:o.enterToClass}))),o=Yc(Yc({mode:i.mode},o),{},{css:!0});var s=Yc({},r);return delete s.props,t("transition",ii(s,{props:o}),n)}});function nl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nl(Object(n),!0).forEach((function(e){il(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function il(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ol=Lc("show",{type:qo,defaultValue:!1}),sl=ol.mixin,al=ol.props,cl=ol.prop,ll=ol.event,ul=function(t){return""===t||Ot(t)?0:(t=va(t,0),t>0?t:0)},hl=function(t){return""===t||!0===t||!(va(t,0)<1)&&!!t},dl=Ac(Yt(rl(rl({},al),{},{dismissLabel:kc(Mo,"Close"),dismissible:kc(Ao,!1),fade:kc(Ao,!1),variant:kc(Mo,"info")})),Ae),fl=mi({name:Ae,mixins:[sl,ga],props:dl,data:function(){return{countDown:0,localShow:hl(this[cl])}},watch:(Xc={},il(Xc,cl,(function(t){this.countDown=ul(t),this.localShow=hl(t)})),il(Xc,"countDown",(function(t){var e=this;this.clearCountDownInterval();var n=this[cl];Ct(n)&&(this.$emit(Ri,t),n!==t&&this.$emit(ll,t),t>0?(this.localShow=!0,this.$_countDownTimeout=setTimeout((function(){e.countDown--}),1e3)):this.$nextTick((function(){Ra((function(){e.localShow=!1}))})))})),il(Xc,"localShow",(function(t){var e=this[cl];t||!this.dismissible&&!Ct(e)||this.$emit(ji),Ct(e)||e===t||this.$emit(ll,t)})),Xc),created:function(){this.$_filterTimer=null;var t=this[cl];this.countDown=ul(t),this.localShow=hl(t)},beforeDestroy:function(){this.clearCountDownInterval()},methods:{dismiss:function(){this.clearCountDownInterval(),this.countDown=0,this.localShow=!1},clearCountDownInterval:function(){clearTimeout(this.$_countDownTimeout),this.$_countDownTimeout=null}},render:function(t){var e=t();if(this.localShow){var n=this.dismissible,r=this.variant,i=t();n&&(i=t(Wc,{attrs:{"aria-label":this.dismissLabel},on:{click:this.dismiss}},[this.normalizeSlot(cs)])),e=t("div",{staticClass:"alert",class:il({"alert-dismissible":n},"alert-".concat(r),r),attrs:{role:"alert","aria-live":"polite","aria-atomic":!0},key:this[hi]},[i,this.normalizeSlot()])}return t(el,{props:{noFade:!this.fade}},[e])}}),pl=Ie({components:{BAlert:fl}}),ml=Math.min,gl=Math.max,vl=Math.abs,yl=Math.ceil,bl=Math.floor,wl=Math.pow,_l=Math.round;function Ol(t,e){return El(t)||Il(t,e)||Sl(t,e)||Tl()}function Tl(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Sl(t,e){if(t){if("string"===typeof t)return Cl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cl(t,e):void 0}}function Cl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Il(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done);s=!0)if(o.push(r.value),e&&o.length===e)break}catch(c){a=!0,i=c}finally{try{s||null==n["return"]||n["return"]()}finally{if(a)throw i}}return o}}function El(t){if(Array.isArray(t))return t}var kl="b-aspect",Pl=Ac({aspect:kc(Ko,"1:1"),tag:kc(Mo,"div")},je),xl=mi({name:je,mixins:[ga],props:Pl,computed:{padding:function(){var t=this.aspect,e=1;if(K.test(t)){var n=t.split(Y).map((function(t){return ya(t)||1})),r=Ol(n,2),i=r[0],o=r[1];e=i/o}else e=ya(t)||1;return"".concat(100/vl(e),"%")}},render:function(t){var e=t("div",{staticClass:"".concat(kl,"-sizer flex-grow-1"),style:{paddingBottom:this.padding,height:0}}),n=t("div",{staticClass:"".concat(kl,"-content flex-grow-1 w-100 mw-100"),style:{marginLeft:"-100%"}},this.normalizeSlot());return t(this.tag,{staticClass:"".concat(kl," d-flex")},[e,n])}}),Dl=Ie({components:{BAspect:xl}});function Al(t){return di?new Proxy(t,{get:function(t,e){return e in t?t[e]:void 0}}):t}var jl="a",Rl=function(t){return"%"+t.charCodeAt(0).toString(16)},Nl=function(t){return encodeURIComponent(Ia(t)).replace(G,Rl).replace(H,",")},Ll=decodeURIComponent,Fl=function(t){if(!kt(t))return"";var e=Ut(t).map((function(e){var n=t[e];return yt(n)?"":bt(n)?Nl(e):It(n)?n.reduce((function(t,n){return bt(n)?t.push(Nl(e)):yt(n)||t.push(Nl(e)+"="+Nl(n)),t}),[]).join("&"):Nl(e)+"="+Nl(n)})).filter((function(t){return t.length>0})).join("&");return e?"?".concat(e):""},Ml=function(t){var e={};return t=Ia(t).trim().replace(W,""),t?(t.split("&").forEach((function(t){var n=t.replace(A," ").split("="),r=Ll(n.shift()),i=n.length>0?Ll(n.join("=")):null;yt(e[r])?e[r]=i:It(e[r])?e[r].push(i):e[r]=[e[r],i]})),e):e},$l=function(t){return!(!t.href&&!t.to)},Bl=function(t){return!(!t||$a(t,"a"))},Vl=function(t,e){var n=t.to,r=t.disabled,i=t.routerComponentName,o=!!Al(e).$router,s=!!Al(e).$nuxt;return!o||o&&(r||!n)?jl:i||(s?"nuxt-link":"router-link")},Ul=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.target,n=t.rel;return"_blank"===e&&bt(n)?"noopener":n||null},zl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.href,n=t.to,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jl,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/";if(e)return e;if(Bl(r))return null;if(Tt(n))return n||o;if(kt(n)&&(n.path||n.query||n.hash)){var s=Ia(n.path),a=Fl(n.query),c=Ia(n.hash);return c=c&&"#"!==c.charAt(0)?"#".concat(c):c,"".concat(s).concat(a).concat(c)||o}return i};function ql(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hl={viewBox:"0 0 16 16",width:"1em",height:"1em",focusable:"false",role:"img","aria-label":"icon"},Gl={width:null,height:null,focusable:null,role:null,"aria-label":null},Wl={animation:kc(Mo),content:kc(Mo),flipH:kc(Ao,!1),flipV:kc(Ao,!1),fontScale:kc(Ko,1),rotate:kc(Ko,0),scale:kc(Ko,1),shiftH:kc(Ko,0),shiftV:kc(Ko,0),stacked:kc(Ao,!1),title:kc(Mo),variant:kc(Mo)},Kl=mi({name:Bn,functional:!0,props:Wl,render:function(t,e){var n,r=e.data,i=e.props,o=e.children,s=i.animation,a=i.content,c=i.flipH,l=i.flipV,u=i.stacked,h=i.title,d=i.variant,f=gl(ya(i.fontScale,1),0)||1,p=gl(ya(i.scale,1),0)||1,m=ya(i.rotate,0),g=ya(i.shiftH,0),v=ya(i.shiftV,0),y=c||l||1!==p,b=y||m,w=g||v,_=!wt(a),O=[b?"translate(8 8)":null,y?"scale(".concat((c?-1:1)*p," ").concat((l?-1:1)*p,")"):null,m?"rotate(".concat(m,")"):null,b?"translate(-8 -8)":null].filter(ae),T=t("g",{attrs:{transform:O.join(" ")||null},domProps:_?{innerHTML:a||""}:{}},o);w&&(T=t("g",{attrs:{transform:"translate(".concat(16*g/16," ").concat(-16*v/16,")")}},[T])),u&&(T=t("g",[T]));var S=h?t("title",h):null,C=[S,T].filter(ae);return t("svg",ii({staticClass:"b-icon bi",class:(n={},ql(n,"text-".concat(d),d),ql(n,"b-icon-animation-".concat(s),s),n),attrs:Hl,style:u?{}:{fontSize:1===f?null:"".concat(100*f,"%")}},r,u?{attrs:Gl}:{},{attrs:{xmlns:u?null:"http://www.w3.org/2000/svg",fill:"currentColor"}}),C)}});function Yl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ql(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yl(Object(n),!0).forEach((function(e){Xl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jl=Wt(Wl,["content"]),Zl=function(t,e){var n=wa(t),r="BIcon".concat(_a(t)),i="bi-".concat(n),o=n.replace(/-/g," "),s=ka(e||"");return mi({name:r,functional:!0,props:Jl,render:function(t,e){var n=e.data,r=e.props;return t(Kl,ii({props:{title:o},attrs:{"aria-label":o}},n,{staticClass:i,props:Ql(Ql({},r),{},{content:s})}))}})},tu=Zl("Blank",""),eu=Zl("Calendar",'<path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>'),nu=Zl("CalendarFill",'<path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V5h16V4H0V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5z"/>'),ru=Zl("ChevronBarLeft",'<path fill-rule="evenodd" d="M11.854 3.646a.5.5 0 0 1 0 .708L8.207 8l3.647 3.646a.5.5 0 0 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 0 1 .708 0zM4.5 1a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 1 0v-13a.5.5 0 0 0-.5-.5z"/>'),iu=Zl("ChevronDoubleLeft",'<path fill-rule="evenodd" d="M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/><path fill-rule="evenodd" d="M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>'),ou=Zl("ChevronDown",'<path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>'),su=Zl("ChevronLeft",'<path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>'),au=Zl("ChevronUp",'<path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"/>'),cu=Zl("CircleFill",'<circle cx="8" cy="8" r="8"/>'),lu=Zl("Clock",'<path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/><path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"/>'),uu=Zl("ClockFill",'<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/>'),hu=Zl("Dash",'<path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>'),du=Zl("PersonFill",'<path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>'),fu=Zl("Plus",'<path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>'),pu=Zl("Star",'<path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>'),mu=Zl("StarFill",'<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>'),gu=Zl("StarHalf",'<path d="M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z"/>'),vu=Zl("X",'<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>');function yu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yu(Object(n),!0).forEach((function(e){wu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _u=function t(e,n){if(!e)return r["default"].component(n);var i=(e.$options||{}).components,o=i&&i[n];return o||t(e.$parent,n)},Ou=Wt(Wl,["content"]),Tu=Ac(Yt(bu(bu({},Ou),{},{icon:kc(Mo)})),$n),Su=mi({name:$n,functional:!0,props:Tu,render:function(t,e){var n=e.data,r=e.props,i=e.parent,o=_a(ka(r.icon||"")).replace(X,"");return t(o&&_u(i,"BIcon".concat(o))||tu,ii(n,{props:xc(Ou,r)}))}}),Cu=8,Iu=46,Eu=40,ku=35,Pu=13,xu=27,Du=36,Au=37,ju=34,Ru=33,Nu=39,Lu=32,Fu=38,Mu=function(t,e){if(t.length!==e.length)return!1;for(var n=!0,r=0;n&&r<t.length;r++)n=$u(t[r],e[r]);return n},$u=function t(e,n){if(e===n)return!0;var r=Pt(e),i=Pt(n);if(r||i)return!(!r||!i)&&e.getTime()===n.getTime();if(r=It(e),i=It(n),r||i)return!(!r||!i)&&Mu(e,n);if(r=Et(e),i=Et(n),r||i){if(!r||!i)return!1;var o=Ut(e).length,s=Ut(n).length;if(o!==s)return!1;for(var a in e){var c=zt(e,a),l=zt(n,a);if(c&&!l||!c&&l||!t(e[a],n[a]))return!1}}return String(e)===String(n)};function Bu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Vu=function(t){return!t||0===Ut(t).length},Uu=function(t){return{handler:function(e,n){if(!$u(e,n))if(Vu(e)||Vu(n))this[t]=se(e);else{for(var r in n)zt(e,r)||this.$delete(this.$data[t],r);for(var i in e)this.$set(this.$data[t],i,e[i])}}}},zu=function(t,e){return mi({data:function(){return Bu({},e,se(this[t]))},watch:Bu({},t,Uu(e))})};function qu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qu(Object(n),!0).forEach((function(e){Gu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Gu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wu=zu("$attrs","bvAttrs"),Ku=mi({computed:{bvAttrs:function(){var t=Hu({},this.$attrs);return Object.keys(t).forEach((function(e){void 0===t[e]&&delete t[e]})),t}}}),Yu=di?Ku:Wu,Qu=function(t){return t.$root.$options.bvEventRoot||t.$root},Xu="$_rootListeners",Ju=mi({computed:{bvEventRoot:function(){return Qu(this)}},created:function(){this[Xu]={}},beforeDestroy:function(){var t=this;Ut(this[Xu]||{}).forEach((function(e){t[Xu][e].forEach((function(n){t.listenOffRoot(e,n)}))})),this[Xu]=null},methods:{registerRootListener:function(t,e){this[Xu]&&(this[Xu][t]=this[Xu][t]||[],la(this[Xu][t],e)||this[Xu][t].push(e))},unregisterRootListener:function(t,e){this[Xu]&&this[Xu][t]&&(this[Xu][t]=this[Xu][t].filter((function(t){return t!==e})))},listenOnRoot:function(t,e){this.bvEventRoot&&(this.bvEventRoot.$on(t,e),this.registerRootListener(t,e))},listenOnRootOnce:function(t,e){var n=this;if(this.bvEventRoot){var r=function t(){n.unregisterRootListener(t),e.apply(void 0,arguments)};this.bvEventRoot.$once(t,r),this.registerRootListener(t,r)}},listenOffRoot:function(t,e){this.unregisterRootListener(t,e),this.bvEventRoot&&this.bvEventRoot.$off(t,e)},emitOnRoot:function(t){if(this.bvEventRoot){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=this.bvEventRoot).$emit.apply(e,[t].concat(r))}}}});function Zu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function th(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zu(Object(n),!0).forEach((function(e){eh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function eh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nh=zu("$listeners","bvListeners"),rh=mi({data:function(){return{bvListeners:{}}},created:function(){this.bvListeners=th({},this.$listeners)},beforeUpdate:function(){this.bvListeners=th({},this.$listeners)}}),ih=di?rh:nh;function oh(t){return lh(t)||ch(t)||ah(t)||sh()}function sh(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ah(t,e){if(t){if("string"===typeof t)return uh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uh(t,e):void 0}}function ch(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function lh(t){if(Array.isArray(t))return uh(t)}function uh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hh(Object(n),!0).forEach((function(e){fh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ph=zc(Yn,"clicked"),mh={activeClass:kc(Mo),append:kc(Ao,!1),event:kc(Uo),exact:kc(Ao,!1),exactActiveClass:kc(Mo),exactPath:kc(Ao,!1),exactPathActiveClass:kc(Mo),replace:kc(Ao,!1),routerTag:kc(Mo),to:kc(Xo)},gh={noPrefetch:kc(Ao,!1),prefetch:kc(Ao,null)},vh=Ac(Yt(dh(dh(dh({},gh),mh),{},{active:kc(Ao,!1),disabled:kc(Ao,!1),href:kc(Mo),rel:kc(Mo,null),routerComponentName:kc(Mo),target:kc(Mo,"_self")})),Yn),yh=mi({name:Yn,mixins:[Yu,ih,Ju,ga],inheritAttrs:!1,props:vh,computed:{computedTag:function(){var t=this.to,e=this.disabled,n=this.routerComponentName;return Vl({to:t,disabled:e,routerComponentName:n},this)},isRouterLink:function(){return Bl(this.computedTag)},computedRel:function(){var t=this.target,e=this.rel;return Ul({target:t,rel:e})},computedHref:function(){var t=this.to,e=this.href;return zl({to:t,href:e},this.computedTag)},computedProps:function(){var t=this.event,e=this.prefetch,n=this.routerTag;return this.isRouterLink?dh(dh(dh(dh({},xc(Wt(dh(dh({},mh),"nuxt-link"===this.computedTag?gh:{}),["event","prefetch","routerTag"]),this)),t?{event:t}:{}),Ot(e)?{prefetch:e}:{}),n?{tag:n}:{}):{}},computedAttrs:function(){var t=this.bvAttrs,e=this.computedHref,n=this.computedRel,r=this.disabled,i=this.target,o=this.routerTag,s=this.isRouterLink;return dh(dh(dh(dh({},t),e?{href:e}:{}),s&&o&&!$a(o,"a")?{}:{rel:n,target:i}),{},{tabindex:r?"-1":yt(t.tabindex)?null:t.tabindex,"aria-disabled":r?"true":null})},computedListeners:function(){return dh(dh({},this.bvListeners),{},{click:this.onClick})}},methods:{onClick:function(t){var e=arguments,n=xt(t),r=this.isRouterLink,i=this.bvListeners.click;if(n&&this.disabled)Vc(t,{immediatePropagation:!0});else{var o;if(r)null===(o=t.currentTarget.__vue__)||void 0===o||o.$emit(Ii,t);ua(i).filter((function(t){return _t(t)})).forEach((function(t){t.apply(void 0,oh(e))})),this.emitOnRoot(ph,t),this.emitOnRoot("clicked::link",t)}n&&!r&&"#"===this.computedHref&&Vc(t,{propagation:!1})},focus:function(){dc(this.$el)},blur:function(){fc(this.$el)}},render:function(t){var e=this.active,n=this.disabled;return t(this.computedTag,fh({class:{active:e,disabled:n},attrs:this.computedAttrs,props:this.computedProps},this.isRouterLink?"nativeOn":"on",this.computedListeners),this.normalizeSlot())}});function bh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bh(Object(n),!0).forEach((function(e){_h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Oh=Wt(vh,["event","routerTag"]);delete Oh.href.default,delete Oh.to.default;var Th=Ac(Yt(wh(wh({},Oh),{},{block:kc(Ao,!1),disabled:kc(Ao,!1),pill:kc(Ao,!1),pressed:kc(Ao,null),size:kc(Mo),squared:kc(Ao,!1),tag:kc(Mo,"button"),type:kc(Mo,"button"),variant:kc(Mo,"secondary")})),Be),Sh=function(t){"focusin"===t.type?Qa(t.target,"focus"):"focusout"===t.type&&Xa(t.target,"focus")},Ch=function(t){return $l(t)||$a(t.tag,"a")},Ih=function(t){return Ot(t.pressed)},Eh=function(t){return!(Ch(t)||t.tag&&!$a(t.tag,"button"))},kh=function(t){return!Ch(t)&&!Eh(t)},Ph=function(t){var e;return["btn-".concat(t.variant||"secondary"),(e={},_h(e,"btn-".concat(t.size),t.size),_h(e,"btn-block",t.block),_h(e,"rounded-pill",t.pill),_h(e,"rounded-0",t.squared&&!t.pill),_h(e,"disabled",t.disabled),_h(e,"active",t.pressed),e)]},xh=function(t){return Ch(t)?xc(Oh,t):{}},Dh=function(t,e){var n=Eh(t),r=Ch(t),i=Ih(t),o=kh(t),s=r&&"#"===t.href,a=e.attrs&&e.attrs.role?e.attrs.role:null,c=e.attrs?e.attrs.tabindex:null;return(o||s)&&(c="0"),{type:n&&!r?t.type:null,disabled:n?t.disabled:null,role:o||s?"button":a,"aria-disabled":o?String(t.disabled):null,"aria-pressed":i?String(t.pressed):null,autocomplete:i?"off":null,tabindex:t.disabled&&!n?"-1":c}},Ah=mi({name:Be,functional:!0,props:Th,render:function(t,e){var n=e.props,r=e.data,i=e.listeners,o=e.children,s=Ih(n),a=Ch(n),c=kh(n),l=a&&"#"===n.href,u={keydown:function(t){if(!n.disabled&&(c||l)){var e=t.keyCode;if(e===Lu||e===Pu&&c){var r=t.currentTarget||t.target;Vc(t,{propagation:!1}),r.click()}}},click:function(t){n.disabled&&xt(t)?Vc(t):s&&i&&i["update:pressed"]&&ua(i["update:pressed"]).forEach((function(t){_t(t)&&t(!n.pressed)}))}};s&&(u.focusin=Sh,u.focusout=Sh);var h={staticClass:"btn",class:Ph(n),props:xh(n),attrs:Dh(n,r),on:u};return t(a?yh:n.tag,ii(wh(wh({},r),{},{props:void 0}),h),o)}});function jh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jh(Object(n),!0).forEach((function(e){Nh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Lh="b-avatar",Fh=["sm",null,"lg"],Mh=.4,$h=.7*Mh,Bh=function(t){return t=Tt(t)&&Ct(t)?ya(t,0):t,St(t)?"".concat(t,"px"):t||null},Vh=Wt(vh,["active","event","routerTag"]),Uh=Ac(Yt(Rh(Rh({},Vh),{},{alt:kc(Mo,"avatar"),ariaLabel:kc(Mo),badge:kc(Ho,!1),badgeLeft:kc(Ao,!1),badgeOffset:kc(Mo),badgeTop:kc(Ao,!1),badgeVariant:kc(Mo,"primary"),button:kc(Ao,!1),buttonType:kc(Mo,"button"),icon:kc(Mo),rounded:kc(Ho,!1),size:kc(Ko),square:kc(Ao,!1),src:kc(Mo),text:kc(Mo),variant:kc(Mo,"secondary")})),Re),zh=mi({name:Re,mixins:[ga],inject:{getBvAvatarGroup:{default:function(){return function(){return null}}}},props:Uh,data:function(){return{localSrc:this.src||null}},computed:{bvAvatarGroup:function(){return this.getBvAvatarGroup()},computedSize:function(){var t=this.bvAvatarGroup;return Bh(t?t.size:this.size)},computedVariant:function(){var t=this.bvAvatarGroup;return t&&t.variant?t.variant:this.variant},computedRounded:function(){var t=this.bvAvatarGroup,e=!(!t||!t.square)||this.square,n=t&&t.rounded?t.rounded:this.rounded;return e?"0":""===n||(n||"circle")},fontStyle:function(){var t=this.computedSize,e=-1===Fh.indexOf(t)?"calc(".concat(t," * ").concat(Mh,")"):null;return e?{fontSize:e}:{}},marginStyle:function(){var t=this.computedSize,e=this.bvAvatarGroup,n=e?e.overlapScale:0,r=t&&n?"calc(".concat(t," * -").concat(n,")"):null;return r?{marginLeft:r,marginRight:r}:{}},badgeStyle:function(){var t=this.computedSize,e=this.badgeTop,n=this.badgeLeft,r=this.badgeOffset,i=r||"0px";return{fontSize:-1===Fh.indexOf(t)?"calc(".concat(t," * ").concat($h," )"):null,top:e?i:null,bottom:e?null:i,left:n?i:null,right:n?null:i}}},watch:{src:function(t,e){t!==e&&(this.localSrc=t||null)}},methods:{onImgError:function(t){this.localSrc=null,this.$emit(Hi,t)},onClick:function(t){this.$emit(Ii,t)}},render:function(t){var e,n=this.computedVariant,r=this.disabled,i=this.computedRounded,o=this.icon,s=this.localSrc,a=this.text,c=this.fontStyle,l=this.marginStyle,u=this.computedSize,h=this.button,d=this.buttonType,f=this.badge,p=this.badgeVariant,m=this.badgeStyle,g=!h&&$l(this),v=h?Ah:g?yh:"span",y=this.alt,b=this.ariaLabel||null,w=null;this.hasNormalizedSlot()?w=t("span",{staticClass:"b-avatar-custom"},[this.normalizeSlot()]):s?(w=t("img",{style:n?{}:{width:"100%",height:"100%"},attrs:{src:s,alt:y},on:{error:this.onImgError}}),w=t("span",{staticClass:"b-avatar-img"},[w])):w=o?t(Su,{props:{icon:o},attrs:{"aria-hidden":"true",alt:y}}):a?t("span",{staticClass:"b-avatar-text",style:c},[t("span",a)]):t(du,{attrs:{"aria-hidden":"true",alt:y}});var _=t(),O=this.hasNormalizedSlot(es);if(f||""===f||O){var T=!0===f?"":f;_=t("span",{staticClass:"b-avatar-badge",class:Nh({},"badge-".concat(p),p),style:m},[O?this.normalizeSlot(es):T])}var S={staticClass:Lh,class:(e={},Nh(e,"".concat(Lh,"-").concat(u),u&&-1!==Fh.indexOf(u)),Nh(e,"badge-".concat(n),!h&&n),Nh(e,"rounded",!0===i),Nh(e,"rounded-".concat(i),i&&!0!==i),Nh(e,"disabled",r),e),style:Rh(Rh({},l),{},{width:u,height:u}),attrs:{"aria-label":b||null},props:h?{variant:n,disabled:r,type:d}:g?xc(Vh,this):{},on:h||g?{click:this.onClick}:{}};return t(v,S,[w,_])}}),qh=Ac({overlap:kc(Ko,.3),rounded:kc(Ho,!1),size:kc(Mo),square:kc(Ao,!1),tag:kc(Mo,"div"),variant:kc(Mo)},Ne),Hh=mi({name:Ne,mixins:[ga],provide:function(){var t=this;return{getBvAvatarGroup:function(){return t}}},props:qh,computed:{computedSize:function(){return Bh(this.size)},overlapScale:function(){return ml(gl(ya(this.overlap,0),0),1)/2},paddingStyle:function(){var t=this.computedSize;return t=t?"calc(".concat(t," * ").concat(this.overlapScale,")"):null,t?{paddingLeft:t,paddingRight:t}:{}}},render:function(t){var e=t("div",{staticClass:"b-avatar-group-inner",style:this.paddingStyle},this.normalizeSlot());return t(this.tag,{staticClass:"b-avatar-group",attrs:{role:"group"}},[e])}}),Gh=Ie({components:{BAvatar:zh,BAvatarGroup:Hh}});function Wh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Kh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wh(Object(n),!0).forEach((function(e){Yh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Yh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qh=Wt(vh,["event","routerTag"]);delete Qh.href.default,delete Qh.to.default;var Xh=Ac(Yt(Kh(Kh({},Qh),{},{pill:kc(Ao,!1),tag:kc(Mo,"span"),variant:kc(Mo,"secondary")})),Le),Jh=mi({name:Le,functional:!0,props:Xh,render:function(t,e){var n=e.props,r=e.data,i=e.children,o=n.active,s=n.disabled,a=$l(n),c=a?yh:n.tag,l=n.variant||"secondary";return t(c,ii(r,{staticClass:"badge",class:["badge-".concat(l),{"badge-pill":n.pill,active:o,disabled:s}],props:a?xc(Qh,n):{}}),i)}}),Zh=Ie({components:{BBadge:Jh}}),td=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(t).replace(k,"")},ed=function(t,e){return t?{innerHTML:t}:e?{textContent:e}:{}};function nd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nd(Object(n),!0).forEach((function(e){id(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function id(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var od=Ac(Yt(rd(rd({},Wt(vh,["event","routerTag"])),{},{ariaCurrent:kc(Mo,"location"),html:kc(Mo),text:kc(Mo)})),$e),sd=mi({name:$e,functional:!0,props:od,render:function(t,e){var n=e.props,r=e.data,i=e.children,o=n.active,s=o?"span":yh,a={attrs:{"aria-current":o?n.ariaCurrent:null},props:xc(od,n)};return i||(a.domProps=ed(n.html,n.text)),t(s,ii(r,a),i)}}),ad=Ac(od,Me),cd=mi({name:Me,functional:!0,props:ad,render:function(t,e){var n=e.props,r=e.data,i=e.children;return t("li",ii(r,{staticClass:"breadcrumb-item",class:{active:n.active}}),[t(sd,{props:n},i)])}});function ld(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ud(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ld(Object(n),!0).forEach((function(e){hd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ld(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dd=Ac({items:kc(Do)},Fe),fd=mi({name:Fe,functional:!0,props:dd,render:function(t,e){var n=e.props,r=e.data,i=e.children,o=n.items,s=i;if(It(o)){var a=!1;s=o.map((function(e,n){Et(e)||(e={text:Ia(e)});var r=e,i=r.active;return i&&(a=!0),i||a||(i=n+1===o.length),t(cd,{props:ud(ud({},e),{},{active:i})})}))}return t("ol",ii(r,{staticClass:"breadcrumb"}),s)}}),pd=Ie({components:{BBreadcrumb:fd,BBreadcrumbItem:cd,BBreadcrumbLink:sd}}),md=Ie({components:{BButton:Ah,BBtn:Ah,BButtonClose:Wc,BBtnClose:Wc}});function gd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gd(Object(n),!0).forEach((function(e){yd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bd=Ac(Yt(vd(vd({},Gt(Th,["size"])),{},{ariaRole:kc(Mo,"group"),size:kc(Mo),tag:kc(Mo,"div"),vertical:kc(Ao,!1)})),Ue),wd=mi({name:Ue,functional:!0,props:bd,render:function(t,e){var n=e.props,r=e.data,i=e.children;return t(n.tag,ii(r,{class:yd({"btn-group":!n.vertical,"btn-group-vertical":n.vertical},"btn-group-".concat(n.size),n.size),attrs:{role:n.ariaRole}}),i)}}),_d=Ie({components:{BButtonGroup:wd,BBtnGroup:wd}}),Od=[".btn:not(.disabled):not([disabled]):not(.dropdown-item)",".form-control:not(.disabled):not([disabled])","select:not(.disabled):not([disabled])",'input[type="checkbox"]:not(.disabled)','input[type="radio"]:not(.disabled)'].join(","),Td=Ac({justify:kc(Ao,!1),keyNav:kc(Ao,!1)},ze),Sd=mi({name:ze,mixins:[ga],props:Td,mounted:function(){this.keyNav&&this.getItems()},methods:{getItems:function(){var t=qa(Od,this.$el);return t.forEach((function(t){t.tabIndex=-1})),t.filter((function(t){return Va(t)}))},focusFirst:function(){var t=this.getItems();dc(t[0])},focusPrev:function(t){var e=this.getItems(),n=e.indexOf(t.target);n>-1&&(e=e.slice(0,n).reverse(),dc(e[0]))},focusNext:function(t){var e=this.getItems(),n=e.indexOf(t.target);n>-1&&(e=e.slice(n+1),dc(e[0]))},focusLast:function(){var t=this.getItems().reverse();dc(t[0])},onFocusin:function(t){var e=this.$el;t.target!==e||Ka(e,t.relatedTarget)||(Vc(t),this.focusFirst(t))},onKeydown:function(t){var e=t.keyCode,n=t.shiftKey;e===Fu||e===Au?(Vc(t),n?this.focusFirst(t):this.focusPrev(t)):e!==Eu&&e!==Nu||(Vc(t),n?this.focusLast(t):this.focusNext(t))}},render:function(t){var e=this.keyNav;return t("div",{staticClass:"btn-toolbar",class:{"justify-content-between":this.justify},attrs:{role:"toolbar",tabindex:e?"0":null},on:e?{focusin:this.onFocusin,keydown:this.onKeydown}:{}},[this.normalizeSlot()])}}),Cd=Ie({components:{BButtonToolbar:Sd,BBtnToolbar:Sd}}),Id="gregory",Ed="long",kd="narrow",Pd="short",xd="2-digit",Dd="numeric";function Ad(t,e){return Fd(t)||Ld(t,e)||Rd(t,e)||jd()}function jd(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Rd(t,e){if(t){if("string"===typeof t)return Nd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nd(t,e):void 0}}function Nd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ld(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done);s=!0)if(o.push(r.value),e&&o.length===e)break}catch(c){a=!0,i=c}finally{try{s||null==n["return"]||n["return"]()}finally{if(a)throw i}}return o}}function Fd(t){if(Array.isArray(t))return t}function Md(t,e,n){return Md=$d()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=Function.bind.apply(t,r),o=new i;return n&&Bd(o,n.prototype),o},Md.apply(null,arguments)}function $d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ti){return!1}}function Bd(t,e){return Bd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Bd(t,e)}var Vd,Ud=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Md(Date,e)},zd=function(t){if(Tt(t)&&V.test(t.trim())){var e=t.split(U).map((function(t){return va(t,1)})),n=Ad(e,3),r=n[0],i=n[1],o=n[2];return Ud(r,i-1,o)}return Pt(t)?Ud(t.getFullYear(),t.getMonth(),t.getDate()):null},qd=function(t){if(t=zd(t),!t)return null;var e=t.getFullYear(),n="0".concat(t.getMonth()+1).slice(-2),r="0".concat(t.getDate()).slice(-2);return"".concat(e,"-").concat(n,"-").concat(r)},Hd=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Id;t=ua(t).filter(ae);var n=new Intl.DateTimeFormat(t,{calendar:e});return n.resolvedOptions().locale},Gd=function(t,e){var n=new Intl.DateTimeFormat(t,e);return n.format},Wd=function(t,e){return qd(t)===qd(e)},Kd=function(t){return t=Ud(t),t.setDate(1),t},Yd=function(t){return t=Ud(t),t.setMonth(t.getMonth()+1),t.setDate(0),t},Qd=function(t,e){t=Ud(t);var n=t.getMonth();return t.setFullYear(t.getFullYear()+e),t.getMonth()!==n&&t.setDate(0),t},Xd=function(t){t=Ud(t);var e=t.getMonth();return t.setMonth(e-1),t.getMonth()===e&&t.setDate(0),t},Jd=function(t){t=Ud(t);var e=t.getMonth();return t.setMonth(e+1),t.getMonth()===(e+2)%12&&t.setDate(0),t},Zd=function(t){return Qd(t,-1)},tf=function(t){return Qd(t,1)},ef=function(t){return Qd(t,-10)},nf=function(t){return Qd(t,10)},rf=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return t=zd(t),e=zd(e)||t,n=zd(n)||t,t?t<e?e:t>n?n:t:null},of=["ar","az","ckb","fa","he","ks","lrc","mzn","ps","sd","te","ug","ur","yi"].map((function(t){return t.toLowerCase()})),sf=function(t){var e=Ia(t).toLowerCase().replace(J,"").split("-"),n=e.slice(0,2).join("-"),r=e[0];return la(of,n)||la(of,r)},af={id:kc(Mo)},cf=mi({props:af,data:function(){return{localId_:null}},computed:{safeId:function(){var t=this.id||this.localId_,e=function(e){return t?(e=String(e||"").replace(/\s+/g,"_"),e?t+"_"+e:t):null};return e}},mounted:function(){var t=this;this.$nextTick((function(){t.localId_="__BVID__".concat(t[hi])}))}});function lf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function uf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lf(Object(n),!0).forEach((function(e){hf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var df=Lc("value",{type:Go}),ff=df.mixin,pf=df.props,mf=df.prop,gf=df.event,vf=Ac(Yt(uf(uf(uf({},af),pf),{},{ariaControls:kc(Mo),block:kc(Ao,!1),dateDisabledFn:kc(Ro),dateFormatOptions:kc(Lo,{year:Dd,month:Ed,day:Dd,weekday:Ed}),dateInfoFn:kc(Ro),direction:kc(Mo),disabled:kc(Ao,!1),headerTag:kc(Mo,"header"),hidden:kc(Ao,!1),hideHeader:kc(Ao,!1),initialDate:kc(Go),labelCalendar:kc(Mo,"Calendar"),labelCurrentMonth:kc(Mo,"Current month"),labelHelp:kc(Mo,"Use cursor keys to navigate calendar dates"),labelNav:kc(Mo,"Calendar navigation"),labelNextDecade:kc(Mo,"Next decade"),labelNextMonth:kc(Mo,"Next month"),labelNextYear:kc(Mo,"Next year"),labelNoDateSelected:kc(Mo,"No date selected"),labelPrevDecade:kc(Mo,"Previous decade"),labelPrevMonth:kc(Mo,"Previous month"),labelPrevYear:kc(Mo,"Previous year"),labelSelected:kc(Mo,"Selected date"),labelToday:kc(Mo,"Today"),locale:kc(Uo),max:kc(Go),min:kc(Go),navButtonVariant:kc(Mo,"secondary"),noHighlightToday:kc(Ao,!1),noKeyNav:kc(Ao,!1),readonly:kc(Ao,!1),roleDescription:kc(Mo),selectedVariant:kc(Mo,"primary"),showDecadeNav:kc(Ao,!1),startWeekday:kc(Ko,0),todayVariant:kc(Mo),valueAsDate:kc(Ao,!1),weekdayHeaderFormat:kc(Mo,Pd,(function(t){return la([Ed,Pd,kd],t)})),width:kc(Mo,"270px")})),qe),yf=mi({name:qe,mixins:[Yu,cf,ff,ga],props:vf,data:function(){var t=qd(this[mf])||"";return{selectedYMD:t,activeYMD:t||qd(rf(this.initialDate||this.getToday()),this.min,this.max),gridHasFocus:!1,isLive:!1}},computed:{valueId:function(){return this.safeId()},widgetId:function(){return this.safeId("_calendar-wrapper_")},navId:function(){return this.safeId("_calendar-nav_")},gridId:function(){return this.safeId("_calendar-grid_")},gridCaptionId:function(){return this.safeId("_calendar-grid-caption_")},gridHelpId:function(){return this.safeId("_calendar-grid-help_")},activeId:function(){return this.activeYMD?this.safeId("_cell-".concat(this.activeYMD,"_")):null},selectedDate:function(){return zd(this.selectedYMD)},activeDate:function(){return zd(this.activeYMD)},computedMin:function(){return zd(this.min)},computedMax:function(){return zd(this.max)},computedWeekStarts:function(){return gl(va(this.startWeekday,0),0)%7},computedLocale:function(){return Hd(ua(this.locale).filter(ae),Id)},computedDateDisabledFn:function(){var t=this.dateDisabledFn;return Rc(t)?t:function(){return!1}},computedDateInfoFn:function(){var t=this.dateInfoFn;return Rc(t)?t:function(){return{}}},calendarLocale:function(){var t=new Intl.DateTimeFormat(this.computedLocale,{calendar:Id}),e=t.resolvedOptions().calendar,n=t.resolvedOptions().locale;return e!==Id&&(n=n.replace(/-u-.+$/i,"").concat("-u-ca-gregory")),n},calendarYear:function(){return this.activeDate.getFullYear()},calendarMonth:function(){return this.activeDate.getMonth()},calendarFirstDay:function(){return Ud(this.calendarYear,this.calendarMonth,1,12)},calendarDaysInMonth:function(){var t=Ud(this.calendarFirstDay);return t.setMonth(t.getMonth()+1,0),t.getDate()},computedVariant:function(){return"btn-".concat(this.selectedVariant||"primary")},computedTodayVariant:function(){return"btn-outline-".concat(this.todayVariant||this.selectedVariant||"primary")},computedNavButtonVariant:function(){return"btn-outline-".concat(this.navButtonVariant||"primary")},isRTL:function(){var t=Ia(this.direction).toLowerCase();return"rtl"===t||"ltr"!==t&&sf(this.computedLocale)},context:function(){var t=this.selectedYMD,e=this.activeYMD,n=zd(t),r=zd(e);return{selectedYMD:t,selectedDate:n,selectedFormatted:n?this.formatDateString(n):this.labelNoDateSelected,activeYMD:e,activeDate:r,activeFormatted:r?this.formatDateString(r):"",disabled:this.dateDisabled(r),locale:this.computedLocale,calendarLocale:this.calendarLocale,rtl:this.isRTL}},dateOutOfRange:function(){var t=this.computedMin,e=this.computedMax;return function(n){return n=zd(n),t&&n<t||e&&n>e}},dateDisabled:function(){var t=this,e=this.dateOutOfRange;return function(n){n=zd(n);var r=qd(n);return!(!e(n)&&!t.computedDateDisabledFn(r,n))}},formatDateString:function(){return Gd(this.calendarLocale,uf(uf({year:Dd,month:xd,day:xd},this.dateFormatOptions),{},{hour:void 0,minute:void 0,second:void 0,calendar:Id}))},formatYearMonth:function(){return Gd(this.calendarLocale,{year:Dd,month:Ed,calendar:Id})},formatWeekdayName:function(){return Gd(this.calendarLocale,{weekday:Ed,calendar:Id})},formatWeekdayNameShort:function(){return Gd(this.calendarLocale,{weekday:this.weekdayHeaderFormat||Pd,calendar:Id})},formatDay:function(){var t=new Intl.NumberFormat([this.computedLocale],{style:"decimal",minimumIntegerDigits:1,minimumFractionDigits:0,maximumFractionDigits:0,notation:"standard"});return function(e){return t.format(e.getDate())}},prevDecadeDisabled:function(){var t=this.computedMin;return this.disabled||t&&Yd(ef(this.activeDate))<t},prevYearDisabled:function(){var t=this.computedMin;return this.disabled||t&&Yd(Zd(this.activeDate))<t},prevMonthDisabled:function(){var t=this.computedMin;return this.disabled||t&&Yd(Xd(this.activeDate))<t},thisMonthDisabled:function(){return this.disabled},nextMonthDisabled:function(){var t=this.computedMax;return this.disabled||t&&Kd(Jd(this.activeDate))>t},nextYearDisabled:function(){var t=this.computedMax;return this.disabled||t&&Kd(tf(this.activeDate))>t},nextDecadeDisabled:function(){var t=this.computedMax;return this.disabled||t&&Kd(nf(this.activeDate))>t},calendar:function(){for(var t=[],e=this.calendarFirstDay,n=e.getFullYear(),r=e.getMonth(),i=this.calendarDaysInMonth,o=e.getDay(),s=(this.computedWeekStarts>o?7:0)-this.computedWeekStarts,a=0-s-o,c=0;c<6&&a<i;c++){t[c]=[];for(var l=0;l<7;l++){a++;var u=Ud(n,r,a),h=u.getMonth(),d=qd(u),f=this.dateDisabled(u),p=this.computedDateInfoFn(d,zd(d));p=Tt(p)||It(p)?{class:p}:kt(p)?uf({class:""},p):{class:""},t[c].push({ymd:d,day:this.formatDay(u),label:this.formatDateString(u),isThisMonth:h===r,isDisabled:f,info:p})}}return t},calendarHeadings:function(){var t=this;return this.calendar[0].map((function(e){return{text:t.formatWeekdayNameShort(zd(e.ymd)),label:t.formatWeekdayName(zd(e.ymd))}}))}},watch:(Vd={},hf(Vd,mf,(function(t,e){var n=qd(t)||"",r=qd(e)||"";Wd(n,r)||(this.activeYMD=n||this.activeYMD,this.selectedYMD=n)})),hf(Vd,"selectedYMD",(function(t,e){t!==e&&this.$emit(gf,this.valueAsDate?zd(t)||null:t||"")})),hf(Vd,"context",(function(t,e){$u(t,e)||this.$emit(ki,t)})),hf(Vd,"hidden",(function(t){this.activeYMD=this.selectedYMD||qd(this[mf]||this.constrainDate(this.initialDate||this.getToday())),this.setLive(!t)})),Vd),created:function(){var t=this;this.$nextTick((function(){t.$emit(ki,t.context)}))},mounted:function(){this.setLive(!0)},activated:function(){this.setLive(!0)},deactivated:function(){this.setLive(!1)},beforeDestroy:function(){this.setLive(!1)},methods:{focus:function(){this.disabled||dc(this.$refs.grid)},blur:function(){this.disabled||fc(this.$refs.grid)},setLive:function(t){var e=this;t?this.$nextTick((function(){Ra((function(){e.isLive=!0}))})):this.isLive=!1},getToday:function(){return zd(Ud())},constrainDate:function(t){return rf(t,this.computedMin,this.computedMax)},emitSelected:function(t){var e=this;this.$nextTick((function(){e.$emit(fo,qd(t)||"",zd(t)||null)}))},setGridFocusFlag:function(t){this.gridHasFocus=!this.disabled&&"focus"===t.type},onKeydownWrapper:function(t){if(!this.noKeyNav){var e=t.altKey,n=t.ctrlKey,r=t.keyCode;if(la([Ru,ju,ku,Du,Au,Fu,Nu,Eu],r)){Vc(t);var i=Ud(this.activeDate),o=Ud(this.activeDate),s=i.getDate(),a=this.constrainDate(this.getToday()),c=this.isRTL;r===Ru?(i=(e?n?ef:Zd:Xd)(i),o=Ud(i),o.setDate(1)):r===ju?(i=(e?n?nf:tf:Jd)(i),o=Ud(i),o.setMonth(o.getMonth()+1),o.setDate(0)):r===Au?(i.setDate(s+(c?1:-1)),i=this.constrainDate(i),o=i):r===Nu?(i.setDate(s+(c?-1:1)),i=this.constrainDate(i),o=i):r===Fu?(i.setDate(s-7),i=this.constrainDate(i),o=i):r===Eu?(i.setDate(s+7),i=this.constrainDate(i),o=i):r===Du?(i=a,o=i):r===ku&&(i=zd(this.selectedDate)||a,o=i),this.dateOutOfRange(o)||Wd(i,this.activeDate)||(this.activeYMD=qd(i)),this.focus()}}},onKeydownGrid:function(t){var e=t.keyCode,n=this.activeDate;e!==Pu&&e!==Lu||(Vc(t),this.disabled||this.readonly||this.dateDisabled(n)||(this.selectedYMD=qd(n),this.emitSelected(n)),this.focus())},onClickDay:function(t){var e=this.selectedDate,n=this.activeDate,r=zd(t.ymd);this.disabled||t.isDisabled||this.dateDisabled(r)||(this.readonly||(this.selectedYMD=qd(Wd(r,e)?e:r),this.emitSelected(r)),this.activeYMD=qd(Wd(r,n)?n:Ud(r)),this.focus())},gotoPrevDecade:function(){this.activeYMD=qd(this.constrainDate(ef(this.activeDate)))},gotoPrevYear:function(){this.activeYMD=qd(this.constrainDate(Zd(this.activeDate)))},gotoPrevMonth:function(){this.activeYMD=qd(this.constrainDate(Xd(this.activeDate)))},gotoCurrentMonth:function(){this.activeYMD=qd(this.constrainDate(this.getToday()))},gotoNextMonth:function(){this.activeYMD=qd(this.constrainDate(Jd(this.activeDate)))},gotoNextYear:function(){this.activeYMD=qd(this.constrainDate(tf(this.activeDate)))},gotoNextDecade:function(){this.activeYMD=qd(this.constrainDate(nf(this.activeDate)))},onHeaderClick:function(){this.disabled||(this.activeYMD=this.selectedYMD||qd(this.getToday()),this.focus())}},render:function(t){var e=this;if(this.hidden)return t();var n=this.valueId,r=this.widgetId,i=this.navId,o=this.gridId,s=this.gridCaptionId,a=this.gridHelpId,c=this.activeId,l=this.disabled,u=this.noKeyNav,h=this.isLive,d=this.isRTL,f=this.activeYMD,p=this.selectedYMD,m=this.safeId,g=!this.showDecadeNav,v=qd(this.getToday()),y=!this.noHighlightToday,b=t("output",{staticClass:"form-control form-control-sm text-center",class:{"text-muted":l,readonly:this.readonly||l},attrs:{id:n,for:o,role:"status",tabindex:l?null:"-1","data-selected":Ia(p),"aria-live":h?"polite":"off","aria-atomic":h?"true":null},on:{click:this.onHeaderClick,focus:this.onHeaderClick}},this.selectedDate?[t("bdi",{staticClass:"sr-only"}," (".concat(Ia(this.labelSelected),") ")),t("bdi",this.formatDateString(this.selectedDate))]:this.labelNoDateSelected||"");b=t(this.headerTag,{staticClass:"b-calendar-header",class:{"sr-only":this.hideHeader},attrs:{title:this.selectedDate&&this.labelSelected||null}},[b]);var w={isRTL:d},_={shiftV:.5},O=uf(uf({},_),{},{flipH:d}),T=uf(uf({},_),{},{flipH:!d}),S=this.normalizeSlot(Bs,w)||t(ru,{props:O}),C=this.normalizeSlot(Us,w)||t(iu,{props:O}),I=this.normalizeSlot(Vs,w)||t(su,{props:O}),E=this.normalizeSlot(zs,w)||t(cu,{props:_}),k=this.normalizeSlot(Ms,w)||t(su,{props:T}),P=this.normalizeSlot($s,w)||t(iu,{props:T}),x=this.normalizeSlot(Fs,w)||t(ru,{props:T}),D=function(n,r,i,o,s){return t("button",{staticClass:"btn btn-sm border-0 flex-fill",class:[e.computedNavButtonVariant,{disabled:o}],attrs:{title:r||null,type:"button",tabindex:u?"-1":null,"aria-label":r||null,"aria-disabled":o?"true":null,"aria-keyshortcuts":s||null},on:o?{}:{click:i}},[t("div",{attrs:{"aria-hidden":"true"}},[n])])},A=t("div",{staticClass:"b-calendar-nav d-flex",attrs:{id:i,role:"group",tabindex:u?"-1":null,"aria-hidden":l?"true":null,"aria-label":this.labelNav||null,"aria-controls":o}},[g?t():D(S,this.labelPrevDecade,this.gotoPrevDecade,this.prevDecadeDisabled,"Ctrl+Alt+PageDown"),D(C,this.labelPrevYear,this.gotoPrevYear,this.prevYearDisabled,"Alt+PageDown"),D(I,this.labelPrevMonth,this.gotoPrevMonth,this.prevMonthDisabled,"PageDown"),D(E,this.labelCurrentMonth,this.gotoCurrentMonth,this.thisMonthDisabled,"Home"),D(k,this.labelNextMonth,this.gotoNextMonth,this.nextMonthDisabled,"PageUp"),D(P,this.labelNextYear,this.gotoNextYear,this.nextYearDisabled,"Alt+PageUp"),g?t():D(x,this.labelNextDecade,this.gotoNextDecade,this.nextDecadeDisabled,"Ctrl+Alt+PageUp")]),j=t("div",{staticClass:"b-calendar-grid-caption text-center font-weight-bold",class:{"text-muted":l},attrs:{id:s,"aria-live":h?"polite":null,"aria-atomic":h?"true":null},key:"grid-caption"},this.formatYearMonth(this.calendarFirstDay)),R=t("div",{staticClass:"b-calendar-grid-weekdays row no-gutters border-bottom",attrs:{"aria-hidden":"true"}},this.calendarHeadings.map((function(e,n){return t("small",{staticClass:"col text-truncate",class:{"text-muted":l},attrs:{title:e.label===e.text?null:e.label,"aria-label":e.label},key:n},e.text)}))),N=this.calendar.map((function(n){var r=n.map((function(n,r){var i,o=n.ymd===p,s=n.ymd===f,a=n.ymd===v,c=m("_cell-".concat(n.ymd,"_")),u=t("span",{staticClass:"btn border-0 rounded-circle text-nowrap",class:(i={focus:s&&e.gridHasFocus,disabled:n.isDisabled||l,active:o},hf(i,e.computedVariant,o),hf(i,e.computedTodayVariant,a&&y&&!o&&n.isThisMonth),hf(i,"btn-outline-light",!(a&&y)&&!o&&!s),hf(i,"btn-light",!(a&&y)&&!o&&s),hf(i,"text-muted",!n.isThisMonth&&!o),hf(i,"text-dark",!(a&&y)&&!o&&!s&&n.isThisMonth),hf(i,"font-weight-bold",(o||n.isThisMonth)&&!n.isDisabled),i),on:{click:function(){return e.onClickDay(n)}}},n.day);return t("div",{staticClass:"col p-0",class:n.isDisabled?"bg-light":n.info.class||"",attrs:{id:c,role:"button","data-date":n.ymd,"aria-hidden":n.isThisMonth?null:"true","aria-disabled":n.isDisabled||l?"true":null,"aria-label":[n.label,o?"(".concat(e.labelSelected,")"):null,a?"(".concat(e.labelToday,")"):null].filter(ae).join(" "),"aria-selected":o?"true":null,"aria-current":o?"date":null},key:r},[u])}));return t("div",{staticClass:"row no-gutters",key:n[0].ymd},r)}));N=t("div",{staticClass:"b-calendar-grid-body",style:l?{pointerEvents:"none"}:{}},N);var L=t("div",{staticClass:"b-calendar-grid-help border-top small text-muted text-center bg-light",attrs:{id:a}},[t("div",{staticClass:"small"},this.labelHelp)]),F=t("div",{staticClass:"b-calendar-grid form-control h-auto text-center",attrs:{id:o,role:"application",tabindex:u?"-1":l?null:"0","data-month":f.slice(0,-3),"aria-roledescription":this.labelCalendar||null,"aria-labelledby":s,"aria-describedby":a,"aria-disabled":l?"true":null,"aria-activedescendant":c},on:{keydown:this.onKeydownGrid,focus:this.setGridFocusFlag,blur:this.setGridFocusFlag},ref:"grid"},[j,R,N,L]),M=this.normalizeSlot();M=M?t("footer",{staticClass:"b-calendar-footer"},M):t();var $=t("div",{staticClass:"b-calendar-inner",style:this.block?{}:{width:this.width},attrs:{id:r,dir:d?"rtl":"ltr",lang:this.computedLocale||null,role:"group","aria-disabled":l?"true":null,"aria-controls":this.ariaControls||null,"aria-roledescription":this.roleDescription||null,"aria-describedby":[this.bvAttrs["aria-describedby"],n,a].filter(ae).join(" ")},on:{keydown:this.onKeydownWrapper}},[b,A,F,M]);return t("div",{staticClass:"b-calendar",class:{"d-block":this.block}},[$])}}),bf=Ie({components:{BCalendar:yf}}),wf=Ac({bgVariant:kc(Mo),borderVariant:kc(Mo),tag:kc(Mo,"div"),textVariant:kc(Mo)},He),_f=(mi({props:wf}),Ac({title:kc(Mo),titleTag:kc(Mo,"h4")},tn)),Of=mi({name:tn,functional:!0,props:_f,render:function(t,e){var n=e.props,r=e.data,i=e.children;return t(n.titleTag,ii(r,{staticClass:"card-title"}),i||Ia(n.title))}}),Tf=Ac({subTitle:kc(Mo),subTitleTag:kc(Mo,"h6"),subTitleTextVariant:kc(Mo,"muted")},Je),Sf=mi({name:Je,functional:!0,props:Tf,render:function(t,e){var n=e.props,r=e.data,i=e.children;return t(n.subTitleTag,ii(r,{staticClass:"card-subtitle",class:[n.subTitleTextVariant?"text-".concat(n.subTitleTextVariant):null]}),i||Ia(n.subTitle))}});function Cf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function If(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cf(Object(n),!0).forEach((function(e){Ef(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ef(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var kf=Ac(Yt(If(If(If(If({},_f),Tf),Pc(wf,Cc.bind(null,"body"))),{},{bodyClass:kc(Vo),overlay:kc(Ao,!1)})),Ge),Pf=mi({name:Ge,functional:!0,props:kf,render:function(t,e){var n,r=e.props,i=e.data,o=e.children,s=r.bodyBgVariant,a=r.bodyBorderVariant,c=r.bodyTextVariant,l=t();r.title&&(l=t(Of,{props:xc(_f,r)}));var u=t();return r.subTitle&&(u=t(Sf,{props:xc(Tf,r),class:["mb-2"]})),t(r.bodyTag,ii(i,{staticClass:"card-body",class:[(n={"card-img-overlay":r.overlay},Ef(n,"bg-".concat(s),s),Ef(n,"border-".concat(a),a),Ef(n,"text-".concat(c),c),n),r.bodyClass]}),[l,u,o])}});function xf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Df(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xf(Object(n),!0).forEach((function(e){Af(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Af(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jf=Ac(Yt(Df(Df({},Pc(wf,Cc.bind(null,"header"))),{},{header:kc(Mo),headerClass:kc(Vo),headerHtml:kc(Mo)})),Ye),Rf=mi({name:Ye,functional:!0,props:jf,render:function(t,e){var n,r=e.props,i=e.data,o=e.children,s=r.headerBgVariant,a=r.headerBorderVariant,c=r.headerTextVariant;return t(r.headerTag,ii(i,{staticClass:"card-header",class:[r.headerClass,(n={},Af(n,"bg-".concat(s),s),Af(n,"border-".concat(a),a),Af(n,"text-".concat(c),c),n)],domProps:o?{}:ed(r.headerHtml,r.header)}),o)}});function Nf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nf(Object(n),!0).forEach((function(e){Ff(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ff(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mf=Ac(Yt(Lf(Lf({},Pc(wf,Cc.bind(null,"footer"))),{},{footer:kc(Mo),footerClass:kc(Vo),footerHtml:kc(Mo)})),We),$f=mi({name:We,functional:!0,props:Mf,render:function(t,e){var n,r=e.props,i=e.data,o=e.children,s=r.footerBgVariant,a=r.footerBorderVariant,c=r.footerTextVariant;return t(r.footerTag,ii(i,{staticClass:"card-footer",class:[r.footerClass,(n={},Ff(n,"bg-".concat(s),s),Ff(n,"border-".concat(a),a),Ff(n,"text-".concat(c),c),n)],domProps:o?{}:ed(r.footerHtml,r.footer)}),o)}});function Bf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Vf='<svg width="%{w}" height="%{h}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 %{w} %{h}" preserveAspectRatio="none"><rect width="100%" height="100%" style="fill:%{f};"></rect></svg>',Uf=function(t,e,n){var r=encodeURIComponent(Vf.replace("%{w}",Ia(t)).replace("%{h}",Ia(e)).replace("%{f}",n));return"data:image/svg+xml;charset=UTF-8,".concat(r)},zf=Ac({alt:kc(Mo),blank:kc(Ao,!1),blankColor:kc(Mo,"transparent"),block:kc(Ao,!1),center:kc(Ao,!1),fluid:kc(Ao,!1),fluidGrow:kc(Ao,!1),height:kc(Ko),left:kc(Ao,!1),right:kc(Ao,!1),rounded:kc(Ho,!1),sizes:kc(Uo),src:kc(Mo),srcset:kc(Uo),thumbnail:kc(Ao,!1),width:kc(Ko)},Vn),qf=mi({name:Vn,functional:!0,props:zf,render:function(t,e){var n,r=e.props,i=e.data,o=r.alt,s=r.src,a=r.block,c=r.fluidGrow,l=r.rounded,u=va(r.width)||null,h=va(r.height)||null,d=null,f=ua(r.srcset).filter(ae).join(","),p=ua(r.sizes).filter(ae).join(",");return r.blank&&(!h&&u?h=u:!u&&h&&(u=h),u||h||(u=1,h=1),s=Uf(u,h,r.blankColor||"transparent"),f=null,p=null),r.left?d="float-left":r.right?d="float-right":r.center&&(d="mx-auto",a=!0),t("img",ii(i,{attrs:{src:s,alt:o,width:u?Ia(u):null,height:h?Ia(h):null,srcset:f||null,sizes:p||null},class:(n={"img-thumbnail":r.thumbnail,"img-fluid":r.fluid||c,"w-100":c,rounded:""===l||!0===l},Bf(n,"rounded-".concat(l),Tt(l)&&""!==l),Bf(n,d,d),Bf(n,"d-block",a),n)}))}});function Hf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hf(Object(n),!0).forEach((function(e){Wf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Wf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Kf=Ac(Yt(Gf(Gf({},Gt(zf,["src","alt","width","height","left","right"])),{},{bottom:kc(Ao,!1),end:kc(Ao,!1),start:kc(Ao,!1),top:kc(Ao,!1)})),Qe),Yf=mi({name:Qe,functional:!0,props:Kf,render:function(t,e){var n=e.props,r=e.data,i=n.src,o=n.alt,s=n.width,a=n.height,c="card-img";return n.top?c+="-top":n.right||n.end?c+="-right":n.bottom?c+="-bottom":(n.left||n.start)&&(c+="-left"),t("img",ii(r,{class:c,attrs:{src:i,alt:o,width:s,height:a}}))}});function Qf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qf(Object(n),!0).forEach((function(e){Jf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Jf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zf=Pc(Kf,Cc.bind(null,"img"));Zf.imgSrc.required=!1;var tp=Ac(Yt(Xf(Xf(Xf(Xf(Xf(Xf({},kf),jf),Mf),Zf),wf),{},{align:kc(Mo),noBody:kc(Ao,!1)})),He),ep=mi({name:He,functional:!0,props:tp,render:function(t,e){var n,r=e.props,i=e.data,o=e.slots,s=e.scopedSlots,a=r.imgSrc,c=r.imgLeft,l=r.imgRight,u=r.imgStart,h=r.imgEnd,d=r.imgBottom,f=r.header,p=r.headerHtml,m=r.footer,g=r.footerHtml,v=r.align,y=r.textVariant,b=r.bgVariant,w=r.borderVariant,_=s||{},O=o(),T={},S=t(),C=t();if(a){var I=t(Yf,{props:xc(Zf,r,Ic.bind(null,"img"))});d?C=I:S=I}var E=t(),k=pa(vs,_,O);(k||f||p)&&(E=t(Rf,{props:xc(jf,r),domProps:k?{}:ed(p,f)},ma(vs,T,_,O)));var P=ma(ss,T,_,O);r.noBody||(P=t(Pf,{props:xc(kf,r)},P),r.overlay&&a&&(P=t("div",{staticClass:"position-relative"},[S,P,C]),S=t(),C=t()));var x=t(),D=pa(gs,_,O);return(D||m||g)&&(x=t($f,{props:xc(Mf,r),domProps:k?{}:ed(g,m)},ma(gs,T,_,O))),t(r.tag,ii(i,{staticClass:"card",class:(n={"flex-row":c||u,"flex-row-reverse":(l||h)&&!(c||u)},Jf(n,"text-".concat(v),v),Jf(n,"bg-".concat(b),b),Jf(n,"border-".concat(w),w),Jf(n,"text-".concat(y),y),n)}),[S,E,P,x,C])}});function np(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ip(t,e,n){return e&&rp(t.prototype,e),n&&rp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var op,sp="__bv__visibility_observer",ap=function(){function t(e,n){np(this,t),this.el=e,this.callback=n.callback,this.margin=n.margin||0,this.once=n.once||!1,this.observer=null,this.visible=void 0,this.doneOnce=!1,this.createObserver()}return ip(t,[{key:"createObserver",value:function(){var t=this;if(this.observer&&this.stop(),!this.doneOnce&&_t(this.callback)){try{this.observer=new IntersectionObserver(this.handler.bind(this),{root:null,rootMargin:this.margin,threshold:0})}catch(e){return this.doneOnce=!0,this.observer=void 0,void this.callback(null)}wi((function(){Ra((function(){t.observer&&t.observer.observe(t.el)}))}))}}},{key:"handler",value:function(t){var e=t?t[0]:{},n=Boolean(e.isIntersecting||e.intersectionRatio>0);n!==this.visible&&(this.visible=n,this.callback(n),this.once&&this.visible&&(this.doneOnce=!0,this.stop()))}},{key:"stop",value:function(){this.observer&&this.observer.disconnect(),this.observer=null}}]),t}(),cp=function(t){var e=t[sp];e&&e.stop&&e.stop(),delete t[sp]},lp=function(t,e){var n=e.value,r=e.modifiers,i={margin:"0px",once:!1,callback:n};Ut(r).forEach((function(t){S.test(t)?i.margin="".concat(t,"px"):"once"===t.toLowerCase()&&(i.once=!0)})),cp(t),t[sp]=new ap(t,i),t[sp]._prevModifiers=Ht(r)},up=function(t,e,n){var r=e.value,i=e.oldValue,o=e.modifiers;o=Ht(o),!t||r===i&&t[sp]&&$u(o,t[sp]._prevModifiers)||lp(t,{value:r,modifiers:o},n)},hp=function(t){cp(t)},dp={bind:lp,componentUpdated:up,unbind:hp};function fp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fp(Object(n),!0).forEach((function(e){mp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gp="show",vp=Co+gp,yp=Wt(zf,["blank"]),bp=Ac(pp(pp({},yp),{},mp({blankHeight:kc(Ko),blankSrc:kc(Mo,null),blankWidth:kc(Ko),offset:kc(Ko,360)},gp,kc(Ao,!1))),Un),wp=mi({name:Un,directives:{"b-visible":dp},props:bp,data:function(){return{isShown:this[gp]}},computed:{computedSrc:function(){var t=this.blankSrc;return!t||this.isShown?this.src:t},computedBlank:function(){return!(this.isShown||this.blankSrc)},computedWidth:function(){var t=this.width;return this.isShown?t:this.blankWidth||t},computedHeight:function(){var t=this.height;return this.isShown?t:this.blankHeight||t},computedSrcset:function(){var t=ua(this.srcset).filter(ae).join(",");return!t||this.blankSrc&&!this.isShown?null:t},computedSizes:function(){var t=ua(this.sizes).filter(ae).join(",");return!t||this.blankSrc&&!this.isShown?null:t}},watch:(op={},mp(op,gp,(function(t,e){if(t!==e){var n=!y||t;this.isShown=n,t!==n&&this.$nextTick(this.updateShowProp)}})),mp(op,"isShown",(function(t,e){t!==e&&this.updateShowProp()})),op),mounted:function(){var t=this;this.$nextTick((function(){t.isShown=!y||t[gp]}))},methods:{updateShowProp:function(){this.$emit(vp,this.isShown)},doShow:function(t){var e=this;!t&&null!==t||this.isShown||Ra((function(){e.isShown=!0}))}},render:function(t){var e,n=[];this.isShown||n.push({name:"b-visible",value:this.doShow,modifiers:(e={},mp(e,"".concat(va(this.offset,0)),!0),mp(e,"once",!0),e)});return t(qf,{directives:n,props:pp(pp({},xc(yp,this.$props)),{},{src:this.computedSrc,blank:this.computedBlank,width:this.computedWidth,height:this.computedHeight,srcset:this.computedSrcset,sizes:this.computedSizes})})}});function _p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Op(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_p(Object(n),!0).forEach((function(e){Tp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Sp=Ac(Yt(Op(Op({},Wt(bp,Ut(zf))),Wt(Kf,["src","alt","width","height"]))),Xe),Cp=mi({name:Xe,functional:!0,props:Sp,render:function(t,e){var n=e.props,r=e.data,i="card-img";return n.top?i+="-top":n.right||n.end?i+="-right":n.bottom?i+="-bottom":(n.left||n.start)&&(i+="-left"),t(wp,ii(r,{class:[i],props:Wt(n,["left","right"])}))}}),Ip=Ac({textTag:kc(Mo,"p")},Ze),Ep=mi({name:Ze,functional:!0,props:Ip,render:function(t,e){var n=e.props,r=e.data,i=e.children;return t(n.textTag,ii(r,{staticClass:"card-text"}),i)}}),kp=Ac({columns:kc(Ao,!1),deck:kc(Ao,!1),tag:kc(Mo,"div")},Ke),Pp=mi({name:Ke,functional:!0,props:kp,render:function(t,e){var n=e.props,r=e.data,i=e.children;return t(n.tag,ii(r,{class:n.deck?"card-deck":n.columns?"card-columns":"card-group"}),i)}}),xp=Ie({components:{BCard:ep,BCardHeader:Rf,BCardBody:Pf,BCardTitle:Of,BCardSubTitle:Sf,BCardFooter:$f,BCardImg:Yf,BCardImgLazy:Cp,BCardText:Ep,BCardGroup:Pp}}),Dp=function(){};function Ap(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ap(Object(n),!0).forEach((function(e){Rp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ap(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Np,Lp=function(t,e,n){if(t=t?t.$el||t:null,!Fa(t))return null;if(me("observeDom"))return null;var r=new Na((function(t){for(var n=!1,r=0;r<t.length&&!n;r++){var i=t[r],o=i.type,s=i.target;("characterData"===o&&s.nodeType===Node.TEXT_NODE||"attributes"===o||"childList"===o&&(i.addedNodes.length>0||i.removedNodes.length>0))&&(n=!0)}n&&e()}));return r.observe(t,jp({childList:!0,subtree:!0},n)),r};function Fp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fp(Object(n),!0).forEach((function(e){$p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bp=Lc("value",{type:No,defaultValue:0}),Vp=Bp.mixin,Up=Bp.props,zp=Bp.prop,qp=Bp.event,Hp={next:{dirClass:"carousel-item-left",overlayClass:"carousel-item-next"},prev:{dirClass:"carousel-item-right",overlayClass:"carousel-item-prev"}},Gp=650,Wp=500,Kp=40,Yp={TOUCH:"touch",PEN:"pen"},Qp={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend oTransitionEnd",transition:"transitionend"},Xp=function(t){for(var e in Qp)if(!yt(t.style[e]))return Qp[e];return null},Jp=Ac(Yt(Mp(Mp(Mp({},af),Up),{},{background:kc(Mo),controls:kc(Ao,!1),fade:kc(Ao,!1),imgHeight:kc(Ko),imgWidth:kc(Ko),indicators:kc(Ao,!1),interval:kc(No,5e3),labelGotoSlide:kc(Mo,"Goto slide"),labelIndicators:kc(Mo,"Select a slide to display"),labelNext:kc(Mo,"Next slide"),labelPrev:kc(Mo,"Previous slide"),noAnimation:kc(Ao,!1),noHoverPause:kc(Ao,!1),noTouch:kc(Ao,!1),noWrap:kc(Ao,!1)})),en),Zp=mi({name:en,mixins:[cf,Vp,ga],provide:function(){var t=this;return{getBvCarousel:function(){return t}}},props:Jp,data:function(){return{index:this[zp]||0,isSliding:!1,transitionEndEvent:null,slides:[],direction:null,isPaused:!(va(this.interval,0)>0),touchStartX:0,touchDeltaX:0}},computed:{numSlides:function(){return this.slides.length}},watch:(Np={},$p(Np,zp,(function(t,e){t!==e&&this.setSlide(va(t,0))})),$p(Np,"interval",(function(t,e){t!==e&&(t?(this.pause(!0),this.start(!1)):this.pause(!1))})),$p(Np,"isPaused",(function(t,e){t!==e&&this.$emit(t?to:_o)})),$p(Np,"index",(function(t,e){t===e||this.isSliding||this.doSlide(t,e)})),Np),created:function(){this.$_interval=null,this.$_animationTimeout=null,this.$_touchTimeout=null,this.$_observer=null,this.isPaused=!(va(this.interval,0)>0)},mounted:function(){this.transitionEndEvent=Xp(this.$el)||null,this.updateSlides(),this.setObserver(!0)},beforeDestroy:function(){this.clearInterval(),this.clearAnimationTimeout(),this.clearTouchTimeout(),this.setObserver(!1)},methods:{clearInterval:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){clearInterval(this.$_interval),this.$_interval=null})),clearAnimationTimeout:function(){clearTimeout(this.$_animationTimeout),this.$_animationTimeout=null},clearTouchTimeout:function(){clearTimeout(this.$_touchTimeout),this.$_touchTimeout=null},setObserver:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$_observer&&this.$_observer.disconnect(),this.$_observer=null,t&&(this.$_observer=Lp(this.$refs.inner,this.updateSlides.bind(this),{subtree:!1,childList:!0,attributes:!0,attributeFilter:["id"]}))},setSlide:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(l&&document.visibilityState&&document.hidden)){var r=this.noWrap,i=this.numSlides;t=bl(t),0!==i&&(this.isSliding?this.$once(go,(function(){Ra((function(){return e.setSlide(t,n)}))})):(this.direction=n,this.index=t>=i?r?i-1:0:t<0?r?0:i-1:t,r&&this.index!==t&&this.index!==this[zp]&&this.$emit(qp,this.index)))}},prev:function(){this.setSlide(this.index-1,"prev")},next:function(){this.setSlide(this.index+1,"next")},pause:function(t){t||(this.isPaused=!0),this.clearInterval()},start:function(t){t||(this.isPaused=!1),this.clearInterval(),this.interval&&this.numSlides>1&&(this.$_interval=setInterval(this.next,gl(1e3,this.interval)))},restart:function(){this.$el.contains(Ma())||this.start()},doSlide:function(t,e){var n=this,r=Boolean(this.interval),i=this.calcDirection(this.direction,e,t),o=i.overlayClass,s=i.dirClass,a=this.slides[e],c=this.slides[t];if(a&&c){if(this.isSliding=!0,r&&this.pause(!1),this.$emit(vo,t),this.$emit(qp,this.index),this.noAnimation)Qa(c,"active"),Xa(a,"active"),this.isSliding=!1,this.$nextTick((function(){return n.$emit(go,t)}));else{Qa(c,o),za(c),Qa(a,s),Qa(c,s);var l=!1,u=function e(){if(!l){if(l=!0,n.transitionEndEvent){var r=n.transitionEndEvent.split(/\s+/);r.forEach((function(t){return $c(c,t,e,Po)}))}n.clearAnimationTimeout(),Xa(c,s),Xa(c,o),Qa(c,"active"),Xa(a,"active"),Xa(a,s),Xa(a,o),Za(a,"aria-current","false"),Za(c,"aria-current","true"),Za(a,"aria-hidden","true"),Za(c,"aria-hidden","false"),n.isSliding=!1,n.direction=null,n.$nextTick((function(){return n.$emit(go,t)}))}};if(this.transitionEndEvent){var h=this.transitionEndEvent.split(/\s+/);h.forEach((function(t){return Mc(c,t,u,Po)}))}this.$_animationTimeout=setTimeout(u,Gp)}r&&this.start(!1)}},updateSlides:function(){this.pause(!0),this.slides=qa(".carousel-item",this.$refs.inner);var t=this.slides.length,e=gl(0,ml(bl(this.index),t-1));this.slides.forEach((function(n,r){var i=r+1;r===e?(Qa(n,"active"),Za(n,"aria-current","true")):(Xa(n,"active"),Za(n,"aria-current","false")),Za(n,"aria-posinset",String(i)),Za(n,"aria-setsize",String(t))})),this.setSlide(e),this.start(this.isPaused)},calcDirection:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t?Hp[t]:n>e?Hp.next:Hp.prev},handleClick:function(t,e){var n=t.keyCode;"click"!==t.type&&n!==Lu&&n!==Pu||(Vc(t),e())},handleSwipe:function(){var t=vl(this.touchDeltaX);if(!(t<=Kp)){var e=t/this.touchDeltaX;this.touchDeltaX=0,e>0?this.prev():e<0&&this.next()}},touchStart:function(t){v&&Yp[t.pointerType.toUpperCase()]?this.touchStartX=t.clientX:v||(this.touchStartX=t.touches[0].clientX)},touchMove:function(t){t.touches&&t.touches.length>1?this.touchDeltaX=0:this.touchDeltaX=t.touches[0].clientX-this.touchStartX},touchEnd:function(t){v&&Yp[t.pointerType.toUpperCase()]&&(this.touchDeltaX=t.clientX-this.touchStartX),this.handleSwipe(),this.pause(!1),this.clearTouchTimeout(),this.$_touchTimeout=setTimeout(this.start,Wp+gl(1e3,this.interval))}},render:function(t){var e=this,n=this.indicators,r=this.background,i=this.noAnimation,o=this.noHoverPause,s=this.noTouch,a=this.index,c=this.isSliding,l=this.pause,u=this.restart,h=this.touchStart,d=this.touchEnd,f=this.safeId("__BV_inner_"),p=t("div",{staticClass:"carousel-inner",attrs:{id:f,role:"list"},ref:"inner"},[this.normalizeSlot()]),m=t();if(this.controls){var y=function(n,r,i){var o=function(t){c?Vc(t,{propagation:!1}):e.handleClick(t,i)};return t("a",{staticClass:"carousel-control-".concat(n),attrs:{href:"#",role:"button","aria-controls":f,"aria-disabled":c?"true":null},on:{click:o,keydown:o}},[t("span",{staticClass:"carousel-control-".concat(n,"-icon"),attrs:{"aria-hidden":"true"}}),t("span",{class:"sr-only"},[r])])};m=[y("prev",this.labelPrev,this.prev),y("next",this.labelNext,this.next)]}var b=t("ol",{staticClass:"carousel-indicators",directives:[{name:"show",value:n}],attrs:{id:this.safeId("__BV_indicators_"),"aria-hidden":n?"false":"true","aria-label":this.labelIndicators,"aria-owns":f}},this.slides.map((function(r,i){var o=function(t){e.handleClick(t,(function(){e.setSlide(i)}))};return t("li",{class:{active:i===a},attrs:{role:"button",id:e.safeId("__BV_indicator_".concat(i+1,"_")),tabindex:n?"0":"-1","aria-current":i===a?"true":"false","aria-label":"".concat(e.labelGotoSlide," ").concat(i+1),"aria-describedby":r.id||null,"aria-controls":f},on:{click:o,keydown:o},key:"slide_".concat(i)})}))),w={mouseenter:o?Dp:l,mouseleave:o?Dp:u,focusin:l,focusout:u,keydown:function(t){if(!/input|textarea/i.test(t.target.tagName)){var n=t.keyCode;n!==Au&&n!==Nu||(Vc(t),e[n===Au?"prev":"next"]())}}};return g&&!s&&(v?(w["&pointerdown"]=h,w["&pointerup"]=d):(w["&touchstart"]=h,w["&touchmove"]=this.touchMove,w["&touchend"]=d)),t("div",{staticClass:"carousel",class:{slide:!i,"carousel-fade":!i&&this.fade,"pointer-event":g&&v&&!s},style:{background:r},attrs:{role:"region",id:this.safeId(),"aria-busy":c?"true":"false"},on:w},[p,m,b])}});function tm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function em(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tm(Object(n),!0).forEach((function(e){nm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rm,im={imgAlt:kc(Mo),imgBlank:kc(Ao,!1),imgBlankColor:kc(Mo,"transparent"),imgHeight:kc(Ko),imgSrc:kc(Mo),imgWidth:kc(Ko)},om=Ac(Yt(em(em(em({},af),im),{},{background:kc(Mo),caption:kc(Mo),captionHtml:kc(Mo),captionTag:kc(Mo,"h3"),contentTag:kc(Mo,"div"),contentVisibleUp:kc(Mo),text:kc(Mo),textHtml:kc(Mo),textTag:kc(Mo,"p")})),nn),sm=mi({name:nn,mixins:[cf,ga],inject:{getBvCarousel:{default:function(){return function(){return{noTouch:!0}}}}},props:om,computed:{bvCarousel:function(){return this.getBvCarousel()},contentClasses:function(){return[this.contentVisibleUp?"d-none":"",this.contentVisibleUp?"d-".concat(this.contentVisibleUp,"-block"):""]},computedWidth:function(){return this.imgWidth||this.bvCarousel.imgWidth||null},computedHeight:function(){return this.imgHeight||this.bvCarousel.imgHeight||null}},render:function(t){var e=this.normalizeSlot(Ts);if(!e&&(this.imgSrc||this.imgBlank)){var n={};!this.bvCarousel.noTouch&&g&&(n.dragstart=function(t){return Vc(t,{propagation:!1})}),e=t(qf,{props:em(em({},xc(im,this.$props,Ic.bind(null,"img"))),{},{width:this.computedWidth,height:this.computedHeight,fluidGrow:!0,block:!0}),on:n})}var r=[!(!this.caption&&!this.captionHtml)&&t(this.captionTag,{domProps:ed(this.captionHtml,this.caption)}),!(!this.text&&!this.textHtml)&&t(this.textTag,{domProps:ed(this.textHtml,this.text)}),this.normalizeSlot()||!1],i=t();return r.some(ae)&&(i=t(this.contentTag,{staticClass:"carousel-caption",class:this.contentClasses},r.map((function(e){return e||t()})))),t("div",{staticClass:"carousel-item",style:{background:this.background||this.bvCarousel.background||null},attrs:{id:this.safeId(),role:"listitem"}},[e,i])}}),am=Ie({components:{BCarousel:Zp,BCarouselSlide:sm}}),cm="show",lm=function(t){rc(t,"height",0),Ra((function(){za(t),rc(t,"height","".concat(t.scrollHeight,"px"))}))},um=function(t){ic(t,"height")},hm=function(t){rc(t,"height","auto"),rc(t,"display","block"),rc(t,"height","".concat(sc(t).height,"px")),za(t),rc(t,"height",0)},dm=function(t){ic(t,"height")},fm={css:!0,enterClass:"",enterActiveClass:"collapsing",enterToClass:"collapse show",leaveClass:"collapse show",leaveActiveClass:"collapsing",leaveToClass:"collapse"},pm={enter:lm,afterEnter:um,leave:hm,afterLeave:dm},mm={appear:kc(Ao,!1)},gm=mi({name:Vr,functional:!0,props:mm,render:function(t,e){var n=e.props,r=e.data,i=e.children;return t("transition",ii(r,{props:fm,on:pm},{props:n}),i)}});function vm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ym(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vm(Object(n),!0).forEach((function(e){bm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wm=qc(on,"toggle"),_m=qc(on,"request-state"),Om=zc(on,"accordion"),Tm=zc(on,"state"),Sm=zc(on,"sync-state"),Cm=Lc("visible",{type:Ao,defaultValue:!1}),Im=Cm.mixin,Em=Cm.props,km=Cm.prop,Pm=Cm.event,xm=Ac(Yt(ym(ym(ym({},af),Em),{},{accordion:kc(Mo),appear:kc(Ao,!1),isNav:kc(Ao,!1),tag:kc(Mo,"div")})),on),Dm=mi({name:on,mixins:[cf,Im,ga,Ju],props:xm,data:function(){return{show:this[km],transitioning:!1}},computed:{classObject:function(){var t=this.transitioning;return{"navbar-collapse":this.isNav,collapse:!t,show:this.show&&!t}},slotScope:function(){var t=this;return{visible:this.show,close:function(){t.show=!1}}}},watch:(rm={},bm(rm,km,(function(t){t!==this.show&&(this.show=t)})),bm(rm,"show",(function(t,e){t!==e&&this.emitState()})),rm),created:function(){this.show=this[km]},mounted:function(){var t=this;this.show=this[km],this.listenOnRoot(wm,this.handleToggleEvent),this.listenOnRoot(Om,this.handleAccordionEvent),this.isNav&&(this.setWindowEvents(!0),this.handleResize()),this.$nextTick((function(){t.emitState()})),this.listenOnRoot(_m,(function(e){e===t.safeId()&&t.$nextTick(t.emitSync)}))},updated:function(){this.emitSync()},deactivated:function(){this.isNav&&this.setWindowEvents(!1)},activated:function(){this.isNav&&this.setWindowEvents(!0),this.emitSync()},beforeDestroy:function(){this.show=!1,this.isNav&&l&&this.setWindowEvents(!1)},methods:{setWindowEvents:function(t){Bc(t,window,"resize",this.handleResize,Po),Bc(t,window,"orientationchange",this.handleResize,Po)},toggle:function(){this.show=!this.show},onEnter:function(){this.transitioning=!0,this.$emit(po)},onAfterEnter:function(){this.transitioning=!1,this.$emit(mo)},onLeave:function(){this.transitioning=!0,this.$emit(qi)},onAfterLeave:function(){this.transitioning=!1,this.$emit(zi)},emitState:function(){var t=this.show,e=this.accordion,n=this.safeId();this.$emit(Pm,t),this.emitOnRoot(Tm,n,t),e&&t&&this.emitOnRoot(Om,n,e)},emitSync:function(){this.emitOnRoot(Sm,this.safeId(),this.show)},checkDisplayBlock:function(){var t=this.$el,e=Ja(t,cm);Xa(t,cm);var n="block"===ac(t).display;return e&&Qa(t,cm),n},clickHandler:function(t){var e=t.target;this.isNav&&e&&"block"===ac(this.$el).display&&(!Ga(e,".nav-link,.dropdown-item")&&!Wa(".nav-link,.dropdown-item",e)||this.checkDisplayBlock()||(this.show=!1))},handleToggleEvent:function(t){t===this.safeId()&&this.toggle()},handleAccordionEvent:function(t,e){var n=this.accordion,r=this.show;if(n&&n===e){var i=t===this.safeId();(i&&!r||!i&&r)&&this.toggle()}},handleResize:function(){this.show="block"===ac(this.$el).display}},render:function(t){var e=this.appear,n=t(this.tag,{class:this.classObject,directives:[{name:"show",value:this.show}],attrs:{id:this.safeId()},on:{click:this.clickHandler}},this.normalizeSlot(ss,this.slotScope));return t(gm,{props:{appear:e},on:{enter:this.onEnter,afterEnter:this.onAfterEnter,leave:this.onLeave,afterLeave:this.onAfterLeave}},[n])}}),Am=function(t,e){return di?e.instance:t.context},jm="collapsed",Rm="not-collapsed",Nm="__BV_toggle",Lm="".concat(Nm,"_HANDLER__"),Fm="".concat(Nm,"_CLICK__"),Mm="".concat(Nm,"_STATE__"),$m="".concat(Nm,"_TARGETS__"),Bm="false",Vm="true",Um="aria-controls",zm="aria-expanded",qm="role",Hm="tabindex",Gm="overflow-anchor",Wm=qc(on,"toggle"),Km=zc(on,"state"),Ym=zc(on,"sync-state"),Qm=qc(on,"request-state"),Xm=[Pu,Lu],Jm=function(t){return!la(["button","a"],t.tagName.toLowerCase())},Zm=function(t,e){var n=t.modifiers,r=t.arg,i=t.value,o=Ut(n||{});if(i=Tt(i)?i.split(N):i,$a(e.tagName,"a")){var s=ec(e,"href")||"";E.test(s)&&o.push(s.replace(I,""))}return ua(r,i).forEach((function(t){return Tt(t)&&o.push(t)})),o.filter((function(t,e,n){return t&&n.indexOf(t)===e}))},tg=function(t){var e=t[Fm];e&&($c(t,"click",e,ko),$c(t,"keydown",e,ko)),t[Fm]=null},eg=function(t,e){if(tg(t),e){var n=function(n){if(("keydown"!==n.type||la(Xm,n.keyCode))&&!Ua(t)){var r=t[$m]||[];r.forEach((function(t){Qu(e).$emit(Wm,t)}))}};t[Fm]=n,Mc(t,"click",n,ko),Jm(t)&&Mc(t,"keydown",n,ko)}},ng=function(t,e){t[Lm]&&e&&Qu(e).$off([Km,Ym],t[Lm]),t[Lm]=null},rg=function(t,e){if(ng(t,e),e){var n=function(e,n){la(t[$m]||[],e)&&(t[Mm]=n,ig(t,n))};t[Lm]=n,Qu(e).$on([Km,Ym],n)}},ig=function(t,e){e?(Xa(t,jm),Qa(t,Rm),Za(t,zm,Vm)):(Xa(t,Rm),Qa(t,jm),Za(t,zm,Bm))},og=function(t,e){t[e]=null,delete t[e]},sg=function(t,e,n){if(l&&Am(n,e)){Jm(t)&&(nc(t,qm)||Za(t,qm,"button"),nc(t,Hm)||Za(t,Hm,"0")),ig(t,t[Mm]);var r=Zm(e,t);r.length>0?(Za(t,Um,r.join(" ")),rc(t,Gm,"none")):(tc(t,Um),ic(t,Gm)),Ra((function(){eg(t,Am(n,e))})),$u(r,t[$m])||(t[$m]=r,r.forEach((function(t){Qu(Am(n,e)).$emit(Qm,t)})))}},ag={bind:function(t,e,n){t[Mm]=!1,t[$m]=[],rg(t,Am(n,e)),sg(t,e,n)},componentUpdated:sg,updated:sg,unbind:function(t,e,n){tg(t),ng(t,Am(n,e)),og(t,Lm),og(t,Fm),og(t,Mm),og(t,$m),Xa(t,jm),Xa(t,Rm),tc(t,zm),tc(t,Um),tc(t,qm),ic(t,Gm)}},cg=Ie({directives:{VBToggle:ag}}),lg=Ie({components:{BCollapse:Dm},plugins:{VBTogglePlugin:cg}}),ug="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,hg=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(ug&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();function dg(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}function fg(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),hg))}}var pg=ug&&window.Promise,mg=pg?dg:fg;function gg(t){var e={};return t&&"[object Function]"===e.toString.call(t)}function vg(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView,r=n.getComputedStyle(t,null);return e?r[e]:r}function yg(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function bg(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=vg(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:bg(yg(t))}function wg(t){return t&&t.referenceNode?t.referenceNode:t}var _g=ug&&!(!window.MSInputMethodContext||!document.documentMode),Og=ug&&/MSIE 10/.test(navigator.userAgent);function Tg(t){return 11===t?_g:10===t?Og:_g||Og}function Sg(t){if(!t)return document.documentElement;var e=Tg(10)?document.body:null,n=t.offsetParent||null;while(n===e&&t.nextElementSibling)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===vg(n,"position")?Sg(n):n:t?t.ownerDocument.documentElement:document.documentElement}function Cg(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||Sg(t.firstElementChild)===t)}function Ig(t){return null!==t.parentNode?Ig(t.parentNode):t}function Eg(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var s=o.commonAncestorContainer;if(t!==s&&e!==s||r.contains(i))return Cg(s)?s:Sg(s);var a=Ig(t);return a.host?Eg(a.host,e):Eg(t,Ig(e).host)}function kg(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){var i=t.ownerDocument.documentElement,o=t.ownerDocument.scrollingElement||i;return o[n]}return t[n]}function Pg(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=kg(e,"top"),i=kg(e,"left"),o=n?-1:1;return t.top+=r*o,t.bottom+=r*o,t.left+=i*o,t.right+=i*o,t}function xg(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function Dg(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],Tg(10)?parseInt(n["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function Ag(t){var e=t.body,n=t.documentElement,r=Tg(10)&&getComputedStyle(n);return{height:Dg("Height",e,n,r),width:Dg("Width",e,n,r)}}var jg=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Rg=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ng=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Lg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function Fg(t){return Lg({},t,{right:t.left+t.width,bottom:t.top+t.height})}function Mg(t){var e={};try{if(Tg(10)){e=t.getBoundingClientRect();var n=kg(t,"top"),r=kg(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(ti){}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?Ag(t.ownerDocument):{},s=o.width||t.clientWidth||i.width,a=o.height||t.clientHeight||i.height,c=t.offsetWidth-s,l=t.offsetHeight-a;if(c||l){var u=vg(t);c-=xg(u,"x"),l-=xg(u,"y"),i.width-=c,i.height-=l}return Fg(i)}function $g(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Tg(10),i="HTML"===e.nodeName,o=Mg(t),s=Mg(e),a=bg(t),c=vg(e),l=parseFloat(c.borderTopWidth),u=parseFloat(c.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=Fg({top:o.top-s.top-l,left:o.left-s.left-u,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!r&&i){var d=parseFloat(c.marginTop),f=parseFloat(c.marginLeft);h.top-=l-d,h.bottom-=l-d,h.left-=u-f,h.right-=u-f,h.marginTop=d,h.marginLeft=f}return(r&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(h=Pg(h,e)),h}function Bg(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,r=$g(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:kg(n),a=e?0:kg(n,"left"),c={top:s-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:o};return Fg(c)}function Vg(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===vg(t,"position"))return!0;var n=yg(t);return!!n&&Vg(n)}function Ug(t){if(!t||!t.parentElement||Tg())return document.documentElement;var e=t.parentElement;while(e&&"none"===vg(e,"transform"))e=e.parentElement;return e||document.documentElement}function zg(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=i?Ug(t):Eg(t,wg(e));if("viewport"===r)o=Bg(s,i);else{var a=void 0;"scrollParent"===r?(a=bg(yg(e)),"BODY"===a.nodeName&&(a=t.ownerDocument.documentElement)):a="window"===r?t.ownerDocument.documentElement:r;var c=$g(a,s,i);if("HTML"!==a.nodeName||Vg(s))o=c;else{var l=Ag(t.ownerDocument),u=l.height,h=l.width;o.top+=c.top-c.marginTop,o.bottom=u+c.top,o.left+=c.left-c.marginLeft,o.right=h+c.left}}n=n||0;var d="number"===typeof n;return o.left+=d?n:n.left||0,o.top+=d?n:n.top||0,o.right-=d?n:n.right||0,o.bottom-=d?n:n.bottom||0,o}function qg(t){var e=t.width,n=t.height;return e*n}function Hg(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=zg(n,r,o,i),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},c=Object.keys(a).map((function(t){return Lg({key:t},a[t],{area:qg(a[t])})})).sort((function(t,e){return e.area-t.area})),l=c.filter((function(t){var e=t.width,r=t.height;return e>=n.clientWidth&&r>=n.clientHeight})),u=l.length>0?l[0].key:c[0].key,h=t.split("-")[1];return u+(h?"-"+h:"")}function Gg(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?Ug(e):Eg(e,wg(n));return $g(n,i,r)}function Wg(t){var e=t.ownerDocument.defaultView,n=e.getComputedStyle(t),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),i=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),o={width:t.offsetWidth+i,height:t.offsetHeight+r};return o}function Kg(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function Yg(t,e,n){n=n.split("-")[0];var r=Wg(t),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",c=o?"height":"width",l=o?"width":"height";return i[s]=e[s]+e[c]/2-r[c]/2,i[a]=n===a?e[a]-r[l]:e[Kg(a)],i}function Qg(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function Xg(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var r=Qg(t,(function(t){return t[e]===n}));return t.indexOf(r)}function Jg(t,e,n){var r=void 0===n?t:t.slice(0,Xg(t,"name",n));return r.forEach((function(t){t["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t["function"]||t.fn;t.enabled&&gg(n)&&(e.offsets.popper=Fg(e.offsets.popper),e.offsets.reference=Fg(e.offsets.reference),e=n(e,t))})),e}function Zg(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=Gg(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=Hg(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=Yg(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=Jg(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function tv(t,e){return t.some((function(t){var n=t.name,r=t.enabled;return r&&n===e}))}function ev(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],o=i?""+i+n:t;if("undefined"!==typeof document.body.style[o])return o}return null}function nv(){return this.state.isDestroyed=!0,tv(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[ev("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function rv(t){var e=t.ownerDocument;return e?e.defaultView:window}function iv(t,e,n,r){var i="BODY"===t.nodeName,o=i?t.ownerDocument.defaultView:t;o.addEventListener(e,n,{passive:!0}),i||iv(bg(o.parentNode),e,n,r),r.push(o)}function ov(t,e,n,r){n.updateBound=r,rv(t).addEventListener("resize",n.updateBound,{passive:!0});var i=bg(t);return iv(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function sv(){this.state.eventsEnabled||(this.state=ov(this.reference,this.options,this.state,this.scheduleUpdate))}function av(t,e){return rv(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function cv(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=av(this.reference,this.state))}function lv(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function uv(t,e){Object.keys(e).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&lv(e[n])&&(r="px"),t.style[n]=e[n]+r}))}function hv(t,e){Object.keys(e).forEach((function(n){var r=e[n];!1!==r?t.setAttribute(n,e[n]):t.removeAttribute(n)}))}function dv(t){return uv(t.instance.popper,t.styles),hv(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&uv(t.arrowElement,t.arrowStyles),t}function fv(t,e,n,r,i){var o=Gg(i,e,t,n.positionFixed),s=Hg(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),uv(e,{position:n.positionFixed?"fixed":"absolute"}),n}function pv(t,e){var n=t.offsets,r=n.popper,i=n.reference,o=Math.round,s=Math.floor,a=function(t){return t},c=o(i.width),l=o(r.width),u=-1!==["left","right"].indexOf(t.placement),h=-1!==t.placement.indexOf("-"),d=c%2===l%2,f=c%2===1&&l%2===1,p=e?u||h||d?o:s:a,m=e?o:a;return{left:p(f&&!h&&e?r.left-1:r.left),top:m(r.top),bottom:m(r.bottom),right:p(r.right)}}var mv=ug&&/Firefox/i.test(navigator.userAgent);function gv(t,e){var n=e.x,r=e.y,i=t.offsets.popper,o=Qg(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:e.gpuAcceleration,a=Sg(t.instance.popper),c=Mg(a),l={position:i.position},u=pv(t,window.devicePixelRatio<2||!mv),h="bottom"===n?"top":"bottom",d="right"===r?"left":"right",f=ev("transform"),p=void 0,m=void 0;if(m="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+u.bottom:-c.height+u.bottom:u.top,p="right"===d?"HTML"===a.nodeName?-a.clientWidth+u.right:-c.width+u.right:u.left,s&&f)l[f]="translate3d("+p+"px, "+m+"px, 0)",l[h]=0,l[d]=0,l.willChange="transform";else{var g="bottom"===h?-1:1,v="right"===d?-1:1;l[h]=m*g,l[d]=p*v,l.willChange=h+", "+d}var y={"x-placement":t.placement};return t.attributes=Lg({},y,t.attributes),t.styles=Lg({},l,t.styles),t.arrowStyles=Lg({},t.offsets.arrow,t.arrowStyles),t}function vv(t,e,n){var r=Qg(t,(function(t){var n=t.name;return n===e})),i=!!r&&t.some((function(t){return t.name===n&&t.enabled&&t.order<r.order}));if(!i){var o="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}function yv(t,e){var n;if(!vv(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if("string"===typeof r){if(r=t.instance.popper.querySelector(r),!r)return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],o=t.offsets,s=o.popper,a=o.reference,c=-1!==["left","right"].indexOf(i),l=c?"height":"width",u=c?"Top":"Left",h=u.toLowerCase(),d=c?"left":"top",f=c?"bottom":"right",p=Wg(r)[l];a[f]-p<s[h]&&(t.offsets.popper[h]-=s[h]-(a[f]-p)),a[h]+p>s[f]&&(t.offsets.popper[h]+=a[h]+p-s[f]),t.offsets.popper=Fg(t.offsets.popper);var m=a[h]+a[l]/2-p/2,g=vg(t.instance.popper),v=parseFloat(g["margin"+u]),y=parseFloat(g["border"+u+"Width"]),b=m-t.offsets.popper[h]-v-y;return b=Math.max(Math.min(s[l]-p,b),0),t.arrowElement=r,t.offsets.arrow=(n={},Ng(n,h,Math.round(b)),Ng(n,d,""),n),t}function bv(t){return"end"===t?"start":"start"===t?"end":t}var wv=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],_v=wv.slice(3);function Ov(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=_v.indexOf(t),r=_v.slice(n+1).concat(_v.slice(0,n));return e?r.reverse():r}var Tv={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function Sv(t,e){if(tv(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=zg(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=Kg(r),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case Tv.FLIP:s=[r,i];break;case Tv.CLOCKWISE:s=Ov(r);break;case Tv.COUNTERCLOCKWISE:s=Ov(r,!0);break;default:s=e.behavior}return s.forEach((function(a,c){if(r!==a||s.length===c+1)return t;r=t.placement.split("-")[0],i=Kg(r);var l=t.offsets.popper,u=t.offsets.reference,h=Math.floor,d="left"===r&&h(l.right)>h(u.left)||"right"===r&&h(l.left)<h(u.right)||"top"===r&&h(l.bottom)>h(u.top)||"bottom"===r&&h(l.top)<h(u.bottom),f=h(l.left)<h(n.left),p=h(l.right)>h(n.right),m=h(l.top)<h(n.top),g=h(l.bottom)>h(n.bottom),v="left"===r&&f||"right"===r&&p||"top"===r&&m||"bottom"===r&&g,y=-1!==["top","bottom"].indexOf(r),b=!!e.flipVariations&&(y&&"start"===o&&f||y&&"end"===o&&p||!y&&"start"===o&&m||!y&&"end"===o&&g),w=!!e.flipVariationsByContent&&(y&&"start"===o&&p||y&&"end"===o&&f||!y&&"start"===o&&g||!y&&"end"===o&&m),_=b||w;(d||v||_)&&(t.flipped=!0,(d||v)&&(r=s[c+1]),_&&(o=bv(o)),t.placement=r+(o?"-"+o:""),t.offsets.popper=Lg({},t.offsets.popper,Yg(t.instance.popper,t.offsets.reference,t.placement)),t=Jg(t.instance.modifiers,t,"flip"))})),t}function Cv(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(i),a=s?"right":"bottom",c=s?"left":"top",l=s?"width":"height";return n[a]<o(r[c])&&(t.offsets.popper[c]=o(r[c])-n[l]),n[c]>o(r[a])&&(t.offsets.popper[c]=o(r[a])),t}function Iv(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],s=i[2];if(!o)return t;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=r}var c=Fg(a);return c[e]/100*o}if("vh"===s||"vw"===s){var l=void 0;return l="vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0),l/100*o}return o}function Ev(t,e,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),s=t.split(/(\+|\-)/).map((function(t){return t.trim()})),a=s.indexOf(Qg(s,(function(t){return-1!==t.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,l=-1!==a?[s.slice(0,a).concat([s[a].split(c)[0]]),[s[a].split(c)[1]].concat(s.slice(a+1))]:[s];return l=l.map((function(t,r){var i=(1===r?!o:o)?"height":"width",s=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)}),[]).map((function(t){return Iv(t,i,e,n)}))})),l.forEach((function(t,e){t.forEach((function(n,r){lv(n)&&(i[e]+=n*("-"===t[r-1]?-1:1))}))})),i}function kv(t,e){var n=e.offset,r=t.placement,i=t.offsets,o=i.popper,s=i.reference,a=r.split("-")[0],c=void 0;return c=lv(+n)?[+n,0]:Ev(n,o,s,a),"left"===a?(o.top+=c[0],o.left-=c[1]):"right"===a?(o.top+=c[0],o.left+=c[1]):"top"===a?(o.left+=c[0],o.top-=c[1]):"bottom"===a&&(o.left+=c[0],o.top+=c[1]),t.popper=o,t}function Pv(t,e){var n=e.boundariesElement||Sg(t.instance.popper);t.instance.reference===n&&(n=Sg(n));var r=ev("transform"),i=t.instance.popper.style,o=i.top,s=i.left,a=i[r];i.top="",i.left="",i[r]="";var c=zg(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=o,i.left=s,i[r]=a,e.boundaries=c;var l=e.priority,u=t.offsets.popper,h={primary:function(t){var n=u[t];return u[t]<c[t]&&!e.escapeWithReference&&(n=Math.max(u[t],c[t])),Ng({},t,n)},secondary:function(t){var n="right"===t?"left":"top",r=u[n];return u[t]>c[t]&&!e.escapeWithReference&&(r=Math.min(u[n],c[t]-("right"===t?u.width:u.height))),Ng({},n,r)}};return l.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=Lg({},u,h[e](t))})),t.offsets.popper=u,t}function xv(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,o=i.reference,s=i.popper,a=-1!==["bottom","top"].indexOf(n),c=a?"left":"top",l=a?"width":"height",u={start:Ng({},c,o[c]),end:Ng({},c,o[c]+o[l]-s[l])};t.offsets.popper=Lg({},s,u[r])}return t}function Dv(t){if(!vv(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=Qg(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function Av(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,o=r.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return i[s?"left":"top"]=o[n]-(a?i[s?"width":"height"]:0),t.placement=Kg(e),t.offsets.popper=Fg(i),t}var jv={shift:{order:100,enabled:!0,fn:xv},offset:{order:200,enabled:!0,fn:kv,offset:0},preventOverflow:{order:300,enabled:!0,fn:Pv,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:Cv},arrow:{order:500,enabled:!0,fn:yv,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:Sv,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:Av},hide:{order:800,enabled:!0,fn:Dv},computeStyle:{order:850,enabled:!0,fn:gv,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:dv,onLoad:fv,gpuAcceleration:void 0}},Rv={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:jv},Nv=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};jg(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=mg(this.update.bind(this)),this.options=Lg({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Lg({},t.Defaults.modifiers,i.modifiers)).forEach((function(e){r.options.modifiers[e]=Lg({},t.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return Lg({name:t},r.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&gg(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return Rg(t,[{key:"update",value:function(){return Zg.call(this)}},{key:"destroy",value:function(){return nv.call(this)}},{key:"enableEventListeners",value:function(){return sv.call(this)}},{key:"disableEventListeners",value:function(){return cv.call(this)}}]),t}();Nv.Utils=("undefined"!==typeof window?window:n.g).PopperUtils,Nv.placements=wv,Nv.Defaults=Rv;const Lv=Nv;var Fv="top-start",Mv="top-end",$v="bottom-start",Bv="bottom-end",Vv="right-start",Uv="left-start";function zv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hv(t,e,n){return e&&qv(t.prototype,e),n&&qv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Gv=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(zv(this,t),!e)throw new TypeError("Failed to construct '".concat(this.constructor.name,"'. 1 argument required, ").concat(arguments.length," given."));Ft(this,t.Defaults,this.constructor.Defaults,n,{type:e}),$t(this,{type:Qt(),cancelable:Qt(),nativeEvent:Qt(),target:Qt(),relatedTarget:Qt(),vueTarget:Qt(),componentId:Qt()});var r=!1;this.preventDefault=function(){this.cancelable&&(r=!0)},Bt(this,"defaultPrevented",{enumerable:!0,get:function(){return r}})}return Hv(t,null,[{key:"Defaults",get:function(){return{type:"",cancelable:!0,nativeEvent:null,target:null,relatedTarget:null,vueTarget:null,componentId:null}}}]),t}(),Wv=mi({data:function(){return{listenForClickOut:!1}},watch:{listenForClickOut:function(t,e){t!==e&&($c(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,Po),t&&Mc(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,Po))}},beforeCreate:function(){this.clickOutElement=null,this.clickOutEventName=null},mounted:function(){this.clickOutElement||(this.clickOutElement=document),this.clickOutEventName||(this.clickOutEventName="click"),this.listenForClickOut&&Mc(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,Po)},beforeDestroy:function(){$c(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,Po)},methods:{isClickOut:function(t){return!Ka(this.$el,t.target)},_clickOutHandler:function(t){this.clickOutHandler&&this.isClickOut(t)&&this.clickOutHandler(t)}}}),Kv=mi({data:function(){return{listenForFocusIn:!1}},watch:{listenForFocusIn:function(t,e){t!==e&&($c(this.focusInElement,"focusin",this._focusInHandler,Po),t&&Mc(this.focusInElement,"focusin",this._focusInHandler,Po))}},beforeCreate:function(){this.focusInElement=null},mounted:function(){this.focusInElement||(this.focusInElement=document),this.listenForFocusIn&&Mc(this.focusInElement,"focusin",this._focusInHandler,Po)},beforeDestroy:function(){$c(this.focusInElement,"focusin",this._focusInHandler,Po)},methods:{_focusInHandler:function(t){this.focusInHandler&&this.focusInHandler(t)}}}),Yv=null;di&&(Yv=new WeakMap);var Qv=function(t,e){di&&Yv.set(t,e)},Xv=function(t){di&&Yv.delete(t)},Jv=function(t){if(!di)return t.__vue__;var e=t;while(e){if(Yv.has(e))return Yv.get(e);e=e.parentNode}return null};function Zv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ty(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zv(Object(n),!0).forEach((function(e){ey(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ey(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ny=zc(an,mo),ry=zc(an,zi),iy=".dropdown form",oy=[".dropdown-item",".b-dropdown-form"].map((function(t){return"".concat(t,":not(.disabled):not([disabled])")})).join(", "),sy=function(t){return(t||[]).filter(Va)},ay=Ac(Yt(ty(ty({},af),{},{boundary:kc([dt,Mo],"scrollParent"),disabled:kc(Ao,!1),dropleft:kc(Ao,!1),dropright:kc(Ao,!1),dropup:kc(Ao,!1),noFlip:kc(Ao,!1),offset:kc(Ko,0),popperOpts:kc(Lo,{}),right:kc(Ao,!1)})),an),cy=mi({mixins:[cf,Ju,Wv,Kv],provide:function(){var t=this;return{getBvDropdown:function(){return t}}},inject:{getBvNavbar:{default:function(){return function(){return null}}}},props:ay,data:function(){return{visible:!1,visibleChangePrevented:!1}},computed:{bvNavbar:function(){return this.getBvNavbar()},inNavbar:function(){return!bt(this.bvNavbar)},toggler:function(){var t=this.$refs.toggle;return t?t.$el||t:null},directionClass:function(){return this.dropup?"dropup":this.dropright?"dropright":this.dropleft?"dropleft":""},boundaryClass:function(){return"scrollParent"===this.boundary||this.inNavbar?"":"position-static"},hideDelay:function(){return this.inNavbar?g?300:50:0}},watch:{visible:function(t,e){if(this.visibleChangePrevented)this.visibleChangePrevented=!1;else if(t!==e){var n=t?po:qi,r=new Gv(n,{cancelable:!0,vueTarget:this,target:this.$refs.menu,relatedTarget:null,componentId:this.safeId?this.safeId():this.id||null});if(this.emitEvent(r),r.defaultPrevented)return this.visibleChangePrevented=!0,this.visible=e,void this.$off(zi,this.focusToggler);t?this.showMenu():this.hideMenu()}},disabled:function(t,e){t!==e&&t&&this.visible&&(this.visible=!1)}},created:function(){this.$_popper=null,this.$_hideTimeout=null},deactivated:function(){this.visible=!1,this.whileOpenListen(!1),this.destroyPopper()},mounted:function(){Qv(this.$el,this)},beforeDestroy:function(){this.visible=!1,this.whileOpenListen(!1),this.destroyPopper(),this.clearHideTimeout(),Xv(this.$el)},methods:{emitEvent:function(t){var e=t.type;this.emitOnRoot(zc(an,e),t),this.$emit(e,t)},showMenu:function(){var t=this;if(!this.disabled){if(!this.inNavbar)if("undefined"===typeof Lv)de("Popper.js not found. Falling back to CSS positioning",an);else{var e=this.dropup&&this.right||this.split?this.$el:this.$refs.toggle;e=e.$el||e,this.createPopper(e)}this.emitOnRoot(ny,this),this.whileOpenListen(!0),this.$nextTick((function(){t.focusMenu(),t.$emit(mo)}))}},hideMenu:function(){this.whileOpenListen(!1),this.emitOnRoot(ry,this),this.$emit(zi),this.destroyPopper()},createPopper:function(t){this.destroyPopper(),this.$_popper=new Lv(t,this.$refs.menu,this.getPopperConfig())},destroyPopper:function(){this.$_popper&&this.$_popper.destroy(),this.$_popper=null},updatePopper:function(){try{this.$_popper.scheduleUpdate()}catch(t){}},clearHideTimeout:function(){clearTimeout(this.$_hideTimeout),this.$_hideTimeout=null},getPopperConfig:function(){var t=$v;this.dropup?t=this.right?Mv:Fv:this.dropright?t=Vv:this.dropleft?t=Uv:this.right&&(t=Bv);var e={placement:t,modifiers:{offset:{offset:this.offset||0},flip:{enabled:!this.noFlip}}},n=this.boundary;return n&&(e.modifiers.preventOverflow={boundariesElement:n}),Kt(e,this.popperOpts||{})},whileOpenListen:function(t){this.listenForClickOut=t,this.listenForFocusIn=t;var e=t?"listenOnRoot":"listenOffRoot";this[e](ny,this.rootCloseListener)},rootCloseListener:function(t){t!==this&&(this.visible=!1)},show:function(){var t=this;this.disabled||Ra((function(){t.visible=!0}))},hide:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.disabled||(this.visible=!1,t&&this.$once(zi,this.focusToggler))},toggle:function(t){t=t||{};var e=t,n=e.type,r=e.keyCode;("click"===n||"keydown"===n&&-1!==[Pu,Lu,Eu].indexOf(r))&&(this.disabled?this.visible=!1:(this.$emit(wo,t),Vc(t),this.visible?this.hide(!0):this.show()))},onMousedown:function(t){Vc(t,{propagation:!1})},onKeydown:function(t){var e=t.keyCode;e===xu?this.onEsc(t):e===Eu?this.focusNext(t,!1):e===Fu&&this.focusNext(t,!0)},onEsc:function(t){this.visible&&(this.visible=!1,Vc(t),this.$once(zi,this.focusToggler))},onSplitClick:function(t){this.disabled?this.visible=!1:this.$emit(Ii,t)},hideHandler:function(t){var e=this,n=t.target;!this.visible||Ka(this.$refs.menu,n)||Ka(this.toggler,n)||(this.clearHideTimeout(),this.$_hideTimeout=setTimeout((function(){return e.hide()}),this.hideDelay))},clickOutHandler:function(t){this.hideHandler(t)},focusInHandler:function(t){this.hideHandler(t)},focusNext:function(t,e){var n=this,r=t.target;!this.visible||t&&Wa(iy,r)||(Vc(t),this.$nextTick((function(){var t=n.getItems();if(!(t.length<1)){var i=t.indexOf(r);e&&i>0?i--:!e&&i<t.length-1&&i++,i<0&&(i=0),n.focusItem(i,t)}})))},focusItem:function(t,e){var n=e.find((function(e,n){return n===t}));dc(n)},getItems:function(){return sy(qa(oy,this.$refs.menu))},focusMenu:function(){dc(this.$refs.menu)},focusToggler:function(){var t=this;this.$nextTick((function(){dc(t.toggler)}))}}});function ly(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function uy(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ly(Object(n),!0).forEach((function(e){hy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ly(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dy=Ac(Yt(uy(uy(uy({},af),ay),{},{block:kc(Ao,!1),html:kc(Mo),lazy:kc(Ao,!1),menuClass:kc(Vo),noCaret:kc(Ao,!1),role:kc(Mo,"menu"),size:kc(Mo),split:kc(Ao,!1),splitButtonType:kc(Mo,"button",(function(t){return la(["button","submit","reset"],t)})),splitClass:kc(Vo),splitHref:kc(Mo),splitTo:kc(Xo),splitVariant:kc(Mo),text:kc(Mo),toggleAttrs:kc(Lo,{}),toggleClass:kc(Vo),toggleTag:kc(Mo,"button"),toggleText:kc(Mo,"Toggle dropdown"),variant:kc(Mo,"secondary")})),an),fy=mi({name:an,mixins:[cf,cy,ga],props:dy,computed:{dropdownClasses:function(){var t=this.block,e=this.split;return[this.directionClass,this.boundaryClass,{show:this.visible,"btn-group":e||!t,"d-flex":t&&e}]},menuClasses:function(){return[this.menuClass,{"dropdown-menu-right":this.right,show:this.visible}]},toggleClasses:function(){var t=this.split;return[this.toggleClass,{"dropdown-toggle-split":t,"dropdown-toggle-no-caret":this.noCaret&&!t}]}},render:function(t){var e=this.visible,n=this.variant,r=this.size,i=this.block,o=this.disabled,s=this.split,a=this.role,c=this.hide,l=this.toggle,u={variant:n,size:r,block:i,disabled:o},h=this.normalizeSlot(rs),d=this.hasNormalizedSlot(rs)?{}:ed(this.html,this.text),f=t();if(s){var p=this.splitTo,m=this.splitHref,g=this.splitButtonType,v=uy(uy({},u),{},{variant:this.splitVariant||n});p?v.to=p:m?v.href=m:g&&(v.type=g),f=t(Ah,{class:this.splitClass,attrs:{id:this.safeId("_BV_button_")},props:v,domProps:d,on:{click:this.onSplitClick},ref:"button"},h),h=[t("span",{class:["sr-only"]},[this.toggleText])],d={}}var y=["menu","listbox","tree","grid","dialog"],b=t(Ah,{staticClass:"dropdown-toggle",class:this.toggleClasses,attrs:uy(uy({},this.toggleAttrs),{},{id:this.safeId("_BV_toggle_"),"aria-haspopup":y.includes(a)?a:"false","aria-expanded":Ia(e)}),props:uy(uy({},u),{},{tag:this.toggleTag,block:i&&!s}),domProps:d,on:{mousedown:this.onMousedown,click:l,keydown:l},ref:"toggle"},h),w=t("ul",{staticClass:"dropdown-menu",class:this.menuClasses,attrs:{role:a,tabindex:"-1","aria-labelledby":this.safeId(s?"_BV_button_":"_BV_toggle_")},on:{keydown:this.onKeydown},ref:"menu"},[!this.lazy||e?this.normalizeSlot(ss,{hide:c}):t()]);return t("div",{staticClass:"dropdown b-dropdown",class:this.dropdownClasses,attrs:{id:this.safeId()}},[f,b,w])}});function py(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function my(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?py(Object(n),!0).forEach((function(e){gy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):py(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vy=Wt(vh,["event","routerTag"]),yy=Ac(Yt(my(my({},vy),{},{linkClass:kc(Vo),variant:kc(Mo)})),dn),by=mi({name:dn,mixins:[Yu,ga],inject:{getBvDropdown:{default:function(){return function(){return null}}}},inheritAttrs:!1,props:yy,computed:{bvDropdown:function(){return this.getBvDropdown()},computedAttrs:function(){return my(my({},this.bvAttrs),{},{role:"menuitem"})}},methods:{closeDropdown:function(){var t=this;Ra((function(){t.bvDropdown&&t.bvDropdown.hide(!0)}))},onClick:function(t){this.$emit(Ii,t),this.closeDropdown()}},render:function(t){var e=this.linkClass,n=this.variant,r=this.active,i=this.disabled,o=this.onClick,s=this.bvAttrs;return t("li",{class:s.class,style:s.style,attrs:{role:"presentation"}},[t(yh,{staticClass:"dropdown-item",class:[e,gy({},"text-".concat(n),n&&!(r||i))],props:xc(vy,this.$props),attrs:this.computedAttrs,on:{click:o},ref:"item"},this.normalizeSlot())])}});function wy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wy(Object(n),!0).forEach((function(e){Oy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Oy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ty=Ac({active:kc(Ao,!1),activeClass:kc(Mo,"active"),buttonClass:kc(Vo),disabled:kc(Ao,!1),variant:kc(Mo)},fn),Sy=mi({name:fn,mixins:[Yu,ga],inject:{getBvDropdown:{default:function(){return function(){return null}}}},inheritAttrs:!1,props:Ty,computed:{bvDropdown:function(){return this.getBvDropdown()},computedAttrs:function(){return _y(_y({},this.bvAttrs),{},{role:"menuitem",type:"button",disabled:this.disabled})}},methods:{closeDropdown:function(){this.bvDropdown&&this.bvDropdown.hide(!0)},onClick:function(t){this.$emit(Ii,t),this.closeDropdown()}},render:function(t){var e,n=this.active,r=this.variant,i=this.bvAttrs;return t("li",{class:i.class,style:i.style,attrs:{role:"presentation"}},[t("button",{staticClass:"dropdown-item",class:[this.buttonClass,(e={},Oy(e,this.activeClass,n),Oy(e,"text-".concat(r),r&&!(n||this.disabled)),e)],attrs:this.computedAttrs,on:{click:this.onClick},ref:"button"},this.normalizeSlot())])}});function Cy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Iy(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cy(Object(n),!0).forEach((function(e){Ey(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ey(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ky=Ac({id:kc(Mo),tag:kc(Mo,"header"),variant:kc(Mo)},hn),Py=mi({name:hn,functional:!0,props:ky,render:function(t,e){var n=e.props,r=e.data,i=e.children,o=n.tag,s=n.variant;return t("li",ii(Wt(r,["attrs"]),{attrs:{role:"presentation"}}),[t(o,{staticClass:"dropdown-header",class:Ey({},"text-".concat(s),s),attrs:Iy(Iy({},r.attrs||{}),{},{id:n.id||null,role:$a(o,"header")?null:"heading"}),ref:"header"},i)])}});function xy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dy(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xy(Object(n),!0).forEach((function(e){Ay(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ay(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jy=Ac({tag:kc(Mo,"hr")},cn),Ry=mi({name:cn,functional:!0,props:jy,render:function(t,e){var n=e.props,r=e.data;return t("li",ii(Wt(r,["attrs"]),{attrs:{role:"presentation"}}),[t(n.tag,{staticClass:"dropdown-divider",attrs:Dy(Dy({},r.attrs||{}),{},{role:"separator","aria-orientation":"horizontal"}),ref:"divider"})])}}),Ny=Ac({id:kc(Mo),inline:kc(Ao,!1),novalidate:kc(Ao,!1),validated:kc(Ao,!1)},gn),Ly=mi({name:gn,functional:!0,props:Ny,render:function(t,e){var n=e.props,r=e.data,i=e.children;return t("form",ii(r,{class:{"form-inline":n.inline,"was-validated":n.validated},attrs:{id:n.id,novalidate:n.novalidate}}),i)}});function Fy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function My(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fy(Object(n),!0).forEach((function(e){$y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var By=Ac(Yt(My(My({},Ny),{},{disabled:kc(Ao,!1),formClass:kc(Vo)})),ln),Vy=mi({name:ln,functional:!0,props:By,render:function(t,e){var n=e.props,r=e.data,i=e.listeners,o=e.children;return t("li",ii(Wt(r,["attrs","on"]),{attrs:{role:"presentation"}}),[t(Ly,{staticClass:"b-dropdown-form",class:[n.formClass,{disabled:n.disabled}],props:n,attrs:My(My({},r.attrs||{}),{},{disabled:n.disabled,tabindex:n.disabled?null:"-1"}),on:i,ref:"form"},o)])}});function Uy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zy=Ac({tag:kc(Mo,"p"),textClass:kc(Vo),variant:kc(Mo)},pn),qy=mi({name:pn,functional:!0,props:zy,render:function(t,e){var n=e.props,r=e.data,i=e.children,o=n.tag,s=n.textClass,a=n.variant;return t("li",ii(Wt(r,["attrs"]),{attrs:{role:"presentation"}}),[t(o,{staticClass:"b-dropdown-text",class:[s,Uy({},"text-".concat(a),a)],props:n,attrs:r.attrs||{},ref:"text"},i)])}});function Hy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gy(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hy(Object(n),!0).forEach((function(e){Wy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Wy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ky=Ac({ariaDescribedby:kc(Mo),header:kc(Mo),headerClasses:kc(Vo),headerTag:kc(Mo,"header"),headerVariant:kc(Mo),id:kc(Mo)},un),Yy=mi({name:un,functional:!0,props:Ky,render:function(t,e){var n=e.props,r=e.data,i=e.slots,o=e.scopedSlots,s=n.id,a=n.variant,c=n.header,l=n.headerTag,u=i(),h=o||{},d={},f=s?"_bv_".concat(s,"_group_dd_header"):null,p=t();return(pa(vs,h,u)||c)&&(p=t(l,{staticClass:"dropdown-header",class:[n.headerClasses,Wy({},"text-".concat(a),a)],attrs:{id:f,role:$a(l,"header")?null:"heading"}},ma(vs,d,h,u)||c)),t("li",ii(Wt(r,["attrs"]),{attrs:{role:"presentation"}}),[p,t("ul",{staticClass:"list-unstyled",attrs:Gy(Gy({},r.attrs||{}),{},{id:s,role:"group","aria-describedby":[f,n.ariaDescribedBy].filter(ae).join(" ").trim()||null})},ma(ss,d,h,u))])}}),Qy=Ie({components:{BDropdown:fy,BDd:fy,BDropdownItem:by,BDdItem:by,BDropdownItemButton:Sy,BDropdownItemBtn:Sy,BDdItemButton:Sy,BDdItemBtn:Sy,BDropdownHeader:Py,BDdHeader:Py,BDropdownDivider:Ry,BDdDivider:Ry,BDropdownForm:Vy,BDdForm:Vy,BDropdownText:qy,BDdText:qy,BDropdownGroup:Yy,BDdGroup:Yy}});function Xy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jy=["iframe","embed","video","object","img","b-img","b-img-lazy"],Zy=Ac({aspect:kc(Mo,"16by9"),tag:kc(Mo,"div"),type:kc(Mo,"iframe",(function(t){return la(Jy,t)}))},mn),tb=mi({name:mn,functional:!0,props:Zy,render:function(t,e){var n=e.props,r=e.data,i=e.children,o=n.aspect;return t(n.tag,{staticClass:"embed-responsive",class:Xy({},"embed-responsive-".concat(o),o),ref:r.ref},[t(n.type,ii(Wt(r,["ref"]),{staticClass:"embed-responsive-item"}),i)])}}),eb=Ie({components:{BEmbed:tb}}),nb='Setting prop "options" to an object is deprecated. Use the array format instead.',rb=Ac({disabledField:kc(Mo,"disabled"),htmlField:kc(Mo,"html"),options:kc(Bo,[]),textField:kc(Mo,"text"),valueField:kc(Mo,"value")},"formOptionControls"),ib=mi({props:rb,computed:{formOptions:function(){return this.normalizeOptions(this.options)}},methods:{normalizeOption:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(kt(t)){var n=le(t,this.valueField),r=le(t,this.textField);return{value:yt(n)?e||r:n,text:td(String(yt(r)?e:r)),html:le(t,this.htmlField),disabled:Boolean(le(t,this.disabledField))}}return{value:e||t,text:td(String(t)),disabled:!1}},normalizeOptions:function(t){var e=this;return It(t)?t.map((function(t){return e.normalizeOption(t)})):kt(t)?(de(nb,this.$options.name),Ut(t).map((function(n){return e.normalizeOption(t[n]||{},n)}))):[]}}});function ob(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sb(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ob(Object(n),!0).forEach((function(e){ab(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ob(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ab(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cb=Ac(Yt(sb(sb({},rb),{},{id:kc(Mo,void 0,!0)})),bn),lb=mi({name:bn,mixins:[ib,ga],props:cb,render:function(t){var e=this.id,n=this.formOptions.map((function(e,n){var r=e.value,i=e.text,o=e.html,s=e.disabled;return t("option",{attrs:{value:r,disabled:s},domProps:ed(o,i),key:"option_".concat(n)})}));return t("datalist",{attrs:{id:e}},[n,this.normalizeSlot()])}});function ub(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hb,db,fb=Ac({id:kc(Mo),inline:kc(Ao,!1),tag:kc(Mo,"small"),textVariant:kc(Mo,"muted")},Nn),pb=mi({name:Nn,functional:!0,props:fb,render:function(t,e){var n=e.props,r=e.data,i=e.children;return t(n.tag,ii(r,{class:ub({"form-text":!n.inline},"text-".concat(n.textVariant),n.textVariant),attrs:{id:n.id}}),i)}}),mb=Ac({ariaLive:kc(Mo),forceShow:kc(Ao,!1),id:kc(Mo),role:kc(Mo),state:kc(Ao,null),tag:kc(Mo,"div"),tooltip:kc(Ao,!1)},Sn),gb=mi({name:Sn,functional:!0,props:mb,render:function(t,e){var n=e.props,r=e.data,i=e.children,o=n.tooltip,s=n.ariaLive,a=!0===n.forceShow||!1===n.state;return t(n.tag,ii(r,{class:{"d-block":a,"invalid-feedback":!o,"invalid-tooltip":o},attrs:{id:n.id||null,role:n.role||null,"aria-live":s||null,"aria-atomic":s?"true":null}}),i)}}),vb=Ac({ariaLive:kc(Mo),forceShow:kc(Ao,!1),id:kc(Mo),role:kc(Mo),state:kc(Ao,null),tag:kc(Mo,"div"),tooltip:kc(Ao,!1)},Mn),yb=mi({name:Mn,functional:!0,props:vb,render:function(t,e){var n=e.props,r=e.data,i=e.children,o=n.tooltip,s=n.ariaLive,a=!0===n.forceShow||!0===n.state;return t(n.tag,ii(r,{class:{"d-block":a,"valid-feedback":!o,"valid-tooltip":o},attrs:{id:n.id||null,role:n.role||null,"aria-live":s||null,"aria-atomic":s?"true":null}}),i)}}),bb=Ac({tag:kc(Mo,"div")},kn),wb=mi({name:kn,functional:!0,props:bb,render:function(t,e){var n=e.props,r=e.data,i=e.children;return t(n.tag,ii(r,{staticClass:"form-row"}),i)}}),_b=Ie({components:{BForm:Ly,BFormDatalist:lb,BDatalist:lb,BFormText:pb,BFormInvalidFeedback:gb,BFormFeedback:gb,BFormValidFeedback:yb,BFormRow:wb}}),Ob=function(t,e){for(var n=0;n<t.length;n++)if($u(t[n],e))return n;return-1},Tb="input, textarea, select",Sb=Ac({autofocus:kc(Ao,!1),disabled:kc(Ao,!1),form:kc(Mo),id:kc(Mo),name:kc(Mo),required:kc(Ao,!1)},"formControls"),Cb=mi({props:Sb,mounted:function(){this.handleAutofocus()},activated:function(){this.handleAutofocus()},methods:{handleAutofocus:function(){var t=this;this.$nextTick((function(){Ra((function(){var e=t.$el;t.autofocus&&Va(e)&&(Ga(e,Tb)||(e=Ha(Tb,e)),dc(e))}))}))}}}),Ib=Ac({plain:kc(Ao,!1)},"formControls"),Eb=mi({props:Ib,computed:{custom:function(){return!this.plain}}}),kb=Ac({size:kc(Mo)},"formControls"),Pb=mi({props:kb,computed:{sizeFormClass:function(){return[this.size?"form-control-".concat(this.size):null]}}}),xb=Ac({state:kc(Ao,null)},"formState"),Db=mi({props:xb,computed:{computedState:function(){return Ot(this.state)?this.state:null},stateClass:function(){var t=this.computedState;return!0===t?"is-valid":!1===t?"is-invalid":null},computedAriaInvalid:function(){var t=Al(this).ariaInvalid;return!0===t||"true"===t||""===t||!1===this.computedState?"true":t}}});function Ab(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jb(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ab(Object(n),!0).forEach((function(e){Rb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ab(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nb,Lb=Lc("checked",{defaultValue:null}),Fb=Lb.mixin,Mb=Lb.props,$b=Lb.prop,Bb=Lb.event,Vb=Ac(Yt(jb(jb(jb(jb(jb(jb(jb({},af),Mb),Sb),kb),xb),Ib),{},{ariaLabel:kc(Mo),ariaLabelledby:kc(Mo),button:kc(Ao,!1),buttonVariant:kc(Mo),inline:kc(Ao,!1),value:kc(xo)})),"formRadioCheckControls"),Ub=mi({mixins:[Yu,cf,Fb,ga,Cb,Pb,Db,Eb],inheritAttrs:!1,props:Vb,data:function(){return{localChecked:this.isGroup?this.bvGroup[$b]:this[$b],hasFocus:!1}},computed:{computedLocalChecked:{get:function(){return this.isGroup?this.bvGroup.localChecked:this.localChecked},set:function(t){this.isGroup?this.bvGroup.localChecked=t:this.localChecked=t}},isChecked:function(){return $u(this.value,this.computedLocalChecked)},isRadio:function(){return!0},isGroup:function(){return!!this.bvGroup},isBtnMode:function(){return this.isGroup?this.bvGroup.buttons:this.button},isPlain:function(){return!this.isBtnMode&&(this.isGroup?this.bvGroup.plain:this.plain)},isCustom:function(){return!this.isBtnMode&&!this.isPlain},isSwitch:function(){return!(this.isBtnMode||this.isRadio||this.isPlain)&&(this.isGroup?this.bvGroup.switches:this.switch)},isInline:function(){return this.isGroup?this.bvGroup.inline:this.inline},isDisabled:function(){return this.isGroup&&this.bvGroup.disabled||this.disabled},isRequired:function(){return this.computedName&&(this.isGroup?this.bvGroup.required:this.required)},computedName:function(){return(this.isGroup?this.bvGroup.groupName:this.name)||null},computedForm:function(){return(this.isGroup?this.bvGroup.form:this.form)||null},computedSize:function(){return(this.isGroup?this.bvGroup.size:this.size)||""},computedState:function(){return this.isGroup?this.bvGroup.computedState:Ot(this.state)?this.state:null},computedButtonVariant:function(){var t=this.buttonVariant;return t||(this.isGroup&&this.bvGroup.buttonVariant?this.bvGroup.buttonVariant:"secondary")},buttonClasses:function(){var t,e=this.computedSize;return["btn","btn-".concat(this.computedButtonVariant),(t={},Rb(t,"btn-".concat(e),e),Rb(t,"disabled",this.isDisabled),Rb(t,"active",this.isChecked),Rb(t,"focus",this.hasFocus),t)]},computedAttrs:function(){var t=this.isDisabled,e=this.isRequired;return jb(jb({},this.bvAttrs),{},{id:this.safeId(),type:this.isRadio?"radio":"checkbox",name:this.computedName,form:this.computedForm,disabled:t,required:e,"aria-required":e||null,"aria-label":this.ariaLabel||null,"aria-labelledby":this.ariaLabelledby||null})}},watch:(hb={},Rb(hb,$b,(function(){this["".concat($b,"Watcher")].apply(this,arguments)})),Rb(hb,"computedLocalChecked",(function(){this.computedLocalCheckedWatcher.apply(this,arguments)})),hb),methods:(db={},Rb(db,"".concat($b,"Watcher"),(function(t){$u(t,this.computedLocalChecked)||(this.computedLocalChecked=t)})),Rb(db,"computedLocalCheckedWatcher",(function(t,e){$u(t,e)||this.$emit(Bb,t)})),Rb(db,"handleChange",(function(t){var e=this,n=t.target.checked,r=this.value,i=n?r:null;this.computedLocalChecked=r,this.$nextTick((function(){e.$emit(Si,i),e.isGroup&&e.bvGroup.$emit(Si,i)}))})),Rb(db,"handleFocus",(function(t){t.target&&("focus"===t.type?this.hasFocus=!0:"blur"===t.type&&(this.hasFocus=!1))})),Rb(db,"focus",(function(){this.isDisabled||dc(this.$refs.input)})),Rb(db,"blur",(function(){this.isDisabled||fc(this.$refs.input)})),db),render:function(t){var e=this.isRadio,n=this.isBtnMode,r=this.isPlain,i=this.isCustom,o=this.isInline,s=this.isSwitch,a=this.computedSize,c=this.bvAttrs,l=this.normalizeSlot(),u=t("input",{class:[{"form-check-input":r,"custom-control-input":i,"position-static":r&&!l},n?"":this.stateClass],directives:[{name:"model",value:this.computedLocalChecked}],attrs:this.computedAttrs,domProps:{value:this.value,checked:this.isChecked},on:jb({change:this.handleChange},n?{focus:this.handleFocus,blur:this.handleFocus}:{}),key:"input",ref:"input"});if(n){var h=t("label",{class:this.buttonClasses},[u,l]);return this.isGroup||(h=t("div",{class:["btn-group-toggle","d-inline-block"]},[h])),h}var d=t();return r&&!l||(d=t("label",{class:{"form-check-label":r,"custom-control-label":i},attrs:{for:this.safeId()}},l)),t("div",{class:[Rb({"form-check":r,"form-check-inline":r&&o,"custom-control":i,"custom-control-inline":i&&o,"custom-checkbox":i&&!e&&!s,"custom-switch":s,"custom-radio":i&&e},"b-custom-control-".concat(a),a&&!n),c.class],style:c.style},[u,d])}});function zb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qb(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zb(Object(n),!0).forEach((function(e){Hb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Hb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gb,Wb="indeterminate",Kb=Co+Wb,Yb=Ac(Yt(qb(qb({},Vb),{},(Nb={},Hb(Nb,Wb,kc(Ao,!1)),Hb(Nb,"switch",kc(Ao,!1)),Hb(Nb,"uncheckedValue",kc(xo,!1)),Hb(Nb,"value",kc(xo,!0)),Nb))),vn),Qb=mi({name:vn,mixins:[Ub],inject:{getBvGroup:{from:"getBvCheckGroup",default:function(){return function(){return null}}}},props:Yb,computed:{bvGroup:function(){return this.getBvGroup()},isChecked:function(){var t=this.value,e=this.computedLocalChecked;return It(e)?Ob(e,t)>-1:$u(e,t)},isRadio:function(){return!1}},watch:Hb({},Wb,(function(t,e){$u(t,e)||this.setIndeterminate(t)})),mounted:function(){this.setIndeterminate(this[Wb])},methods:{computedLocalCheckedWatcher:function(t,e){if(!$u(t,e)){this.$emit(Bb,t);var n=this.$refs.input;n&&this.$emit(Kb,n.indeterminate)}},handleChange:function(t){var e=this,n=t.target,r=n.checked,i=n.indeterminate,o=this.value,s=this.uncheckedValue,a=this.computedLocalChecked;if(It(a)){var c=Ob(a,o);r&&c<0?a=a.concat(o):!r&&c>-1&&(a=a.slice(0,c).concat(a.slice(c+1)))}else a=r?o:s;this.computedLocalChecked=a,this.$nextTick((function(){e.$emit(Si,a),e.isGroup&&e.bvGroup.$emit(Si,a),e.$emit(Kb,i)}))},setIndeterminate:function(t){It(this.computedLocalChecked)&&(t=!1);var e=this.$refs.input;e&&(e.indeterminate=t,this.$emit(Kb,t))}}}),Xb=Ac(Vb,Cn),Jb=mi({name:Cn,mixins:[Ub],inject:{getBvGroup:{from:"getBvRadioGroup",default:function(){return function(){return null}}}},props:Xb,computed:{bvGroup:function(){return this.getBvGroup()}}});function Zb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zb(Object(n),!0).forEach((function(e){ew(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ew(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nw,rw=["aria-describedby","aria-labelledby"],iw=Lc("checked"),ow=iw.mixin,sw=iw.props,aw=iw.prop,cw=iw.event,lw=Ac(Yt(tw(tw(tw(tw(tw(tw(tw(tw({},af),sw),Sb),rb),kb),xb),Ib),{},{ariaInvalid:kc(Ho,!1),buttonVariant:kc(Mo),buttons:kc(Ao,!1),stacked:kc(Ao,!1),validated:kc(Ao,!1)})),"formRadioCheckGroups"),uw=mi({mixins:[cf,ow,ga,Cb,ib,Pb,Db,Eb],inheritAttrs:!1,props:lw,data:function(){return{localChecked:this[aw]}},computed:{inline:function(){return!this.stacked},groupName:function(){return this.name||this.safeId()},groupClasses:function(){var t=this.inline,e=this.size,n=this.validated,r={"was-validated":n};return this.buttons&&(r=[r,"btn-group-toggle",ew({"btn-group":t,"btn-group-vertical":!t},"btn-group-".concat(e),e)]),r}},watch:(Gb={},ew(Gb,aw,(function(t){$u(t,this.localChecked)||(this.localChecked=t)})),ew(Gb,"localChecked",(function(t,e){$u(t,e)||this.$emit(cw,t)})),Gb),render:function(t){var e=this,n=this.isRadioGroup,r=Gt(this.$attrs,rw),i=n?Jb:Qb,o=this.formOptions.map((function(n,o){var s="BV_option_".concat(o);return t(i,{props:{disabled:n.disabled||!1,id:e.safeId(s),value:n.value},attrs:r,key:s},[t("span",{domProps:ed(n.html,n.text)})])}));return t("div",{class:[this.groupClasses,"bv-no-focus-ring"],attrs:tw(tw({},Wt(this.$attrs,rw)),{},{"aria-invalid":this.computedAriaInvalid,"aria-required":this.required?"true":null,id:this.safeId(),role:n?"radiogroup":"group",tabindex:"-1"})},[this.normalizeSlot(ps),o,this.normalizeSlot()])}});function hw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hw(Object(n),!0).forEach((function(e){fw(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pw=Ac(Yt(dw(dw({},lw),{},(nw={},fw(nw,aw,kc(Do,[])),fw(nw,"switches",kc(Ao,!1)),nw))),yn),mw=mi({name:yn,mixins:[uw],provide:function(){var t=this;return{getBvCheckGroup:function(){return t}}},props:pw,computed:{isRadioGroup:function(){return!1}}}),gw=Ie({components:{BFormCheckbox:Qb,BCheckbox:Qb,BCheck:Qb,BFormCheckboxGroup:mw,BCheckboxGroup:mw,BCheckGroup:mw}}),vw="__BV_hover_handler__",yw="mouseenter",bw="mouseleave",ww=function(t){var e=function(e){t(e.type===yw,e)};return e.fn=t,e},_w=function(t,e,n){Bc(t,e,yw,n,Po),Bc(t,e,bw,n,Po)},Ow=function(t,e){var n=e.value,r=void 0===n?null:n;if(l){var i=t[vw],o=_t(i),s=!(o&&i.fn===r);o&&s&&(_w(!1,t,i),delete t[vw]),_t(r)&&s&&(t[vw]=ww(r),_w(!0,t,t[vw]))}},Tw={bind:Ow,componentUpdated:Ow,unbind:function(t){Ow(t,{value:null})}};function Sw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sw(Object(n),!0).forEach((function(e){Iw(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Iw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ew,kw=Yt(Cw(Cw(Cw(Cw(Cw(Cw({},af),kb),xb),Wt(ay,["disabled"])),Wt(Sb,["autofocus"])),{},{buttonOnly:kc(Ao,!1),buttonVariant:kc(Mo,"secondary"),formattedValue:kc(Mo),labelSelected:kc(Mo),lang:kc(Mo),menuClass:kc(Vo),placeholder:kc(Mo),readonly:kc(Ao,!1),rtl:kc(Ao,null),value:kc(Mo,"")})),Pw=mi({name:Ur,directives:{"b-hover":Tw},mixins:[cf,Pb,Db,cy,ga],props:kw,data:function(){return{isHovered:!1,hasFocus:!1}},computed:{idButton:function(){return this.safeId()},idLabel:function(){return this.safeId("_value_")},idMenu:function(){return this.safeId("_dialog_")},idWrapper:function(){return this.safeId("_outer_")},computedDir:function(){return!0===this.rtl?"rtl":!1===this.rtl?"ltr":null}},methods:{focus:function(){this.disabled||dc(this.$refs.toggle)},blur:function(){this.disabled||fc(this.$refs.toggle)},setFocus:function(t){this.hasFocus="focus"===t.type},handleHover:function(t){this.isHovered=t}},render:function(t){var e,n=this.idButton,r=this.idLabel,i=this.idMenu,o=this.idWrapper,s=this.disabled,a=this.readonly,c=this.required,l=this.name,u=this.state,h=this.visible,d=this.size,f=this.isHovered,p=this.hasFocus,m=this.labelSelected,g=this.buttonVariant,v=this.buttonOnly,y=Ia(this.value)||"",b=!1===u||c&&!y,w={isHovered:f,hasFocus:p,state:u,opened:h},_=t("button",{staticClass:"btn",class:(e={},Iw(e,"btn-".concat(g),v),Iw(e,"btn-".concat(d),d),Iw(e,"h-auto",!v),Iw(e,"dropdown-toggle",v),Iw(e,"dropdown-toggle-no-caret",v),e),attrs:{id:n,type:"button",disabled:s,"aria-haspopup":"dialog","aria-expanded":h?"true":"false","aria-invalid":b?"true":null,"aria-required":c?"true":null},directives:[{name:"b-hover",value:this.handleHover}],on:{mousedown:this.onMousedown,click:this.toggle,keydown:this.toggle,"!focus":this.setFocus,"!blur":this.setFocus},ref:"toggle"},[this.hasNormalizedSlot(rs)?this.normalizeSlot(rs,w):t(ou,{props:{scale:1.25}})]),O=t();l&&!s&&(O=t("input",{attrs:{type:"hidden",name:l||null,form:this.form||null,value:y}}));var T=t("div",{staticClass:"dropdown-menu",class:[this.menuClass,{show:h,"dropdown-menu-right":this.right}],attrs:{id:i,role:"dialog",tabindex:"-1","aria-modal":"false","aria-labelledby":r},on:{keydown:this.onKeydown},ref:"menu"},[this.normalizeSlot(ss,{opened:h})]),S=t("label",{class:v?"sr-only":["form-control",{"text-muted":!y},this.stateClass,this.sizeFormClass],attrs:{id:r,for:n,"aria-invalid":b?"true":null,"aria-required":c?"true":null},directives:[{name:"b-hover",value:this.handleHover}],on:{"!click":function(t){Vc(t,{preventDefault:!1})}}},[y?this.formattedValue||y:this.placeholder||"",y&&m?t("bdi",{staticClass:"sr-only"},m):""]);return t("div",{staticClass:"b-form-btn-label-control dropdown",class:[this.directionClass,this.boundaryClass,[{"btn-group":v,"form-control":!v,focus:p&&!v,show:h,"is-valid":!0===u,"is-invalid":!1===u},v?null:this.sizeFormClass]],attrs:{id:o,role:v?null:"group",lang:this.lang||null,dir:this.computedDir,"aria-disabled":s,"aria-readonly":a&&!s,"aria-labelledby":r,"aria-invalid":!1===u||c&&!y?"true":null,"aria-required":c?"true":null}},[_,O,T,S])}});function xw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xw(Object(n),!0).forEach((function(e){Aw(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Aw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jw,Rw=Lc("value",{type:Go}),Nw=Rw.mixin,Lw=Rw.props,Fw=Rw.prop,Mw=Rw.event,$w=Wt(vf,["block","hidden","id","noKeyNav","roleDescription","value","width"]),Bw=Wt(kw,["formattedValue","id","lang","rtl","value"]),Vw=Ac(Yt(Dw(Dw(Dw(Dw(Dw({},af),Lw),$w),Bw),{},{calendarWidth:kc(Mo,"270px"),closeButton:kc(Ao,!1),closeButtonVariant:kc(Mo,"outline-secondary"),dark:kc(Ao,!1),labelCloseButton:kc(Mo,"Close"),labelResetButton:kc(Mo,"Reset"),labelTodayButton:kc(Mo,"Select today"),noCloseOnSelect:kc(Ao,!1),resetButton:kc(Ao,!1),resetButtonVariant:kc(Mo,"outline-danger"),resetValue:kc(Go),todayButton:kc(Ao,!1),todayButtonVariant:kc(Mo,"outline-primary")})),wn),Uw=mi({name:wn,mixins:[cf,Nw],props:Vw,data:function(){return{localYMD:qd(this[Fw])||"",isVisible:!1,localLocale:null,isRTL:!1,formattedValue:"",activeYMD:""}},computed:{calendarYM:function(){return this.activeYMD.slice(0,-3)},computedLang:function(){return(this.localLocale||"").replace(/-u-.*$/i,"")||null},computedResetValue:function(){return qd(rf(this.resetValue))||""}},watch:(Ew={},Aw(Ew,Fw,(function(t){this.localYMD=qd(t)||""})),Aw(Ew,"localYMD",(function(t){this.isVisible&&this.$emit(Mw,this.valueAsDate?zd(t)||null:t||"")})),Aw(Ew,"calendarYM",(function(t,e){if(t!==e&&e)try{this.$refs.control.updatePopper()}catch(n){}})),Ew),methods:{focus:function(){this.disabled||dc(this.$refs.control)},blur:function(){this.disabled||fc(this.$refs.control)},setAndClose:function(t){var e=this;this.localYMD=t,this.noCloseOnSelect||this.$nextTick((function(){e.$refs.control.hide(!0)}))},onSelected:function(t){var e=this;this.$nextTick((function(){e.setAndClose(t)}))},onInput:function(t){this.localYMD!==t&&(this.localYMD=t)},onContext:function(t){var e=t.activeYMD,n=t.isRTL,r=t.locale,i=t.selectedYMD,o=t.selectedFormatted;this.isRTL=n,this.localLocale=r,this.formattedValue=o,this.localYMD=i,this.activeYMD=e,this.$emit(ki,t)},onTodayButton:function(){this.setAndClose(qd(rf(Ud(),this.min,this.max)))},onResetButton:function(){this.setAndClose(this.computedResetValue)},onCloseButton:function(){this.$refs.control.hide(!0)},onShow:function(){this.isVisible=!0},onShown:function(){var t=this;this.$nextTick((function(){dc(t.$refs.calendar),t.$emit(mo)}))},onHidden:function(){this.isVisible=!1,this.$emit(zi)},defaultButtonFn:function(t){var e=t.isHovered,n=t.hasFocus;return this.$createElement(e||n?nu:eu,{attrs:{"aria-hidden":"true"}})}},render:function(t){var e=this.localYMD,n=this.disabled,r=this.readonly,i=this.dark,o=this.$props,s=this.$scopedSlots,a=wt(this.placeholder)?this.labelNoDateSelected:this.placeholder,c=[];if(this.todayButton){var l=this.labelTodayButton;c.push(t(Ah,{props:{disabled:n||r,size:"sm",variant:this.todayButtonVariant},attrs:{"aria-label":l||null},on:{click:this.onTodayButton}},l))}if(this.resetButton){var u=this.labelResetButton;c.push(t(Ah,{props:{disabled:n||r,size:"sm",variant:this.resetButtonVariant},attrs:{"aria-label":u||null},on:{click:this.onResetButton}},u))}if(this.closeButton){var h=this.labelCloseButton;c.push(t(Ah,{props:{disabled:n,size:"sm",variant:this.closeButtonVariant},attrs:{"aria-label":h||null},on:{click:this.onCloseButton}},h))}c.length>0&&(c=[t("div",{staticClass:"b-form-date-controls d-flex flex-wrap",class:{"justify-content-between":c.length>1,"justify-content-end":c.length<2}},c)]);var d=t(yf,{staticClass:"b-form-date-calendar w-100",props:Dw(Dw({},xc($w,o)),{},{hidden:!this.isVisible,value:e,valueAsDate:!1,width:this.calendarWidth}),on:{selected:this.onSelected,input:this.onInput,context:this.onContext},scopedSlots:Gt(s,["nav-prev-decade","nav-prev-year","nav-prev-month","nav-this-month","nav-next-month","nav-next-year","nav-next-decade"]),key:"calendar",ref:"calendar"},c);return t(Pw,{staticClass:"b-form-datepicker",props:Dw(Dw({},xc(Bw,o)),{},{formattedValue:e?this.formattedValue:"",id:this.safeId(),lang:this.computedLang,menuClass:[{"bg-dark":i,"text-light":i},this.menuClass],placeholder:a,rtl:this.isRTL,value:e}),on:{show:this.onShow,shown:this.onShown,hidden:this.onHidden},scopedSlots:Aw({},rs,s[rs]||this.defaultButtonFn),ref:"control"},[d])}}),zw=Ie({components:{BFormDatepicker:Uw,BDatepicker:Uw}});function qw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qw(Object(n),!0).forEach((function(e){Gw(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Gw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ww=Lc("value",{type:[Do,pt],defaultValue:null,validator:function(t){return""===t?(de(Jw,_n),!0):wt(t)||Zw(t)}}),Kw=Ww.mixin,Yw=Ww.props,Qw=Ww.prop,Xw=Ww.event,Jw='Setting "value"/"v-model" to an empty string for reset is deprecated. Set to "null" instead.',Zw=function t(e){return Dt(e)||It(e)&&e.every((function(e){return t(e)}))},t_=function(t){return _t(t.getAsEntry)?t.getAsEntry():_t(t.webkitGetAsEntry)?t.webkitGetAsEntry():null},e_=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Promise.all(ca(t).filter((function(t){return"file"===t.kind})).map((function(t){var n=t_(t);if(n){if(n.isDirectory&&e)return n_(n.createReader(),"".concat(n.name,"/"));if(n.isFile)return new Promise((function(t){n.file((function(e){e.$path="",t(e)}))}))}return null})).filter(ae))},n_=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise((function(r){var i=[],o=function o(){e.readEntries((function(e){0===e.length?r(Promise.all(i).then((function(t){return da(t)}))):(i.push(Promise.all(e.map((function(e){if(e){if(e.isDirectory)return t(e.createReader(),"".concat(n).concat(e.name,"/"));if(e.isFile)return new Promise((function(t){e.file((function(e){e.$path="".concat(n).concat(e.name),t(e)}))}))}return null})).filter(ae))),o())}))};o()}))},r_=Ac(Yt(Hw(Hw(Hw(Hw(Hw(Hw(Hw({},af),Yw),Sb),Ib),xb),kb),{},{accept:kc(Mo,""),browseText:kc(Mo,"Browse"),capture:kc(Ao,!1),directory:kc(Ao,!1),dropPlaceholder:kc(Mo,"Drop files here"),fileNameFormatter:kc(Ro),multiple:kc(Ao,!1),noDrop:kc(Ao,!1),noDropPlaceholder:kc(Mo,"Not allowed"),noTraverse:kc(Ao,!1),placeholder:kc(Mo,"No file chosen")})),_n),i_=mi({name:_n,mixins:[Yu,cf,Kw,ga,Cb,Db,Eb,ga],inheritAttrs:!1,props:r_,data:function(){return{files:[],dragging:!1,dropAllowed:!this.noDrop,hasFocus:!1}},computed:{computedAccept:function(){var t=this.accept;return t=(t||"").trim().split(/[,\s]+/).filter(ae),0===t.length?null:t.map((function(t){var e="name",n="^",r="$";C.test(t)?n="":(e="type",L.test(t)&&(r=".+$",t=t.slice(0,-1))),t=Ca(t);var i=new RegExp("".concat(n).concat(t).concat(r));return{rx:i,prop:e}}))},computedCapture:function(){var t=this.capture;return!0===t||""===t||(t||null)},computedAttrs:function(){var t=this.name,e=this.disabled,n=this.required,r=this.form,i=this.computedCapture,o=this.accept,s=this.multiple,a=this.directory;return Hw(Hw({},this.bvAttrs),{},{type:"file",id:this.safeId(),name:t,disabled:e,required:n,form:r||null,capture:i,accept:o||null,multiple:s,directory:a,webkitdirectory:a,"aria-required":n?"true":null})},computedFileNameFormatter:function(){var t=this.fileNameFormatter;return Rc(t)?t:this.defaultFileNameFormatter},clonedFiles:function(){return se(this.files)},flattenedFiles:function(){return fa(this.files)},fileNames:function(){return this.flattenedFiles.map((function(t){return t.name}))},labelContent:function(){if(this.dragging&&!this.noDrop)return this.normalizeSlot(ls,{allowed:this.dropAllowed})||(this.dropAllowed?this.dropPlaceholder:this.$createElement("span",{staticClass:"text-danger"},this.noDropPlaceholder));if(0===this.files.length)return this.normalizeSlot(Ws)||this.placeholder;var t=this.flattenedFiles,e=this.clonedFiles,n=this.fileNames,r=this.computedFileNameFormatter;return this.hasNormalizedSlot(fs)?this.normalizeSlot(fs,{files:t,filesTraversed:e,names:n}):r(t,e,n)}},watch:(jw={},Gw(jw,Qw,(function(t){(!t||It(t)&&0===t.length)&&this.reset()})),Gw(jw,"files",(function(t,e){if(!$u(t,e)){var n=this.multiple,r=this.noTraverse,i=!n||r?fa(t):t;this.$emit(Xw,n?i:i[0]||null)}})),jw),created:function(){this.$_form=null},mounted:function(){var t=Wa("form",this.$el);t&&(Mc(t,"reset",this.reset,ko),this.$_form=t)},beforeDestroy:function(){var t=this.$_form;t&&$c(t,"reset",this.reset,ko)},methods:{isFileValid:function(t){if(!t)return!1;var e=this.computedAccept;return!e||e.some((function(e){return e.rx.test(t[e.prop])}))},isFilesArrayValid:function(t){var e=this;return It(t)?t.every((function(t){return e.isFileValid(t)})):this.isFileValid(t)},defaultFileNameFormatter:function(t,e,n){return n.join(", ")},setFiles:function(t){this.dropAllowed=!this.noDrop,this.dragging=!1,this.files=this.multiple?this.directory?t:fa(t):fa(t).slice(0,1)},setInputFiles:function(t){try{var e=new ClipboardEvent("").clipboardData||new DataTransfer;fa(se(t)).forEach((function(t){delete t.$path,e.items.add(t)})),this.$refs.input.files=e.files}catch(n){}},reset:function(){try{var t=this.$refs.input;t.value="",t.type="",t.type="file"}catch(e){}this.files=[]},handleFiles:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=t.filter(this.isFilesArrayValid);n.length>0&&(this.setFiles(n),this.setInputFiles(n))}else this.setFiles(t)},focusHandler:function(t){this.plain||"focusout"===t.type?this.hasFocus=!1:this.hasFocus=!0},onChange:function(t){var e=this,n=t.type,r=t.target,i=t.dataTransfer,o=void 0===i?{}:i,s="drop"===n;this.$emit(Si,t);var c=ca(o.items||[]);if(a&&c.length>0&&!bt(t_(c[0])))e_(c,this.directory).then((function(t){return e.handleFiles(t,s)}));else{var l=ca(r.files||o.files||[]).map((function(t){return t.$path=t.webkitRelativePath||"",t}));this.handleFiles(l,s)}},onDragenter:function(t){Vc(t),this.dragging=!0;var e=t.dataTransfer,n=void 0===e?{}:e;if(this.noDrop||this.disabled||!this.dropAllowed)return n.dropEffect="none",void(this.dropAllowed=!1);n.dropEffect="copy"},onDragover:function(t){Vc(t),this.dragging=!0;var e=t.dataTransfer,n=void 0===e?{}:e;if(this.noDrop||this.disabled||!this.dropAllowed)return n.dropEffect="none",void(this.dropAllowed=!1);n.dropEffect="copy"},onDragleave:function(t){var e=this;Vc(t),this.$nextTick((function(){e.dragging=!1,e.dropAllowed=!e.noDrop}))},onDrop:function(t){var e=this;Vc(t),this.dragging=!1,this.noDrop||this.disabled||!this.dropAllowed?this.$nextTick((function(){e.dropAllowed=!e.noDrop})):this.onChange(t)}},render:function(t){var e=this.custom,n=this.plain,r=this.size,i=this.dragging,o=this.stateClass,s=this.bvAttrs,a=t("input",{class:[{"form-control-file":n,"custom-file-input":e,focus:e&&this.hasFocus},o],style:e?{zIndex:-5}:{},attrs:this.computedAttrs,on:{change:this.onChange,focusin:this.focusHandler,focusout:this.focusHandler,reset:this.reset},ref:"input"});if(n)return a;var c=t("label",{staticClass:"custom-file-label",class:{dragging:i},attrs:{for:this.safeId(),"data-browse":this.browseText||null}},[t("span",{staticClass:"d-block form-file-text",style:{pointerEvents:"none"}},[this.labelContent])]);return t("div",{staticClass:"custom-file b-form-file",class:[Gw({},"b-custom-control-".concat(r),r),o,s.class],style:s.style,attrs:{id:this.safeId("_BV_file_outer_")},on:{dragenter:this.onDragenter,dragover:this.onDragover,dragleave:this.onDragleave,drop:this.onDrop}},[a,c])}}),o_=Ie({components:{BFormFile:i_,BFile:i_}}),s_=function(t){return"\\"+t},a_=function(t){t=Ia(t);var e=t.length,n=t.charCodeAt(0);return t.split("").reduce((function(r,i,o){var s=t.charCodeAt(o);return 0===s?r+"":127===s||s>=1&&s<=31||0===o&&s>=48&&s<=57||1===o&&s>=48&&s<=57&&45===n?r+s_("".concat(s.toString(16)," ")):0===o&&45===s&&1===e?r+s_(i):s>=128||45===s||95===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?r+i:r+s_(i)}),"")};function c_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l_(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c_(Object(n),!0).forEach((function(e){u_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h_=["auto","start","end","center","baseline","stretch"],d_=function(t,e,n){var r=t;if(!wt(n)&&!1!==n)return e&&(r+="-".concat(e)),"col"!==t||""!==n&&!0!==n?(r+="-".concat(n),Pa(r)):Pa(r)},f_=pc(d_),p_=Mt(null),m_=function(){var t=_c().filter(ae),e=t.reduce((function(t,e){return t[e]=kc(qo),t}),Mt(null)),n=t.reduce((function(t,e){return t[Ec(e,"offset")]=kc(Ko),t}),Mt(null)),r=t.reduce((function(t,e){return t[Ec(e,"order")]=kc(Ko),t}),Mt(null));return p_=Ft(Mt(null),{col:Ut(e),offset:Ut(n),order:Ut(r)}),Ac(Yt(l_(l_(l_(l_({},e),n),r),{},{alignSelf:kc(Mo,null,(function(t){return la(h_,t)})),col:kc(Ao,!1),cols:kc(Ko),offset:kc(Ko),order:kc(Ko),tag:kc(Mo,"div")})),rn)},g_={name:rn,functional:!0,get props(){return delete this.props,this.props=m_()},render:function(t,e){var n,r=e.props,i=e.data,o=e.children,s=r.cols,a=r.offset,c=r.order,l=r.alignSelf,u=[];for(var h in p_)for(var d=p_[h],f=0;f<d.length;f++){var p=f_(h,d[f].replace(h,""),r[d[f]]);p&&u.push(p)}var m=u.some((function(t){return Q.test(t)}));return u.push((n={col:r.col||!m&&!s},u_(n,"col-".concat(s),s),u_(n,"offset-".concat(a),a),u_(n,"order-".concat(c),c),u_(n,"align-self-".concat(l),l),n)),t(r.tag,ii(i,{class:u}),o)}};function v_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y_(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v_(Object(n),!0).forEach((function(e){b_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w_=["input","select","textarea"],__=w_.map((function(t){return"".concat(t,":not([disabled])")})).join(),O_=[].concat(w_,["a","button","label"]),T_=function(){return Ac(Yt(y_(y_(y_(y_({},af),xb),_c().reduce((function(t,e){return t[Ec(e,"contentCols")]=kc(qo),t[Ec(e,"labelAlign")]=kc(Mo),t[Ec(e,"labelCols")]=kc(qo),t}),Mt(null))),{},{description:kc(Mo),disabled:kc(Ao,!1),feedbackAriaLive:kc(Mo,"assertive"),invalidFeedback:kc(Mo),label:kc(Mo),labelClass:kc(Vo),labelFor:kc(Mo),labelSize:kc(Mo),labelSrOnly:kc(Ao,!1),tooltip:kc(Ao,!1),validFeedback:kc(Mo),validated:kc(Ao,!1)})),On)},S_={name:On,mixins:[cf,Db,ga],get props(){return delete this.props,this.props=T_()},data:function(){return{ariaDescribedby:null}},computed:{contentColProps:function(){return this.getColProps(this.$props,"content")},labelAlignClasses:function(){return this.getAlignClasses(this.$props,"label")},labelColProps:function(){return this.getColProps(this.$props,"label")},isHorizontal:function(){return Ut(this.contentColProps).length>0||Ut(this.labelColProps).length>0}},watch:{ariaDescribedby:function(t,e){t!==e&&this.updateAriaDescribedby(t,e)}},mounted:function(){var t=this;this.$nextTick((function(){t.updateAriaDescribedby(t.ariaDescribedby)}))},methods:{getAlignClasses:function(t,e){return _c().reduce((function(n,r){var i=t[Ec(r,"".concat(e,"Align"))]||null;return i&&n.push(["text",r,i].filter(ae).join("-")),n}),[])},getColProps:function(t,e){return _c().reduce((function(n,r){var i=t[Ec(r,"".concat(e,"Cols"))];return i=""===i||(i||!1),Ot(i)||"auto"===i||(i=va(i,0),i=i>0&&i),i&&(n[r||(Ot(i)?"col":"cols")]=i),n}),{})},updateAriaDescribedby:function(t,e){var n=this.labelFor;if(l&&n){var r=Ha("#".concat(a_(n)),this.$refs.content);if(r){var i="aria-describedby",o=(t||"").split(N),s=(e||"").split(N),a=(ec(r,i)||"").split(N).filter((function(t){return!la(s,t)})).concat(o).filter((function(t,e,n){return n.indexOf(t)===e})).filter(ae).join(" ").trim();a?Za(r,i,a):tc(r,i)}}},onLegendClick:function(t){if(!this.labelFor){var e=t.target,n=e?e.tagName:"";if(-1===O_.indexOf(n)){var r=qa(__,this.$refs.content).filter(Va);1===r.length&&dc(r[0])}}}},render:function(t){var e=this.computedState,n=this.feedbackAriaLive,r=this.isHorizontal,i=this.labelFor,o=this.normalizeSlot,s=this.safeId,a=this.tooltip,c=s(),l=!i,u=t(),h=o(Is)||this.label,d=h?s("_BV_label_"):null;if(h||r){var f=this.labelSize,p=this.labelColProps,m=l?"legend":"label";this.labelSrOnly?(h&&(u=t(m,{class:"sr-only",attrs:{id:d,for:i||null}},[h])),u=t(r?g_:"div",{props:r?p:{}},[u])):u=t(r?g_:m,{on:l?{click:this.onLegendClick}:{},props:r?y_(y_({},p),{},{tag:m}):{},attrs:{id:d,for:i||null,tabindex:l?"-1":null},class:[l?"bv-no-focus-ring":"",r||l?"col-form-label":"",!r&&l?"pt-0":"",r||l?"":"d-block",f?"col-form-label-".concat(f):"",this.labelAlignClasses,this.labelClass]},[h])}var g=t(),v=o(Cs)||this.invalidFeedback,y=v?s("_BV_feedback_invalid_"):null;v&&(g=t(gb,{props:{ariaLive:n,id:y,state:e,tooltip:a},attrs:{tabindex:v?"-1":null}},[v]));var b=t(),w=o(aa)||this.validFeedback,_=w?s("_BV_feedback_valid_"):null;w&&(b=t(yb,{props:{ariaLive:n,id:_,state:e,tooltip:a},attrs:{tabindex:w?"-1":null}},[w]));var O=t(),T=o(as)||this.description,S=T?s("_BV_description_"):null;T&&(O=t(pb,{attrs:{id:S,tabindex:"-1"}},[T]));var C=this.ariaDescribedby=[S,!1===e?y:null,!0===e?_:null].filter(ae).join(" ")||null,I=t(r?g_:"div",{props:r?this.contentColProps:{},ref:"content"},[o(ss,{ariaDescribedby:C,descriptionId:S,id:c,labelId:d})||t(),g,b,O]);return t(l?"fieldset":r?wb:"div",{staticClass:"form-group",class:[{"was-validated":this.validated},this.stateClass],attrs:{id:c,disabled:l?this.disabled:null,role:l?null:"group","aria-invalid":this.computedAriaInvalid,"aria-labelledby":l&&r?d:null}},r&&l?[t(wb,[u,I])]:[u,I])}},C_=Ie({components:{BFormGroup:S_,BFormFieldset:S_}}),I_=mi({computed:{selectionStart:{cache:!1,get:function(){return this.$refs.input.selectionStart},set:function(t){this.$refs.input.selectionStart=t}},selectionEnd:{cache:!1,get:function(){return this.$refs.input.selectionEnd},set:function(t){this.$refs.input.selectionEnd=t}},selectionDirection:{cache:!1,get:function(){return this.$refs.input.selectionDirection},set:function(t){this.$refs.input.selectionDirection=t}}},methods:{select:function(){var t;(t=this.$refs.input).select.apply(t,arguments)},setSelectionRange:function(){var t;(t=this.$refs.input).setSelectionRange.apply(t,arguments)},setRangeText:function(){var t;(t=this.$refs.input).setRangeText.apply(t,arguments)}}});function E_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function k_(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E_(Object(n),!0).forEach((function(e){P_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function P_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x_=Lc("value",{type:Ko,defaultValue:"",event:Oo}),D_=x_.mixin,A_=x_.props,j_=x_.prop,R_=x_.event,N_=Ac(Yt(k_(k_({},A_),{},{ariaInvalid:kc(Ho,!1),autocomplete:kc(Mo),debounce:kc(Ko,0),formatter:kc(Ro),lazy:kc(Ao,!1),lazyFormatter:kc(Ao,!1),number:kc(Ao,!1),placeholder:kc(Mo),plaintext:kc(Ao,!1),readonly:kc(Ao,!1),trim:kc(Ao,!1)})),"formTextControls"),L_=mi({mixins:[D_],props:N_,data:function(){var t=this[j_];return{localValue:Ia(t),vModelValue:this.modifyValue(t)}},computed:{computedClass:function(){var t=this.plaintext,e=this.type,n="range"===e,r="color"===e;return[{"custom-range":n,"form-control-plaintext":t&&!n&&!r,"form-control":r||!t&&!n},this.sizeFormClass,this.stateClass]},computedDebounce:function(){return gl(va(this.debounce,0),0)},hasFormatter:function(){return Rc(this.formatter)}},watch:P_({},j_,(function(t){var e=Ia(t),n=this.modifyValue(t);e===this.localValue&&n===this.vModelValue||(this.clearDebounce(),this.localValue=e,this.vModelValue=n)})),created:function(){this.$_inputDebounceTimer=null},beforeDestroy:function(){this.clearDebounce()},methods:{clearDebounce:function(){clearTimeout(this.$_inputDebounceTimer),this.$_inputDebounceTimer=null},formatValue:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t=Ia(t),!this.hasFormatter||this.lazyFormatter&&!n||(t=this.formatter(t,e)),t},modifyValue:function(t){return t=Ia(t),this.trim&&(t=t.trim()),this.number&&(t=ya(t,t)),t},updateValue:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.lazy;if(!r||n){this.clearDebounce();var i=function(){if(t=e.modifyValue(t),t!==e.vModelValue)e.vModelValue=t,e.$emit(R_,t);else if(e.hasFormatter){var n=e.$refs.input;n&&t!==n.value&&(n.value=t)}},o=this.computedDebounce;o>0&&!r&&!n?this.$_inputDebounceTimer=setTimeout(i,o):i()}},onInput:function(t){if(!t.target.composing){var e=t.target.value,n=this.formatValue(e,t);!1===n||t.defaultPrevented?Vc(t,{propagation:!1}):(this.localValue=n,this.updateValue(n),this.$emit(Gi,n))}},onChange:function(t){var e=t.target.value,n=this.formatValue(e,t);!1===n||t.defaultPrevented?Vc(t,{propagation:!1}):(this.localValue=n,this.updateValue(n,!0),this.$emit(Si,n))},onBlur:function(t){var e=t.target.value,n=this.formatValue(e,t,!0);!1!==n&&(this.localValue=Ia(this.modifyValue(n)),this.updateValue(n,!0)),this.$emit(Oi,t)},focus:function(){this.disabled||dc(this.$el)},blur:function(){this.disabled||fc(this.$el)}}}),F_=mi({computed:{validity:{cache:!1,get:function(){return this.$refs.input.validity}},validationMessage:{cache:!1,get:function(){return this.$refs.input.validationMessage}},willValidate:{cache:!1,get:function(){return this.$refs.input.willValidate}}},methods:{setCustomValidity:function(){var t;return(t=this.$refs.input).setCustomValidity.apply(t,arguments)},checkValidity:function(){var t;return(t=this.$refs.input).checkValidity.apply(t,arguments)},reportValidity:function(){var t;return(t=this.$refs.input).reportValidity.apply(t,arguments)}}});function M_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $_(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M_(Object(n),!0).forEach((function(e){B_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function B_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var V_,U_=["text","password","email","number","url","tel","search","range","color","date","time","datetime","datetime-local","month","week"],z_=Ac(Yt($_($_($_($_($_($_({},af),Sb),kb),xb),N_),{},{list:kc(Mo),max:kc(Ko),min:kc(Ko),noWheel:kc(Ao,!1),step:kc(Ko),type:kc(Mo,"text",(function(t){return la(U_,t)}))})),Tn),q_=mi({name:Tn,mixins:[ih,cf,Cb,Pb,Db,L_,I_,F_],props:z_,computed:{localType:function(){var t=this.type;return la(U_,t)?t:"text"},computedAttrs:function(){var t=this.localType,e=this.name,n=this.form,r=this.disabled,i=this.placeholder,o=this.required,s=this.min,a=this.max,c=this.step;return{id:this.safeId(),name:e,form:n,type:t,disabled:r,placeholder:i,required:o,autocomplete:this.autocomplete||null,readonly:this.readonly||this.plaintext,min:s,max:a,step:c,list:"password"!==t?this.list:null,"aria-required":o?"true":null,"aria-invalid":this.computedAriaInvalid}},computedListeners:function(){return $_($_({},this.bvListeners),{},{input:this.onInput,change:this.onChange,blur:this.onBlur})}},watch:{noWheel:function(t){this.setWheelStopper(t)}},mounted:function(){this.setWheelStopper(this.noWheel)},deactivated:function(){this.setWheelStopper(!1)},activated:function(){this.setWheelStopper(this.noWheel)},beforeDestroy:function(){this.setWheelStopper(!1)},methods:{setWheelStopper:function(t){var e=this.$el;Bc(t,e,"focus",this.onWheelFocus),Bc(t,e,"blur",this.onWheelBlur),t||$c(document,"wheel",this.stopWheel)},onWheelFocus:function(){Mc(document,"wheel",this.stopWheel)},onWheelBlur:function(){$c(document,"wheel",this.stopWheel)},stopWheel:function(t){Vc(t,{propagation:!1}),fc(this.$el)}},render:function(t){return t("input",{class:this.computedClass,attrs:this.computedAttrs,domProps:{value:this.localValue},on:this.computedListeners,ref:"input"})}}),H_=Ie({components:{BFormInput:q_,BInput:q_}}),G_=Ac(lw,In),W_=mi({name:In,mixins:[uw],provide:function(){var t=this;return{getBvRadioGroup:function(){return t}}},props:G_,computed:{isRadioGroup:function(){return!0}}}),K_=Ie({components:{BFormRadio:Jb,BRadio:Jb,BFormRadioGroup:W_,BRadioGroup:W_}});function Y_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Q_(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y_(Object(n),!0).forEach((function(e){X_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function X_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var J_=Lc("value",{type:Ko,event:Si}),Z_=J_.mixin,tO=J_.props,eO=J_.prop,nO=J_.event,rO=3,iO=5,oO=function(t){return gl(rO,va(t,iO))},sO=function(t,e,n){return gl(ml(t,n),e)},aO=mi({name:zr,mixins:[ga],props:{disabled:kc(Ao,!1),focused:kc(Ao,!1),hasClear:kc(Ao,!1),rating:kc(No,0),readonly:kc(Ao,!1),star:kc(No,0),variant:kc(Mo)},methods:{onClick:function(t){this.disabled||this.readonly||(Vc(t,{propagation:!1}),this.$emit(fo,this.star))}},render:function(t){var e=this.rating,n=this.star,r=this.focused,i=this.hasClear,o=this.variant,s=this.disabled,a=this.readonly,c=i?0:1,l=e>=n?"full":e>=n-.5?"half":"empty",u={variant:o,disabled:s,readonly:a};return t("span",{staticClass:"b-rating-star",class:{focused:r&&e===n||!va(e)&&n===c,"b-rating-star-empty":"empty"===l,"b-rating-star-half":"half"===l,"b-rating-star-full":"full"===l},attrs:{tabindex:s||a?null:"-1"},on:{click:this.onClick}},[t("span",{staticClass:"b-rating-icon"},[this.normalizeSlot(l,u)])])}}),cO=Ac(Yt(Q_(Q_(Q_(Q_(Q_({},af),tO),Wt(Sb,["required","autofocus"])),kb),{},{color:kc(Mo),iconClear:kc(Mo,"x"),iconEmpty:kc(Mo,"star"),iconFull:kc(Mo,"star-fill"),iconHalf:kc(Mo,"star-half"),inline:kc(Ao,!1),locale:kc(Uo),noBorder:kc(Ao,!1),precision:kc(Ko),readonly:kc(Ao,!1),showClear:kc(Ao,!1),showValue:kc(Ao,!1),showValueMax:kc(Ao,!1),stars:kc(Ko,iO,(function(t){return va(t)>=rO})),variant:kc(Mo)})),En),lO=mi({name:En,components:{BIconStar:pu,BIconStarHalf:gu,BIconStarFill:mu,BIconX:vu},mixins:[cf,Z_,Pb],props:cO,data:function(){var t=ya(this[eO],null),e=oO(this.stars);return{localValue:bt(t)?null:sO(t,0,e),hasFocus:!1}},computed:{computedStars:function(){return oO(this.stars)},computedRating:function(){var t=ya(this.localValue,0),e=va(this.precision,3);return sO(ya(t.toFixed(e)),0,this.computedStars)},computedLocale:function(){var t=ua(this.locale).filter(ae),e=new Intl.NumberFormat(t);return e.resolvedOptions().locale},isInteractive:function(){return!this.disabled&&!this.readonly},isRTL:function(){return sf(this.computedLocale)},formattedRating:function(){var t=va(this.precision),e=this.showValueMax,n=this.computedLocale,r={notation:"standard",minimumFractionDigits:isNaN(t)?0:t,maximumFractionDigits:isNaN(t)?3:t},i=this.computedStars.toLocaleString(n),o=this.localValue;return o=bt(o)?e?"-":"":o.toLocaleString(n,r),e?"".concat(o,"/").concat(i):o}},watch:(V_={},X_(V_,eO,(function(t,e){if(t!==e){var n=ya(t,null);this.localValue=bt(n)?null:sO(n,0,this.computedStars)}})),X_(V_,"localValue",(function(t,e){t!==e&&t!==(this.value||0)&&this.$emit(nO,t||null)})),X_(V_,"disabled",(function(t){t&&(this.hasFocus=!1,this.blur())})),V_),methods:{focus:function(){this.disabled||dc(this.$el)},blur:function(){this.disabled||fc(this.$el)},onKeydown:function(t){var e=t.keyCode;if(this.isInteractive&&la([Au,Eu,Nu,Fu],e)){Vc(t,{propagation:!1});var n=va(this.localValue,0),r=this.showClear?0:1,i=this.computedStars,o=this.isRTL?-1:1;e===Au?this.localValue=sO(n-o,r,i)||null:e===Nu?this.localValue=sO(n+o,r,i):e===Eu?this.localValue=sO(n-1,r,i)||null:e===Fu&&(this.localValue=sO(n+1,r,i))}},onSelected:function(t){this.isInteractive&&(this.localValue=t)},onFocus:function(t){this.hasFocus=!!this.isInteractive&&"focus"===t.type},renderIcon:function(t){return this.$createElement(Su,{props:{icon:t,variant:this.disabled||this.color?null:this.variant||null}})},iconEmptyFn:function(){return this.renderIcon(this.iconEmpty)},iconHalfFn:function(){return this.renderIcon(this.iconHalf)},iconFullFn:function(){return this.renderIcon(this.iconFull)},iconClearFn:function(){return this.$createElement(Su,{props:{icon:this.iconClear}})}},render:function(t){var e=this,n=this.disabled,r=this.readonly,i=this.name,o=this.form,s=this.inline,a=this.variant,c=this.color,l=this.noBorder,u=this.hasFocus,h=this.computedRating,d=this.computedStars,f=this.formattedRating,p=this.showClear,m=this.isRTL,g=this.isInteractive,v=this.$scopedSlots,y=[];if(p&&!n&&!r){var b=t("span",{staticClass:"b-rating-icon"},[(v[bs]||this.iconClearFn)()]);y.push(t("span",{staticClass:"b-rating-star b-rating-star-clear flex-grow-1",class:{focused:u&&0===h},attrs:{tabindex:g?"-1":null},on:{click:function(){return e.onSelected(null)}},key:"clear"},[b]))}for(var w=0;w<d;w++){var _=w+1;y.push(t(aO,{staticClass:"flex-grow-1",style:c&&!n?{color:c}:{},props:{rating:h,star:_,variant:n?null:a||null,disabled:n,readonly:r,focused:u,hasClear:p},on:{selected:this.onSelected},scopedSlots:{empty:v[ws]||this.iconEmptyFn,half:v[Os]||this.iconHalfFn,full:v[_s]||this.iconFullFn},key:w}))}return i&&y.push(t("input",{attrs:{type:"hidden",value:bt(this.localValue)?"":h,name:i,form:o||null},key:"hidden"})),this.showValue&&y.push(t("b",{staticClass:"b-rating-value flex-grow-1",attrs:{"aria-hidden":"true"},key:"value"},Ia(f))),t("output",{staticClass:"b-rating form-control align-items-center",class:[{"d-inline-flex":s,"d-flex":!s,"border-0":l,disabled:n,readonly:!n&&r},this.sizeFormClass],attrs:{id:this.safeId(),dir:m?"rtl":"ltr",tabindex:n?null:"0",disabled:n,role:"slider","aria-disabled":n?"true":null,"aria-readonly":!n&&r?"true":null,"aria-live":"off","aria-valuemin":p?"0":"1","aria-valuemax":Ia(d),"aria-valuenow":h?Ia(h):null},on:{keydown:this.onKeydown,focus:this.onFocus,blur:this.onFocus}},y)}}),uO=Ie({components:{BFormRating:lO,BRating:lO}}),hO=Lc("value"),dO=hO.mixin,fO=hO.props,pO=hO.prop,mO=hO.event;function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gO(Object(n),!0).forEach((function(e){yO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bO=Ac(Yt(vO(vO({},rb),{},{labelField:kc(Mo,"label"),optionsField:kc(Mo,"options")})),"formOptions"),wO=mi({mixins:[ib],props:bO,methods:{normalizeOption:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(kt(t)){var n=le(t,this.valueField),r=le(t,this.textField),i=le(t,this.optionsField,null);return bt(i)?{value:yt(n)?e||r:n,text:String(yt(r)?e:r),html:le(t,this.htmlField),disabled:Boolean(le(t,this.disabledField))}:{label:String(le(t,this.labelField)||r),options:this.normalizeOptions(i)}}return{value:e||t,text:String(t),disabled:!1}}}}),_O=Ac({disabled:kc(Ao,!1),value:kc(xo,void 0,!0)},xn),OO=mi({name:xn,functional:!0,props:_O,render:function(t,e){var n=e.props,r=e.data,i=e.children,o=n.value,s=n.disabled;return t("option",ii(r,{attrs:{disabled:s},domProps:{value:o}}),i)}});function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function SO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?TO(Object(n),!0).forEach((function(e){CO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function CO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var IO=Ac(Yt(SO(SO({},rb),{},{label:kc(Mo,void 0,!0)})),Dn),EO=mi({name:Dn,mixins:[ga,ib],props:IO,render:function(t){var e=this.label,n=this.formOptions.map((function(e,n){var r=e.value,i=e.text,o=e.html,s=e.disabled;return t(OO,{attrs:{value:r,disabled:s},domProps:ed(o,i),key:"option_".concat(n)})}));return t("optgroup",{attrs:{label:e}},[this.normalizeSlot(ps),n,this.normalizeSlot()])}});function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function PO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kO(Object(n),!0).forEach((function(e){xO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var DO,AO=Ac(Yt(PO(PO(PO(PO(PO(PO(PO({},af),fO),Sb),Ib),kb),xb),{},{ariaInvalid:kc(Ho,!1),multiple:kc(Ao,!1),selectSize:kc(No,0)})),Pn),jO=mi({name:Pn,mixins:[cf,dO,Cb,Pb,Db,Eb,wO,ga],props:AO,data:function(){return{localValue:this[pO]}},computed:{computedSelectSize:function(){return this.plain||0!==this.selectSize?this.selectSize:null},inputClass:function(){return[this.plain?"form-control":"custom-select",this.size&&this.plain?"form-control-".concat(this.size):null,this.size&&!this.plain?"custom-select-".concat(this.size):null,this.stateClass]}},watch:{value:function(t){this.localValue=t},localValue:function(){this.$emit(mO,this.localValue)}},methods:{focus:function(){dc(this.$refs.input)},blur:function(){fc(this.$refs.input)},onChange:function(t){var e=this,n=t.target,r=ca(n.options).filter((function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));this.localValue=n.multiple?r:r[0],this.$nextTick((function(){e.$emit(Si,e.localValue)}))}},render:function(t){var e=this.name,n=this.disabled,r=this.required,i=this.computedSelectSize,o=this.localValue,s=this.formOptions.map((function(e,n){var r=e.value,i=e.label,o=e.options,s=e.disabled,a="option_".concat(n);return It(o)?t(EO,{props:{label:i,options:o},key:a}):t(OO,{props:{value:r,disabled:s},domProps:ed(e.html,e.text),key:a})}));return t("select",{class:this.inputClass,attrs:{id:this.safeId(),name:e,form:this.form||null,multiple:this.multiple||null,size:i,disabled:n,required:r,"aria-required":r?"true":null,"aria-invalid":this.computedAriaInvalid},on:{change:this.onChange},directives:[{name:"model",value:o}],ref:"input"},[this.normalizeSlot(ps),s,this.normalizeSlot()])}}),RO=Ie({components:{BFormSelect:jO,BFormSelectOption:OO,BFormSelectOptionGroup:EO,BSelect:jO,BSelectOption:OO,BSelectOptionGroup:EO}});function NO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function LO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?NO(Object(n),!0).forEach((function(e){FO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function FO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var MO=Lc("value",{type:zo}),$O=MO.mixin,BO=MO.props,VO=MO.prop,UO=MO.event,zO=1,qO=100,HO=1,GO=500,WO=100,KO=10,YO=4,QO=[Fu,Eu,Du,ku,Ru,ju],XO=Ac(Yt(LO(LO(LO(LO(LO(LO({},af),BO),Wt(Sb,["required","autofocus"])),kb),xb),{},{ariaControls:kc(Mo),ariaLabel:kc(Mo),formatterFn:kc(Ro),inline:kc(Ao,!1),labelDecrement:kc(Mo,"Decrement"),labelIncrement:kc(Mo,"Increment"),locale:kc(Uo),max:kc(Ko,qO),min:kc(Ko,zO),placeholder:kc(Mo),readonly:kc(Ao,!1),repeatDelay:kc(Ko,GO),repeatInterval:kc(Ko,WO),repeatStepMultiplier:kc(Ko,YO),repeatThreshold:kc(Ko,KO),step:kc(Ko,HO),vertical:kc(Ao,!1),wrap:kc(Ao,!1)})),An),JO=mi({name:An,mixins:[Yu,cf,$O,Pb,Db,ga],inheritAttrs:!1,props:XO,data:function(){return{localValue:ya(this[VO],null),hasFocus:!1}},computed:{required:function(){return!1},spinId:function(){return this.safeId()},computedInline:function(){return this.inline&&!this.vertical},computedReadonly:function(){return this.readonly&&!this.disabled},computedRequired:function(){return this.required&&!this.computedReadonly&&!this.disabled},computedStep:function(){return ya(this.step,HO)},computedMin:function(){return ya(this.min,zO)},computedMax:function(){var t=ya(this.max,qO),e=this.computedStep,n=this.computedMin;return bl((t-n)/e)*e+n},computedDelay:function(){var t=va(this.repeatDelay,0);return t>0?t:GO},computedInterval:function(){var t=va(this.repeatInterval,0);return t>0?t:WO},computedThreshold:function(){return gl(va(this.repeatThreshold,KO),1)},computedStepMultiplier:function(){return gl(va(this.repeatStepMultiplier,YO),1)},computedPrecision:function(){var t=this.computedStep;return bl(t)===t?0:(t.toString().split(".")[1]||"").length},computedMultiplier:function(){return wl(10,this.computedPrecision||0)},valueAsFixed:function(){var t=this.localValue;return bt(t)?"":t.toFixed(this.computedPrecision)},computedLocale:function(){var t=ua(this.locale).filter(ae),e=new Intl.NumberFormat(t);return e.resolvedOptions().locale},computedRTL:function(){return sf(this.computedLocale)},defaultFormatter:function(){var t=this.computedPrecision,e=new Intl.NumberFormat(this.computedLocale,{style:"decimal",useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:t,maximumFractionDigits:t,notation:"standard"});return e.format},computedFormatter:function(){var t=this.formatterFn;return Rc(t)?t:this.defaultFormatter},computedAttrs:function(){return LO(LO({},this.bvAttrs),{},{role:"group",lang:this.computedLocale,tabindex:this.disabled?null:"-1",title:this.ariaLabel})},computedSpinAttrs:function(){var t=this.spinId,e=this.localValue,n=this.computedRequired,r=this.disabled,i=this.state,o=this.computedFormatter,s=!bt(e);return LO(LO({dir:this.computedRTL?"rtl":"ltr"},this.bvAttrs),{},{id:t,role:"spinbutton",tabindex:r?null:"0","aria-live":"off","aria-label":this.ariaLabel||null,"aria-controls":this.ariaControls||null,"aria-invalid":!1===i||!s&&n?"true":null,"aria-required":n?"true":null,"aria-valuemin":Ia(this.computedMin),"aria-valuemax":Ia(this.computedMax),"aria-valuenow":s?e:null,"aria-valuetext":s?o(e):null})}},watch:(DO={},FO(DO,VO,(function(t){this.localValue=ya(t,null)})),FO(DO,"localValue",(function(t){this.$emit(UO,t)})),FO(DO,"disabled",(function(t){t&&this.clearRepeat()})),FO(DO,"readonly",(function(t){t&&this.clearRepeat()})),DO),created:function(){this.$_autoDelayTimer=null,this.$_autoRepeatTimer=null,this.$_keyIsDown=!1},beforeDestroy:function(){this.clearRepeat()},deactivated:function(){this.clearRepeat()},methods:{focus:function(){this.disabled||dc(this.$refs.spinner)},blur:function(){this.disabled||fc(this.$refs.spinner)},emitChange:function(){this.$emit(Si,this.localValue)},stepValue:function(t){var e=this.localValue;if(!this.disabled&&!bt(e)){var n=this.computedStep*t,r=this.computedMin,i=this.computedMax,o=this.computedMultiplier,s=this.wrap;e=_l((e-r)/n)*n+r+n,e=_l(e*o)/o,this.localValue=e>i?s?r:i:e<r?s?i:r:e}},onFocusBlur:function(t){this.hasFocus=!this.disabled&&"focus"===t.type},stepUp:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.localValue;bt(e)?this.localValue=this.computedMin:this.stepValue(1*t)},stepDown:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.localValue;bt(e)?this.localValue=this.wrap?this.computedMax:this.computedMin:this.stepValue(-1*t)},onKeydown:function(t){var e=t.keyCode,n=t.altKey,r=t.ctrlKey,i=t.metaKey;if(!(this.disabled||this.readonly||n||r||i)&&la(QO,e)){if(Vc(t,{propagation:!1}),this.$_keyIsDown)return;this.resetTimers(),la([Fu,Eu],e)?(this.$_keyIsDown=!0,e===Fu?this.handleStepRepeat(t,this.stepUp):e===Eu&&this.handleStepRepeat(t,this.stepDown)):e===Ru?this.stepUp(this.computedStepMultiplier):e===ju?this.stepDown(this.computedStepMultiplier):e===Du?this.localValue=this.computedMin:e===ku&&(this.localValue=this.computedMax)}},onKeyup:function(t){var e=t.keyCode,n=t.altKey,r=t.ctrlKey,i=t.metaKey;this.disabled||this.readonly||n||r||i||la(QO,e)&&(Vc(t,{propagation:!1}),this.resetTimers(),this.$_keyIsDown=!1,this.emitChange())},handleStepRepeat:function(t,e){var n=this,r=t||{},i=r.type,o=r.button;if(!this.disabled&&!this.readonly){if("mousedown"===i&&o)return;this.resetTimers(),e(1);var s=this.computedThreshold,a=this.computedStepMultiplier,c=this.computedDelay,l=this.computedInterval;this.$_autoDelayTimer=setTimeout((function(){var t=0;n.$_autoRepeatTimer=setInterval((function(){e(t<s?1:a),t++}),l)}),c)}},onMouseup:function(t){var e=t||{},n=e.type,r=e.button;"mouseup"===n&&r||(Vc(t,{propagation:!1}),this.resetTimers(),this.setMouseup(!1),this.emitChange())},setMouseup:function(t){try{Bc(t,document.body,"mouseup",this.onMouseup,!1),Bc(t,document.body,"touchend",this.onMouseup,!1)}catch(e){}},resetTimers:function(){clearTimeout(this.$_autoDelayTimer),clearInterval(this.$_autoRepeatTimer),this.$_autoDelayTimer=null,this.$_autoRepeatTimer=null},clearRepeat:function(){this.resetTimers(),this.setMouseup(!1),this.$_keyIsDown=!1}},render:function(t){var e=this,n=this.spinId,r=this.localValue,i=this.computedInline,o=this.computedReadonly,s=this.vertical,a=this.disabled,c=this.computedFormatter,l=!bt(r),u=function(r,i,c,l,u,h,d){var f=t(c,{props:{scale:e.hasFocus?1.5:1.25},attrs:{"aria-hidden":"true"}}),p={hasFocus:e.hasFocus},m=function(t){a||o||(Vc(t,{propagation:!1}),e.setMouseup(!0),dc(t.currentTarget),e.handleStepRepeat(t,r))};return t("button",{staticClass:"btn btn-sm border-0 rounded-0",class:{"py-0":!s},attrs:{tabindex:"-1",type:"button",disabled:a||o||h,"aria-disabled":a||o||h?"true":null,"aria-controls":n,"aria-label":i||null,"aria-keyshortcuts":u||null},on:{mousedown:m,touchstart:m},key:l||null,ref:l},[e.normalizeSlot(d,p)||f])},h=u(this.stepUp,this.labelIncrement,fu,"inc","ArrowUp",!1,Ss),d=u(this.stepDown,this.labelDecrement,hu,"dec","ArrowDown",!1,os),f=t();this.name&&!a&&(f=t("input",{attrs:{type:"hidden",name:this.name,form:this.form||null,value:this.valueAsFixed},key:"hidden"}));var p=t("output",{staticClass:"flex-grow-1",class:{"d-flex":s,"align-self-center":!s,"align-items-center":s,"border-top":s,"border-bottom":s,"border-left":!s,"border-right":!s},attrs:this.computedSpinAttrs,key:"output",ref:"spinner"},[t("bdi",l?c(r):this.placeholder||"")]);return t("div",{staticClass:"b-form-spinbutton form-control",class:[{disabled:a,readonly:o,focus:this.hasFocus,"d-inline-flex":i||s,"d-flex":!i&&!s,"align-items-stretch":!s,"flex-column":s},this.sizeFormClass,this.stateClass],attrs:this.computedAttrs,on:{keydown:this.onKeydown,keyup:this.onKeyup,"!focus":this.onFocusBlur,"!blur":this.onFocusBlur}},s?[h,f,p,d]:[d,f,p,h])}}),ZO=Ie({components:{BFormSpinbutton:JO,BSpinbutton:JO}});function tT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function eT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tT(Object(n),!0).forEach((function(e){nT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nT(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rT,iT=Ac(Yt(eT(eT({},af),{},{disabled:kc(Ao,!1),noRemove:kc(Ao,!1),pill:kc(Ao,!1),removeLabel:kc(Mo,"Remove tag"),tag:kc(Mo,"span"),title:kc(Mo),variant:kc(Mo,"secondary")})),jn),oT=mi({name:jn,mixins:[cf,ga],props:iT,methods:{onRemove:function(t){var e=t.type,n=t.keyCode;this.disabled||"click"!==e&&("keydown"!==e||n!==Iu)||this.$emit(io)}},render:function(t){var e=this.title,n=this.tag,r=this.variant,i=this.pill,o=this.disabled,s=this.safeId(),a=this.safeId("_taglabel_"),c=t();this.noRemove||o||(c=t(Wc,{staticClass:"b-form-tag-remove",props:{ariaLabel:this.removeLabel},attrs:{"aria-controls":s,"aria-describedby":a,"aria-keyshortcuts":"Delete"},on:{click:this.onRemove,keydown:this.onRemove}}));var l=t("span",{staticClass:"b-form-tag-content flex-grow-1 text-truncate",attrs:{id:a}},this.normalizeSlot()||e);return t(Jh,{staticClass:"b-form-tag d-inline-flex align-items-baseline mw-100",class:{disabled:o},props:{tag:n,variant:r,pill:i},attrs:{id:s,title:e||null,"aria-labelledby":a}},[l,c])}});function sT(t){return uT(t)||lT(t)||cT(t)||aT()}function aT(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cT(t,e){if(t){if("string"===typeof t)return hT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hT(t,e):void 0}}function lT(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function uT(t){if(Array.isArray(t))return hT(t)}function hT(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dT(Object(n),!0).forEach((function(e){pT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pT(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mT=Lc("value",{type:Do,defaultValue:[]}),gT=mT.mixin,vT=mT.props,yT=mT.prop,bT=mT.event,wT=["text","email","tel","url","number"],_T=[".b-form-tag","button","input","select"].join(" "),OT=function(t){return Ca(t).replace(R,"\\s")},TT=function(t){return ua(t).map((function(t){return ka(Ia(t))})).filter((function(t,e,n){return t.length>0&&n.indexOf(t)===e}))},ST=function(t){return Tt(t)?t:xt(t)&&t.target.value||""},CT=function(){return{all:[],valid:[],invalid:[],duplicate:[]}},IT=Ac(Yt(fT(fT(fT(fT(fT(fT({},af),vT),Sb),kb),xb),{},{addButtonText:kc(Mo,"Add"),addButtonVariant:kc(Mo,"outline-secondary"),addOnChange:kc(Ao,!1),duplicateTagText:kc(Mo,"Duplicate tag(s)"),feedbackAriaLive:kc(Mo,"assertive"),ignoreInputFocusSelector:kc(Uo,_T),inputAttrs:kc(Lo,{}),inputClass:kc(Vo),inputId:kc(Mo),inputType:kc(Mo,"text",(function(t){return la(wT,t)})),invalidTagText:kc(Mo,"Invalid tag(s)"),limit:kc(No),limitTagsText:kc(Mo,"Tag limit reached"),noAddOnEnter:kc(Ao,!1),noOuterFocus:kc(Ao,!1),noTagRemove:kc(Ao,!1),placeholder:kc(Mo,"Add tag..."),removeOnDelete:kc(Ao,!1),separator:kc(Uo),tagClass:kc(Vo),tagPills:kc(Ao,!1),tagRemoveLabel:kc(Mo,"Remove tag"),tagRemovedLabel:kc(Mo,"Tag removed"),tagValidator:kc(Ro),tagVariant:kc(Mo,"secondary")})),Rn),ET=mi({name:Rn,mixins:[ih,cf,gT,Cb,Pb,Db,ga],props:IT,data:function(){return{hasFocus:!1,newTag:"",tags:[],removedTags:[],tagsState:CT(),focusState:null}},computed:{computedInputId:function(){return this.inputId||this.safeId("__input__")},computedInputType:function(){return la(wT,this.inputType)?this.inputType:"text"},computedInputAttrs:function(){var t=this.disabled,e=this.form;return fT(fT({},this.inputAttrs),{},{id:this.computedInputId,value:this.newTag,disabled:t,form:e})},computedInputHandlers:function(){return fT(fT({},Wt(this.bvListeners,[Bi,Vi])),{},{blur:this.onInputBlur,change:this.onInputChange,focus:this.onInputFocus,input:this.onInputInput,keydown:this.onInputKeydown,reset:this.reset})},computedSeparator:function(){return ua(this.separator).filter(Tt).filter(ae).join("")},computedSeparatorRegExp:function(){var t=this.computedSeparator;return t?new RegExp("[".concat(OT(t),"]+")):null},computedJoiner:function(){var t=this.computedSeparator.charAt(0);return" "!==t?"".concat(t," "):t},computeIgnoreInputFocusSelector:function(){return ua(this.ignoreInputFocusSelector).filter(ae).join(",").trim()},disableAddButton:function(){var t=this,e=ka(this.newTag);return""===e||!this.splitTags(e).some((function(e){return!la(t.tags,e)&&t.validateTag(e)}))},duplicateTags:function(){return this.tagsState.duplicate},hasDuplicateTags:function(){return this.duplicateTags.length>0},invalidTags:function(){return this.tagsState.invalid},hasInvalidTags:function(){return this.invalidTags.length>0},isLimitReached:function(){var t=this.limit;return St(t)&&t>=0&&this.tags.length>=t}},watch:(rT={},pT(rT,yT,(function(t){this.tags=TT(t)})),pT(rT,"tags",(function(t,e){$u(t,this[yT])||this.$emit(bT,t),$u(t,e)||(t=ua(t).filter(ae),e=ua(e).filter(ae),this.removedTags=e.filter((function(e){return!la(t,e)})))})),pT(rT,"tagsState",(function(t,e){$u(t,e)||this.$emit(bo,t.valid,t.invalid,t.duplicate)})),rT),created:function(){this.tags=TT(this[yT])},mounted:function(){var t=Wa("form",this.$el);t&&Mc(t,"reset",this.reset,ko)},beforeDestroy:function(){var t=Wa("form",this.$el);t&&$c(t,"reset",this.reset,ko)},methods:{addTag:function(t){if(t=Tt(t)?t:this.newTag,!this.disabled&&""!==ka(t)&&!this.isLimitReached){var e=this.parseTags(t);if(e.valid.length>0||0===e.all.length)if(Ga(this.getInput(),"select"))this.newTag="";else{var n=[].concat(sT(e.invalid),sT(e.duplicate));this.newTag=e.all.filter((function(t){return la(n,t)})).join(this.computedJoiner).concat(n.length>0?this.computedJoiner.charAt(0):"")}e.valid.length>0&&(this.tags=ua(this.tags,e.valid)),this.tagsState=e,this.focus()}},removeTag:function(t){this.disabled||(this.tags=this.tags.filter((function(e){return e!==t})))},reset:function(){var t=this;this.newTag="",this.tags=[],this.$nextTick((function(){t.removedTags=[],t.tagsState=CT()}))},onInputInput:function(t){if(!(this.disabled||xt(t)&&t.target.composing)){var e=ST(t),n=this.computedSeparatorRegExp;this.newTag!==e&&(this.newTag=e),e=Ea(e),n&&n.test(e.slice(-1))?this.addTag():this.tagsState=""===e?CT():this.parseTags(e)}},onInputChange:function(t){if(!this.disabled&&this.addOnChange){var e=ST(t);this.newTag!==e&&(this.newTag=e),this.addTag()}},onInputKeydown:function(t){if(!this.disabled&&xt(t)){var e=t.keyCode,n=t.target.value||"";this.noAddOnEnter||e!==Pu?!this.removeOnDelete||e!==Cu&&e!==Iu||""!==n||(Vc(t,{propagation:!1}),this.tags=this.tags.slice(0,-1)):(Vc(t,{propagation:!1}),this.addTag())}},onClick:function(t){var e=this,n=this.computeIgnoreInputFocusSelector;n&&Wa(n,t.target,!0)||this.$nextTick((function(){e.focus()}))},onInputFocus:function(t){var e=this;"out"!==this.focusState&&(this.focusState="in",this.$nextTick((function(){Ra((function(){e.hasFocus&&(e.$emit($i,t),e.focusState=null)}))})))},onInputBlur:function(t){var e=this;"in"!==this.focusState&&(this.focusState="out",this.$nextTick((function(){Ra((function(){e.hasFocus||(e.$emit(Oi,t),e.focusState=null)}))})))},onFocusin:function(t){this.hasFocus=!0,this.$emit(Bi,t)},onFocusout:function(t){this.hasFocus=!1,this.$emit(Vi,t)},handleAutofocus:function(){var t=this;this.$nextTick((function(){Ra((function(){t.autofocus&&t.focus()}))}))},focus:function(){this.disabled||dc(this.getInput())},blur:function(){this.disabled||fc(this.getInput())},splitTags:function(t){t=Ia(t);var e=this.computedSeparatorRegExp;return(e?t.split(e):[t]).map(ka).filter(ae)},parseTags:function(t){var e=this,n=this.splitTags(t),r={all:n,valid:[],invalid:[],duplicate:[]};return n.forEach((function(t){la(e.tags,t)||la(r.valid,t)?la(r.duplicate,t)||r.duplicate.push(t):e.validateTag(t)?r.valid.push(t):la(r.invalid,t)||r.invalid.push(t)})),r},validateTag:function(t){var e=this.tagValidator;return!Rc(e)||e(t)},getInput:function(){return Ha("#".concat(a_(this.computedInputId)),this.$el)},defaultRender:function(t){var e=t.addButtonText,n=t.addButtonVariant,r=t.addTag,i=t.disableAddButton,o=t.disabled,s=t.duplicateTagText,a=t.inputAttrs,c=t.inputClass,l=t.inputHandlers,u=t.inputType,h=t.invalidTagText,d=t.isDuplicate,f=t.isInvalid,p=t.isLimitReached,m=t.limitTagsText,g=t.noTagRemove,v=t.placeholder,y=t.removeTag,b=t.tagClass,w=t.tagPills,_=t.tagRemoveLabel,O=t.tagVariant,T=t.tags,S=this.$createElement,C=T.map((function(t){return t=Ia(t),S(oT,{class:b,props:{disabled:o,noRemove:g,pill:w,removeLabel:_,tag:"li",title:t,variant:O},on:{remove:function(){return y(t)}},key:"tags_".concat(t)},t)})),I=h&&f?this.safeId("__invalid_feedback__"):null,E=s&&d?this.safeId("__duplicate_feedback__"):null,k=m&&p?this.safeId("__limit_feedback__"):null,P=[a["aria-describedby"],I,E,k].filter(ae).join(" "),x=S("input",{staticClass:"b-form-tags-input w-100 flex-grow-1 p-0 m-0 bg-transparent border-0",class:c,style:{outline:0,minWidth:"5rem"},attrs:fT(fT({},a),{},{"aria-describedby":P||null,type:u,placeholder:v||null}),domProps:{value:a.value},on:l,directives:[{name:"model",value:a.value}],ref:"input"}),D=S(Ah,{staticClass:"b-form-tags-button py-0",class:{invisible:i},style:{fontSize:"90%"},props:{disabled:i||p,variant:n},on:{click:function(){return r()}},ref:"button"},[this.normalizeSlot(Jo)||e]),A=this.safeId("__tag_list__"),j=S("li",{staticClass:"b-form-tags-field flex-grow-1",attrs:{role:"none","aria-live":"off","aria-controls":A},key:"tags_field"},[S("div",{staticClass:"d-flex",attrs:{role:"group"}},[x,D])]),R=S("ul",{staticClass:"b-form-tags-list list-unstyled mb-0 d-flex flex-wrap align-items-center",attrs:{id:A},key:"tags_list"},[C,j]),N=S();if(h||s||m){var L=this.feedbackAriaLive,F=this.computedJoiner,M=S();I&&(M=S(gb,{props:{id:I,ariaLive:L,forceShow:!0},key:"tags_invalid_feedback"},[this.invalidTagText,": ",this.invalidTags.join(F)]));var $=S();E&&($=S(pb,{props:{id:E,ariaLive:L},key:"tags_duplicate_feedback"},[this.duplicateTagText,": ",this.duplicateTags.join(F)]));var B=S();k&&(B=S(pb,{props:{id:k,ariaLive:L},key:"tags_limit_feedback"},[m])),N=S("div",{attrs:{"aria-live":"polite","aria-atomic":"true"},key:"tags_feedback"},[M,$,B])}return[R,N]}},render:function(t){var e=this.name,n=this.disabled,r=this.required,i=this.form,o=this.tags,s=this.computedInputId,a=this.hasFocus,c=this.noOuterFocus,l=fT({tags:o.slice(),inputAttrs:this.computedInputAttrs,inputType:this.computedInputType,inputHandlers:this.computedInputHandlers,removeTag:this.removeTag,addTag:this.addTag,reset:this.reset,inputId:s,isInvalid:this.hasInvalidTags,invalidTags:this.invalidTags.slice(),isDuplicate:this.hasDuplicateTags,duplicateTags:this.duplicateTags.slice(),isLimitReached:this.isLimitReached,disableAddButton:this.disableAddButton},Gt(this.$props,["addButtonText","addButtonVariant","disabled","duplicateTagText","form","inputClass","invalidTagText","limit","limitTagsText","noTagRemove","placeholder","required","separator","size","state","tagClass","tagPills","tagRemoveLabel","tagVariant"])),u=this.normalizeSlot(ss,l)||this.defaultRender(l),h=t("output",{staticClass:"sr-only",attrs:{id:this.safeId("__selected_tags__"),role:"status",for:s,"aria-live":a?"polite":"off","aria-atomic":"true","aria-relevant":"additions text"}},this.tags.join(", ")),d=t("div",{staticClass:"sr-only",attrs:{id:this.safeId("__removed_tags__"),role:"status","aria-live":a?"assertive":"off","aria-atomic":"true"}},this.removedTags.length>0?"(".concat(this.tagRemovedLabel,") ").concat(this.removedTags.join(", ")):""),f=t();if(e&&!n){var p=o.length>0;f=(p?o:[""]).map((function(n){return t("input",{class:{"sr-only":!p},attrs:{type:p?"hidden":"text",value:n,required:r,name:e,form:i},key:"tag_input_".concat(n)})}))}return t("div",{staticClass:"b-form-tags form-control h-auto",class:[{focus:a&&!c&&!n,disabled:n},this.sizeFormClass,this.stateClass],attrs:{id:this.safeId(),role:"group",tabindex:n||c?null:"-1","aria-describedby":this.safeId("__selected_tags__")},on:{click:this.onClick,focusin:this.onFocusin,focusout:this.onFocusout}},[h,d,u,f])}}),kT=Ie({components:{BFormTags:ET,BTags:ET,BFormTag:oT,BTag:oT}});function PT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?PT(Object(n),!0).forEach((function(e){DT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function DT(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var AT,jT=Ac(Yt(xT(xT(xT(xT(xT(xT({},af),Sb),kb),xb),N_),{},{maxRows:kc(Ko),noAutoShrink:kc(Ao,!1),noResize:kc(Ao,!1),rows:kc(Ko,2),wrap:kc(Mo,"soft")})),Ln),RT=mi({name:Ln,directives:{"b-visible":dp},mixins:[ih,cf,Ju,Cb,Pb,Db,L_,I_,F_],props:jT,data:function(){return{heightInPx:null}},computed:{type:function(){return null},computedStyle:function(){var t={resize:!this.computedRows||this.noResize?"none":null};return this.computedRows||(t.height=this.heightInPx,t.overflowY="scroll"),t},computedMinRows:function(){return gl(va(this.rows,2),2)},computedMaxRows:function(){return gl(this.computedMinRows,va(this.maxRows,0))},computedRows:function(){return this.computedMinRows===this.computedMaxRows?this.computedMinRows:null},computedAttrs:function(){var t=this.disabled,e=this.required;return{id:this.safeId(),name:this.name||null,form:this.form||null,disabled:t,placeholder:this.placeholder||null,required:e,autocomplete:this.autocomplete||null,readonly:this.readonly||this.plaintext,rows:this.computedRows,wrap:this.wrap||null,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid}},computedListeners:function(){return xT(xT({},this.bvListeners),{},{input:this.onInput,change:this.onChange,blur:this.onBlur})}},watch:{localValue:function(){this.setHeight()}},mounted:function(){this.setHeight()},methods:{visibleCallback:function(t){t&&this.$nextTick(this.setHeight)},setHeight:function(){var t=this;this.$nextTick((function(){Ra((function(){t.heightInPx=t.computeHeight()}))}))},computeHeight:function(){if(this.$isServer||!bt(this.computedRows))return null;var t=this.$el;if(!Va(t))return null;var e=ac(t),n=ya(e.lineHeight,1),r=ya(e.borderTopWidth,0)+ya(e.borderBottomWidth,0),i=ya(e.paddingTop,0)+ya(e.paddingBottom,0),o=r+i,s=n*this.computedMinRows+o,a=oc(t,"height")||e.height;rc(t,"height","auto");var c=t.scrollHeight;rc(t,"height",a);var l=gl((c-i)/n,2),u=ml(gl(l,this.computedMinRows),this.computedMaxRows),h=gl(yl(u*n+o),s);return this.noAutoShrink&&ya(a,0)>h?a:"".concat(h,"px")}},render:function(t){return t("textarea",{class:this.computedClass,style:this.computedStyle,directives:[{name:"b-visible",value:this.visibleCallback,modifiers:{640:!0}}],attrs:this.computedAttrs,domProps:{value:this.localValue},on:this.computedListeners,ref:"input"})}}),NT=Ie({components:{BFormTextarea:RT,BTextarea:RT}});function LT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function FT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?LT(Object(n),!0).forEach((function(e){MT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function MT(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $T(t,e){return qT(t)||zT(t,e)||VT(t,e)||BT()}function BT(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function VT(t,e){if(t){if("string"===typeof t)return UT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?UT(t,e):void 0}}function UT(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zT(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done);s=!0)if(o.push(r.value),e&&o.length===e)break}catch(c){a=!0,i=c}finally{try{s||null==n["return"]||n["return"]()}finally{if(a)throw i}}return o}}function qT(t){if(Array.isArray(t))return t}var HT,GT=Lc("value",{type:Mo,defaultValue:""}),WT=GT.mixin,KT=GT.props,YT=GT.prop,QT=GT.event,XT="numeric",JT=function(t){return"00".concat(t||"").slice(-2)},ZT=function(t){t=Ia(t);var e=null,n=null,r=null;if(z.test(t)){var i=t.split(":").map((function(t){return va(t,null)})),o=$T(i,3);e=o[0],n=o[1],r=o[2]}return{hours:wt(e)?null:e,minutes:wt(n)?null:n,seconds:wt(r)?null:r,ampm:wt(e)||e<12?0:1}},tS=function(t){var e=t.hours,n=t.minutes,r=t.seconds,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(bt(e)||bt(n)||i&&bt(r))return"";var o=[e,n,i?r:0];return o.map(JT).join(":")},eS=Ac(Yt(FT(FT(FT(FT({},af),KT),Gt(XO,["labelIncrement","labelDecrement"])),{},{ariaLabelledby:kc(Mo),disabled:kc(Ao,!1),footerTag:kc(Mo,"footer"),headerTag:kc(Mo,"header"),hidden:kc(Ao,!1),hideHeader:kc(Ao,!1),hour12:kc(Ao,null),labelAm:kc(Mo,"AM"),labelAmpm:kc(Mo,"AM/PM"),labelHours:kc(Mo,"Hours"),labelMinutes:kc(Mo,"Minutes"),labelNoTimeSelected:kc(Mo,"No time selected"),labelPm:kc(Mo,"PM"),labelSeconds:kc(Mo,"Seconds"),labelSelected:kc(Mo,"Selected time"),locale:kc(Uo),minutesStep:kc(Ko,1),readonly:kc(Ao,!1),secondsStep:kc(Ko,1),showSeconds:kc(Ao,!1)})),Lr),nS=mi({name:Lr,mixins:[cf,WT,ga],props:eS,data:function(){var t=ZT(this[YT]||"");return{modelHours:t.hours,modelMinutes:t.minutes,modelSeconds:t.seconds,modelAmpm:t.ampm,isLive:!1}},computed:{computedHMS:function(){var t=this.modelHours,e=this.modelMinutes,n=this.modelSeconds;return tS({hours:t,minutes:e,seconds:n},this.showSeconds)},resolvedOptions:function(){var t=ua(this.locale).filter(ae),e={hour:XT,minute:XT,second:XT};wt(this.hour12)||(e.hour12=!!this.hour12);var n=new Intl.DateTimeFormat(t,e),r=n.resolvedOptions(),i=r.hour12||!1,o=r.hourCycle||(i?"h12":"h23");return{locale:r.locale,hour12:i,hourCycle:o}},computedLocale:function(){return this.resolvedOptions.locale},computedLang:function(){return(this.computedLocale||"").replace(/-u-.*$/,"")},computedRTL:function(){return sf(this.computedLang)},computedHourCycle:function(){return this.resolvedOptions.hourCycle},is12Hour:function(){return!!this.resolvedOptions.hour12},context:function(){return{locale:this.computedLocale,isRTL:this.computedRTL,hourCycle:this.computedHourCycle,hour12:this.is12Hour,hours:this.modelHours,minutes:this.modelMinutes,seconds:this.showSeconds?this.modelSeconds:0,value:this.computedHMS,formatted:this.formattedTimeString}},valueId:function(){return this.safeId()||null},computedAriaLabelledby:function(){return[this.ariaLabelledby,this.valueId].filter(ae).join(" ")||null},timeFormatter:function(){var t={hour12:this.is12Hour,hourCycle:this.computedHourCycle,hour:XT,minute:XT,timeZone:"UTC"};return this.showSeconds&&(t.second=XT),Gd(this.computedLocale,t)},numberFormatter:function(){var t=new Intl.NumberFormat(this.computedLocale,{style:"decimal",minimumIntegerDigits:2,minimumFractionDigits:0,maximumFractionDigits:0,notation:"standard"});return t.format},formattedTimeString:function(){var t=this.modelHours,e=this.modelMinutes,n=this.showSeconds&&this.modelSeconds||0;return this.computedHMS?this.timeFormatter(Ud(Date.UTC(0,0,1,t,e,n))):this.labelNoTimeSelected||" "},spinScopedSlots:function(){var t=this.$createElement;return{increment:function(e){var n=e.hasFocus;return t(au,{props:{scale:n?1.5:1.25},attrs:{"aria-hidden":"true"}})},decrement:function(e){var n=e.hasFocus;return t(au,{props:{flipV:!0,scale:n?1.5:1.25},attrs:{"aria-hidden":"true"}})}}}},watch:(AT={},MT(AT,YT,(function(t,e){if(t!==e&&!$u(ZT(t),ZT(this.computedHMS))){var n=ZT(t),r=n.hours,i=n.minutes,o=n.seconds,s=n.ampm;this.modelHours=r,this.modelMinutes=i,this.modelSeconds=o,this.modelAmpm=s}})),MT(AT,"computedHMS",(function(t,e){t!==e&&this.$emit(QT,t)})),MT(AT,"context",(function(t,e){$u(t,e)||this.$emit(ki,t)})),MT(AT,"modelAmpm",(function(t,e){var n=this;if(t!==e){var r=bt(this.modelHours)?0:this.modelHours;this.$nextTick((function(){0===t&&r>11?n.modelHours=r-12:1===t&&r<12&&(n.modelHours=r+12)}))}})),MT(AT,"modelHours",(function(t,e){t!==e&&(this.modelAmpm=t>11?1:0)})),AT),created:function(){var t=this;this.$nextTick((function(){t.$emit(ki,t.context)}))},mounted:function(){this.setLive(!0)},activated:function(){this.setLive(!0)},deactivated:function(){this.setLive(!1)},beforeDestroy:function(){this.setLive(!1)},methods:{focus:function(){this.disabled||dc(this.$refs.spinners[0])},blur:function(){if(!this.disabled){var t=Ma();Ka(this.$el,t)&&fc(t)}},formatHours:function(t){var e=this.computedHourCycle;return t=this.is12Hour&&t>12?t-12:t,t=0===t&&"h12"===e?12:0===t&&"h24"===e?24:12===t&&"h11"===e?0:t,this.numberFormatter(t)},formatMinutes:function(t){return this.numberFormatter(t)},formatSeconds:function(t){return this.numberFormatter(t)},formatAmpm:function(t){return 0===t?this.labelAm:1===t?this.labelPm:""},setHours:function(t){this.modelHours=t},setMinutes:function(t){this.modelMinutes=t},setSeconds:function(t){this.modelSeconds=t},setAmpm:function(t){this.modelAmpm=t},onSpinLeftRight:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.type,n=t.keyCode;if(!this.disabled&&"keydown"===e&&(n===Au||n===Nu)){Vc(t);var r=this.$refs.spinners||[],i=r.map((function(t){return!!t.hasFocus})).indexOf(!0);i+=n===Au?-1:1,i=i>=r.length?0:i<0?r.length-1:i,dc(r[i])}},setLive:function(t){var e=this;t?this.$nextTick((function(){Ra((function(){e.isLive=!0}))})):this.isLive=!1}},render:function(t){var e=this;if(this.hidden)return t();var n=this.disabled,r=this.readonly,i=this.computedLocale,o=this.computedAriaLabelledby,s=this.labelIncrement,a=this.labelDecrement,c=this.valueId,l=this.focus,u=[],h=function(o,l,h){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},f=e.safeId("_spinbutton_".concat(l,"_"))||null;return u.push(f),t(JO,MT({class:h,props:FT({id:f,placeholder:"--",vertical:!0,required:!0,disabled:n,readonly:r,locale:i,labelIncrement:s,labelDecrement:a,wrap:!0,ariaControls:c,min:0},d),scopedSlots:e.spinScopedSlots,on:{change:o},key:l,ref:"spinners"},fi,!0))},d=function(){return t("div",{staticClass:"d-flex flex-column",class:{"text-muted":n||r},attrs:{"aria-hidden":"true"}},[t(cu,{props:{shiftV:4,scale:.5}}),t(cu,{props:{shiftV:-4,scale:.5}})])},f=[];f.push(h(this.setHours,"hours","b-time-hours",{value:this.modelHours,max:23,step:1,formatterFn:this.formatHours,ariaLabel:this.labelHours})),f.push(d()),f.push(h(this.setMinutes,"minutes","b-time-minutes",{value:this.modelMinutes,max:59,step:this.minutesStep||1,formatterFn:this.formatMinutes,ariaLabel:this.labelMinutes})),this.showSeconds&&(f.push(d()),f.push(h(this.setSeconds,"seconds","b-time-seconds",{value:this.modelSeconds,max:59,step:this.secondsStep||1,formatterFn:this.formatSeconds,ariaLabel:this.labelSeconds}))),this.isLive&&this.is12Hour&&f.push(h(this.setAmpm,"ampm","b-time-ampm",{value:this.modelAmpm,max:1,formatterFn:this.formatAmpm,ariaLabel:this.labelAmpm,required:!1})),f=t("div",{staticClass:"d-flex align-items-center justify-content-center mx-auto",attrs:{role:"group",tabindex:n||r?null:"-1","aria-labelledby":o},on:{keydown:this.onSpinLeftRight,click:function(t){t.target===t.currentTarget&&l()}}},f);var p=t("output",{staticClass:"form-control form-control-sm text-center",class:{disabled:n||r},attrs:{id:c,role:"status",for:u.filter(ae).join(" ")||null,tabindex:n?null:"-1","aria-live":this.isLive?"polite":"off","aria-atomic":"true"},on:{click:l,focus:l}},[t("bdi",this.formattedTimeString),this.computedHMS?t("span",{staticClass:"sr-only"}," (".concat(this.labelSelected,") ")):""]),m=t(this.headerTag,{staticClass:"b-time-header",class:{"sr-only":this.hideHeader}},[p]),g=this.normalizeSlot(),v=g?t(this.footerTag,{staticClass:"b-time-footer"},g):t();return t("div",{staticClass:"b-time d-inline-flex flex-column text-center",attrs:{role:"group",lang:this.computedLang||null,"aria-labelledby":o||null,"aria-disabled":n?"true":null,"aria-readonly":r&&!n?"true":null}},[m,f,v])}});function rS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function iS(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rS(Object(n),!0).forEach((function(e){oS(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sS=Lc("value",{type:Mo,defaultValue:""}),aS=sS.mixin,cS=sS.props,lS=sS.prop,uS=sS.event,hS=Wt(eS,["hidden","id","value"]),dS=Wt(kw,["formattedValue","id","lang","rtl","value"]),fS=Ac(Yt(iS(iS(iS(iS(iS({},af),cS),hS),dS),{},{closeButtonVariant:kc(Mo,"outline-secondary"),labelCloseButton:kc(Mo,"Close"),labelNowButton:kc(Mo,"Select now"),labelResetButton:kc(Mo,"Reset"),noCloseButton:kc(Ao,!1),nowButton:kc(Ao,!1),nowButtonVariant:kc(Mo,"outline-primary"),resetButton:kc(Ao,!1),resetButtonVariant:kc(Mo,"outline-danger"),resetValue:kc(Go)})),Fn),pS=mi({name:Fn,mixins:[cf,aS],props:fS,data:function(){return{localHMS:this[lS]||"",localLocale:null,isRTL:!1,formattedValue:"",isVisible:!1}},computed:{computedLang:function(){return(this.localLocale||"").replace(/-u-.*$/i,"")||null}},watch:(HT={},oS(HT,lS,(function(t){this.localHMS=t||""})),oS(HT,"localHMS",(function(t){this.isVisible&&this.$emit(uS,t||"")})),HT),methods:{focus:function(){this.disabled||dc(this.$refs.control)},blur:function(){this.disabled||fc(this.$refs.control)},setAndClose:function(t){var e=this;this.localHMS=t,this.$nextTick((function(){e.$refs.control.hide(!0)}))},onInput:function(t){this.localHMS!==t&&(this.localHMS=t)},onContext:function(t){var e=t.isRTL,n=t.locale,r=t.value,i=t.formatted;this.isRTL=e,this.localLocale=n,this.formattedValue=i,this.localHMS=r||"",this.$emit(ki,t)},onNowButton:function(){var t=new Date,e=t.getHours(),n=t.getMinutes(),r=this.showSeconds?t.getSeconds():0,i=[e,n,r].map((function(t){return"00".concat(t||"").slice(-2)})).join(":");this.setAndClose(i)},onResetButton:function(){this.setAndClose(this.resetValue)},onCloseButton:function(){this.$refs.control.hide(!0)},onShow:function(){this.isVisible=!0},onShown:function(){var t=this;this.$nextTick((function(){dc(t.$refs.time),t.$emit(mo)}))},onHidden:function(){this.isVisible=!1,this.$emit(zi)},defaultButtonFn:function(t){var e=t.isHovered,n=t.hasFocus;return this.$createElement(e||n?uu:lu,{attrs:{"aria-hidden":"true"}})}},render:function(t){var e=this.localHMS,n=this.disabled,r=this.readonly,i=this.$props,o=wt(this.placeholder)?this.labelNoTimeSelected:this.placeholder,s=[];if(this.nowButton){var a=this.labelNowButton;s.push(t(Ah,{props:{size:"sm",disabled:n||r,variant:this.nowButtonVariant},attrs:{"aria-label":a||null},on:{click:this.onNowButton},key:"now-btn"},a))}if(this.resetButton){s.length>0&&s.push(t("span",""));var c=this.labelResetButton;s.push(t(Ah,{props:{size:"sm",disabled:n||r,variant:this.resetButtonVariant},attrs:{"aria-label":c||null},on:{click:this.onResetButton},key:"reset-btn"},c))}if(!this.noCloseButton){s.length>0&&s.push(t("span",""));var l=this.labelCloseButton;s.push(t(Ah,{props:{size:"sm",disabled:n,variant:this.closeButtonVariant},attrs:{"aria-label":l||null},on:{click:this.onCloseButton},key:"close-btn"},l))}s.length>0&&(s=[t("div",{staticClass:"b-form-date-controls d-flex flex-wrap",class:{"justify-content-between":s.length>1,"justify-content-end":s.length<2}},s)]);var u=t(nS,{staticClass:"b-form-time-control",props:iS(iS({},xc(hS,i)),{},{value:e,hidden:!this.isVisible}),on:{input:this.onInput,context:this.onContext},ref:"time"},s);return t(Pw,{staticClass:"b-form-timepicker",props:iS(iS({},xc(dS,i)),{},{id:this.safeId(),value:e,formattedValue:e?this.formattedValue:"",placeholder:o,rtl:this.isRTL,lang:this.computedLang}),on:{show:this.onShow,shown:this.onShown,hidden:this.onHidden},scopedSlots:oS({},rs,this.$scopedSlots[rs]||this.defaultButtonFn),ref:"control"},[u])}}),mS=Ie({components:{BFormTimepicker:pS,BTimepicker:pS}}),gS=Ie({components:{BImg:qf,BImgLazy:wp}}),vS=Ac({tag:kc(Mo,"div")},Wn),yS=mi({name:Wn,functional:!0,props:vS,render:function(t,e){var n=e.props,r=e.data,i=e.children;return t(n.tag,ii(r,{staticClass:"input-group-text"}),i)}}),bS=Ac({append:kc(Ao,!1),id:kc(Mo),isText:kc(Ao,!1),tag:kc(Mo,"div")},qn),wS=mi({name:qn,functional:!0,props:bS,render:function(t,e){var n=e.props,r=e.data,i=e.children,o=n.append;return t(n.tag,ii(r,{class:{"input-group-append":o,"input-group-prepend":!o},attrs:{id:n.id}}),n.isText?[t(yS,i)]:i)}});function _S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function OS(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_S(Object(n),!0).forEach((function(e){TS(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function TS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var SS=Ac(Wt(bS,["append"]),Hn),CS=mi({name:Hn,functional:!0,props:SS,render:function(t,e){var n=e.props,r=e.data,i=e.children;return t(wS,ii(r,{props:OS(OS({},n),{},{append:!0})}),i)}});function IS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ES(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?IS(Object(n),!0).forEach((function(e){kS(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IS(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var PS=Ac(Wt(bS,["append"]),Gn),xS=mi({name:Gn,functional:!0,props:PS,render:function(t,e){var n=e.props,r=e.data,i=e.children;return t(wS,ii(r,{props:ES(ES({},n),{},{append:!1})}),i)}});function DS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var AS=Ac({append:kc(Mo),appendHtml:kc(Mo),id:kc(Mo),prepend:kc(Mo),prependHtml:kc(Mo),size:kc(Mo),tag:kc(Mo,"div")},zn),jS=mi({name:zn,functional:!0,props:AS,render:function(t,e){var n=e.props,r=e.data,i=e.slots,o=e.scopedSlots,s=n.prepend,a=n.prependHtml,c=n.append,l=n.appendHtml,u=n.size,h=o||{},d=i(),f={},p=t(),m=pa(Ks,h,d);(m||s||a)&&(p=t(xS,[m?ma(Ks,f,h,d):t(yS,{domProps:ed(a,s)})]));var g=t(),v=pa(Zo,h,d);return(v||c||l)&&(g=t(CS,[v?ma(Zo,f,h,d):t(yS,{domProps:ed(l,c)})])),t(n.tag,ii(r,{staticClass:"input-group",class:DS({},"input-group-".concat(u),u),attrs:{id:n.id||null,role:"group"}}),[p,ma(ss,f,h,d),g])}}),RS=Ie({components:{BInputGroup:jS,BInputGroupAddon:wS,BInputGroupPrepend:xS,BInputGroupAppend:CS,BInputGroupText:yS}});function NS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var LS=Ac({fluid:kc(Ho,!1),tag:kc(Mo,"div")},sn),FS=mi({name:sn,functional:!0,props:LS,render:function(t,e){var n=e.props,r=e.data,i=e.children,o=n.fluid;return t(n.tag,ii(r,{class:NS({container:!(o||""===o),"container-fluid":!0===o||""===o},"container-".concat(o),o&&!0!==o)}),i)}});function MS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $S=Ac({bgVariant:kc(Mo),borderVariant:kc(Mo),containerFluid:kc(Ho,!1),fluid:kc(Ao,!1),header:kc(Mo),headerHtml:kc(Mo),headerLevel:kc(Ko,3),headerTag:kc(Mo,"h1"),lead:kc(Mo),leadHtml:kc(Mo),leadTag:kc(Mo,"p"),tag:kc(Mo,"div"),textVariant:kc(Mo)},Kn),BS=mi({name:Kn,functional:!0,props:$S,render:function(t,e){var n,r=e.props,i=e.data,o=e.slots,s=e.scopedSlots,a=r.header,c=r.headerHtml,l=r.lead,u=r.leadHtml,h=r.textVariant,d=r.bgVariant,f=r.borderVariant,p=s||{},m=o(),g={},v=t(),y=pa(vs,p,m);if(y||a||c){var b=r.headerLevel;v=t(r.headerTag,{class:MS({},"display-".concat(b),b),domProps:y?{}:ed(c,a)},ma(vs,g,p,m))}var w=t(),_=pa(ks,p,m);(_||l||u)&&(w=t(r.leadTag,{staticClass:"lead",domProps:_?{}:ed(u,l)},ma(ks,g,p,m)));var O=[v,w,ma(ss,g,p,m)];return r.fluid&&(O=[t(FS,{props:{fluid:r.containerFluid}},O)]),t(r.tag,ii(i,{staticClass:"jumbotron",class:(n={"jumbotron-fluid":r.fluid},MS(n,"text-".concat(h),h),MS(n,"bg-".concat(d),d),MS(n,"border-".concat(f),f),MS(n,"border",f),n)}),O)}}),VS=Ie({components:{BJumbotron:BS}});function US(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zS(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?US(Object(n),!0).forEach((function(e){qS(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):US(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var HS=["start","end","center"],GS=pc((function(t,e){return e=ka(Ia(e)),e?Pa(["row-cols",t,e].filter(ae).join("-")):null})),WS=pc((function(t){return Pa(t.replace("cols",""))})),KS=[],YS=function(){var t=_c().reduce((function(t,e){return t[Ec(e,"cols")]=kc(Ko),t}),Mt(null));return KS=Ut(t),Ac(Yt(zS(zS({},t),{},{alignContent:kc(Mo,null,(function(t){return la(ua(HS,"between","around","stretch"),t)})),alignH:kc(Mo,null,(function(t){return la(ua(HS,"between","around"),t)})),alignV:kc(Mo,null,(function(t){return la(ua(HS,"baseline","stretch"),t)})),noGutters:kc(Ao,!1),tag:kc(Mo,"div")})),yr)},QS={name:yr,functional:!0,get props(){return delete this.props,this.props=YS(),this.props},render:function(t,e){var n,r=e.props,i=e.data,o=e.children,s=r.alignV,a=r.alignH,c=r.alignContent,l=[];return KS.forEach((function(t){var e=GS(WS(t),r[t]);e&&l.push(e)})),l.push((n={"no-gutters":r.noGutters},qS(n,"align-items-".concat(s),s),qS(n,"justify-content-".concat(a),a),qS(n,"align-content-".concat(c),c),n)),t(r.tag,ii(i,{staticClass:"row",class:l}),o)}},XS=Ie({components:{BContainer:FS,BRow:QS,BCol:g_,BFormRow:wb}}),JS=Ie({components:{BLink:yh}});function ZS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tC=Ac({flush:kc(Ao,!1),horizontal:kc(Ho,!1),tag:kc(Mo,"div")},Qn),eC=mi({name:Qn,functional:!0,props:tC,render:function(t,e){var n=e.props,r=e.data,i=e.children,o=""===n.horizontal||n.horizontal;o=!n.flush&&o;var s={staticClass:"list-group",class:ZS({"list-group-flush":n.flush,"list-group-horizontal":!0===o},"list-group-horizontal-".concat(o),Tt(o))};return t(n.tag,ii(r,s),i)}});function nC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rC(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nC(Object(n),!0).forEach((function(e){iC(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function iC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oC=["a","router-link","button","b-link"],sC=Wt(vh,["event","routerTag"]);delete sC.href.default,delete sC.to.default;var aC=Ac(Yt(rC(rC({},sC),{},{action:kc(Ao,!1),button:kc(Ao,!1),tag:kc(Mo,"div"),variant:kc(Mo)})),Xn),cC=mi({name:Xn,functional:!0,props:aC,render:function(t,e){var n,r=e.props,i=e.data,o=e.children,s=r.button,a=r.variant,c=r.active,l=r.disabled,u=$l(r),h=s?"button":u?yh:r.tag,d=!!(r.action||u||s||la(oC,r.tag)),f={},p={};return $a(h,"button")?(i.attrs&&i.attrs.type||(f.type="button"),r.disabled&&(f.disabled=!0)):p=xc(sC,r),t(h,ii(i,{attrs:f,props:p,staticClass:"list-group-item",class:(n={},iC(n,"list-group-item-".concat(a),a),iC(n,"list-group-item-action",d),iC(n,"active",c),iC(n,"disabled",l),n)}),o)}}),lC=Ie({components:{BListGroup:eC,BListGroupItem:cC}});function uC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hC=Ac({right:kc(Ao,!1),tag:kc(Mo,"div"),verticalAlign:kc(Mo,"top")},Zn),dC=mi({name:Zn,functional:!0,props:hC,render:function(t,e){var n=e.props,r=e.data,i=e.children,o=n.verticalAlign,s="top"===o?"start":"bottom"===o?"end":o;return t(n.tag,ii(r,{staticClass:"media-aside",class:uC({"media-aside-right":n.right},"align-self-".concat(s),s)}),i)}}),fC=Ac({tag:kc(Mo,"div")},tr),pC=mi({name:tr,functional:!0,props:fC,render:function(t,e){var n=e.props,r=e.data,i=e.children;return t(n.tag,ii(r,{staticClass:"media-body"}),i)}}),mC=Ac({noBody:kc(Ao,!1),rightAlign:kc(Ao,!1),tag:kc(Mo,"div"),verticalAlign:kc(Mo,"top")},Jn),gC=mi({name:Jn,functional:!0,props:mC,render:function(t,e){var n=e.props,r=e.data,i=e.slots,o=e.scopedSlots,s=e.children,a=n.noBody,c=n.rightAlign,l=n.verticalAlign,u=a?s:[];if(!a){var h={},d=i(),f=o||{};u.push(t(pC,ma(ss,h,f,d)));var p=ma(ts,h,f,d);p&&u[c?"push":"unshift"](t(dC,{props:{right:c,verticalAlign:l}},p))}return t(n.tag,ii(r,{staticClass:"media"}),u)}}),vC=Ie({components:{BMedia:gC,BMediaAside:dC,BMediaBody:pC}}),yC="$_documentListeners",bC=mi({created:function(){this[yC]={}},beforeDestroy:function(){var t=this;Ut(this[yC]||{}).forEach((function(e){t[yC][e].forEach((function(n){t.listenOffDocument(e,n)}))})),this[yC]=null},methods:{registerDocumentListener:function(t,e){this[yC]&&(this[yC][t]=this[yC][t]||[],la(this[yC][t],e)||this[yC][t].push(e))},unregisterDocumentListener:function(t,e){this[yC]&&this[yC][t]&&(this[yC][t]=this[yC][t].filter((function(t){return t!==e})))},listenDocument:function(t,e,n){t?this.listenOnDocument(e,n):this.listenOffDocument(e,n)},listenOnDocument:function(t,e){l&&(Mc(document,t,e,Po),this.registerDocumentListener(t,e))},listenOffDocument:function(t,e){l&&$c(document,t,e,Po),this.unregisterDocumentListener(t,e)}}}),wC="$_windowListeners",_C=mi({created:function(){this[wC]={}},beforeDestroy:function(){var t=this;Ut(this[wC]||{}).forEach((function(e){t[wC][e].forEach((function(n){t.listenOffWindow(e,n)}))})),this[wC]=null},methods:{registerWindowListener:function(t,e){this[wC]&&(this[wC][t]=this[wC][t]||[],la(this[wC][t],e)||this[wC][t].push(e))},unregisterWindowListener:function(t,e){this[wC]&&this[wC][t]&&(this[wC][t]=this[wC][t].filter((function(t){return t!==e})))},listenWindow:function(t,e,n){t?this.listenOnWindow(e,n):this.listenOffWindow(e,n)},listenOnWindow:function(t,e){l&&(Mc(window,t,e,Po),this.registerWindowListener(t,e))},listenOffWindow:function(t,e){l&&$c(window,t,e,Po),this.unregisterWindowListener(t,e)}}}),OC=mi({computed:{bvParent:function(){return this.$parent||this.$root===this&&this.$options.bvParent}}}),TC=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t&&t.$options._scopeId||e};function SC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var CC=mi({mixins:[OC],computed:{scopedStyleAttrs:function(){var t=TC(this.bvParent);return t?SC({},t,""):{}}}});function IC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function EC(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?IC(Object(n),!0).forEach((function(e){kC(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var PC=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.$root?t.$root.$options.bvEventRoot||t.$root:null;return new e(EC(EC({},n),{},{parent:t,bvParent:t,bvEventRoot:r}))},xC=mi({abstract:!0,name:Zr,props:{nodes:kc($o)},data:function(t){return{updatedNodes:t.nodes}},destroyed:function(){La(this.$el)},render:function(t){var e=this.updatedNodes,n=_t(e)?e({}):e;return n=ua(n).filter(ae),n&&n.length>0&&!n[0].text?n[0]:t()}}),DC={container:kc([dt,Mo],"body"),disabled:kc(Ao,!1),tag:kc(Mo,"div")},AC=mi({name:Jr,mixins:[ga],props:DC,watch:{disabled:{immediate:!0,handler:function(t){t?this.unmountTarget():this.$nextTick(this.mountTarget)}}},created:function(){this.$_defaultFn=null,this.$_target=null},beforeMount:function(){this.mountTarget()},updated:function(){this.updateTarget()},beforeDestroy:function(){this.unmountTarget(),this.$_defaultFn=null},methods:{getContainer:function(){if(l){var t=this.container;return Tt(t)?Ha(t):t}return null},mountTarget:function(){if(!this.$_target){var t=this.getContainer();if(t){var e=document.createElement("div");t.appendChild(e),this.$_target=PC(this,xC,{el:e,propsData:{nodes:ua(this.normalizeSlot())}})}}},updateTarget:function(){if(l&&this.$_target){var t=this.$scopedSlots.default;this.disabled||(t&&this.$_defaultFn!==t?this.$_target.updatedNodes=t:t||(this.$_target.updatedNodes=this.$slots.default)),this.$_defaultFn=t}},unmountTarget:function(){this.$_target&&this.$_target.$destroy(),this.$_target=null}},render:function(t){if(this.disabled){var e=ua(this.normalizeSlot()).filter(ae);if(e.length>0&&!e[0].text)return e[0]}return t()}}),jC=mi({name:Jr,mixins:[ga],props:DC,render:function(t){if(this.disabled){var e=ua(this.normalizeSlot()).filter(ae);if(e.length>0)return e[0]}return t(r["default"].Teleport,{to:this.container},this.normalizeSlot())}}),RC=di?jC:AC;function NC(t){return NC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NC(t)}function LC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function FC(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?LC(Object(n),!0).forEach((function(e){MC(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function MC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VC(t,e,n){return e&&BC(t.prototype,e),n&&BC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function UC(){return UC="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=zC(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},UC.apply(this,arguments)}function zC(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=QC(t),null===t)break;return t}function qC(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&HC(t,e)}function HC(t,e){return HC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},HC(t,e)}function GC(t){var e=YC();return function(){var n,r=QC(t);if(e){var i=QC(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return WC(this,n)}}function WC(t,e){if(e&&("object"===NC(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return KC(t)}function KC(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YC(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ti){return!1}}function QC(t){return QC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},QC(t)}var XC=function(t){qC(n,t);var e=GC(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $C(this,n),r=e.call(this,t,i),$t(KC(r),{trigger:Qt()}),r}return VC(n,null,[{key:"Defaults",get:function(){return FC(FC({},UC(QC(n),"Defaults",this)),{},{trigger:null})}}]),n}(Gv),JC=1040,ZC=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",tI=".sticky-top",eI=".navbar-toggler",nI=mi({data:function(){return{modals:[],baseZIndex:null,scrollbarWidth:null,isBodyOverflowing:!1}},computed:{modalCount:function(){return this.modals.length},modalsAreOpen:function(){return this.modalCount>0}},watch:{modalCount:function(t,e){l&&(this.getScrollbarWidth(),t>0&&0===e?(this.checkScrollbar(),this.setScrollbar(),Qa(document.body,"modal-open")):0===t&&e>0&&(this.resetScrollbar(),Xa(document.body,"modal-open")),Za(document.body,"data-modal-open-count",String(t)))},modals:function(t){var e=this;this.checkScrollbar(),Ra((function(){e.updateModals(t||[])}))}},methods:{registerModal:function(t){t&&-1===this.modals.indexOf(t)&&this.modals.push(t)},unregisterModal:function(t){var e=this.modals.indexOf(t);e>-1&&(this.modals.splice(e,1),t._isBeingDestroyed||t._isDestroyed||this.resetModal(t))},getBaseZIndex:function(){if(l&&bt(this.baseZIndex)){var t=document.createElement("div");Qa(t,"modal-backdrop"),Qa(t,"d-none"),rc(t,"display","none"),document.body.appendChild(t),this.baseZIndex=va(ac(t).zIndex,JC),document.body.removeChild(t)}return this.baseZIndex||JC},getScrollbarWidth:function(){if(l&&bt(this.scrollbarWidth)){var t=document.createElement("div");Qa(t,"modal-scrollbar-measure"),document.body.appendChild(t),this.scrollbarWidth=sc(t).width-t.clientWidth,document.body.removeChild(t)}return this.scrollbarWidth||0},updateModals:function(t){var e=this,n=this.getBaseZIndex(),r=this.getScrollbarWidth();t.forEach((function(t,i){t.zIndex=n+i,t.scrollbarWidth=r,t.isTop=i===e.modals.length-1,t.isBodyOverflowing=e.isBodyOverflowing}))},resetModal:function(t){t&&(t.zIndex=this.getBaseZIndex(),t.isTop=!0,t.isBodyOverflowing=!1)},checkScrollbar:function(){var t=sc(document.body),e=t.left,n=t.right;this.isBodyOverflowing=e+n<window.innerWidth},setScrollbar:function(){var t=document.body;if(t._paddingChangedForModal=t._paddingChangedForModal||[],t._marginChangedForModal=t._marginChangedForModal||[],this.isBodyOverflowing){var e=this.scrollbarWidth;qa(ZC).forEach((function(n){var r=oc(n,"paddingRight")||"";Za(n,"data-padding-right",r),rc(n,"paddingRight","".concat(ya(ac(n).paddingRight,0)+e,"px")),t._paddingChangedForModal.push(n)})),qa(tI).forEach((function(n){var r=oc(n,"marginRight")||"";Za(n,"data-margin-right",r),rc(n,"marginRight","".concat(ya(ac(n).marginRight,0)-e,"px")),t._marginChangedForModal.push(n)})),qa(eI).forEach((function(n){var r=oc(n,"marginRight")||"";Za(n,"data-margin-right",r),rc(n,"marginRight","".concat(ya(ac(n).marginRight,0)+e,"px")),t._marginChangedForModal.push(n)}));var n=oc(t,"paddingRight")||"";Za(t,"data-padding-right",n),rc(t,"paddingRight","".concat(ya(ac(t).paddingRight,0)+e,"px"))}},resetScrollbar:function(){var t=document.body;t._paddingChangedForModal&&t._paddingChangedForModal.forEach((function(t){nc(t,"data-padding-right")&&(rc(t,"paddingRight",ec(t,"data-padding-right")||""),tc(t,"data-padding-right"))})),t._marginChangedForModal&&t._marginChangedForModal.forEach((function(t){nc(t,"data-margin-right")&&(rc(t,"marginRight",ec(t,"data-margin-right")||""),tc(t,"data-margin-right"))})),t._paddingChangedForModal=null,t._marginChangedForModal=null,nc(t,"data-padding-right")&&(rc(t,"paddingRight",ec(t,"data-padding-right")||""),tc(t,"data-padding-right"))}}}),rI=new nI;function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oI(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iI(Object(n),!0).forEach((function(e){sI(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function sI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var aI=Lc("visible",{type:Ao,defaultValue:!1,event:Si}),cI=aI.mixin,lI=aI.props,uI=aI.prop,hI=aI.event,dI="backdrop",fI="esc",pI="FORCE",mI="toggle",gI="cancel",vI="headerclose",yI="ok",bI=[gI,vI,yI],wI={subtree:!0,childList:!0,characterData:!0,attributes:!0,attributeFilter:["style","class"]},_I=Ac(Yt(oI(oI(oI({},af),lI),{},{ariaLabel:kc(Mo),autoFocusButton:kc(Mo,null,(function(t){return wt(t)||la(bI,t)})),bodyBgVariant:kc(Mo),bodyClass:kc(Vo),bodyTextVariant:kc(Mo),busy:kc(Ao,!1),buttonSize:kc(Mo),cancelDisabled:kc(Ao,!1),cancelTitle:kc(Mo,"Cancel"),cancelTitleHtml:kc(Mo),cancelVariant:kc(Mo,"secondary"),centered:kc(Ao,!1),contentClass:kc(Vo),dialogClass:kc(Vo),footerBgVariant:kc(Mo),footerBorderVariant:kc(Mo),footerClass:kc(Vo),footerTag:kc(Mo,"footer"),footerTextVariant:kc(Mo),headerBgVariant:kc(Mo),headerBorderVariant:kc(Mo),headerClass:kc(Vo),headerCloseContent:kc(Mo,"&times;"),headerCloseLabel:kc(Mo,"Close"),headerCloseVariant:kc(Mo),headerTag:kc(Mo,"header"),headerTextVariant:kc(Mo),hideBackdrop:kc(Ao,!1),hideFooter:kc(Ao,!1),hideHeader:kc(Ao,!1),hideHeaderClose:kc(Ao,!1),ignoreEnforceFocusSelector:kc(Uo),lazy:kc(Ao,!1),modalClass:kc(Vo),noCloseOnBackdrop:kc(Ao,!1),noCloseOnEsc:kc(Ao,!1),noEnforceFocus:kc(Ao,!1),noFade:kc(Ao,!1),noStacking:kc(Ao,!1),okDisabled:kc(Ao,!1),okOnly:kc(Ao,!1),okTitle:kc(Mo,"OK"),okTitleHtml:kc(Mo),okVariant:kc(Mo,"primary"),returnFocus:kc([dt,Lo,Mo]),scrollable:kc(Ao,!1),size:kc(Mo,"md"),static:kc(Ao,!1),title:kc(Mo),titleClass:kc(Vo),titleHtml:kc(Mo),titleSrOnly:kc(Ao,!1),titleTag:kc(Mo,"h5")})),er),OI=mi({name:er,mixins:[Yu,cf,cI,bC,Ju,_C,ga,CC],inheritAttrs:!1,props:_I,data:function(){return{isHidden:!0,isVisible:!1,isTransitioning:!1,isShow:!1,isBlock:!1,isOpening:!1,isClosing:!1,ignoreBackdropClick:!1,isModalOverflowing:!1,scrollbarWidth:0,zIndex:rI.getBaseZIndex(),isTop:!0,isBodyOverflowing:!1}},computed:{modalId:function(){return this.safeId()},modalOuterId:function(){return this.safeId("__BV_modal_outer_")},modalHeaderId:function(){return this.safeId("__BV_modal_header_")},modalBodyId:function(){return this.safeId("__BV_modal_body_")},modalTitleId:function(){return this.safeId("__BV_modal_title_")},modalContentId:function(){return this.safeId("__BV_modal_content_")},modalFooterId:function(){return this.safeId("__BV_modal_footer_")},modalBackdropId:function(){return this.safeId("__BV_modal_backdrop_")},modalClasses:function(){return[{fade:!this.noFade,show:this.isShow},this.modalClass]},modalStyles:function(){var t="".concat(this.scrollbarWidth,"px");return{paddingLeft:!this.isBodyOverflowing&&this.isModalOverflowing?t:"",paddingRight:this.isBodyOverflowing&&!this.isModalOverflowing?t:"",display:this.isBlock?"block":"none"}},dialogClasses:function(){var t;return[(t={},sI(t,"modal-".concat(this.size),this.size),sI(t,"modal-dialog-centered",this.centered),sI(t,"modal-dialog-scrollable",this.scrollable),t),this.dialogClass]},headerClasses:function(){var t;return[(t={},sI(t,"bg-".concat(this.headerBgVariant),this.headerBgVariant),sI(t,"text-".concat(this.headerTextVariant),this.headerTextVariant),sI(t,"border-".concat(this.headerBorderVariant),this.headerBorderVariant),t),this.headerClass]},titleClasses:function(){return[{"sr-only":this.titleSrOnly},this.titleClass]},bodyClasses:function(){var t;return[(t={},sI(t,"bg-".concat(this.bodyBgVariant),this.bodyBgVariant),sI(t,"text-".concat(this.bodyTextVariant),this.bodyTextVariant),t),this.bodyClass]},footerClasses:function(){var t;return[(t={},sI(t,"bg-".concat(this.footerBgVariant),this.footerBgVariant),sI(t,"text-".concat(this.footerTextVariant),this.footerTextVariant),sI(t,"border-".concat(this.footerBorderVariant),this.footerBorderVariant),t),this.footerClass]},modalOuterStyle:function(){return{position:"absolute",zIndex:this.zIndex}},slotScope:function(){return{cancel:this.onCancel,close:this.onClose,hide:this.hide,ok:this.onOk,visible:this.isVisible}},computeIgnoreEnforceFocusSelector:function(){return ua(this.ignoreEnforceFocusSelector).filter(ae).join(",").trim()},computedAttrs:function(){var t=this.static?{}:this.scopedStyleAttrs;return oI(oI(oI({},t),this.bvAttrs),{},{id:this.modalOuterId})},computedModalAttrs:function(){var t=this.isVisible,e=this.ariaLabel;return{id:this.modalId,role:"dialog","aria-hidden":t?null:"true","aria-modal":t?"true":null,"aria-label":e,"aria-labelledby":this.hideHeader||e||!(this.hasNormalizedSlot(Ls)||this.titleHtml||this.title)?null:this.modalTitleId,"aria-describedby":this.modalBodyId}}},watch:sI({},uI,(function(t,e){t!==e&&this[t?"show":"hide"]()})),created:function(){this.$_observer=null,this.$_returnFocus=this.returnFocus||null},mounted:function(){this.zIndex=rI.getBaseZIndex(),this.listenOnRoot(qc(er,po),this.showHandler),this.listenOnRoot(qc(er,qi),this.hideHandler),this.listenOnRoot(qc(er,wo),this.toggleHandler),this.listenOnRoot(zc(er,po),this.modalListener),!0===this[uI]&&this.$nextTick(this.show)},beforeDestroy:function(){rI.unregisterModal(this),this.setObserver(!1),this.isVisible&&(this.isVisible=!1,this.isShow=!1,this.isTransitioning=!1)},methods:{setObserver:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$_observer&&this.$_observer.disconnect(),this.$_observer=null,t&&(this.$_observer=Lp(this.$refs.content,this.checkModalOverflow.bind(this),wI))},updateModel:function(t){t!==this[uI]&&this.$emit(hI,t)},buildEvent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new XC(t,oI(oI({cancelable:!1,target:this.$refs.modal||this.$el||null,relatedTarget:null,trigger:null},e),{},{vueTarget:this,componentId:this.modalId}))},show:function(){if(!this.isVisible&&!this.isOpening)if(this.isClosing)this.$once(zi,this.show);else{this.isOpening=!0,this.$_returnFocus=this.$_returnFocus||this.getActiveElement();var t=this.buildEvent(po,{cancelable:!0});if(this.emitEvent(t),t.defaultPrevented||this.isVisible)return this.isOpening=!1,void this.updateModel(!1);this.doShow()}},hide:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.isVisible&&!this.isClosing){this.isClosing=!0;var e=this.buildEvent(qi,{cancelable:t!==pI,trigger:t||null});if(t===yI?this.$emit(Xi,e):t===gI?this.$emit(Ti,e):t===vI&&this.$emit(Ei,e),this.emitEvent(e),e.defaultPrevented||!this.isVisible)return this.isClosing=!1,void this.updateModel(!0);this.setObserver(!1),this.isVisible=!1,this.updateModel(!1)}},toggle:function(t){t&&(this.$_returnFocus=t),this.isVisible?this.hide(mI):this.show()},getActiveElement:function(){var t=Ma(l?[document.body]:[]);return t&&t.focus?t:null},doShow:function(){var t=this;rI.modalsAreOpen&&this.noStacking?this.listenOnRootOnce(zc(er,zi),this.doShow):(rI.registerModal(this),this.isHidden=!1,this.$nextTick((function(){t.isVisible=!0,t.isOpening=!1,t.updateModel(!0),t.$nextTick((function(){t.setObserver(!0)}))})))},onBeforeEnter:function(){this.isTransitioning=!0,this.setResizeEvent(!0)},onEnter:function(){var t=this;this.isBlock=!0,Ra((function(){Ra((function(){t.isShow=!0}))}))},onAfterEnter:function(){var t=this;this.checkModalOverflow(),this.isTransitioning=!1,Ra((function(){t.emitEvent(t.buildEvent(mo)),t.setEnforceFocus(!0),t.$nextTick((function(){t.focusFirst()}))}))},onBeforeLeave:function(){this.isTransitioning=!0,this.setResizeEvent(!1),this.setEnforceFocus(!1)},onLeave:function(){this.isShow=!1},onAfterLeave:function(){var t=this;this.isBlock=!1,this.isTransitioning=!1,this.isModalOverflowing=!1,this.isHidden=!0,this.$nextTick((function(){t.isClosing=!1,rI.unregisterModal(t),t.returnFocusTo(),t.emitEvent(t.buildEvent(zi))}))},emitEvent:function(t){var e=t.type;this.emitOnRoot(zc(er,e),t,t.componentId),this.$emit(e,t)},onDialogMousedown:function(){var t=this,e=this.$refs.modal,n=function n(r){$c(e,"mouseup",n,Po),r.target===e&&(t.ignoreBackdropClick=!0)};Mc(e,"mouseup",n,Po)},onClickOut:function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:this.isVisible&&!this.noCloseOnBackdrop&&Ka(document.body,t.target)&&(Ka(this.$refs.content,t.target)||this.hide(dI))},onOk:function(){this.hide(yI)},onCancel:function(){this.hide(gI)},onClose:function(){this.hide(vI)},onEsc:function(t){t.keyCode===xu&&this.isVisible&&!this.noCloseOnEsc&&this.hide(fI)},focusHandler:function(t){var e=this.$refs.content,n=t.target;if(!(this.noEnforceFocus||!this.isTop||!this.isVisible||!e||document===n||Ka(e,n)||this.computeIgnoreEnforceFocusSelector&&Wa(this.computeIgnoreEnforceFocusSelector,n,!0))){var r=hc(this.$refs.content),i=this.$refs["bottom-trap"],o=this.$refs["top-trap"];if(i&&n===i){if(dc(r[0]))return}else if(o&&n===o&&dc(r[r.length-1]))return;dc(e,{preventScroll:!0})}},setEnforceFocus:function(t){this.listenDocument(t,"focusin",this.focusHandler)},setResizeEvent:function(t){this.listenWindow(t,"resize",this.checkModalOverflow),this.listenWindow(t,"orientationchange",this.checkModalOverflow)},showHandler:function(t,e){t===this.modalId&&(this.$_returnFocus=e||this.getActiveElement(),this.show())},hideHandler:function(t){t===this.modalId&&this.hide("event")},toggleHandler:function(t,e){t===this.modalId&&this.toggle(e)},modalListener:function(t){this.noStacking&&t.vueTarget!==this&&this.hide()},focusFirst:function(){var t=this;l&&Ra((function(){var e=t.$refs.modal,n=t.$refs.content,r=t.getActiveElement();if(e&&n&&(!r||!Ka(n,r))){var i=t.$refs["ok-button"],o=t.$refs["cancel-button"],s=t.$refs["close-button"],a=t.autoFocusButton,c=a===yI&&i?i.$el||i:a===gI&&o?o.$el||o:a===vI&&s?s.$el||s:n;dc(c),c===n&&t.$nextTick((function(){e.scrollTop=0}))}}))},returnFocusTo:function(){var t=this.returnFocus||this.$_returnFocus||null;this.$_returnFocus=null,this.$nextTick((function(){t=Tt(t)?Ha(t):t,t&&(t=t.$el||t,dc(t))}))},checkModalOverflow:function(){if(this.isVisible){var t=this.$refs.modal;this.isModalOverflowing=t.scrollHeight>document.documentElement.clientHeight}},makeModal:function(t){var e=t();if(!this.hideHeader){var n=this.normalizeSlot(js,this.slotScope);if(!n){var r=t();this.hideHeaderClose||(r=t(Wc,{props:{content:this.headerCloseContent,disabled:this.isTransitioning,ariaLabel:this.headerCloseLabel,textVariant:this.headerCloseVariant||this.headerTextVariant},on:{click:this.onClose},ref:"close-button"},[this.normalizeSlot(Rs)])),n=[t(this.titleTag,{staticClass:"modal-title",class:this.titleClasses,attrs:{id:this.modalTitleId},domProps:this.hasNormalizedSlot(Ls)?{}:ed(this.titleHtml,this.title)},this.normalizeSlot(Ls,this.slotScope)),r]}e=t(this.headerTag,{staticClass:"modal-header",class:this.headerClasses,attrs:{id:this.modalHeaderId},ref:"header"},[n])}var i=t("div",{staticClass:"modal-body",class:this.bodyClasses,attrs:{id:this.modalBodyId},ref:"body"},this.normalizeSlot(ss,this.slotScope)),o=t();if(!this.hideFooter){var s=this.normalizeSlot(As,this.slotScope);if(!s){var a=t();this.okOnly||(a=t(Ah,{props:{variant:this.cancelVariant,size:this.buttonSize,disabled:this.cancelDisabled||this.busy||this.isTransitioning},domProps:this.hasNormalizedSlot(Ds)?{}:ed(this.cancelTitleHtml,this.cancelTitle),on:{click:this.onCancel},ref:"cancel-button"},this.normalizeSlot(Ds)));var c=t(Ah,{props:{variant:this.okVariant,size:this.buttonSize,disabled:this.okDisabled||this.busy||this.isTransitioning},domProps:this.hasNormalizedSlot(Ns)?{}:ed(this.okTitleHtml,this.okTitle),on:{click:this.onOk},ref:"ok-button"},this.normalizeSlot(Ns));s=[a,c]}o=t(this.footerTag,{staticClass:"modal-footer",class:this.footerClasses,attrs:{id:this.modalFooterId},ref:"footer"},[s])}var l=t("div",{staticClass:"modal-content",class:this.contentClass,attrs:{id:this.modalContentId,tabindex:"-1"},ref:"content"},[e,i,o]),u=t(),h=t();this.isVisible&&!this.noEnforceFocus&&(u=t("span",{attrs:{tabindex:"0"},ref:"top-trap"}),h=t("span",{attrs:{tabindex:"0"},ref:"bottom-trap"}));var d=t("div",{staticClass:"modal-dialog",class:this.dialogClasses,on:{mousedown:this.onDialogMousedown},ref:"dialog"},[u,l,h]),f=t("div",{staticClass:"modal",class:this.modalClasses,style:this.modalStyles,attrs:this.computedModalAttrs,on:{keydown:this.onEsc,click:this.onClickOut},directives:[{name:"show",value:this.isVisible}],ref:"modal"},[d]);f=t("transition",{props:{enterClass:"",enterToClass:"",enterActiveClass:"",leaveClass:"",leaveActiveClass:"",leaveToClass:""},on:{beforeEnter:this.onBeforeEnter,enter:this.onEnter,afterEnter:this.onAfterEnter,beforeLeave:this.onBeforeLeave,leave:this.onLeave,afterLeave:this.onAfterLeave}},[f]);var p=t();return!this.hideBackdrop&&this.isVisible&&(p=t("div",{staticClass:"modal-backdrop",attrs:{id:this.modalBackdropId}},this.normalizeSlot(xs))),p=t(el,{props:{noFade:this.noFade}},[p]),t("div",{style:this.modalOuterStyle,attrs:this.computedAttrs,key:"modal-outer-".concat(this[hi])},[f,p])}},render:function(t){return this.static?this.lazy&&this.isHidden?t():this.makeModal(t):this.isHidden?t():t(RC,[this.makeModal(t)])}}),TI=qc(er,po),SI="__bv_modal_directive__",CI=function(t){var e=t.modifiers,n=void 0===e?{}:e,r=t.arg,i=t.value;return Tt(i)?i:Tt(r)?r:Ut(n).reverse()[0]},II=function(t){return t&&Ga(t,".dropdown-menu > li, li.nav-item")&&Ha("a, button",t)||t},EI=function(t){t&&"BUTTON"!==t.tagName&&(nc(t,"role")||Za(t,"role","button"),"A"===t.tagName||nc(t,"tabindex")||Za(t,"tabindex","0"))},kI=function(t,e,n){var r=CI(e),i=II(t);if(r&&i){var o=function(t){var i=t.currentTarget;if(!Ua(i)){var o=t.type,s=t.keyCode;"click"!==o&&("keydown"!==o||s!==Pu&&s!==Lu)||Qu(Am(n,e)).$emit(TI,r,i)}};t[SI]={handler:o,target:r,trigger:i},EI(i),Mc(i,"click",o,ko),"BUTTON"!==i.tagName&&"button"===ec(i,"role")&&Mc(i,"keydown",o,ko)}},PI=function(t){var e=t[SI]||{},n=e.trigger,r=e.handler;n&&r&&($c(n,"click",r,ko),$c(n,"keydown",r,ko),$c(t,"click",r,ko),$c(t,"keydown",r,ko)),delete t[SI]},xI=function(t,e,n){var r=t[SI]||{},i=CI(e),o=II(t);i===r.target&&o===r.trigger||(PI(t,e,n),kI(t,e,n)),EI(o)},DI=function(){},AI={inserted:xI,updated:DI,componentUpdated:xI,unbind:PI};function jI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function NI(t,e,n){return e&&RI(t.prototype,e),n&&RI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function FI(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?LI(Object(n),!0).forEach((function(e){MI(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function MI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $I(t){return zI(t)||UI(t)||VI(t)||BI()}function BI(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function VI(t,e){if(t){if("string"===typeof t)return qI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qI(t,e):void 0}}function UI(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function zI(t){if(Array.isArray(t))return qI(t)}function qI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var HI="$bvModal",GI="_bv__modal",WI=["id"].concat($I(Ut(Wt(_I,["busy","lazy","noStacking","static","visible"])))),KI=function(){},YI={msgBoxContent:"default",title:"modal-title",okTitle:"modal-ok",cancelTitle:"modal-cancel"},QI=function(t){return WI.reduce((function(e,n){return yt(t[n])||(e[n]=t[n]),e}),{})},XI=function(t){var e=t.extend({name:nr,extends:OI,mixins:[OC],destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},mounted:function(){var t=this,e=function(){t.$nextTick((function(){Ra((function(){t.$destroy()}))}))};this.bvParent.$once(So,e),this.$once(zi,e),this.$router&&this.$route&&this.$once(To,this.$watch("$router",e)),this.show()}}),n=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:KI;if(!fe(HI)&&!pe(HI)){var i=PC(t,e,{propsData:FI(FI(FI({},QI(vc(er))),{},{hideHeaderClose:!0,hideHeader:!(n.title||n.titleHtml)},Wt(n,Ut(YI))),{},{lazy:!1,busy:!1,visible:!1,noStacking:!1,noEnforceFocus:!1})});return Ut(YI).forEach((function(t){yt(n[t])||(i.$slots[YI[t]]=ua(n[t]))})),new Promise((function(t,e){var n=!1;i.$once(So,(function(){n||e(new Error("BootstrapVue MsgBox destroyed before resolve"))})),i.$on(qi,(function(e){if(!e.defaultPrevented){var i=r(e);e.defaultPrevented||(n=!0,t(i))}}));var o=document.createElement("div");document.body.appendChild(o),i.$mount(o)}))}},r=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(e&&!pe(HI)&&!fe(HI)&&_t(i))return n(t,FI(FI({},QI(r)),{},{msgBoxContent:e}),i)},i=function(){function t(e){jI(this,t),Ft(this,{_vm:e,_root:Qu(e)}),$t(this,{_vm:Qt(),_root:Qt()})}return NI(t,[{key:"show",value:function(t){if(t&&this._root){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=this._root).$emit.apply(e,[qc(er,"show"),t].concat(r))}}},{key:"hide",value:function(t){if(t&&this._root){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=this._root).$emit.apply(e,[qc(er,"hide"),t].concat(r))}}},{key:"msgBoxOk",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=FI(FI({},e),{},{okOnly:!0,okDisabled:!1,hideFooter:!1,msgBoxContent:t});return r(this._vm,t,n,(function(){return!0}))}},{key:"msgBoxConfirm",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=FI(FI({},e),{},{okOnly:!1,okDisabled:!1,cancelDisabled:!1,hideFooter:!1});return r(this._vm,t,n,(function(t){var e=t.trigger;return"ok"===e||"cancel"!==e&&null}))}}]),t}();t.mixin({beforeCreate:function(){this[GI]=new i(this)}}),zt(t.prototype,HI)||Bt(t.prototype,HI,{get:function(){return this&&this[GI]||de('"'.concat(HI,'" must be accessed from a Vue instance "this" context.'),er),this[GI]}})},JI=Ie({plugins:{plugin:XI}}),ZI=Ie({components:{BModal:OI},directives:{VBModal:AI},plugins:{BVModalPlugin:JI}});function tE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var eE=function(t){return t="left"===t?"start":"right"===t?"end":t,"justify-content-".concat(t)},nE=Ac({align:kc(Mo),cardHeader:kc(Ao,!1),fill:kc(Ao,!1),justified:kc(Ao,!1),pills:kc(Ao,!1),small:kc(Ao,!1),tabs:kc(Ao,!1),tag:kc(Mo,"ul"),vertical:kc(Ao,!1)},rr),rE=mi({name:rr,functional:!0,props:nE,render:function(t,e){var n,r=e.props,i=e.data,o=e.children,s=r.tabs,a=r.pills,c=r.vertical,l=r.align,u=r.cardHeader;return t(r.tag,ii(i,{staticClass:"nav",class:(n={"nav-tabs":s,"nav-pills":a&&!s,"card-header-tabs":!c&&u&&s,"card-header-pills":!c&&u&&a&&!s,"flex-column":c,"nav-fill":!c&&r.fill,"nav-justified":!c&&r.justified},tE(n,eE(l),!c&&l),tE(n,"small",r.small),n)}),o)}});function iE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iE(Object(n),!0).forEach((function(e){sE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function sE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var aE=Wt(vh,["event","routerTag"]),cE=Ac(Yt(oE(oE({},aE),{},{linkAttrs:kc(Lo,{}),linkClasses:kc(Vo)})),lr),lE=mi({name:lr,functional:!0,props:cE,render:function(t,e){var n=e.props,r=e.data,i=e.listeners,o=e.children;return t("li",ii(Wt(r,["on"]),{staticClass:"nav-item"}),[t(yh,{staticClass:"nav-link",class:n.linkClasses,attrs:n.linkAttrs,props:xc(aE,n),on:i},o)])}}),uE={},hE=mi({name:hr,functional:!0,props:uE,render:function(t,e){var n=e.data,r=e.children;return t("li",ii(n,{staticClass:"navbar-text"}),r)}});function dE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dE(Object(n),!0).forEach((function(e){pE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mE=Wt(Ny,["inline"]),gE=Ac(Yt(fE(fE({},mE),{},{formClass:kc(Vo)})),cr),vE=mi({name:cr,functional:!0,props:gE,render:function(t,e){var n=e.props,r=e.data,i=e.children,o=e.listeners,s=t(Ly,{class:n.formClass,props:fE(fE({},xc(mE,n)),{},{inline:!0}),attrs:r.attrs,on:o},i);return t("li",ii(Wt(r,["attrs","on"]),{staticClass:"form-inline"}),[s])}});function yE(t){return OE(t)||_E(t)||wE(t)||bE()}function bE(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function wE(t,e){if(t){if("string"===typeof t)return TE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TE(t,e):void 0}}function _E(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function OE(t){if(Array.isArray(t))return TE(t)}function TE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function CE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?SE(Object(n),!0).forEach((function(e){IE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function IE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var EE=Ac(Yt(CE(CE({},af),Gt(dy,[].concat(yE(Ut(ay)),["html","lazy","menuClass","noCaret","role","text","toggleClass"])))),ur),kE=mi({name:ur,mixins:[cf,cy,ga],props:EE,computed:{toggleId:function(){return this.safeId("_BV_toggle_")},menuId:function(){return this.safeId("_BV_toggle_menu_")},dropdownClasses:function(){return[this.directionClass,this.boundaryClass,{show:this.visible}]},menuClasses:function(){return[this.menuClass,{"dropdown-menu-right":this.right,show:this.visible}]},toggleClasses:function(){return[this.toggleClass,{"dropdown-toggle-no-caret":this.noCaret}]}},render:function(t){var e=this.toggleId,n=this.menuId,r=this.visible,i=this.hide,o=t(yh,{staticClass:"nav-link dropdown-toggle",class:this.toggleClasses,props:{href:"#".concat(this.id||""),disabled:this.disabled},attrs:{id:e,role:"button","aria-haspopup":"true","aria-expanded":r?"true":"false","aria-controls":n},on:{mousedown:this.onMousedown,click:this.toggle,keydown:this.toggle},ref:"toggle"},[this.normalizeSlot([rs,na])||t("span",{domProps:ed(this.html,this.text)})]),s=t("ul",{staticClass:"dropdown-menu",class:this.menuClasses,attrs:{tabindex:"-1","aria-labelledby":e,id:n},on:{keydown:this.onKeydown},ref:"menu"},!this.lazy||r?this.normalizeSlot(ss,{hide:i}):[t()]);return t("li",{staticClass:"nav-item b-nav-dropdown dropdown",class:this.dropdownClasses,attrs:{id:this.safeId()}},[o,s])}}),PE=Ie({components:{BNav:rE,BNavItem:lE,BNavText:hE,BNavForm:vE,BNavItemDropdown:kE,BNavItemDd:kE,BNavDropdown:kE,BNavDd:kE},plugins:{DropdownPlugin:Qy}});function xE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var DE=Ac({fixed:kc(Mo),print:kc(Ao,!1),sticky:kc(Ao,!1),tag:kc(Mo,"nav"),toggleable:kc(Ho,!1),type:kc(Mo,"light"),variant:kc(Mo)},ir),AE=mi({name:ir,mixins:[ga],provide:function(){var t=this;return{getBvNavbar:function(){return t}}},props:DE,computed:{breakpointClass:function(){var t=this.toggleable,e=yc()[0],n=null;return t&&Tt(t)&&t!==e?n="navbar-expand-".concat(t):!1===t&&(n="navbar-expand"),n}},render:function(t){var e,n=this.tag,r=this.type,i=this.variant,o=this.fixed;return t(n,{staticClass:"navbar",class:[(e={"d-print":this.print,"sticky-top":this.sticky},xE(e,"navbar-".concat(r),r),xE(e,"bg-".concat(i),i),xE(e,"fixed-".concat(o),o),e),this.breakpointClass],attrs:{role:$a(n,"nav")?null:"navigation"}},[this.normalizeSlot()])}});function jE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var RE=function(t){return t="left"===t?"start":"right"===t?"end":t,"justify-content-".concat(t)},NE=Ac(Gt(nE,["tag","fill","justified","align","small"]),sr),LE=mi({name:sr,functional:!0,props:NE,render:function(t,e){var n,r=e.props,i=e.data,o=e.children,s=r.align;return t(r.tag,ii(i,{staticClass:"navbar-nav",class:(n={"nav-fill":r.fill,"nav-justified":r.justified},jE(n,RE(s),s),jE(n,"small",r.small),n)}),o)}});function FE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ME(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?FE(Object(n),!0).forEach((function(e){$E(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var BE=Wt(vh,["event","routerTag"]);BE.href.default=void 0,BE.to.default=void 0;var VE=Ac(Yt(ME(ME({},BE),{},{tag:kc(Mo,"div")})),or),UE=mi({name:or,functional:!0,props:VE,render:function(t,e){var n=e.props,r=e.data,i=e.children,o=n.to||n.href,s=o?yh:n.tag;return t(s,ii(r,{staticClass:"navbar-brand",props:o?xc(BE,n):{}}),i)}}),zE="navbar-toggler",qE=zc(on,"state"),HE=zc(on,"sync-state"),GE=Ac({disabled:kc(Ao,!1),label:kc(Mo,"Toggle navigation"),target:kc(Uo,void 0,!0)},ar),WE=mi({name:ar,directives:{VBToggle:ag},mixins:[Ju,ga],props:GE,data:function(){return{toggleState:!1}},created:function(){this.listenOnRoot(qE,this.handleStateEvent),this.listenOnRoot(HE,this.handleStateEvent)},methods:{onClick:function(t){this.disabled||this.$emit(Ii,t)},handleStateEvent:function(t,e){t===this.target&&(this.toggleState=e)}},render:function(t){var e=this.disabled;return t("button",{staticClass:zE,class:{disabled:e},directives:[{name:"VBToggle",value:this.target}],attrs:{type:"button",disabled:e,"aria-label":this.label},on:{click:this.onClick}},[this.normalizeSlot(ss,{expanded:this.toggleState})||t("span",{staticClass:"".concat(zE,"-icon")})])}}),KE=Ie({components:{BNavbar:AE,BNavbarNav:LE,BNavbarBrand:UE,BNavbarToggle:WE,BNavToggle:WE},plugins:{NavPlugin:PE,CollapsePlugin:lg,DropdownPlugin:Qy}});function YE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var QE=Ac({label:kc(Mo),role:kc(Mo,"status"),small:kc(Ao,!1),tag:kc(Mo,"span"),type:kc(Mo,"border"),variant:kc(Mo)},Cr),XE=mi({name:Cr,functional:!0,props:QE,render:function(t,e){var n,r=e.props,i=e.data,o=e.slots,s=e.scopedSlots,a=o(),c=s||{},l=ma(Is,{},c,a)||r.label;return l&&(l=t("span",{staticClass:"sr-only"},l)),t(r.tag,ii(i,{attrs:{role:l?r.role||"status":null,"aria-hidden":l?null:"true"},class:(n={},YE(n,"spinner-".concat(r.type),r.type),YE(n,"spinner-".concat(r.type,"-sm"),r.small),YE(n,"text-".concat(r.variant),r.variant),n)}),[l||t()])}});function JE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ZE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?JE(Object(n),!0).forEach((function(e){tk(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ek,nk={top:0,left:0,bottom:0,right:0},rk=Ac({bgColor:kc(Mo),blur:kc(Mo,"2px"),fixed:kc(Ao,!1),noCenter:kc(Ao,!1),noFade:kc(Ao,!1),noWrap:kc(Ao,!1),opacity:kc(Ko,.85,(function(t){var e=ya(t,0);return e>=0&&e<=1})),overlayTag:kc(Mo,"div"),rounded:kc(Ho,!1),show:kc(Ao,!1),spinnerSmall:kc(Ao,!1),spinnerType:kc(Mo,"border"),spinnerVariant:kc(Mo),variant:kc(Mo,"light"),wrapTag:kc(Mo,"div"),zIndex:kc(Ko,10)},dr),ik=mi({name:dr,mixins:[ga],props:rk,computed:{computedRounded:function(){var t=this.rounded;return!0===t||""===t?"rounded":t?"rounded-".concat(t):""},computedVariant:function(){var t=this.variant;return t&&!this.bgColor?"bg-".concat(t):""},slotScope:function(){return{spinnerType:this.spinnerType||null,spinnerVariant:this.spinnerVariant||null,spinnerSmall:this.spinnerSmall}}},methods:{defaultOverlayFn:function(t){var e=t.spinnerType,n=t.spinnerVariant,r=t.spinnerSmall;return this.$createElement(XE,{props:{type:e,variant:n,small:r}})}},render:function(t){var e=this,n=this.show,r=this.fixed,i=this.noFade,o=this.noWrap,s=this.slotScope,a=t();if(n){var c=t("div",{staticClass:"position-absolute",class:[this.computedVariant,this.computedRounded],style:ZE(ZE({},nk),{},{opacity:this.opacity,backgroundColor:this.bgColor||null,backdropFilter:this.blur?"blur(".concat(this.blur,")"):null})}),l=t("div",{staticClass:"position-absolute",style:this.noCenter?ZE({},nk):{top:"50%",left:"50%",transform:"translateX(-50%) translateY(-50%)"}},[this.normalizeSlot(Hs,s)||this.defaultOverlayFn(s)]);a=t(this.overlayTag,{staticClass:"b-overlay",class:{"position-absolute":!o||o&&!r,"position-fixed":o&&r},style:ZE(ZE({},nk),{},{zIndex:this.zIndex||10}),on:{click:function(t){return e.$emit(Ii,t)}},key:"overlay"},[c,l])}return a=t(el,{props:{noFade:i,appear:!0},on:{"after-enter":function(){return e.$emit(mo)},"after-leave":function(){return e.$emit(zi)}}},[a]),o?a:t(this.wrapTag,{staticClass:"b-overlay-wrap position-relative",attrs:{"aria-busy":n?"true":null}},o?[a]:[this.normalizeSlot(),a])}}),ok=Ie({components:{BOverlay:ik}});function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ak(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sk(Object(n),!0).forEach((function(e){ck(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ck(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lk=Lc("value",{type:qo,defaultValue:null,validator:function(t){return!(!bt(t)&&va(t,0)<1)||(de('"v-model" value must be a number greater than "0"',fr),!1)}}),uk=lk.mixin,hk=lk.props,dk=lk.prop,fk=lk.event,pk=3,mk=5,gk=function(t,e){return ha(e,(function(e,n){return{number:t+n,classes:null}}))},vk=function(t){var e=va(t)||1;return e<1?mk:e},yk=function(t,e){var n=va(t)||1;return n>e?e:n<1?1:n},bk=function(t){if(t.keyCode===Lu)return Vc(t,{immediatePropagation:!0}),t.currentTarget.click(),!1},wk=Ac(Yt(ak(ak({},hk),{},{align:kc(Mo,"left"),ariaLabel:kc(Mo,"Pagination"),disabled:kc(Ao,!1),ellipsisClass:kc(Vo),ellipsisText:kc(Mo,""),firstClass:kc(Vo),firstNumber:kc(Ao,!1),firstText:kc(Mo,""),hideEllipsis:kc(Ao,!1),hideGotoEndButtons:kc(Ao,!1),labelFirstPage:kc(Mo,"Go to first page"),labelLastPage:kc(Mo,"Go to last page"),labelNextPage:kc(Mo,"Go to next page"),labelPage:kc(Wo,"Go to page"),labelPrevPage:kc(Mo,"Go to previous page"),lastClass:kc(Vo),lastNumber:kc(Ao,!1),lastText:kc(Mo,""),limit:kc(Ko,mk,(function(t){return!(va(t,0)<1)||(de('Prop "limit" must be a number greater than "0"',fr),!1)})),nextClass:kc(Vo),nextText:kc(Mo,""),pageClass:kc(Vo),pills:kc(Ao,!1),prevClass:kc(Vo),prevText:kc(Mo,""),size:kc(Mo)})),"pagination"),_k=mi({mixins:[uk,ga],props:wk,data:function(){var t=va(this[dk],0);return t=t>0?t:-1,{currentPage:t,localNumberOfPages:1,localLimit:mk}},computed:{btnSize:function(){var t=this.size;return t?"pagination-".concat(t):""},alignment:function(){var t=this.align;return"center"===t?"justify-content-center":"end"===t||"right"===t?"justify-content-end":"fill"===t?"text-center":""},styleClass:function(){return this.pills?"b-pagination-pills":""},computedCurrentPage:function(){return yk(this.currentPage,this.localNumberOfPages)},paginationParams:function(){var t=this.localLimit,e=this.localNumberOfPages,n=this.computedCurrentPage,r=this.hideEllipsis,i=this.firstNumber,o=this.lastNumber,s=!1,a=!1,c=t,l=1;e<=t?c=e:n<t-1&&t>pk?(r&&!o||(a=!0,c=t-(i?0:1)),c=ml(c,t)):e-n+2<t&&t>pk?(r&&!i||(s=!0,c=t-(o?0:1)),l=e-c+1):(t>pk&&(c=t-(r?0:2),s=!(r&&!i),a=!(r&&!o)),l=n-bl(c/2)),l<1?(l=1,s=!1):l>e-c&&(l=e-c+1,a=!1),s&&i&&l<4&&(c+=2,l=1,s=!1);var u=l+c-1;return a&&o&&u>e-3&&(c+=u===e-2?2:3,a=!1),t<=pk&&(i&&1===l?c=ml(c+1,e,t+1):o&&e===l+c-1&&(l=gl(l-1,1),c=ml(e-l+1,e,t+1))),c=ml(c,e-l+1),{showFirstDots:s,showLastDots:a,numberOfLinks:c,startNumber:l}},pageList:function(){var t=this.paginationParams,e=t.numberOfLinks,n=t.startNumber,r=this.computedCurrentPage,i=gk(n,e);if(i.length>3){var o=r-n,s="bv-d-xs-down-none";if(0===o)for(var a=3;a<i.length;a++)i[a].classes=s;else if(o===i.length-1)for(var c=0;c<i.length-3;c++)i[c].classes=s;else{for(var l=0;l<o-1;l++)i[l].classes=s;for(var u=i.length-1;u>o+1;u--)i[u].classes=s}}return i}},watch:(ek={},ck(ek,dk,(function(t,e){t!==e&&(this.currentPage=yk(t,this.localNumberOfPages))})),ck(ek,"currentPage",(function(t,e){t!==e&&this.$emit(fk,t>0?t:null)})),ck(ek,"limit",(function(t,e){t!==e&&(this.localLimit=vk(t))})),ek),created:function(){var t=this;this.localLimit=vk(this.limit),this.$nextTick((function(){t.currentPage=t.currentPage>t.localNumberOfPages?t.localNumberOfPages:t.currentPage}))},methods:{handleKeyNav:function(t){var e=t.keyCode,n=t.shiftKey;this.isNav||(e===Au||e===Fu?(Vc(t,{propagation:!1}),n?this.focusFirst():this.focusPrev()):e!==Nu&&e!==Eu||(Vc(t,{propagation:!1}),n?this.focusLast():this.focusNext()))},getButtons:function(){return qa("button.page-link, a.page-link",this.$el).filter((function(t){return Va(t)}))},focusCurrent:function(){var t=this;this.$nextTick((function(){var e=t.getButtons().find((function(e){return va(ec(e,"aria-posinset"),0)===t.computedCurrentPage}));dc(e)||t.focusFirst()}))},focusFirst:function(){var t=this;this.$nextTick((function(){var e=t.getButtons().find((function(t){return!Ua(t)}));dc(e)}))},focusLast:function(){var t=this;this.$nextTick((function(){var e=t.getButtons().reverse().find((function(t){return!Ua(t)}));dc(e)}))},focusPrev:function(){var t=this;this.$nextTick((function(){var e=t.getButtons(),n=e.indexOf(Ma());n>0&&!Ua(e[n-1])&&dc(e[n-1])}))},focusNext:function(){var t=this;this.$nextTick((function(){var e=t.getButtons(),n=e.indexOf(Ma());n<e.length-1&&!Ua(e[n+1])&&dc(e[n+1])}))}},render:function(t){var e=this,n=Al(this),r=n.disabled,i=n.labelPage,o=n.ariaLabel,s=n.isNav,a=n.localNumberOfPages,c=n.computedCurrentPage,l=this.pageList.map((function(t){return t.number})),u=this.paginationParams,h=u.showFirstDots,d=u.showLastDots,f="fill"===this.align,p=[],m=function(t){return t===c},g=this.currentPage<1,v=function(n,i,o,c,l,u,h){var d=r||m(u)||g||n<1||n>a,p=n<1?1:n>a?a:n,v={disabled:d,page:p,index:p-1},y=e.normalizeSlot(o,v)||Ia(c)||t(),b=t(d?"span":s?yh:"button",{staticClass:"page-link",class:{"flex-grow-1":!s&&!d&&f},props:d||!s?{}:e.linkProps(n),attrs:{role:s?null:"menuitem",type:s||d?null:"button",tabindex:d||s?null:"-1","aria-label":i,"aria-controls":Al(e).ariaControls||null,"aria-disabled":d?"true":null},on:d?{}:{"!click":function(t){e.onClick(t,n)},keydown:bk}},[y]);return t("li",{key:h,staticClass:"page-item",class:[{disabled:d,"flex-fill":f,"d-flex":f&&!s&&!d},l],attrs:{role:s?null:"presentation","aria-hidden":d?"true":null}},[b])},y=function(n){return t("li",{staticClass:"page-item",class:["disabled","bv-d-xs-down-none",f?"flex-fill":"",e.ellipsisClass],attrs:{role:"separator"},key:"ellipsis-".concat(n?"last":"first")},[t("span",{staticClass:"page-link"},[e.normalizeSlot(us)||Ia(e.ellipsisText)||t()])])},b=function(n,o){var c=n.number,l=m(c)&&!g,u=r?null:l||g&&0===o?"0":"-1",h={role:s?null:"menuitemradio",type:s||r?null:"button","aria-disabled":r?"true":null,"aria-controls":Al(e).ariaControls||null,"aria-label":Rc(i)?i(c):"".concat(_t(i)?i():i," ").concat(c),"aria-checked":s?null:l?"true":"false","aria-current":s&&l?"page":null,"aria-posinset":s?null:c,"aria-setsize":s?null:a,tabindex:s?null:u},d=Ia(e.makePage(c)),p={page:c,index:c-1,content:d,active:l,disabled:r},v=t(r?"span":s?yh:"button",{props:r||!s?{}:e.linkProps(c),staticClass:"page-link",class:{"flex-grow-1":!s&&!r&&f},attrs:h,on:r?{}:{"!click":function(t){e.onClick(t,c)},keydown:bk}},[e.normalizeSlot(Gs,p)||d]);return t("li",{staticClass:"page-item",class:[{disabled:r,active:l,"flex-fill":f,"d-flex":f&&!s&&!r},n.classes,e.pageClass],attrs:{role:s?null:"presentation"},key:"page-".concat(c)},[v])},w=t();this.firstNumber||this.hideGotoEndButtons||(w=v(1,this.labelFirstPage,ms,this.firstText,this.firstClass,1,"pagination-goto-first")),p.push(w),p.push(v(c-1,this.labelPrevPage,Ys,this.prevText,this.prevClass,1,"pagination-goto-prev")),p.push(this.firstNumber&&1!==l[0]?b({number:1},0):t()),p.push(h?y(!1):t()),this.pageList.forEach((function(t,n){var r=h&&e.firstNumber&&1!==l[0]?1:0;p.push(b(t,n+r))})),p.push(d?y(!0):t()),p.push(this.lastNumber&&l[l.length-1]!==a?b({number:a},-1):t()),p.push(v(c+1,this.labelNextPage,qs,this.nextText,this.nextClass,a,"pagination-goto-next"));var _=t();this.lastNumber||this.hideGotoEndButtons||(_=v(a,this.labelLastPage,Es,this.lastText,this.lastClass,a,"pagination-goto-last")),p.push(_);var O=t("ul",{staticClass:"pagination",class:["b-pagination",this.btnSize,this.alignment,this.styleClass],attrs:{role:s?null:"menubar","aria-disabled":r?"true":"false","aria-label":s?null:o||null},on:s?{}:{keydown:this.handleKeyNav},ref:"ul"},p);return s?t("nav",{attrs:{"aria-disabled":r?"true":null,"aria-hidden":r?"true":"false","aria-label":s&&o||null}},[O]):O}});function Ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tk(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ok(Object(n),!0).forEach((function(e){Sk(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Sk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ck=20,Ik=0,Ek=function(t){return gl(va(t)||Ck,1)},kk=function(t){return gl(va(t)||Ik,0)},Pk=Ac(Yt(Tk(Tk({},wk),{},{ariaControls:kc(Mo),perPage:kc(Ko,Ck),totalRows:kc(Ko,Ik)})),fr),xk=mi({name:fr,mixins:[_k],props:Pk,computed:{numberOfPages:function(){var t=yl(kk(this.totalRows)/Ek(this.perPage));return t<1?1:t},pageSizeNumberOfPages:function(){return{perPage:Ek(this.perPage),totalRows:kk(this.totalRows),numberOfPages:this.numberOfPages}}},watch:{pageSizeNumberOfPages:function(t,e){wt(e)||(t.perPage!==e.perPage&&t.totalRows===e.totalRows||t.numberOfPages!==e.numberOfPages&&this.currentPage>t.numberOfPages)&&(this.currentPage=1),this.localNumberOfPages=t.numberOfPages}},created:function(){var t=this;this.localNumberOfPages=this.numberOfPages;var e=va(this[dk],0);e>0?this.currentPage=e:this.$nextTick((function(){t.currentPage=0}))},methods:{onClick:function(t,e){var n=this;if(e!==this.currentPage){var r=t.target,i=new Gv(Zi,{cancelable:!0,vueTarget:this,target:r});this.$emit(i.type,i,e),i.defaultPrevented||(this.currentPage=e,this.$emit(Si,this.currentPage),this.$nextTick((function(){Va(r)&&n.$el.contains(r)?dc(r):n.focusCurrent()})))}},makePage:function(t){return t},linkProps:function(){return{}}}}),Dk=Ie({components:{BPagination:xk}});function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jk(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ak(Object(n),!0).forEach((function(e){Rk(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nk=function(t){return gl(va(t,0),1)},Lk=Wt(vh,["event","routerTag"]),Fk=Ac(Yt(jk(jk(jk({},wk),Lk),{},{baseUrl:kc(Mo,"/"),linkGen:kc(Ro),noPageDetect:kc(Ao,!1),numberOfPages:kc(Ko,1,(function(t){var e=va(t,0);return!(e<1)||(de('Prop "number-of-pages" must be a number greater than "0"',pr),!1)})),pageGen:kc(Ro),pages:kc(Do),useRouter:kc(Ao,!1)})),pr),Mk=mi({name:pr,mixins:[_k],props:Fk,computed:{isNav:function(){return!0},computedValue:function(){var t=va(this.value,0);return t<1?null:t}},watch:{numberOfPages:function(){var t=this;this.$nextTick((function(){t.setNumberOfPages()}))},pages:function(){var t=this;this.$nextTick((function(){t.setNumberOfPages()}))}},created:function(){this.setNumberOfPages()},mounted:function(){var t=this;this.$router&&this.$watch("$route",(function(){t.$nextTick((function(){Ra((function(){t.guessCurrentPage()}))}))}))},methods:{setNumberOfPages:function(){var t=this;It(this.pages)&&this.pages.length>0?this.localNumberOfPages=this.pages.length:this.localNumberOfPages=Nk(this.numberOfPages),this.$nextTick((function(){t.guessCurrentPage()}))},onClick:function(t,e){var n=this;if(e!==this.currentPage){var r=t.currentTarget||t.target,i=new Gv(Zi,{cancelable:!0,vueTarget:this,target:r});this.$emit(i.type,i,e),i.defaultPrevented||(Ra((function(){n.currentPage=e,n.$emit(Si,e)})),this.$nextTick((function(){fc(r)})))}},getPageInfo:function(t){if(!It(this.pages)||0===this.pages.length||yt(this.pages[t-1])){var e="".concat(this.baseUrl).concat(t);return{link:this.useRouter?{path:e}:e,text:Ia(t)}}var n=this.pages[t-1];if(Et(n)){var r=n.link;return{link:Et(r)?r:this.useRouter?{path:r}:r,text:Ia(n.text||t)}}return{link:Ia(n),text:Ia(t)}},makePage:function(t){var e=this.pageGen,n=this.getPageInfo(t);return Rc(e)?e(t,n):n.text},makeLink:function(t){var e=this.linkGen,n=this.getPageInfo(t);return Rc(e)?e(t,n):n.link},linkProps:function(t){var e=xc(Lk,this),n=this.makeLink(t);return this.useRouter||Et(n)?e.to=n:e.href=n,e},resolveLink:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{t=document.createElement("a"),t.href=zl({to:e},"a","/","/"),document.body.appendChild(t);var n=t,r=n.pathname,i=n.hash,o=n.search;return document.body.removeChild(t),{path:r,hash:i,query:Ml(o)}}catch(ti){try{t&&t.parentNode&&t.parentNode.removeChild(t)}catch(s){}return{}}},resolveRoute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{var e=this.$router.resolve(t,this.$route).route;return{path:e.path,hash:e.hash,query:e.query}}catch(ti){return{}}},guessCurrentPage:function(){var t=this.$router,e=this.$route,n=this.computedValue;if(!this.noPageDetect&&!n&&(l||!l&&t))for(var r=t&&e?{path:e.path,hash:e.hash,query:e.query}:{},i=l?window.location||document.location:null,o=i?{path:i.pathname,hash:i.hash,query:Ml(i.search)}:{},s=1;!n&&s<=this.localNumberOfPages;s++){var a=this.makeLink(s);n=t&&(Et(a)||this.useRouter)?$u(this.resolveRoute(a),r)?s:null:l?$u(this.resolveLink(a),o)?s:null:-1}this.currentPage=n>0?n:0}}}),$k=Ie({components:{BPaginationNav:Mk}}),Bk={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOPLEFT:"top",TOPRIGHT:"top",RIGHTTOP:"right",RIGHTBOTTOM:"right",BOTTOMLEFT:"bottom",BOTTOMRIGHT:"bottom",LEFTTOP:"left",LEFTBOTTOM:"left"},Vk={AUTO:0,TOPLEFT:-1,TOP:0,TOPRIGHT:1,RIGHTTOP:-1,RIGHT:0,RIGHTBOTTOM:1,BOTTOMLEFT:-1,BOTTOM:0,BOTTOMRIGHT:1,LEFTTOP:-1,LEFT:0,LEFTBOTTOM:1},Uk={arrowPadding:kc(Ko,6),boundary:kc([dt,Mo],"scrollParent"),boundaryPadding:kc(Ko,5),fallbackPlacement:kc(Uo,"flip"),offset:kc(Ko,0),placement:kc(Mo,"top"),target:kc([dt,ft])},zk=mi({name:Gr,mixins:[OC],props:Uk,data:function(){return{noFade:!1,localShow:!0,attachment:this.getAttachment(this.placement)}},computed:{templateType:function(){return"unknown"},popperConfig:function(){var t=this,e=this.placement;return{placement:this.getAttachment(e),modifiers:{offset:{offset:this.getOffset(e)},flip:{behavior:this.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{padding:this.boundaryPadding,boundariesElement:this.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t.popperPlacementChange(e)},onUpdate:function(e){t.popperPlacementChange(e)}}}},created:function(){var t=this;this.$_popper=null,this.localShow=!0,this.$on(po,(function(e){t.popperCreate(e)}));var e=function(){t.$nextTick((function(){Ra((function(){t.$destroy()}))}))};this.bvParent.$once(So,e),this.$once(zi,e)},beforeMount:function(){this.attachment=this.getAttachment(this.placement)},updated:function(){this.updatePopper()},beforeDestroy:function(){this.destroyPopper()},destroyed:function(){var t=this.$el;t&&t.parentNode&&t.parentNode.removeChild(t)},methods:{hide:function(){this.localShow=!1},getAttachment:function(t){return Bk[String(t).toUpperCase()]||"auto"},getOffset:function(t){if(!this.offset){var e=this.$refs.arrow||Ha(".arrow",this.$el),n=ya(ac(e).width,0)+ya(this.arrowPadding,0);switch(Vk[String(t).toUpperCase()]||0){case 1:return"+50%p - ".concat(n,"px");case-1:return"-50%p + ".concat(n,"px");default:return 0}}return this.offset},popperCreate:function(t){this.destroyPopper(),this.$_popper=new Lv(this.target,t,this.popperConfig)},destroyPopper:function(){this.$_popper&&this.$_popper.destroy(),this.$_popper=null},updatePopper:function(){this.$_popper&&this.$_popper.scheduleUpdate()},popperPlacementChange:function(t){this.attachment=this.getAttachment(t.placement)},renderTemplate:function(t){return t("div")}},render:function(t){var e=this,n=this.noFade;return t(el,{props:{appear:!0,noFade:n},on:{beforeEnter:function(t){return e.$emit(po,t)},afterEnter:function(t){return e.$emit(mo,t)},beforeLeave:function(t){return e.$emit(qi,t)},afterLeave:function(t){return e.$emit(zi,t)}}},[this.localShow?this.renderTemplate(t):t()])}});function qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hk(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qk(Object(n),!0).forEach((function(e){Gk(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qk(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Gk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wk={html:kc(Ao,!1),id:kc(Mo)},Kk=mi({name:Qr,extends:zk,mixins:[CC],props:Wk,data:function(){return{title:"",content:"",variant:null,customClass:null,interactive:!0}},computed:{templateType:function(){return"tooltip"},templateClasses:function(){var t,e=this.variant,n=this.attachment,r=this.templateType;return[(t={noninteractive:!this.interactive},Gk(t,"b-".concat(r,"-").concat(e),e),Gk(t,"bs-".concat(r,"-").concat(n),n),t),this.customClass]},templateAttributes:function(){var t=this.id;return Hk(Hk({},this.bvParent.bvParent.$attrs),{},{id:t,role:"tooltip",tabindex:"-1"},this.scopedStyleAttrs)},templateListeners:function(){var t=this;return{mouseenter:function(e){t.$emit(Ki,e)},mouseleave:function(e){t.$emit(Yi,e)},focusin:function(e){t.$emit(Bi,e)},focusout:function(e){t.$emit(Vi,e)}}}},methods:{renderTemplate:function(t){var e=this.title,n=_t(e)?e({}):e,r=this.html&&!_t(e)?{innerHTML:e}:{};return t("div",{staticClass:"tooltip b-tooltip",class:this.templateClasses,attrs:this.templateAttributes,on:this.templateListeners},[t("div",{staticClass:"arrow",ref:"arrow"}),t("div",{staticClass:"tooltip-inner",domProps:r},[n])])}}});function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qk(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yk(Object(n),!0).forEach((function(e){Xk(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jk,Zk,tP=".modal-content",eP=zc(er,zi),nP=".b-sidebar",rP=[tP,nP].join(", "),iP="dropdown",oP=".dropdown-menu.show",sP="data-original-title",aP={title:"",content:"",variant:null,customClass:null,triggers:"",placement:"auto",fallbackPlacement:"flip",target:null,container:null,noFade:!1,boundary:"scrollParent",boundaryPadding:5,offset:0,delay:0,arrowPadding:6,interactive:!0,disabled:!1,id:null,html:!1},cP=mi({name:Yr,mixins:[Ju,OC],data:function(){return Qk(Qk({},aP),{},{activeTrigger:{hover:!1,click:!1,focus:!1},localShow:!1})},computed:{templateType:function(){return"tooltip"},computedId:function(){return this.id||"__bv_".concat(this.templateType,"_").concat(this[hi],"__")},computedDelay:function(){var t={show:0,hide:0};return kt(this.delay)?(t.show=gl(va(this.delay.show,0),0),t.hide=gl(va(this.delay.hide,0),0)):(St(this.delay)||Tt(this.delay))&&(t.show=t.hide=gl(va(this.delay,0),0)),t},computedTriggers:function(){return ua(this.triggers).filter(ae).join(" ").trim().toLowerCase().split(/\s+/).sort()},isWithActiveTrigger:function(){for(var t in this.activeTrigger)if(this.activeTrigger[t])return!0;return!1},computedTemplateData:function(){var t=this.title,e=this.content,n=this.variant,r=this.customClass,i=this.noFade,o=this.interactive;return{title:t,content:e,variant:n,customClass:r,noFade:i,interactive:o}}},watch:{computedTriggers:function(t,e){var n=this;$u(t,e)||this.$nextTick((function(){n.unListen(),e.forEach((function(e){la(t,e)||n.activeTrigger[e]&&(n.activeTrigger[e]=!1)})),n.listen()}))},computedTemplateData:function(){this.handleTemplateUpdate()},title:function(t,e){t===e||t||this.hide()},disabled:function(t){t?this.disable():this.enable()}},created:function(){var t=this;this.$_tip=null,this.$_hoverTimeout=null,this.$_hoverState="",this.$_visibleInterval=null,this.$_enabled=!this.disabled,this.$_noop=Dp.bind(this),this.bvParent&&this.bvParent.$once(To,(function(){t.$nextTick((function(){Ra((function(){t.$destroy()}))}))})),this.$nextTick((function(){var e=t.getTarget();e&&Ka(document.body,e)?(t.scopeId=TC(t.bvParent),t.listen()):de(Tt(t.target)?'Unable to find target element by ID "#'.concat(t.target,'" in document.'):"The provided target is no valid HTML element.",t.templateType)}))},updated:function(){this.$nextTick(this.handleTemplateUpdate)},deactivated:function(){this.forceHide()},beforeDestroy:function(){this.unListen(),this.setWhileOpenListeners(!1),this.clearHoverTimeout(),this.clearVisibilityInterval(),this.destroyTemplate(),this.$_noop=null},methods:{getTemplate:function(){return Kk},updateData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!1;Ut(aP).forEach((function(r){yt(e[r])||t[r]===e[r]||(t[r]=e[r],"title"===r&&(n=!0))})),n&&this.localShow&&this.fixTitle()},createTemplateAndShow:function(){var t=this.getContainer(),e=this.getTemplate(),n=this.$_tip=PC(this,e,{propsData:{id:this.computedId,html:this.html,placement:this.placement,fallbackPlacement:this.fallbackPlacement,target:this.getPlacementTarget(),boundary:this.getBoundary(),offset:va(this.offset,0),arrowPadding:va(this.arrowPadding,0),boundaryPadding:va(this.boundaryPadding,0)}});this.handleTemplateUpdate(),n.$once(po,this.onTemplateShow),n.$once(mo,this.onTemplateShown),n.$once(qi,this.onTemplateHide),n.$once(zi,this.onTemplateHidden),n.$once(So,this.destroyTemplate),n.$on(Bi,this.handleEvent),n.$on(Vi,this.handleEvent),n.$on(Ki,this.handleEvent),n.$on(Yi,this.handleEvent),n.$mount(t.appendChild(document.createElement("div")))},hideTemplate:function(){this.$_tip&&this.$_tip.hide(),this.clearActiveTriggers(),this.$_hoverState=""},destroyTemplate:function(){this.setWhileOpenListeners(!1),this.clearHoverTimeout(),this.$_hoverState="",this.clearActiveTriggers(),this.localPlacementTarget=null;try{this.$_tip.$destroy()}catch(t){}this.$_tip=null,this.removeAriaDescribedby(),this.restoreTitle(),this.localShow=!1},getTemplateElement:function(){return this.$_tip?this.$_tip.$el:null},handleTemplateUpdate:function(){var t=this,e=this.$_tip;if(e){var n=["title","content","variant","customClass","noFade","interactive"];n.forEach((function(n){e[n]!==t[n]&&(e[n]=t[n])}))}},show:function(){var t=this.getTarget();if(t&&Ka(document.body,t)&&Va(t)&&!this.dropdownOpen()&&(!wt(this.title)&&""!==this.title||!wt(this.content)&&""!==this.content)&&!this.$_tip&&!this.localShow){this.localShow=!0;var e=this.buildEvent(po,{cancelable:!0});this.emitEvent(e),e.defaultPrevented?this.destroyTemplate():(this.fixTitle(),this.addAriaDescribedby(),this.createTemplateAndShow())}},hide:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.getTemplateElement();if(e&&this.localShow){var n=this.buildEvent(qi,{cancelable:!t});this.emitEvent(n),n.defaultPrevented||this.hideTemplate()}else this.restoreTitle()},forceHide:function(){var t=this.getTemplateElement();t&&this.localShow&&(this.setWhileOpenListeners(!1),this.clearHoverTimeout(),this.$_hoverState="",this.clearActiveTriggers(),this.$_tip&&(this.$_tip.noFade=!0),this.hide(!0))},enable:function(){this.$_enabled=!0,this.emitEvent(this.buildEvent(Li))},disable:function(){this.$_enabled=!1,this.emitEvent(this.buildEvent(Ai))},onTemplateShow:function(){this.setWhileOpenListeners(!0)},onTemplateShown:function(){var t=this.$_hoverState;this.$_hoverState="","out"===t&&this.leave(null),this.emitEvent(this.buildEvent(mo))},onTemplateHide:function(){this.setWhileOpenListeners(!1)},onTemplateHidden:function(){this.destroyTemplate(),this.emitEvent(this.buildEvent(zi))},getTarget:function(){var t=this.target;return Tt(t)?t=Ya(t.replace(/^#/,"")):_t(t)?t=t():t&&(t=t.$el||t),Fa(t)?t:null},getPlacementTarget:function(){return this.getTarget()},getTargetId:function(){var t=this.getTarget();return t&&t.id?t.id:null},getContainer:function(){var t=!!this.container&&(this.container.$el||this.container),e=document.body,n=this.getTarget();return!1===t?Wa(rP,n)||e:Tt(t)&&Ya(t.replace(/^#/,""))||e},getBoundary:function(){return this.boundary?this.boundary.$el||this.boundary:"scrollParent"},isInModal:function(){var t=this.getTarget();return t&&Wa(tP,t)},isDropdown:function(){var t=this.getTarget();return t&&Ja(t,iP)},dropdownOpen:function(){var t=this.getTarget();return this.isDropdown()&&t&&Ha(oP,t)},clearHoverTimeout:function(){clearTimeout(this.$_hoverTimeout),this.$_hoverTimeout=null},clearVisibilityInterval:function(){clearInterval(this.$_visibleInterval),this.$_visibleInterval=null},clearActiveTriggers:function(){for(var t in this.activeTrigger)this.activeTrigger[t]=!1},addAriaDescribedby:function(){var t=this.getTarget(),e=ec(t,"aria-describedby")||"";e=e.split(/\s+/).concat(this.computedId).join(" ").trim(),Za(t,"aria-describedby",e)},removeAriaDescribedby:function(){var t=this,e=this.getTarget(),n=ec(e,"aria-describedby")||"";n=n.split(/\s+/).filter((function(e){return e!==t.computedId})).join(" ").trim(),n?Za(e,"aria-describedby",n):tc(e,"aria-describedby")},fixTitle:function(){var t=this.getTarget();if(nc(t,"title")){var e=ec(t,"title");Za(t,"title",""),e&&Za(t,sP,e)}},restoreTitle:function(){var t=this.getTarget();if(nc(t,sP)){var e=ec(t,sP);tc(t,sP),e&&Za(t,"title",e)}},buildEvent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Gv(t,Qk({cancelable:!1,target:this.getTarget(),relatedTarget:this.getTemplateElement()||null,componentId:this.computedId,vueTarget:this},e))},emitEvent:function(t){var e=t.type;this.emitOnRoot(zc(this.templateType,e),t),this.$emit(e,t)},listen:function(){var t=this,e=this.getTarget();e&&(this.setRootListener(!0),this.computedTriggers.forEach((function(n){"click"===n?Mc(e,"click",t.handleEvent,Po):"focus"===n?(Mc(e,"focusin",t.handleEvent,Po),Mc(e,"focusout",t.handleEvent,Po)):"blur"===n?Mc(e,"focusout",t.handleEvent,Po):"hover"===n&&(Mc(e,"mouseenter",t.handleEvent,Po),Mc(e,"mouseleave",t.handleEvent,Po))}),this))},unListen:function(){var t=this,e=["click","focusin","focusout","mouseenter","mouseleave"],n=this.getTarget();this.setRootListener(!1),e.forEach((function(e){n&&$c(n,e,t.handleEvent,Po)}),this)},setRootListener:function(t){var e=t?"listenOnRoot":"listenOffRoot",n=this.templateType;this[e](qc(n,qi),this.doHide),this[e](qc(n,po),this.doShow),this[e](qc(n,Di),this.doDisable),this[e](qc(n,Ni),this.doEnable)},setWhileOpenListeners:function(t){this.setModalListener(t),this.setDropdownListener(t),this.visibleCheck(t),this.setOnTouchStartListener(t)},visibleCheck:function(t){var e=this;this.clearVisibilityInterval();var n=this.getTarget();t&&(this.$_visibleInterval=setInterval((function(){var t=e.getTemplateElement();!t||!e.localShow||n.parentNode&&Va(n)||e.forceHide()}),100))},setModalListener:function(t){this.isInModal()&&this[t?"listenOnRoot":"listenOffRoot"](eP,this.forceHide)},setOnTouchStartListener:function(t){var e=this;"ontouchstart"in document.documentElement&&ca(document.body.children).forEach((function(n){Bc(t,n,"mouseover",e.$_noop)}))},setDropdownListener:function(t){var e=this.getTarget();if(e&&this.bvEventRoot&&this.isDropdown){var n=Jv(e);n&&n[t?"$on":"$off"](mo,this.forceHide)}},handleEvent:function(t){var e=this.getTarget();if(e&&!Ua(e)&&this.$_enabled&&!this.dropdownOpen()){var n=t.type,r=this.computedTriggers;if("click"===n&&la(r,"click"))this.click(t);else if("mouseenter"===n&&la(r,"hover"))this.enter(t);else if("focusin"===n&&la(r,"focus"))this.enter(t);else if("focusout"===n&&(la(r,"focus")||la(r,"blur"))||"mouseleave"===n&&la(r,"hover")){var i=this.getTemplateElement(),o=t.target,s=t.relatedTarget;if(i&&Ka(i,o)&&Ka(e,s)||i&&Ka(e,o)&&Ka(i,s)||i&&Ka(i,o)&&Ka(i,s)||Ka(e,o)&&Ka(e,s))return;this.leave(t)}}},doHide:function(t){t&&this.getTargetId()!==t&&this.computedId!==t||this.forceHide()},doShow:function(t){t&&this.getTargetId()!==t&&this.computedId!==t||this.show()},doDisable:function(t){t&&this.getTargetId()!==t&&this.computedId!==t||this.disable()},doEnable:function(t){t&&this.getTargetId()!==t&&this.computedId!==t||this.enable()},click:function(t){this.$_enabled&&!this.dropdownOpen()&&(dc(t.currentTarget),this.activeTrigger.click=!this.activeTrigger.click,this.isWithActiveTrigger?this.enter(null):this.leave(null))},toggle:function(){this.$_enabled&&!this.dropdownOpen()&&(this.localShow?this.leave(null):this.enter(null))},enter:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.activeTrigger["focusin"===e.type?"focus":"hover"]=!0),this.localShow||"in"===this.$_hoverState?this.$_hoverState="in":(this.clearHoverTimeout(),this.$_hoverState="in",this.computedDelay.show?(this.fixTitle(),this.$_hoverTimeout=setTimeout((function(){"in"===t.$_hoverState?t.show():t.localShow||t.restoreTitle()}),this.computedDelay.show)):this.show())},leave:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.activeTrigger["focusout"===e.type?"focus":"hover"]=!1,"focusout"===e.type&&la(this.computedTriggers,"blur")&&(this.activeTrigger.click=!1,this.activeTrigger.hover=!1)),this.isWithActiveTrigger||(this.clearHoverTimeout(),this.$_hoverState="out",this.computedDelay.hide?this.$_hoverTimeout=setTimeout((function(){"out"===t.$_hoverState&&t.hide()}),this.computedDelay.hide):this.hide())}}});function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function uP(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lP(Object(n),!0).forEach((function(e){hP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dP="disabled",fP=Co+dP,pP="show",mP=Co+pP,gP=Ac((Jk={boundary:kc([dt,Lo,Mo],"scrollParent"),boundaryPadding:kc(Ko,50),container:kc([dt,Lo,Mo]),customClass:kc(Mo),delay:kc(Yo,50)},hP(Jk,dP,kc(Ao,!1)),hP(Jk,"fallbackPlacement",kc(Uo,"flip")),hP(Jk,"id",kc(Mo)),hP(Jk,"noFade",kc(Ao,!1)),hP(Jk,"noninteractive",kc(Ao,!1)),hP(Jk,"offset",kc(Ko,0)),hP(Jk,"placement",kc(Mo,"top")),hP(Jk,pP,kc(Ao,!1)),hP(Jk,"target",kc([dt,ft,Ro,Lo,Mo],void 0,!0)),hP(Jk,"title",kc(Mo)),hP(Jk,"triggers",kc(Uo,"hover focus")),hP(Jk,"variant",kc(Mo)),Jk),$r),vP=mi({name:$r,mixins:[ga,OC],inheritAttrs:!1,props:gP,data:function(){return{localShow:this[pP],localTitle:"",localContent:""}},computed:{templateData:function(){return uP({title:this.localTitle,content:this.localContent,interactive:!this.noninteractive},Gt(this.$props,["boundary","boundaryPadding","container","customClass","delay","fallbackPlacement","id","noFade","offset","placement","target","target","triggers","variant",dP]))},templateTitleContent:function(){var t=this.title,e=this.content;return{title:t,content:e}}},watch:(Zk={},hP(Zk,pP,(function(t,e){t!==e&&t!==this.localShow&&this.$_toolpop&&(t?this.$_toolpop.show():this.$_toolpop.forceHide())})),hP(Zk,dP,(function(t){t?this.doDisable():this.doEnable()})),hP(Zk,"localShow",(function(t){this.$emit(mP,t)})),hP(Zk,"templateData",(function(){var t=this;this.$nextTick((function(){t.$_toolpop&&t.$_toolpop.updateData(t.templateData)}))})),hP(Zk,"templateTitleContent",(function(){this.$nextTick(this.updateContent)})),Zk),created:function(){this.$_toolpop=null},updated:function(){this.$nextTick(this.updateContent)},beforeDestroy:function(){this.$off(Ji,this.doOpen),this.$off(Ei,this.doClose),this.$off(Di,this.doDisable),this.$off(Ni,this.doEnable),this.$_toolpop&&(this.$_toolpop.$destroy(),this.$_toolpop=null)},mounted:function(){var t=this;this.$nextTick((function(){var e=t.getComponent();t.updateContent();var n=TC(t)||TC(t.bvParent),r=t.$_toolpop=PC(t,e,{_scopeId:n||void 0});r.updateData(t.templateData),r.$on(po,t.onShow),r.$on(mo,t.onShown),r.$on(qi,t.onHide),r.$on(zi,t.onHidden),r.$on(Ai,t.onDisabled),r.$on(Li,t.onEnabled),t[dP]&&t.doDisable(),t.$on(Ji,t.doOpen),t.$on(Ei,t.doClose),t.$on(Di,t.doDisable),t.$on(Ni,t.doEnable),t.localShow&&r.show()}))},methods:{getComponent:function(){return cP},updateContent:function(){this.setTitle(this.normalizeSlot()||this.title)},setTitle:function(t){t=wt(t)?"":t,this.localTitle!==t&&(this.localTitle=t)},setContent:function(t){t=wt(t)?"":t,this.localContent!==t&&(this.localContent=t)},onShow:function(t){this.$emit(po,t),t&&(this.localShow=!t.defaultPrevented)},onShown:function(t){this.localShow=!0,this.$emit(mo,t)},onHide:function(t){this.$emit(qi,t)},onHidden:function(t){this.$emit(zi,t),this.localShow=!1},onDisabled:function(t){t&&t.type===Ai&&(this.$emit(fP,!0),this.$emit(Ai,t))},onEnabled:function(t){t&&t.type===Li&&(this.$emit(fP,!1),this.$emit(Li,t))},doOpen:function(){!this.localShow&&this.$_toolpop&&this.$_toolpop.show()},doClose:function(){this.localShow&&this.$_toolpop&&this.$_toolpop.hide()},doDisable:function(){this.$_toolpop&&this.$_toolpop.disable()},doEnable:function(){this.$_toolpop&&this.$_toolpop.enable()}},render:function(t){return t()}}),yP=mi({name:Hr,extends:Kk,computed:{templateType:function(){return"popover"}},methods:{renderTemplate:function(t){var e=this.title,n=this.content,r=_t(e)?e({}):e,i=_t(n)?n({}):n,o=this.html&&!_t(e)?{innerHTML:e}:{},s=this.html&&!_t(n)?{innerHTML:n}:{};return t("div",{staticClass:"popover b-popover",class:this.templateClasses,attrs:this.templateAttributes,on:this.templateListeners},[t("div",{staticClass:"arrow",ref:"arrow"}),wt(r)||""===r?t():t("h3",{staticClass:"popover-header",domProps:o},[r]),wt(i)||""===i?t():t("div",{staticClass:"popover-body",domProps:s},[i])])}}}),bP=mi({name:qr,extends:cP,computed:{templateType:function(){return"popover"}},methods:{getTemplate:function(){return yP}}});function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wP(Object(n),!0).forEach((function(e){OP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function OP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var TP=Ac(Yt(_P(_P({},gP),{},{content:kc(Mo),placement:kc(Mo,"right"),triggers:kc(Uo,Ii)})),mr),SP=mi({name:mr,extends:vP,inheritAttrs:!1,props:TP,methods:{getComponent:function(){return bP},updateContent:function(){this.setContent(this.normalizeSlot()||this.content),this.setTitle(this.normalizeSlot(ia)||this.title)}}});function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function IP(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?CP(Object(n),!0).forEach((function(e){EP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function EP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var kP="__BV_Popover__",PP="click",xP={focus:!0,hover:!0,click:!0,blur:!0,manual:!0},DP=/^html$/i,AP=/^nofade$/i,jP=/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/i,RP=/^(window|viewport|scrollParent)$/i,NP=/^d\d+$/i,LP=/^ds\d+$/i,FP=/^dh\d+$/i,MP=/^o-?\d+$/i,$P=/^v-.+$/i,BP=/\s+/,VP=function(t,e){var n={title:void 0,content:void 0,trigger:"",placement:"right",fallbackPlacement:"flip",container:!1,animation:!0,offset:0,disabled:!1,id:null,html:!1,delay:vc(mr,"delay",50),boundary:String(vc(mr,"boundary","scrollParent")),boundaryPadding:va(vc(mr,"boundaryPadding",5),0),variant:vc(mr,"variant"),customClass:vc(mr,"customClass")};if(Tt(t.value)||St(t.value)||_t(t.value)?n.content=t.value:kt(t.value)&&(n=IP(IP({},n),t.value)),t.arg&&(n.container="#".concat(t.arg)),yt(n.title)){var r=e.data||{};n.title=r.attrs&&!wt(r.attrs.title)?r.attrs.title:void 0}kt(n.delay)||(n.delay={show:va(n.delay,0),hide:va(n.delay,0)}),Ut(t.modifiers).forEach((function(t){if(DP.test(t))n.html=!0;else if(AP.test(t))n.animation=!1;else if(jP.test(t))n.placement=t;else if(RP.test(t))t="scrollparent"===t?"scrollParent":t,n.boundary=t;else if(NP.test(t)){var e=va(t.slice(1),0);n.delay.show=e,n.delay.hide=e}else LP.test(t)?n.delay.show=va(t.slice(2),0):FP.test(t)?n.delay.hide=va(t.slice(2),0):MP.test(t)?n.offset=va(t.slice(1),0):$P.test(t)&&(n.variant=t.slice(2)||null)}));var i={};return ua(n.trigger||"").filter(ae).join(" ").trim().toLowerCase().split(BP).forEach((function(t){xP[t]&&(i[t]=!0)})),Ut(t.modifiers).forEach((function(t){t=t.toLowerCase(),xP[t]&&(i[t]=!0)})),n.trigger=Ut(i).join(" "),"blur"===n.trigger&&(n.trigger="focus"),n.trigger||(n.trigger=PP),n},UP=function(t,e,n){if(l){var r=VP(e,n);if(!t[kP]){var i=Am(n,e);t[kP]=PC(i,bP,{_scopeId:TC(i,void 0)}),t[kP].__bv_prev_data__={},t[kP].$on(po,(function(){var e={};_t(r.title)&&(e.title=r.title(t)),_t(r.content)&&(e.content=r.content(t)),Ut(e).length>0&&t[kP].updateData(e)}))}var o={title:r.title,content:r.content,triggers:r.trigger,placement:r.placement,fallbackPlacement:r.fallbackPlacement,variant:r.variant,customClass:r.customClass,container:r.container,boundary:r.boundary,delay:r.delay,offset:r.offset,noFade:!r.animation,id:r.id,disabled:r.disabled,html:r.html},s=t[kP].__bv_prev_data__;if(t[kP].__bv_prev_data__=o,!$u(o,s)){var a={target:t};Ut(o).forEach((function(e){o[e]!==s[e]&&(a[e]="title"!==e&&"content"!==e||!_t(o[e])?o[e]:o[e](t))})),t[kP].updateData(a)}}},zP=function(t){t[kP]&&(t[kP].$destroy(),t[kP]=null),delete t[kP]},qP={bind:function(t,e,n){UP(t,e,n)},componentUpdated:function(t,e,n){wi((function(){UP(t,e,n)}))},unbind:function(t){zP(t)}},HP=Ie({directives:{VBPopover:qP}}),GP=Ie({components:{BPopover:SP},plugins:{VBPopoverPlugin:HP}}),WP=Ac({animated:kc(Ao,null),label:kc(Mo),labelHtml:kc(Mo),max:kc(Ko,null),precision:kc(Ko,null),showProgress:kc(Ao,null),showValue:kc(Ao,null),striped:kc(Ao,null),value:kc(Ko,0),variant:kc(Mo)},vr),KP=mi({name:vr,mixins:[ga],inject:{getBvProgress:{default:function(){return function(){return{}}}}},props:WP,computed:{bvProgress:function(){return this.getBvProgress()},progressBarClasses:function(){var t=this.computedAnimated,e=this.computedVariant;return[e?"bg-".concat(e):"",this.computedStriped||t?"progress-bar-striped":"",t?"progress-bar-animated":""]},progressBarStyles:function(){return{width:this.computedValue/this.computedMax*100+"%"}},computedValue:function(){return ya(this.value,0)},computedMax:function(){var t=ya(this.max)||ya(this.bvProgress.max,0);return t>0?t:100},computedPrecision:function(){return gl(va(this.precision,va(this.bvProgress.precision,0)),0)},computedProgress:function(){var t=this.computedPrecision,e=wl(10,t);return ba(100*e*this.computedValue/this.computedMax/e,t)},computedVariant:function(){return this.variant||this.bvProgress.variant},computedStriped:function(){return Ot(this.striped)?this.striped:this.bvProgress.striped||!1},computedAnimated:function(){return Ot(this.animated)?this.animated:this.bvProgress.animated||!1},computedShowProgress:function(){return Ot(this.showProgress)?this.showProgress:this.bvProgress.showProgress||!1},computedShowValue:function(){return Ot(this.showValue)?this.showValue:this.bvProgress.showValue||!1}},render:function(t){var e,n=this.label,r=this.labelHtml,i=this.computedValue,o=this.computedPrecision,s={};return this.hasNormalizedSlot()?e=this.normalizeSlot():n||r?s=ed(r,n):this.computedShowProgress?e=this.computedProgress:this.computedShowValue&&(e=ba(i,o)),t("div",{staticClass:"progress-bar",class:this.progressBarClasses,style:this.progressBarStyles,attrs:{role:"progressbar","aria-valuemin":"0","aria-valuemax":Ia(this.computedMax),"aria-valuenow":ba(i,o)},domProps:s},e)}});function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function QP(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?YP(Object(n),!0).forEach((function(e){XP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function XP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var JP,ZP=Wt(WP,["label","labelHtml"]),tx=Ac(Yt(QP(QP({},ZP),{},{animated:kc(Ao,!1),height:kc(Mo),max:kc(Ko,100),precision:kc(Ko,0),showProgress:kc(Ao,!1),showValue:kc(Ao,!1),striped:kc(Ao,!1)})),gr),ex=mi({name:gr,mixins:[ga],provide:function(){var t=this;return{getBvProgress:function(){return t}}},props:tx,computed:{progressHeight:function(){return{height:this.height||null}}},render:function(t){var e=this.normalizeSlot();return e||(e=t(KP,{props:xc(ZP,this.$props)})),t("div",{staticClass:"progress",style:this.progressHeight},[e])}}),nx=Ie({components:{BProgress:ex,BProgressBar:KP}});function rx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ix(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rx(Object(n),!0).forEach((function(e){ox(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rx(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ox(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sx="b-sidebar",ax=qc(on,"request-state"),cx=qc(on,"toggle"),lx=zc(on,"state"),ux=zc(on,"sync-state"),hx=Lc("visible",{type:Ao,defaultValue:!1,event:Si}),dx=hx.mixin,fx=hx.props,px=hx.prop,mx=hx.event,gx=Ac(Yt(ix(ix(ix({},af),fx),{},{ariaLabel:kc(Mo),ariaLabelledby:kc(Mo),backdrop:kc(Ao,!1),backdropVariant:kc(Mo,"dark"),bgVariant:kc(Mo,"light"),bodyClass:kc(Vo),closeLabel:kc(Mo),footerClass:kc(Vo),footerTag:kc(Mo,"footer"),headerClass:kc(Vo),headerTag:kc(Mo,"header"),lazy:kc(Ao,!1),noCloseOnBackdrop:kc(Ao,!1),noCloseOnEsc:kc(Ao,!1),noCloseOnRouteChange:kc(Ao,!1),noEnforceFocus:kc(Ao,!1),noHeader:kc(Ao,!1),noHeaderClose:kc(Ao,!1),noSlide:kc(Ao,!1),right:kc(Ao,!1),shadow:kc(Ho,!1),sidebarClass:kc(Vo),tag:kc(Mo,"div"),textVariant:kc(Mo,"dark"),title:kc(Mo),width:kc(Mo),zIndex:kc(Ko)})),br),vx=function(t,e){var n=e.normalizeSlot(ia,e.slotScope)||e.title;return n?t("strong",{attrs:{id:e.safeId("__title__")}},[n]):t("span")},yx=function(t,e){if(e.noHeaderClose)return t();var n=e.closeLabel,r=e.textVariant,i=e.hide;return t(Wc,{props:{ariaLabel:n,textVariant:r},on:{click:i},ref:"close-button"},[e.normalizeSlot(ys)||t(vu)])},bx=function(t,e){if(e.noHeader)return t();var n=e.normalizeSlot(vs,e.slotScope);if(!n){var r=vx(t,e),i=yx(t,e);n=e.right?[i,r]:[r,i]}return t(e.headerTag,{staticClass:"".concat(sx,"-header"),class:e.headerClass,key:"header"},n)},wx=function(t,e){return t("div",{staticClass:"".concat(sx,"-body"),class:e.bodyClass,key:"body"},[e.normalizeSlot(ss,e.slotScope)])},_x=function(t,e){var n=e.normalizeSlot(gs,e.slotScope);return n?t(e.footerTag,{staticClass:"".concat(sx,"-footer"),class:e.footerClass,key:"footer"},[n]):t()},Ox=function(t,e){var n=bx(t,e);return e.lazy&&!e.isOpen?n:[n,wx(t,e),_x(t,e)]},Tx=function(t,e){if(!e.backdrop)return t();var n=e.backdropVariant;return t("div",{directives:[{name:"show",value:e.localShow}],staticClass:"b-sidebar-backdrop",class:ox({},"bg-".concat(n),n),on:{click:e.onBackdropClick}})},Sx=mi({name:br,mixins:[Yu,cf,dx,Ju,ga],inheritAttrs:!1,props:gx,data:function(){var t=!!this[px];return{localShow:t,isOpen:t}},computed:{transitionProps:function(){return this.noSlide?{css:!0}:{css:!0,enterClass:"",enterActiveClass:"slide",enterToClass:"show",leaveClass:"show",leaveActiveClass:"slide",leaveToClass:""}},slotScope:function(){var t=this.hide,e=this.right,n=this.localShow;return{hide:t,right:e,visible:n}},hasTitle:function(){var t=this.$scopedSlots,e=this.$slots;return!this.noHeader&&!this.hasNormalizedSlot(vs)&&!(!this.normalizeSlot(ia,this.slotScope,t,e)&&!this.title)},titleId:function(){return this.hasTitle?this.safeId("__title__"):null},computedAttrs:function(){return ix(ix({},this.bvAttrs),{},{id:this.safeId(),tabindex:"-1",role:"dialog","aria-modal":this.backdrop?"true":"false","aria-hidden":this.localShow?null:"true","aria-label":this.ariaLabel||null,"aria-labelledby":this.ariaLabelledby||this.titleId||null})}},watch:(JP={},ox(JP,px,(function(t,e){t!==e&&(this.localShow=t)})),ox(JP,"localShow",(function(t,e){t!==e&&(this.emitState(t),this.$emit(mx,t))})),ox(JP,"$route",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.noCloseOnRouteChange||t.fullPath===e.fullPath||this.hide()})),JP),created:function(){this.$_returnFocusEl=null},mounted:function(){var t=this;this.listenOnRoot(cx,this.handleToggle),this.listenOnRoot(ax,this.handleSync),this.$nextTick((function(){t.emitState(t.localShow)}))},activated:function(){this.emitSync()},beforeDestroy:function(){this.localShow=!1,this.$_returnFocusEl=null},methods:{hide:function(){this.localShow=!1},emitState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.localShow;this.emitOnRoot(lx,this.safeId(),t)},emitSync:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.localShow;this.emitOnRoot(ux,this.safeId(),t)},handleToggle:function(t){t&&t===this.safeId()&&(this.localShow=!this.localShow)},handleSync:function(t){var e=this;t&&t===this.safeId()&&this.$nextTick((function(){e.emitSync(e.localShow)}))},onKeydown:function(t){var e=t.keyCode;!this.noCloseOnEsc&&e===xu&&this.localShow&&this.hide()},onBackdropClick:function(){this.localShow&&!this.noCloseOnBackdrop&&this.hide()},onTopTrapFocus:function(){var t=hc(this.$refs.content);this.enforceFocus(t.reverse()[0])},onBottomTrapFocus:function(){var t=hc(this.$refs.content);this.enforceFocus(t[0])},onBeforeEnter:function(){this.$_returnFocusEl=Ma(l?[document.body]:[]),this.isOpen=!0},onAfterEnter:function(t){Ka(t,Ma())||this.enforceFocus(t),this.$emit(mo)},onAfterLeave:function(){this.enforceFocus(this.$_returnFocusEl),this.$_returnFocusEl=null,this.isOpen=!1,this.$emit(zi)},enforceFocus:function(t){this.noEnforceFocus||dc(t)}},render:function(t){var e,n=this.bgVariant,r=this.width,i=this.textVariant,o=this.localShow,s=""===this.shadow||this.shadow,a=t(this.tag,{staticClass:sx,class:[(e={shadow:!0===s},ox(e,"shadow-".concat(s),s&&!0!==s),ox(e,"".concat(sx,"-right"),this.right),ox(e,"bg-".concat(n),n),ox(e,"text-".concat(i),i),e),this.sidebarClass],style:{width:r},attrs:this.computedAttrs,directives:[{name:"show",value:o}],ref:"content"},[Ox(t,this)]);a=t("transition",{props:this.transitionProps,on:{beforeEnter:this.onBeforeEnter,afterEnter:this.onAfterEnter,afterLeave:this.onAfterLeave}},[a]);var c=t(el,{props:{noFade:this.noSlide}},[Tx(t,this)]),l=t(),u=t();return this.backdrop&&o&&(l=t("div",{attrs:{tabindex:"0"},on:{focus:this.onTopTrapFocus}}),u=t("div",{attrs:{tabindex:"0"},on:{focus:this.onBottomTrapFocus}})),t("div",{staticClass:"b-sidebar-outer",style:{zIndex:this.zIndex},attrs:{tabindex:"-1"},on:{keydown:this.onKeydown}},[l,a,u,c])}}),Cx=Ie({components:{BSidebar:Sx},plugins:{VBTogglePlugin:cg}});function Ix(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ex=Ac({animation:kc(Mo,"wave"),height:kc(Mo),size:kc(Mo),type:kc(Mo,"text"),variant:kc(Mo),width:kc(Mo)},wr),kx=mi({name:wr,functional:!0,props:Ex,render:function(t,e){var n,r=e.data,i=e.props,o=i.size,s=i.animation,a=i.variant;return t("div",ii(r,{staticClass:"b-skeleton",style:{width:o||i.width,height:o||i.height},class:(n={},Ix(n,"b-skeleton-".concat(i.type),!0),Ix(n,"b-skeleton-animate-".concat(s),s),Ix(n,"bg-".concat(a),a),n)}))}});function Px(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xx(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Px(Object(n),!0).forEach((function(e){Dx(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Px(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Dx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ax=Ac({animation:kc(Mo,"wave"),icon:kc(Mo),iconProps:kc(Lo,{})},_r),jx=mi({name:_r,functional:!0,props:Ax,render:function(t,e){var n=e.data,r=e.props,i=r.icon,o=r.animation,s=t(Su,{staticClass:"b-skeleton-icon",props:xx(xx({},r.iconProps),{},{icon:i})});return t("div",ii(n,{staticClass:"b-skeleton-icon-wrapper position-relative d-inline-block overflow-hidden",class:Dx({},"b-skeleton-animate-".concat(o),o)}),[s])}});function Rx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nx=Ac({animation:kc(Mo),aspect:kc(Mo,"16:9"),cardImg:kc(Mo),height:kc(Mo),noAspect:kc(Ao,!1),variant:kc(Mo),width:kc(Mo)},Or),Lx=mi({name:Or,functional:!0,props:Nx,render:function(t,e){var n=e.data,r=e.props,i=r.aspect,o=r.width,s=r.height,a=r.animation,c=r.variant,l=r.cardImg,u=t(kx,ii(n,{props:{type:"img",width:o,height:s,animation:a,variant:c},class:Rx({},"card-img-".concat(l),l)}));return r.noAspect?u:t(xl,{props:{aspect:i}},[u])}}),Fx=mi({methods:{hasListener:function(t){if(di)return!0;var e=this.$listeners||{},n=this._events||{};return!yt(e[t])||It(n[t])&&n[t].length>0}}});function Mx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $x={stacked:kc(Ho,!1)},Bx=mi({props:$x,computed:{isStacked:function(){var t=this.stacked;return""===t||t},isStackedAlways:function(){return!0===this.isStacked},stackedTableClasses:function(){var t=this.isStackedAlways;return Mx({"b-table-stacked":t},"b-table-stacked-".concat(this.stacked),!t&&this.isStacked)}}});function Vx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ux(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vx(Object(n),!0).forEach((function(e){zx(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vx(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qx={bordered:kc(Ao,!1),borderless:kc(Ao,!1),captionTop:kc(Ao,!1),dark:kc(Ao,!1),fixed:kc(Ao,!1),hover:kc(Ao,!1),noBorderCollapse:kc(Ao,!1),outlined:kc(Ao,!1),responsive:kc(Ho,!1),small:kc(Ao,!1),stickyHeader:kc(Ho,!1),striped:kc(Ao,!1),tableClass:kc(Vo),tableVariant:kc(Mo)},Hx=mi({mixins:[Yu],provide:function(){var t=this;return{getBvTable:function(){return t}}},inheritAttrs:!1,props:qx,computed:{isTableSimple:function(){return!1},isResponsive:function(){var t=this.responsive;return""===t||t},isStickyHeader:function(){var t=this.stickyHeader;return t=""===t||t,!this.isStacked&&t},wrapperClasses:function(){var t=this.isResponsive;return[this.isStickyHeader?"b-table-sticky-header":"",!0===t?"table-responsive":t?"table-responsive-".concat(this.responsive):""].filter(ae)},wrapperStyles:function(){var t=this.isStickyHeader;return t&&!Ot(t)?{maxHeight:t}:{}},tableClasses:function(){var t=Al(this),e=t.hover,n=t.tableVariant,r=t.selectableTableClasses,i=t.stackedTableClasses,o=t.tableClass,s=t.computedBusy;return e=this.isTableSimple?e:e&&this.computedItems.length>0&&!s,[o,{"table-striped":this.striped,"table-hover":e,"table-dark":this.dark,"table-bordered":this.bordered,"table-borderless":this.borderless,"table-sm":this.small,border:this.outlined,"b-table-fixed":this.fixed,"b-table-caption-top":this.captionTop,"b-table-no-border-collapse":this.noBorderCollapse},n?"".concat(this.dark?"bg":"table","-").concat(n):"",i,r]},tableAttrs:function(){var t=Al(this),e=t.computedItems,n=t.filteredItems,r=t.computedFields,i=t.selectableTableAttrs,o=t.computedBusy,s=this.isTableSimple?{}:{"aria-busy":Ia(o),"aria-colcount":Ia(r.length),"aria-describedby":this.bvAttrs["aria-describedby"]||this.$refs.caption?this.captionId:null},a=e&&n&&n.length>e.length?Ia(n.length):null;return Ux(Ux(Ux({"aria-rowcount":a},this.bvAttrs),{},{id:this.safeId(),role:this.bvAttrs.role||"table"},s),i)}},render:function(t){var e=Al(this),n=e.wrapperClasses,r=e.renderCaption,i=e.renderColgroup,o=e.renderThead,s=e.renderTbody,a=e.renderTfoot,c=[];this.isTableSimple?c.push(this.normalizeSlot()):(c.push(r?r():null),c.push(i?i():null),c.push(o?o():null),c.push(s?s():null),c.push(a?a():null));var l=t("table",{staticClass:"table b-table",class:this.tableClasses,attrs:this.tableAttrs,key:"b-table"},c.filter(ae));return n.length>0?t("div",{class:n,style:this.wrapperStyles,key:"wrap"},[l]):l}});function Gx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wx(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gx(Object(n),!0).forEach((function(e){Kx(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gx(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Kx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Yx=Ac(Yt(Wx(Wx(Wx({},af),$x),qx)),xr),Qx=mi({name:xr,mixins:[Yu,Fx,cf,ga,Hx,Bx],props:Yx,computed:{isTableSimple:function(){return!0}}});function Xx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jx(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xx(Object(n),!0).forEach((function(e){Zx(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xx(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tD=function(t){return t>0},eD=Ac({animation:kc(Mo),columns:kc(No,5,tD),hideHeader:kc(Ao,!1),rows:kc(No,3,tD),showFooter:kc(Ao,!1),tableProps:kc(Lo,{})},Tr),nD=mi({name:Tr,functional:!0,props:eD,render:function(t,e){var n=e.data,r=e.props,i=r.animation,o=r.columns,s=t("th",[t(kx,{props:{animation:i}})]),a=t("tr",ha(o,s)),c=t("td",[t(kx,{props:{width:"75%",animation:i}})]),l=t("tr",ha(o,c)),u=t("tbody",ha(r.rows,l)),h=r.hideHeader?t():t("thead",[a]),d=r.showFooter?t("tfoot",[a]):t();return t(Qx,ii(n,{props:Jx({},r.tableProps)}),[h,u,d])}}),rD=Ac({loading:kc(Ao,!1)},Sr),iD=mi({name:Sr,functional:!0,props:rD,render:function(t,e){var n=e.data,r=e.props,i=e.slots,o=e.scopedSlots,s=i(),a=o||{},c={};return r.loading?t("div",ii(n,{attrs:{role:"alert","aria-live":"polite","aria-busy":!0},staticClass:"b-skeleton-wrapper",key:"loading"}),ma(Ps,c,a,s)):ma(ss,c,a,s)}}),oD=Ie({components:{BSkeleton:kx,BSkeletonIcon:jx,BSkeletonImg:Lx,BSkeletonTable:nD,BSkeletonWrapper:iD}}),sD=Ie({components:{BSpinner:XE}});function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cD(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?aD(Object(n),!0).forEach((function(e){lD(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var uD="light",hD="dark",dD=Ac({variant:kc(Mo)},Br),fD=mi({name:Br,mixins:[Yu,ih,ga],provide:function(){var t=this;return{getBvTableTr:function(){return t}}},inject:{getBvTableRowGroup:{default:function(){return function(){return{}}}}},inheritAttrs:!1,props:dD,computed:{bvTableRowGroup:function(){return this.getBvTableRowGroup()},inTbody:function(){return this.bvTableRowGroup.isTbody},inThead:function(){return this.bvTableRowGroup.isThead},inTfoot:function(){return this.bvTableRowGroup.isTfoot},isDark:function(){return this.bvTableRowGroup.isDark},isStacked:function(){return this.bvTableRowGroup.isStacked},isResponsive:function(){return this.bvTableRowGroup.isResponsive},isStickyHeader:function(){return this.bvTableRowGroup.isStickyHeader},hasStickyHeader:function(){return!this.isStacked&&this.bvTableRowGroup.hasStickyHeader},tableVariant:function(){return this.bvTableRowGroup.tableVariant},headVariant:function(){return this.inThead?this.bvTableRowGroup.headVariant:null},footVariant:function(){return this.inTfoot?this.bvTableRowGroup.footVariant:null},isRowDark:function(){return this.headVariant!==uD&&this.footVariant!==uD&&(this.headVariant===hD||this.footVariant===hD||this.isDark)},trClasses:function(){var t=this.variant;return[t?"".concat(this.isRowDark?"bg":"table","-").concat(t):null]},trAttrs:function(){return cD({role:"row"},this.bvAttrs)}},render:function(t){return t("tr",{class:this.trClasses,attrs:this.trAttrs,on:this.bvListeners},this.normalizeSlot())}}),pD={},mD=mi({props:pD,methods:{renderBottomRow:function(){var t=this.computedFields,e=this.stacked,n=this.tbodyTrClass,r=this.tbodyTrAttr,i=this.$createElement;return this.hasNormalizedSlot(ns)&&!0!==e&&""!==e?i(fD,{staticClass:"b-table-bottom-row",class:[_t(n)?n(null,"row-bottom"):n],attrs:_t(r)?r(null,"row-bottom"):r,key:"b-bottom-row"},this.normalizeSlot(ns,{columns:t.length,fields:t})):i()}}});function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vD(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gD(Object(n),!0).forEach((function(e){yD(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bD=function(t){return t=va(t,0),t>0?t:null},wD=function(t){return wt(t)||bD(t)>0},_D=Ac({colspan:kc(Ko,null,wD),rowspan:kc(Ko,null,wD),stackedHeading:kc(Mo),stickyColumn:kc(Ao,!1),variant:kc(Mo)},kr),OD=mi({name:kr,mixins:[Yu,ih,ga],inject:{getBvTableTr:{default:function(){return function(){return{}}}}},inheritAttrs:!1,props:_D,computed:{bvTableTr:function(){return this.getBvTableTr()},tag:function(){return"td"},inTbody:function(){return this.bvTableTr.inTbody},inThead:function(){return this.bvTableTr.inThead},inTfoot:function(){return this.bvTableTr.inTfoot},isDark:function(){return this.bvTableTr.isDark},isStacked:function(){return this.bvTableTr.isStacked},isStackedCell:function(){return this.inTbody&&this.isStacked},isResponsive:function(){return this.bvTableTr.isResponsive},isStickyHeader:function(){return this.bvTableTr.isStickyHeader},hasStickyHeader:function(){return this.bvTableTr.hasStickyHeader},isStickyColumn:function(){return!this.isStacked&&(this.isResponsive||this.hasStickyHeader)&&this.stickyColumn},rowVariant:function(){return this.bvTableTr.variant},headVariant:function(){return this.bvTableTr.headVariant},footVariant:function(){return this.bvTableTr.footVariant},tableVariant:function(){return this.bvTableTr.tableVariant},computedColspan:function(){return bD(this.colspan)},computedRowspan:function(){return bD(this.rowspan)},cellClasses:function(){var t=this.variant,e=this.headVariant,n=this.isStickyColumn;return(!t&&this.isStickyHeader&&!e||!t&&n&&this.inTfoot&&!this.footVariant||!t&&n&&this.inThead&&!e||!t&&n&&this.inTbody)&&(t=this.rowVariant||this.tableVariant||"b-table-default"),[t?"".concat(this.isDark?"bg":"table","-").concat(t):null,n?"b-table-sticky-column":null]},cellAttrs:function(){var t=this.stackedHeading,e=this.inThead||this.inTfoot,n=this.computedColspan,r=this.computedRowspan,i="cell",o=null;return e?(i="columnheader",o=n>0?"colspan":"col"):$a(this.tag,"th")&&(i="rowheader",o=r>0?"rowgroup":"row"),vD(vD({colspan:n,rowspan:r,role:i,scope:o},this.bvAttrs),{},{"data-label":this.isStackedCell&&!wt(t)?Ia(t):null})}},render:function(t){var e=[this.normalizeSlot()];return t(this.tag,{class:this.cellClasses,attrs:this.cellAttrs,on:this.bvListeners},[this.isStackedCell?t("div",[e]):e])}});function TD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var SD="busy",CD=Co+SD,ID=TD({},SD,kc(Ao,!1)),ED=mi({props:ID,data:function(){return{localBusy:!1}},computed:{computedBusy:function(){return this[SD]||this.localBusy}},watch:{localBusy:function(t,e){t!==e&&this.$emit(CD,t)}},methods:{stopIfBusy:function(t){return!!this.computedBusy&&(Vc(t),!0)},renderBusy:function(){var t=this.tbodyTrClass,e=this.tbodyTrAttr,n=this.$createElement;return this.computedBusy&&this.hasNormalizedSlot(Xs)?n(fD,{staticClass:"b-table-busy-slot",class:[_t(t)?t(null,Xs):t],attrs:_t(e)?e(null,Xs):e,key:"table-busy-slot"},[n(OD,{props:{colspan:this.computedFields.length||null}},[this.normalizeSlot(Xs)])]):null}}}),kD={caption:kc(Mo),captionHtml:kc(Mo)},PD=mi({props:kD,computed:{captionId:function(){return this.isStacked?this.safeId("_caption_"):null}},methods:{renderCaption:function(){var t=this.caption,e=this.captionHtml,n=this.$createElement,r=n(),i=this.hasNormalizedSlot(Js);return(i||t||e)&&(r=n("caption",{attrs:{id:this.captionId},domProps:i?{}:ed(e,t),key:"caption",ref:"caption"},this.normalizeSlot(Js))),r}}}),xD={},DD=mi({methods:{renderColgroup:function(){var t=this.computedFields,e=this.$createElement,n=e();return this.hasNormalizedSlot(Zs)&&(n=e("colgroup",{key:"colgroup"},[this.normalizeSlot(Zs,{columns:t.length,fields:t})])),n}}}),AD={emptyFilteredHtml:kc(Mo),emptyFilteredText:kc(Mo,"There are no records matching your request"),emptyHtml:kc(Mo),emptyText:kc(Mo,"There are no records to show"),showEmpty:kc(Ao,!1)},jD=mi({props:AD,methods:{renderEmpty:function(){var t=Al(this),e=t.computedItems,n=t.computedBusy,r=this.$createElement,i=r();if(this.showEmpty&&(!e||0===e.length)&&(!n||!this.hasNormalizedSlot(Xs))){var o=this.computedFields,s=this.isFiltered,a=this.emptyText,c=this.emptyHtml,l=this.emptyFilteredText,u=this.emptyFilteredHtml,h=this.tbodyTrClass,d=this.tbodyTrAttr;i=this.normalizeSlot(s?ds:hs,{emptyFilteredHtml:u,emptyFilteredText:l,emptyHtml:c,emptyText:a,fields:o,items:e}),i||(i=r("div",{class:["text-center","my-2"],domProps:s?ed(u,l):ed(c,a)})),i=r(OD,{props:{colspan:o.length||null}},[r("div",{attrs:{role:"alert","aria-live":"polite"}},[i])]),i=r(fD,{staticClass:"b-table-empty-row",class:[_t(h)?h(null,"row-empty"):h],attrs:_t(d)?d(null,"row-empty"):d,key:s?"b-empty-filtered-row":"b-empty-row"},[i])}return i}}}),RD=function t(e){return wt(e)?"":Et(e)&&!Pt(e)?Ut(e).sort().map((function(n){return t(e[n])})).filter((function(t){return!!t})).join(" "):Ia(e)};function ND(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function LD(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ND(Object(n),!0).forEach((function(e){FD(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function FD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var MD="_cellVariants",$D="_rowVariant",BD="_showDetails",VD=[MD,$D,BD].reduce((function(t,e){return LD(LD({},t),{},FD({},e,!0))}),{}),UD=["a","a *","button","button *","input:not(.disabled):not([disabled])","select:not(.disabled):not([disabled])","textarea:not(.disabled):not([disabled])",'[role="link"]','[role="link"] *','[role="button"]','[role="button"] *',"[tabindex]:not(.disabled):not([disabled])"].join(","),zD=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=Ut(r).reduce((function(e,n){var i=r[n],o=i.filterByFormatted,s=_t(o)?o:o?i.formatter:null;return _t(s)&&(e[n]=s(t[n],n,t)),e}),Ht(t)),o=Ut(i).filter((function(t){return!VD[t]&&!(It(e)&&e.length>0&&la(e,t))&&!(It(n)&&n.length>0&&!la(n,t))}));return Gt(i,o)},qD=function(t,e,n,r){return Et(t)?RD(zD(t,e,n,r)):""};function HD(t){return YD(t)||KD(t)||WD(t)||GD()}function GD(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function WD(t,e){if(t){if("string"===typeof t)return QD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QD(t,e):void 0}}function KD(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function YD(t){if(Array.isArray(t))return QD(t)}function QD(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var XD='Prop "filter-debounce" is deprecated. Use the debounce feature of "<b-form-input>" instead.',JD={filter:kc([].concat(HD(Vo),[Fo])),filterDebounce:kc(Ko,0,(function(t){return S.test(String(t))})),filterFunction:kc(Ro),filterIgnoredFields:kc(Do,[]),filterIncludedFields:kc(Do,[])},ZD=mi({props:JD,data:function(){return{isFiltered:!1,localFilter:this.filterSanitize(this.filter)}},computed:{computedFilterIgnored:function(){return ua(this.filterIgnoredFields||[]).filter(ae)},computedFilterIncluded:function(){return ua(this.filterIncludedFields||[]).filter(ae)},computedFilterDebounce:function(){var t=va(this.filterDebounce,0);return t>0&&de(XD,Er),t},localFiltering:function(){return!this.hasProvider||!!this.noProviderFiltering},filteredCheck:function(){var t=this.filteredItems,e=this.localItems,n=this.localFilter;return{filteredItems:t,localItems:e,localFilter:n}},localFilterFn:function(){var t=this.filterFunction;return Rc(t)?t:null},filteredItems:function(){var t=this.localItems,e=this.localFilter,n=this.localFiltering?this.filterFnFactory(this.localFilterFn,e)||this.defaultFilterFnFactory(e):null;return n&&t.length>0?t.filter(n):t}},watch:{computedFilterDebounce:function(t){!t&&this.$_filterTimer&&(this.clearFilterTimer(),this.localFilter=this.filterSanitize(this.filter))},filter:{deep:!0,handler:function(t){var e=this,n=this.computedFilterDebounce;this.clearFilterTimer(),n&&n>0?this.$_filterTimer=setTimeout((function(){e.localFilter=e.filterSanitize(t)}),n):this.localFilter=this.filterSanitize(t)}},filteredCheck:function(t){var e=t.filteredItems,n=t.localFilter,r=!1;n?$u(n,[])||$u(n,{})?r=!1:n&&(r=!0):r=!1,r&&this.$emit(Fi,e,e.length),this.isFiltered=r},isFiltered:function(t,e){if(!1===t&&!0===e){var n=this.localItems;this.$emit(Fi,n,n.length)}}},created:function(){var t=this;this.$_filterTimer=null,this.$nextTick((function(){t.isFiltered=Boolean(t.localFilter)}))},beforeDestroy:function(){this.clearFilterTimer()},methods:{clearFilterTimer:function(){clearTimeout(this.$_filterTimer),this.$_filterTimer=null},filterSanitize:function(t){return!this.localFiltering||this.localFilterFn||Tt(t)||At(t)?se(t):""},filterFnFactory:function(t,e){if(!t||!_t(t)||!e||$u(e,[])||$u(e,{}))return null;var n=function(n){return t(n,e)};return n},defaultFilterFnFactory:function(t){var e=this;if(!t||!Tt(t)&&!At(t))return null;var n=t;if(Tt(n)){var r=Ca(t).replace(R,"\\s+");n=new RegExp(".*".concat(r,".*"),"i")}var i=function(t){return n.lastIndex=0,n.test(qD(t,e.computedFilterIgnored,e.computedFilterIncluded,e.computedFieldsObj))};return i}}}),tA=function(t,e){var n=null;return Tt(e)?n={key:t,label:e}:_t(e)?n={key:t,formatter:e}:Et(e)?(n=Ht(e),n.key=n.key||t):!1!==e&&(n={key:t}),n},eA=function(t,e){var n=[];if(It(t)&&t.filter(ae).forEach((function(t){if(Tt(t))n.push({key:t,label:Oa(t)});else if(Et(t)&&t.key&&Tt(t.key))n.push(Ht(t));else if(Et(t)&&1===Ut(t).length){var e=Ut(t)[0],r=tA(e,t[e]);r&&n.push(r)}})),0===n.length&&It(e)&&e.length>0){var r=e[0];Ut(r).forEach((function(t){VD[t]||n.push({key:t,label:Oa(t)})}))}var i={};return n.filter((function(t){return!i[t.key]&&(i[t.key]=!0,t.label=Tt(t.label)?t.label:Oa(t.key),!0)}))};function nA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rA(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nA(Object(n),!0).forEach((function(e){iA(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function iA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oA=Lc("value",{type:Do,defaultValue:[]}),sA=oA.mixin,aA=oA.props,cA=oA.prop,lA=oA.event,uA=Yt(rA(rA({},aA),{},iA({fields:kc(Do,null),items:kc(Do,[]),primaryKey:kc(Mo)},cA,kc(Do,[])))),hA=mi({mixins:[sA,OC],props:uA,data:function(){var t=this.items;return{localItems:It(t)?t.slice():[]}},computed:{computedFields:function(){return eA(this.fields,this.localItems)},computedFieldsObj:function(){var t=this.bvParent;return this.computedFields.reduce((function(e,n){if(e[n.key]=Ht(n),n.formatter){var r=n.formatter;Tt(r)&&_t(t[r])?r=t[r]:_t(r)||(r=void 0),e[n.key].formatter=r}return e}),{})},computedItems:function(){var t=Al(this),e=t.paginatedItems,n=t.sortedItems,r=t.filteredItems,i=t.localItems;return(e||n||r||i||[]).slice()},context:function(){var t=Al(this),e=t.perPage,n=t.currentPage;return{filter:this.localFilter,sortBy:this.localSortBy,sortDesc:this.localSortDesc,perPage:gl(va(e,0),0),currentPage:gl(va(n,0),1),apiUrl:this.apiUrl}}},watch:{items:function(t){this.localItems=It(t)?t.slice():[]},computedItems:function(t,e){$u(t,e)||this.$emit(lA,t)},context:function(t,e){$u(t,e)||this.$emit(Pi,t)}},mounted:function(){this.$emit(lA,this.computedItems)},methods:{getFieldFormatter:function(t){var e=this.computedFieldsObj[t];return e?e.formatter:void 0}}}),dA={currentPage:kc(Ko,1),perPage:kc(Ko,0)},fA=mi({props:dA,computed:{localPaging:function(){return!this.hasProvider||!!this.noProviderPaging},paginatedItems:function(){var t=Al(this),e=t.sortedItems,n=t.filteredItems,r=t.localItems,i=e||n||r||[],o=gl(va(this.currentPage,1),1),s=gl(va(this.perPage,0),0);return this.localPaging&&s&&(i=i.slice((o-1)*s,o*s)),i}}}),pA=zc(Er,ro),mA=qc(Er,no),gA={apiUrl:kc(Mo),items:kc($o,[]),noProviderFiltering:kc(Ao,!1),noProviderPaging:kc(Ao,!1),noProviderSorting:kc(Ao,!1)},vA=mi({mixins:[Ju],props:gA,computed:{hasProvider:function(){return _t(this.items)},providerTriggerContext:function(){var t={apiUrl:this.apiUrl,filter:null,sortBy:null,sortDesc:null,perPage:null,currentPage:null};return this.noProviderFiltering||(t.filter=this.localFilter),this.noProviderSorting||(t.sortBy=this.localSortBy,t.sortDesc=this.localSortDesc),this.noProviderPaging||(t.perPage=this.perPage,t.currentPage=this.currentPage),Ht(t)}},watch:{items:function(t){(this.hasProvider||_t(t))&&this.$nextTick(this._providerUpdate)},providerTriggerContext:function(t,e){$u(t,e)||this.$nextTick(this._providerUpdate)}},mounted:function(){var t=this;!this.hasProvider||this.localItems&&0!==this.localItems.length||this._providerUpdate(),this.listenOnRoot(mA,(function(e){e!==t.id&&e!==t||t.refresh()}))},methods:{refresh:function(){var t=Al(this),e=t.items,n=t.refresh,r=t.computedBusy;this.$off(ro,n),r?this.localBusy&&this.hasProvider&&this.$on(ro,n):(this.clearSelected(),this.hasProvider?this.$nextTick(this._providerUpdate):this.localItems=It(e)?e.slice():[])},_providerSetLocal:function(t){this.localItems=It(t)?t.slice():[],this.localBusy=!1,this.$emit(ro),this.id&&this.emitOnRoot(pA,this.id)},_providerUpdate:function(){var t=this;this.hasProvider&&(Al(this).computedBusy?this.$nextTick(this.refresh):(this.localBusy=!0,this.$nextTick((function(){try{var e=t.items(t.context,t._providerSetLocal);jt(e)?e.then((function(e){t._providerSetLocal(e)})):It(e)?t._providerSetLocal(e):2!==t.items.length&&(de("Provider function didn't request callback and did not return a promise or data.",Er),t.localBusy=!1)}catch(ti){de("Provider function error [".concat(ti.name,"] ").concat(ti.message,"."),Er),t.localBusy=!1,t.$off(ro,t.refresh)}}))))}}});function yA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bA,wA,_A=["range","multi","single"],OA="grid",TA={noSelectOnClick:kc(Ao,!1),selectMode:kc(Mo,"multi",(function(t){return la(_A,t)})),selectable:kc(Ao,!1),selectedVariant:kc(Mo,"active")},SA=mi({props:TA,data:function(){return{selectedRows:[],selectedLastRow:-1}},computed:{isSelectable:function(){return this.selectable&&this.selectMode},hasSelectableRowClick:function(){return this.isSelectable&&!this.noSelectOnClick},supportsSelectableRows:function(){return!0},selectableHasSelection:function(){var t=this.selectedRows;return this.isSelectable&&t&&t.length>0&&t.some(ae)},selectableIsMultiSelect:function(){return this.isSelectable&&la(["range","multi"],this.selectMode)},selectableTableClasses:function(){var t,e=this.isSelectable;return t={"b-table-selectable":e},yA(t,"b-table-select-".concat(this.selectMode),e),yA(t,"b-table-selecting",this.selectableHasSelection),yA(t,"b-table-selectable-no-click",e&&!this.hasSelectableRowClick),t},selectableTableAttrs:function(){if(!this.isSelectable)return{};var t=this.bvAttrs.role||OA;return{role:t,"aria-multiselectable":t===OA?Ia(this.selectableIsMultiSelect):null}}},watch:{computedItems:function(t,e){var n=!1;if(this.isSelectable&&this.selectedRows.length>0){n=It(t)&&It(e)&&t.length===e.length;for(var r=0;n&&r<t.length;r++)n=$u(zD(t[r]),zD(e[r]))}n||this.clearSelected()},selectable:function(t){this.clearSelected(),this.setSelectionHandlers(t)},selectMode:function(){this.clearSelected()},hasSelectableRowClick:function(t){this.clearSelected(),this.setSelectionHandlers(!t)},selectedRows:function(t,e){var n=this;if(this.isSelectable&&!$u(t,e)){var r=[];t.forEach((function(t,e){t&&r.push(n.computedItems[e])})),this.$emit(uo,r)}}},beforeMount:function(){this.isSelectable&&this.setSelectionHandlers(!0)},methods:{selectRow:function(t){if(this.isSelectable&&St(t)&&t>=0&&t<this.computedItems.length&&!this.isRowSelected(t)){var e=this.selectableIsMultiSelect?this.selectedRows.slice():[];e[t]=!0,this.selectedLastClicked=-1,this.selectedRows=e}},unselectRow:function(t){if(this.isSelectable&&St(t)&&this.isRowSelected(t)){var e=this.selectedRows.slice();e[t]=!1,this.selectedLastClicked=-1,this.selectedRows=e}},selectAllRows:function(){var t=this.computedItems.length;this.isSelectable&&t>0&&(this.selectedLastClicked=-1,this.selectedRows=this.selectableIsMultiSelect?ha(t,!0):[!0])},isRowSelected:function(t){return!(!St(t)||!this.selectedRows[t])},clearSelected:function(){this.selectedLastClicked=-1,this.selectedRows=[]},selectableRowClasses:function(t){if(this.isSelectable&&this.isRowSelected(t)){var e=this.selectedVariant;return yA({"b-table-row-selected":!0},"".concat(this.dark?"bg":"table","-").concat(e),e)}return{}},selectableRowAttrs:function(t){return{"aria-selected":this.isSelectable?this.isRowSelected(t)?"true":"false":null}},setSelectionHandlers:function(t){var e=t&&!this.noSelectOnClick?"$on":"$off";this[e](oo,this.selectionHandler),this[e](Fi,this.clearSelected),this[e](Pi,this.clearSelected)},selectionHandler:function(t,e,n){if(this.isSelectable&&!this.noSelectOnClick){var r=this.selectMode,i=this.selectedLastRow,o=this.selectedRows.slice(),s=!o[e];if("single"===r)o=[];else if("range"===r)if(i>-1&&n.shiftKey){for(var a=ml(i,e);a<=gl(i,e);a++)o[a]=!0;s=!0}else n.ctrlKey||n.metaKey||(o=[],s=!0),s&&(this.selectedLastRow=e);o[e]=s,this.selectedRows=o}else this.clearSelected()}}}),CA=function(t,e){return t.map((function(t,e){return[e,t]})).sort(function(t,e){return this(t[1],e[1])||t[0]-e[0]}.bind(e)).map((function(t){return t[1]}))},IA=function(t){return wt(t)?"":Ct(t)?ya(t,t):t},EA=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.sortBy,i=void 0===r?null:r,o=n.formatter,s=void 0===o?null:o,a=n.locale,c=void 0===a?void 0:a,l=n.localeOptions,u=void 0===l?{}:l,h=n.nullLast,d=void 0!==h&&h,f=le(t,i,null),p=le(e,i,null);return _t(s)&&(f=s(f,i,t),p=s(p,i,e)),f=IA(f),p=IA(p),Pt(f)&&Pt(p)||St(f)&&St(p)?f<p?-1:f>p?1:0:d&&""===f&&""!==p?1:d&&""!==f&&""===p?-1:RD(f).localeCompare(RD(p),c,u)};function kA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function PA(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kA(Object(n),!0).forEach((function(e){xA(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var DA="sortBy",AA=Co+DA,jA="sortDesc",RA=Co+jA,NA="asc",LA="desc",FA="last",MA=[NA,LA,FA],$A=(bA={labelSortAsc:kc(Mo,"Click to sort ascending"),labelSortClear:kc(Mo,"Click to clear sorting"),labelSortDesc:kc(Mo,"Click to sort descending"),noFooterSorting:kc(Ao,!1),noLocalSorting:kc(Ao,!1),noSortReset:kc(Ao,!1)},xA(bA,DA,kc(Mo)),xA(bA,"sortCompare",kc(Ro)),xA(bA,"sortCompareLocale",kc(Uo)),xA(bA,"sortCompareOptions",kc(Lo,{numeric:!0})),xA(bA,jA,kc(Ao,!1)),xA(bA,"sortDirection",kc(Mo,NA,(function(t){return la(MA,t)}))),xA(bA,"sortIconLeft",kc(Ao,!1)),xA(bA,"sortNullLast",kc(Ao,!1)),bA),BA=mi({props:$A,data:function(){return{localSortBy:this[DA]||"",localSortDesc:this[jA]||!1}},computed:{localSorting:function(){return this.hasProvider?!!this.noProviderSorting:!this.noLocalSorting},isSortable:function(){return this.computedFields.some((function(t){return t.sortable}))},sortedItems:function(){var t=Al(this),e=t.localSortBy,n=t.localSortDesc,r=t.sortCompareLocale,i=t.sortNullLast,o=t.sortCompare,s=t.localSorting,a=t.filteredItems,c=t.localItems,l=(a||c||[]).slice(),u=PA(PA({},this.sortCompareOptions),{},{usage:"sort"});if(e&&s){var h=this.computedFieldsObj[e]||{},d=h.sortByFormatted,f=_t(d)?d:d?this.getFieldFormatter(e):void 0;return CA(l,(function(t,s){var a=null;return _t(o)&&(a=o(t,s,e,n,f,u,r)),(wt(a)||!1===a)&&(a=EA(t,s,{sortBy:e,formatter:f,locale:r,localeOptions:u,nullLast:i})),(a||0)*(n?-1:1)}))}return l}},watch:(wA={isSortable:function(t){t?this.isSortable&&this.$on(Ui,this.handleSort):this.$off(Ui,this.handleSort)}},xA(wA,jA,(function(t){t!==this.localSortDesc&&(this.localSortDesc=t||!1)})),xA(wA,DA,(function(t){t!==this.localSortBy&&(this.localSortBy=t||"")})),xA(wA,"localSortDesc",(function(t,e){t!==e&&this.$emit(RA,t)})),xA(wA,"localSortBy",(function(t,e){t!==e&&this.$emit(AA,t)})),wA),created:function(){this.isSortable&&this.$on(Ui,this.handleSort)},methods:{handleSort:function(t,e,n,r){var i=this;if(this.isSortable&&(!r||!this.noFooterSorting)){var o=!1,s=function(){var t=e.sortDirection||i.sortDirection;t===NA?i.localSortDesc=!1:t===LA&&(i.localSortDesc=!0)};if(e.sortable){var a=!this.localSorting&&e.sortKey?e.sortKey:t;this.localSortBy===a?this.localSortDesc=!this.localSortDesc:(this.localSortBy=a,s()),o=!0}else this.localSortBy&&!this.noSortReset&&(this.localSortBy="",s(),o=!0);o&&this.$emit(yo,this.context)}},sortTheadThClasses:function(t,e,n){return{"b-table-sort-icon-left":e.sortable&&this.sortIconLeft&&!(n&&this.noFooterSorting)}},sortTheadThAttrs:function(t,e,n){var r,i=this.isSortable,o=this.noFooterSorting,s=this.localSortDesc,a=this.localSortBy,c=this.localSorting;if(!i||n&&o)return{};var l=e.sortable,u=c?t:null!==(r=e.sortKey)&&void 0!==r?r:t,h=l&&a===u?s?"descending":"ascending":l?"none":null;return{"aria-sort":h}},sortTheadThLabel:function(t,e,n){if(!this.isSortable||n&&this.noFooterSorting)return null;var r=this.localSortBy,i=this.localSortDesc,o=this.labelSortAsc,s=this.labelSortDesc,a=e.sortable,c="";if(a)if(r===t)c=i?o:s;else{c=i?s:o;var l=this.sortDirection||e.sortDirection;l===NA?c=o:l===LA&&(c=s)}else this.noSortReset||(c=r?this.labelSortClear:"");return ka(c)||null}}});function VA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function UA(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?VA(Object(n),!0).forEach((function(e){zA(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qA=Ac({tbodyTransitionHandlers:kc(Lo),tbodyTransitionProps:kc(Lo)},Ar),HA=mi({name:Ar,mixins:[Yu,ih,ga],provide:function(){var t=this;return{getBvTableRowGroup:function(){return t}}},inject:{getBvTable:{default:function(){return function(){return{}}}}},inheritAttrs:!1,props:qA,computed:{bvTable:function(){return this.getBvTable()},isTbody:function(){return!0},isDark:function(){return this.bvTable.dark},isStacked:function(){return this.bvTable.isStacked},isResponsive:function(){return this.bvTable.isResponsive},isStickyHeader:function(){return!1},hasStickyHeader:function(){return!this.isStacked&&this.bvTable.stickyHeader},tableVariant:function(){return this.bvTable.tableVariant},isTransitionGroup:function(){return this.tbodyTransitionProps||this.tbodyTransitionHandlers},tbodyAttrs:function(){return UA({role:"rowgroup"},this.bvAttrs)},tbodyProps:function(){var t=this.tbodyTransitionProps;return t?UA(UA({},t),{},{tag:"tbody"}):{}}},render:function(t){var e={props:this.tbodyProps,attrs:this.tbodyAttrs};return this.isTransitionGroup?(e.on=this.tbodyTransitionHandlers||{},e.nativeOn=this.bvListeners):e.on=this.bvListeners,t(this.isTransitionGroup?"transition-group":"tbody",e,this.normalizeSlot())}}),GA=["TD","TH","TR"],WA=function(t){if(!t||!t.target)return!1;var e=t.target;if(e.disabled||-1!==GA.indexOf(e.tagName))return!1;if(Wa(".dropdown-menu",e))return!0;var n="LABEL"===e.tagName?e:Wa("label",e);if(n){var r=ec(n,"for"),i=r?Ya(r):Ha("input, select, textarea",n);if(i&&!i.disabled)return!0}return Ga(e,UD)},KA=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=cc();return!!(e&&""!==e.toString().trim()&&e.containsNode&&Fa(t))&&e.containsNode(t,!0)},YA=Ac(_D,Rr),QA=mi({name:Rr,extends:OD,props:YA,computed:{tag:function(){return"th"}}});function XA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function JA(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?XA(Object(n),!0).forEach((function(e){ZA(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ZA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tj(t){return ij(t)||rj(t)||nj(t)||ej()}function ej(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nj(t,e){if(t){if("string"===typeof t)return oj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oj(t,e):void 0}}function rj(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function ij(t){if(Array.isArray(t))return oj(t)}function oj(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sj={detailsTdClass:kc(Vo),tbodyTrAttr:kc(Qo),tbodyTrClass:kc([].concat(tj(Vo),[Ro]))},aj=mi({mixins:[OC],props:sj,methods:{getTdValues:function(t,e,n,r){var i=this.bvParent;if(n){var o=le(t,e,"");return _t(n)?n(o,e,t):Tt(n)&&_t(i[n])?i[n](o,e,t):n}return r},getThValues:function(t,e,n,r,i){var o=this.bvParent;if(n){var s=le(t,e,"");return _t(n)?n(s,e,t,r):Tt(n)&&_t(o[n])?o[n](s,e,t,r):n}return i},getFormattedValue:function(t,e){var n=e.key,r=this.getFieldFormatter(n),i=le(t,n,null);return _t(r)&&(i=r(i,n,t)),wt(i)?"":i},toggleDetailsFactory:function(t,e){var n=this;return function(){t&&n.$set(e,BD,!e[BD])}},rowHovered:function(t){this.tbodyRowEventStopped(t)||this.emitTbodyRowEvent(co,t)},rowUnhovered:function(t){this.tbodyRowEventStopped(t)||this.emitTbodyRowEvent(ho,t)},renderTbodyRowCell:function(t,e,n,r){var i=this,o=this.isStacked,s=t.key,a=t.label,c=t.isRowHeader,l=this.$createElement,u=this.hasNormalizedSlot(Qs),h=this.getFormattedValue(n,t),d=!o&&(this.isResponsive||this.stickyHeader)&&t.stickyColumn,f=d?c?QA:OD:c?"th":"td",p=n[MD]&&n[MD][s]?n[MD][s]:t.variant||null,m={class:[t.class?t.class:"",this.getTdValues(n,s,t.tdClass,"")],props:{},attrs:JA({"aria-colindex":String(e+1)},c?this.getThValues(n,s,t.thAttr,"row",{}):this.getTdValues(n,s,t.tdAttr,{})),key:"row-".concat(r,"-cell-").concat(e,"-").concat(s)};d?m.props={stackedHeading:o?a:null,stickyColumn:!0,variant:p}:(m.attrs["data-label"]=o&&!wt(a)?Ia(a):null,m.attrs.role=c?"rowheader":"cell",m.attrs.scope=c?"row":null,p&&m.class.push("".concat(this.dark?"bg":"table","-").concat(p)));var g={item:n,index:r,field:t,unformatted:le(n,s,""),value:h,toggleDetails:this.toggleDetailsFactory(u,n),detailsShowing:Boolean(n[BD])};Al(this).supportsSelectableRows&&(g.rowSelected=this.isRowSelected(r),g.selectRow=function(){return i.selectRow(r)},g.unselectRow=function(){return i.unselectRow(r)});var v=this.$_bodyFieldSlotNameCache[s],y=v?this.normalizeSlot(v,g):Ia(h);return this.isStacked&&(y=[l("div",[y])]),l(f,m,[y])},renderTbodyRow:function(t,e){var n=this,r=Al(this),i=r.computedFields,o=r.striped,s=r.primaryKey,a=r.currentPage,c=r.perPage,l=r.tbodyTrClass,u=r.tbodyTrAttr,h=r.hasSelectableRowClick,d=this.$createElement,f=this.hasNormalizedSlot(Qs),p=t[BD]&&f,m=this.$listeners[oo]||h,g=[],v=p?this.safeId("_details_".concat(e,"_")):null,y=i.map((function(r,i){return n.renderTbodyRowCell(r,i,t,e)})),b=null;a&&c&&c>0&&(b=String((a-1)*c+e+1));var w=Ia(le(t,s))||null,_=w||Ia(e),O=w?this.safeId("_row_".concat(w)):null,T=Al(this).selectableRowClasses?this.selectableRowClasses(e):{},S=Al(this).selectableRowAttrs?this.selectableRowAttrs(e):{},C=_t(l)?l(t,"row"):l,I=_t(u)?u(t,"row"):u;if(g.push(d(fD,ZA({class:[C,T,p?"b-table-has-details":""],props:{variant:t[$D]||null},attrs:JA(JA({id:O},I),{},{tabindex:m?"0":null,"data-pk":w||null,"aria-details":v,"aria-owns":v,"aria-rowindex":b},S),on:{mouseenter:this.rowHovered,mouseleave:this.rowUnhovered},key:"__b-table-row-".concat(_,"__"),ref:"item-rows"},fi,!0),y)),p){var E={item:t,index:e,fields:i,toggleDetails:this.toggleDetailsFactory(f,t)};Al(this).supportsSelectableRows&&(E.rowSelected=this.isRowSelected(e),E.selectRow=function(){return n.selectRow(e)},E.unselectRow=function(){return n.unselectRow(e)});var k=d(OD,{props:{colspan:i.length},class:this.detailsTdClass},[this.normalizeSlot(Qs,E)]);o&&g.push(d("tr",{staticClass:"d-none",attrs:{"aria-hidden":"true",role:"presentation"},key:"__b-table-details-stripe__".concat(_)}));var P=_t(this.tbodyTrClass)?this.tbodyTrClass(t,Qs):this.tbodyTrClass,x=_t(this.tbodyTrAttr)?this.tbodyTrAttr(t,Qs):this.tbodyTrAttr;g.push(d(fD,{staticClass:"b-table-details",class:[P],props:{variant:t[$D]||null},attrs:JA(JA({},x),{},{id:v,tabindex:"-1"}),key:"__b-table-details__".concat(_)},[k]))}else f&&(g.push(d()),o&&g.push(d()));return g}}});function cj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lj(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cj(Object(n),!0).forEach((function(e){uj(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function uj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hj=function(t){return"cell(".concat(t||"",")")},dj=Yt(lj(lj(lj({},qA),sj),{},{tbodyClass:kc(Vo)})),fj=mi({mixins:[aj],props:dj,beforeDestroy:function(){this.$_bodyFieldSlotNameCache=null},methods:{getTbodyTrs:function(){var t=this.$refs,e=t.tbody?t.tbody.$el||t.tbody:null,n=(t["item-rows"]||[]).map((function(t){return t.$el||t}));return e&&e.children&&e.children.length>0&&n&&n.length>0?ca(e.children).filter((function(t){return la(n,t)})):[]},getTbodyTrIndex:function(t){if(!Fa(t))return-1;var e="TR"===t.tagName?t:Wa("tr",t,!0);return e?this.getTbodyTrs().indexOf(e):-1},emitTbodyRowEvent:function(t,e){if(t&&this.hasListener(t)&&e&&e.target){var n=this.getTbodyTrIndex(e.target);if(n>-1){var r=this.computedItems[n];this.$emit(t,r,n,e)}}},tbodyRowEventStopped:function(t){return this.stopIfBusy&&this.stopIfBusy(t)},onTbodyRowKeydown:function(t){var e=t.target,n=t.keyCode;if(!this.tbodyRowEventStopped(t)&&"TR"===e.tagName&&Ba(e)&&0===e.tabIndex)if(la([Pu,Lu],n))Vc(t),this.onTBodyRowClicked(t);else if(la([Fu,Eu,Du,ku],n)){var r=this.getTbodyTrIndex(e);if(r>-1){Vc(t);var i=this.getTbodyTrs(),o=t.shiftKey;n===Du||o&&n===Fu?dc(i[0]):n===ku||o&&n===Eu?dc(i[i.length-1]):n===Fu&&r>0?dc(i[r-1]):n===Eu&&r<i.length-1&&dc(i[r+1])}}},onTBodyRowClicked:function(t){var e=this.$refs,n=e.tbody?e.tbody.$el||e.tbody:null;this.tbodyRowEventStopped(t)||WA(t)||KA(n||this.$el)||this.emitTbodyRowEvent(oo,t)},onTbodyRowMiddleMouseRowClicked:function(t){this.tbodyRowEventStopped(t)||2!==t.which||this.emitTbodyRowEvent(lo,t)},onTbodyRowContextmenu:function(t){this.tbodyRowEventStopped(t)||this.emitTbodyRowEvent(so,t)},onTbodyRowDblClicked:function(t){this.tbodyRowEventStopped(t)||WA(t)||this.emitTbodyRowEvent(ao,t)},renderTbody:function(){var t=this,e=Al(this),n=e.computedItems,r=e.renderBusy,i=e.renderTopRow,o=e.renderEmpty,s=e.renderBottomRow,a=e.hasSelectableRowClick,c=this.$createElement,l=this.hasListener(oo)||a,u=[],h=r?r():null;if(h)u.push(h);else{var d={},f=hj();f=this.hasNormalizedSlot(f)?f:null,this.computedFields.forEach((function(e){var n=e.key,r=hj(n),i=hj(n.toLowerCase());d[n]=t.hasNormalizedSlot(r)?r:t.hasNormalizedSlot(i)?i:f})),this.$_bodyFieldSlotNameCache=d,u.push(i?i():c()),n.forEach((function(e,n){u.push(t.renderTbodyRow(e,n))})),u.push(o?o():c()),u.push(s?s():c())}var p={auxclick:this.onTbodyRowMiddleMouseRowClicked,contextmenu:this.onTbodyRowContextmenu,dblclick:this.onTbodyRowDblClicked};l&&(p.click=this.onTBodyRowClicked,p.keydown=this.onTbodyRowKeydown);var m=c(HA,{class:this.tbodyClass||null,props:xc(qA,this.$props),on:p,ref:"tbody"},u);return m}}});function pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mj(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pj(Object(n),!0).forEach((function(e){gj(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vj=Ac({footVariant:kc(Mo)},jr),yj=mi({name:jr,mixins:[Yu,ih,ga],provide:function(){var t=this;return{getBvTableRowGroup:function(){return t}}},inject:{getBvTable:{default:function(){return function(){return{}}}}},inheritAttrs:!1,props:vj,computed:{bvTable:function(){return this.getBvTable()},isTfoot:function(){return!0},isDark:function(){return this.bvTable.dark},isStacked:function(){return this.bvTable.isStacked},isResponsive:function(){return this.bvTable.isResponsive},isStickyHeader:function(){return!1},hasStickyHeader:function(){return!this.isStacked&&this.bvTable.stickyHeader},tableVariant:function(){return this.bvTable.tableVariant},tfootClasses:function(){return[this.footVariant?"thead-".concat(this.footVariant):null]},tfootAttrs:function(){return mj(mj({},this.bvAttrs),{},{role:"rowgroup"})}},render:function(t){return t("tfoot",{class:this.tfootClasses,attrs:this.tfootAttrs,on:this.bvListeners},this.normalizeSlot())}}),bj={footClone:kc(Ao,!1),footRowVariant:kc(Mo),footVariant:kc(Mo),tfootClass:kc(Vo),tfootTrClass:kc(Vo)},wj=mi({props:bj,methods:{renderTFootCustom:function(){var t=this.$createElement;return this.hasNormalizedSlot(is)?t(yj,{class:this.tfootClass||null,props:{footVariant:this.footVariant||this.headVariant||null},key:"bv-tfoot-custom"},this.normalizeSlot(is,{items:this.computedItems.slice(),fields:this.computedFields.slice(),columns:this.computedFields.length})):t()},renderTfoot:function(){return this.footClone?this.renderThead(!0):this.renderTFootCustom()}}});function _j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Oj(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_j(Object(n),!0).forEach((function(e){Tj(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Sj=Ac({headVariant:kc(Mo)},Nr),Cj=mi({name:Nr,mixins:[Yu,ih,ga],provide:function(){var t=this;return{getBvTableRowGroup:function(){return t}}},inject:{getBvTable:{default:function(){return function(){return{}}}}},inheritAttrs:!1,props:Sj,computed:{bvTable:function(){return this.getBvTable()},isThead:function(){return!0},isDark:function(){return this.bvTable.dark},isStacked:function(){return this.bvTable.isStacked},isResponsive:function(){return this.bvTable.isResponsive},isStickyHeader:function(){return!this.isStacked&&this.bvTable.stickyHeader},hasStickyHeader:function(){return!this.isStacked&&this.bvTable.stickyHeader},tableVariant:function(){return this.bvTable.tableVariant},theadClasses:function(){return[this.headVariant?"thead-".concat(this.headVariant):null]},theadAttrs:function(){return Oj({role:"rowgroup"},this.bvAttrs)}},render:function(t){return t("thead",{class:this.theadClasses,attrs:this.theadAttrs,on:this.bvListeners},this.normalizeSlot())}});function Ij(t){return xj(t)||Pj(t)||kj(t)||Ej()}function Ej(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function kj(t,e){if(t){if("string"===typeof t)return Dj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dj(t,e):void 0}}function Pj(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function xj(t){if(Array.isArray(t))return Dj(t)}function Dj(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jj(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Aj(Object(n),!0).forEach((function(e){Rj(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nj=function(t){return"head(".concat(t||"",")")},Lj=function(t){return"foot(".concat(t||"",")")},Fj={headRowVariant:kc(Mo),headVariant:kc(Mo),theadClass:kc(Vo),theadTrClass:kc(Vo)},Mj=mi({props:Fj,methods:{fieldClasses:function(t){return[t.class?t.class:"",t.thClass?t.thClass:""]},headClicked:function(t,e,n){this.stopIfBusy&&this.stopIfBusy(t)||WA(t)||KA(this.$el)||(Vc(t),this.$emit(Ui,e.key,e,t,n))},renderThead:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Al(this),r=n.computedFields,i=n.isSortable,o=n.isSelectable,s=n.headVariant,a=n.footVariant,c=n.headRowVariant,l=n.footRowVariant,u=this.$createElement;if(this.isStackedAlways||0===r.length)return u();var h=i||this.hasListener(Ui),d=o?this.selectAllRows:Dp,f=o?this.clearSelected:Dp,p=function(n,r){var o=n.label,s=n.labelHtml,a=n.variant,c=n.stickyColumn,l=n.key,p=null;n.label.trim()||n.headerTitle||(p=Oa(n.key));var m={};h&&(m.click=function(r){t.headClicked(r,n,e)},m.keydown=function(r){var i=r.keyCode;i!==Pu&&i!==Lu||t.headClicked(r,n,e)});var g=i?t.sortTheadThAttrs(l,n,e):{},v=i?t.sortTheadThClasses(l,n,e):null,y=i?t.sortTheadThLabel(l,n,e):null,b={class:[{"position-relative":y},t.fieldClasses(n),v],props:{variant:a,stickyColumn:c},style:n.thStyle||{},attrs:jj(jj({tabindex:h&&n.sortable?"0":null,abbr:n.headerAbbr||null,title:n.headerTitle||null,"aria-colindex":r+1,"aria-label":p},t.getThValues(null,l,n.thAttr,e?"foot":"head",{})),g),on:m,key:l},w=[Nj(l),Nj(l.toLowerCase()),Nj()];e&&(w=[Lj(l),Lj(l.toLowerCase()),Lj()].concat(Ij(w)));var _={label:o,column:l,field:n,isFoot:e,selectAllRows:d,clearSelected:f},O=t.normalizeSlot(w,_)||u("div",{domProps:ed(s,o)}),T=y?u("span",{staticClass:"sr-only"}," (".concat(y,")")):null;return u(QA,b,[O,T].filter(ae))},m=r.map(p).filter(ae),g=[];if(e)g.push(u(fD,{class:this.tfootTrClass,props:{variant:wt(l)?c:l}},m));else{var v={columns:r.length,fields:r,selectAllRows:d,clearSelected:f};g.push(this.normalizeSlot(ra,v)||u()),g.push(u(fD,{class:this.theadTrClass,props:{variant:c}},m))}return u(e?yj:Cj,{class:(e?this.tfootClass:this.theadClass)||null,props:e?{footVariant:a||s||null}:{headVariant:s||null},key:e?"bv-tfoot":"bv-thead"},g)}}}),$j={},Bj=mi({methods:{renderTopRow:function(){var t=this.computedFields,e=this.stacked,n=this.tbodyTrClass,r=this.tbodyTrAttr,i=this.$createElement;return this.hasNormalizedSlot(sa)&&!0!==e&&""!==e?i(fD,{staticClass:"b-table-top-row",class:[_t(n)?n(null,"row-top"):n],attrs:_t(r)?r(null,"row-top"):r,key:"b-top-row"},[this.normalizeSlot(sa,{columns:t.length,fields:t})]):i()}}});function Vj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Uj(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vj(Object(n),!0).forEach((function(e){zj(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vj(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qj=Ac(Yt(Uj(Uj(Uj(Uj(Uj(Uj(Uj(Uj(Uj(Uj(Uj(Uj(Uj(Uj(Uj(Uj(Uj(Uj({},af),pD),ID),kD),xD),AD),JD),uA),dA),gA),TA),$A),$x),qx),dj),bj),Fj),$j)),Er),Hj=mi({name:Er,mixins:[Yu,Fx,cf,ga,hA,Hx,Bx,Mj,wj,fj,Bx,ZD,BA,fA,PD,DD,SA,jD,Bj,mD,ED,vA],props:qj});function Gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wj(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gj(Object(n),!0).forEach((function(e){Kj(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Kj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Yj,Qj=Ac(Yt(Wj(Wj(Wj(Wj(Wj(Wj(Wj(Wj(Wj({},af),kD),xD),uA),$x),qx),dj),bj),Fj)),Pr),Xj=mi({name:Pr,mixins:[Yu,Fx,cf,ga,hA,Hx,Bx,Mj,wj,fj,PD,DD],props:Qj}),Jj=Ie({components:{BTableLite:Xj}}),Zj=Ie({components:{BTableSimple:Qx,BTbody:HA,BThead:Cj,BTfoot:yj,BTr:fD,BTd:OD,BTh:QA}}),tR=Ie({components:{BTable:Hj},plugins:{TableLitePlugin:Jj,TableSimplePlugin:Zj}});function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nR(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?eR(Object(n),!0).forEach((function(e){rR(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var iR,oR,sR=Lc("value",{type:No}),aR=sR.mixin,cR=sR.props,lR=sR.prop,uR=sR.event,hR=function(t){return!t.disabled},dR=mi({name:Wr,inject:{getBvTabs:{default:function(){return function(){return{}}}}},props:{controls:kc(Mo),id:kc(Mo),noKeyNav:kc(Ao,!1),posInSet:kc(No),setSize:kc(No),tab:kc(),tabIndex:kc(No)},computed:{bvTabs:function(){return this.getBvTabs()}},methods:{focus:function(){dc(this.$refs.link)},handleEvent:function(t){if(!this.tab.disabled){var e=t.type,n=t.keyCode,r=t.shiftKey;"click"===e||"keydown"===e&&n===Lu?(Vc(t),this.$emit(Ii,t)):"keydown"!==e||this.noKeyNav||(-1!==[Fu,Au,Du].indexOf(n)?(Vc(t),r||n===Du?this.$emit(Mi,t):this.$emit(eo,t)):-1!==[Eu,Nu,ku].indexOf(n)&&(Vc(t),r||n===ku?this.$emit(Wi,t):this.$emit(Qi,t)))}}},render:function(t){var e=this.id,n=this.tabIndex,r=this.setSize,i=this.posInSet,o=this.controls,s=this.handleEvent,a=this.tab,c=a.title,l=a.localActive,u=a.disabled,h=a.titleItemClass,d=a.titleLinkClass,f=a.titleLinkAttributes,p=t(yh,{staticClass:"nav-link",class:[{active:l&&!u,disabled:u},d,l?this.bvTabs.activeNavItemClass:null],props:{disabled:u},attrs:nR(nR({},f),{},{id:e,role:"tab",tabindex:n,"aria-selected":l&&!u?"true":"false","aria-setsize":r,"aria-posinset":i,"aria-controls":o}),on:{click:s,keydown:s},ref:"link"},[this.tab.normalizeSlot(ia)||c]);return t("li",{staticClass:"nav-item",class:[h],attrs:{role:"presentation"}},[p])}}),fR=Wt(nE,["tabs","isNavBar","cardHeader"]),pR=Ac(Yt(nR(nR(nR(nR({},af),cR),fR),{},{activeNavItemClass:kc(Vo),activeTabClass:kc(Vo),card:kc(Ao,!1),contentClass:kc(Vo),end:kc(Ao,!1),lazy:kc(Ao,!1),navClass:kc(Vo),navWrapperClass:kc(Vo),noFade:kc(Ao,!1),noKeyNav:kc(Ao,!1),noNavStyle:kc(Ao,!1),tag:kc(Mo,"div")})),Dr),mR=mi({name:Dr,mixins:[cf,aR,ga],provide:function(){var t=this;return{getBvTabs:function(){return t}}},props:pR,data:function(){return{currentTab:va(this[lR],-1),tabs:[],registeredTabs:[]}},computed:{fade:function(){return!this.noFade},localNavClass:function(){var t=[];return this.card&&this.vertical&&t.push("card-header","h-100","border-bottom-0","rounded-0"),[].concat(t,[this.navClass])}},watch:(Yj={},rR(Yj,lR,(function(t,e){if(t!==e){t=va(t,-1),e=va(e,0);var n=this.tabs[t];n&&!n.disabled?this.activateTab(n):t<e?this.previousTab():this.nextTab()}})),rR(Yj,"currentTab",(function(t){var e=-1;this.tabs.forEach((function(n,r){r!==t||n.disabled?n.localActive=!1:(n.localActive=!0,e=r)})),this.$emit(uR,e)})),rR(Yj,"tabs",(function(t,e){var n=this;$u(t.map((function(t){return t[hi]})),e.map((function(t){return t[hi]})))||this.$nextTick((function(){n.$emit(Ci,t.slice(),e.slice())}))})),rR(Yj,"registeredTabs",(function(){this.updateTabs()})),Yj),created:function(){this.$_observer=null},mounted:function(){this.setObserver(!0)},beforeDestroy:function(){this.setObserver(!1),this.tabs=[]},methods:{registerTab:function(t){la(this.registeredTabs,t)||this.registeredTabs.push(t)},unregisterTab:function(t){this.registeredTabs=this.registeredTabs.slice().filter((function(e){return e!==t}))},setObserver:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.$_observer&&this.$_observer.disconnect(),this.$_observer=null,e){var n=function(){t.$nextTick((function(){Ra((function(){t.updateTabs()}))}))};this.$_observer=Lp(this.$refs.content,n,{childList:!0,subtree:!1,attributes:!0,attributeFilter:["id"]})}},getTabs:function(){var t=this.registeredTabs,e=[];if(l&&t.length>0){var n=t.map((function(t){return"#".concat(t.safeId())})).join(", ");e=qa(n,this.$el).map((function(t){return t.id})).filter(ae)}return CA(t,(function(t,n){return e.indexOf(t.safeId())-e.indexOf(n.safeId())}))},updateTabs:function(){var t=this.getTabs(),e=t.indexOf(t.slice().reverse().find((function(t){return t.localActive&&!t.disabled})));if(e<0){var n=this.currentTab;n>=t.length?e=t.indexOf(t.slice().reverse().find(hR)):t[n]&&!t[n].disabled&&(e=n)}e<0&&(e=t.indexOf(t.find(hR))),t.forEach((function(t,n){t.localActive=n===e})),this.tabs=t,this.currentTab=e},getButtonForTab:function(t){return(this.$refs.buttons||[]).find((function(e){return e.tab===t}))},updateButton:function(t){var e=this.getButtonForTab(t);e&&e.$forceUpdate&&e.$forceUpdate()},activateTab:function(t){var e=this.currentTab,n=this.tabs,r=!1;if(t){var i=n.indexOf(t);if(i!==e&&i>-1&&!t.disabled){var o=new Gv(_i,{cancelable:!0,vueTarget:this,componentId:this.safeId()});this.$emit(o.type,i,e,o),o.defaultPrevented||(this.currentTab=i,r=!0)}}return r||this[lR]===e||this.$emit(uR,e),r},deactivateTab:function(t){return!!t&&this.activateTab(this.tabs.filter((function(e){return e!==t})).find(hR))},focusButton:function(t){var e=this;this.$nextTick((function(){dc(e.getButtonForTab(t))}))},emitTabClick:function(t,e){xt(e)&&t&&t.$emit&&!t.disabled&&t.$emit(Ii,e)},clickTab:function(t,e){this.activateTab(t),this.emitTabClick(t,e)},firstTab:function(t){var e=this.tabs.find(hR);this.activateTab(e)&&t&&(this.focusButton(e),this.emitTabClick(e,t))},previousTab:function(t){var e=gl(this.currentTab,0),n=this.tabs.slice(0,e).reverse().find(hR);this.activateTab(n)&&t&&(this.focusButton(n),this.emitTabClick(n,t))},nextTab:function(t){var e=gl(this.currentTab,-1),n=this.tabs.slice(e+1).find(hR);this.activateTab(n)&&t&&(this.focusButton(n),this.emitTabClick(n,t))},lastTab:function(t){var e=this.tabs.slice().reverse().find(hR);this.activateTab(e)&&t&&(this.focusButton(e),this.emitTabClick(e,t))}},render:function(t){var e=this,n=this.align,r=this.card,i=this.end,o=this.fill,s=this.firstTab,a=this.justified,c=this.lastTab,l=this.nextTab,u=this.noKeyNav,h=this.noNavStyle,d=this.pills,f=this.previousTab,p=this.small,m=this.tabs,g=this.vertical,v=m.find((function(t){return t.localActive&&!t.disabled})),y=m.find((function(t){return!t.disabled})),b=m.map((function(n,r){var i,o=n.safeId,a=null;return u||(a=-1,(n===v||!v&&n===y)&&(a=null)),t(dR,rR({props:{controls:o?o():null,id:n.controlledBy||(o?o("_BV_tab_button_"):null),noKeyNav:u,posInSet:r+1,setSize:m.length,tab:n,tabIndex:a},on:(i={},rR(i,Ii,(function(t){e.clickTab(n,t)})),rR(i,Mi,s),rR(i,eo,f),rR(i,Qi,l),rR(i,Wi,c),i),key:n[hi]||r,ref:"buttons"},fi,!0))})),w=t(rE,{class:this.localNavClass,attrs:{role:"tablist",id:this.safeId("_BV_tab_controls_")},props:{fill:o,justified:a,align:n,tabs:!h&&!d,pills:!h&&d,vertical:g,small:p,cardHeader:r&&!g},ref:"nav"},[this.normalizeSlot(ea)||t(),b,this.normalizeSlot(ta)||t()]);w=t("div",{class:[{"card-header":r&&!g&&!i,"card-footer":r&&!g&&i,"col-auto":g},this.navWrapperClass],key:"bv-tabs-nav"},[w]);var _=this.normalizeSlot()||[],O=t();0===_.length&&(O=t("div",{class:["tab-pane","active",{"card-body":r}],key:"bv-empty-tab"},this.normalizeSlot(hs)));var T=t("div",{staticClass:"tab-content",class:[{col:g},this.contentClass],attrs:{id:this.safeId("_BV_tab_container_")},key:"bv-content",ref:"content"},[_,O]);return t(this.tag,{staticClass:"tabs",class:{row:g,"no-gutters":g&&r},attrs:{id:this.safeId()}},[i?T:t(),w,i?t():T])}});function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vR(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gR(Object(n),!0).forEach((function(e){yR(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bR,wR="active",_R=Co+wR,OR=Ac(Yt(vR(vR({},af),{},(iR={},yR(iR,wR,kc(Ao,!1)),yR(iR,"buttonId",kc(Mo)),yR(iR,"disabled",kc(Ao,!1)),yR(iR,"lazy",kc(Ao,!1)),yR(iR,"noBody",kc(Ao,!1)),yR(iR,"tag",kc(Mo,"div")),yR(iR,"title",kc(Mo)),yR(iR,"titleItemClass",kc(Vo)),yR(iR,"titleLinkAttributes",kc(Lo)),yR(iR,"titleLinkClass",kc(Vo)),iR))),Ir),TR=mi({name:Ir,mixins:[cf,ga],inject:{getBvTabs:{default:function(){return function(){return{}}}}},props:OR,data:function(){return{localActive:this[wR]&&!this.disabled}},computed:{bvTabs:function(){return this.getBvTabs()},_isTab:function(){return!0},tabClasses:function(){var t=this.localActive,e=this.disabled;return[{active:t,disabled:e,"card-body":this.bvTabs.card&&!this.noBody},t?this.bvTabs.activeTabClass:null]},controlledBy:function(){return this.buttonId||this.safeId("__BV_tab_button__")},computedNoFade:function(){return!this.bvTabs.fade},computedLazy:function(){return this.bvTabs.lazy||this.lazy}},watch:(oR={},yR(oR,wR,(function(t,e){t!==e&&(t?this.activate():this.deactivate()||this.$emit(_R,this.localActive))})),yR(oR,"disabled",(function(t,e){if(t!==e){var n=this.bvTabs.firstTab;t&&this.localActive&&n&&(this.localActive=!1,n())}})),yR(oR,"localActive",(function(t){this.$emit(_R,t)})),oR),mounted:function(){this.registerTab()},updated:function(){var t=this.bvTabs.updateButton;t&&this.hasNormalizedSlot(ia)&&t(this)},beforeDestroy:function(){this.unregisterTab()},methods:{registerTab:function(){var t=this.bvTabs.registerTab;t&&t(this)},unregisterTab:function(){var t=this.bvTabs.unregisterTab;t&&t(this)},activate:function(){var t=this.bvTabs.activateTab;return!(!t||this.disabled)&&t(this)},deactivate:function(){var t=this.bvTabs.deactivateTab;return!(!t||!this.localActive)&&t(this)}},render:function(t){var e=this.localActive,n=t(this.tag,{staticClass:"tab-pane",class:this.tabClasses,directives:[{name:"show",value:e}],attrs:{role:"tabpanel",id:this.safeId(),"aria-hidden":e?"false":"true","aria-labelledby":this.controlledBy||null},ref:"panel"},[e||!this.computedLazy?this.normalizeSlot():t()]);return t(el,{props:{mode:"out-in",noFade:this.computedNoFade}},[n])}}),SR=Ie({components:{BTabs:mR,BTab:TR}}),CR=Ie({components:{BTime:nS}}),IR=n(2197),ER=mi({mixins:[ga],data:function(){return{name:"b-toaster"}},methods:{onAfterEnter:function(t){var e=this;Ra((function(){Xa(t,"".concat(e.name,"-enter-to"))}))}},render:function(t){return t("transition-group",{props:{tag:"div",name:this.name},on:{afterEnter:this.onAfterEnter}},this.normalizeSlot())}}),kR=Ac({ariaAtomic:kc(Mo),ariaLive:kc(Mo),name:kc(Mo,void 0,!0),role:kc(Mo)},Mr),PR=mi({name:Mr,mixins:[Ju],props:kR,data:function(){return{doRender:!1,dead:!1,staticName:this.name}},beforeMount:function(){var t=this.name;this.staticName=t,IR.g7.hasTarget(t)?(de('A "<portal-target>" with name "'.concat(t,'" already exists in the document.'),Mr),this.dead=!0):this.doRender=!0},beforeDestroy:function(){this.doRender&&this.emitOnRoot(zc(Mr,xi),this.name)},destroyed:function(){var t=this.$el;t&&t.parentNode&&t.parentNode.removeChild(t)},render:function(t){var e=t("div",{class:["d-none",{"b-dead-toaster":this.dead}]});if(this.doRender){var n=t(IR.mf,{staticClass:"b-toaster-slot",props:{name:this.staticName,multiple:!0,tag:"div",slim:!1,transition:ER}});e=t("div",{staticClass:"b-toaster",class:[this.staticName],attrs:{id:this.staticName,role:this.role||null,"aria-live":this.ariaLive,"aria-atomic":this.ariaAtomic}},[n])}return e}});function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function DR(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xR(Object(n),!0).forEach((function(e){AR(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function AR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jR=Lc("visible",{type:Ao,defaultValue:!1,event:Si}),RR=jR.mixin,NR=jR.props,LR=jR.prop,FR=jR.event,MR=1e3,$R=Gt(vh,["href","to"]),BR=Ac(Yt(DR(DR(DR(DR({},af),NR),$R),{},{appendToast:kc(Ao,!1),autoHideDelay:kc(Ko,5e3),bodyClass:kc(Vo),headerClass:kc(Vo),headerTag:kc(Mo,"header"),isStatus:kc(Ao,!1),noAutoHide:kc(Ao,!1),noCloseButton:kc(Ao,!1),noFade:kc(Ao,!1),noHoverPause:kc(Ao,!1),solid:kc(Ao,!1),static:kc(Ao,!1),title:kc(Mo),toastClass:kc(Vo),toaster:kc(Mo,"b-toaster-top-right"),variant:kc(Mo)})),Fr),VR=mi({name:Fr,mixins:[Yu,cf,RR,Ju,ga,CC],inheritAttrs:!1,props:BR,data:function(){return{isMounted:!1,doRender:!1,localShow:!1,isTransitioning:!1,isHiding:!1,order:0,dismissStarted:0,resumeDismiss:0}},computed:{toastClasses:function(){var t=this.appendToast,e=this.variant;return AR({"b-toast-solid":this.solid,"b-toast-append":t,"b-toast-prepend":!t},"b-toast-".concat(e),e)},slotScope:function(){var t=this.hide;return{hide:t}},computedDuration:function(){return gl(va(this.autoHideDelay,0),MR)},computedToaster:function(){return String(this.toaster)},transitionHandlers:function(){return{beforeEnter:this.onBeforeEnter,afterEnter:this.onAfterEnter,beforeLeave:this.onBeforeLeave,afterLeave:this.onAfterLeave}},computedAttrs:function(){return DR(DR({},this.bvAttrs),{},{id:this.safeId(),tabindex:"0"})}},watch:(bR={},AR(bR,LR,(function(t){this[t?"show":"hide"]()})),AR(bR,"localShow",(function(t){t!==this[LR]&&this.$emit(FR,t)})),AR(bR,"toaster",(function(){this.$nextTick(this.ensureToaster)})),AR(bR,"static",(function(t){t&&this.localShow&&this.ensureToaster()})),bR),created:function(){this.$_dismissTimer=null},mounted:function(){var t=this;this.isMounted=!0,this.$nextTick((function(){t[LR]&&Ra((function(){t.show()}))})),this.listenOnRoot(qc(Fr,po),(function(e){e===t.safeId()&&t.show()})),this.listenOnRoot(qc(Fr,qi),(function(e){e&&e!==t.safeId()||t.hide()})),this.listenOnRoot(zc(Mr,xi),(function(e){e===t.computedToaster&&t.hide()}))},beforeDestroy:function(){this.clearDismissTimer()},methods:{show:function(){var t=this;if(!this.localShow){this.ensureToaster();var e=this.buildEvent(po);this.emitEvent(e),this.dismissStarted=this.resumeDismiss=0,this.order=Date.now()*(this.appendToast?1:-1),this.isHiding=!1,this.doRender=!0,this.$nextTick((function(){Ra((function(){t.localShow=!0}))}))}},hide:function(){var t=this;if(this.localShow){var e=this.buildEvent(qi);this.emitEvent(e),this.setHoverHandler(!1),this.dismissStarted=this.resumeDismiss=0,this.clearDismissTimer(),this.isHiding=!0,Ra((function(){t.localShow=!1}))}},buildEvent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Gv(t,DR(DR({cancelable:!1,target:this.$el||null,relatedTarget:null},e),{},{vueTarget:this,componentId:this.safeId()}))},emitEvent:function(t){var e=t.type;this.emitOnRoot(zc(Fr,e),t),this.$emit(e,t)},ensureToaster:function(){if(!this.static){var t=this.computedToaster;if(!IR.g7.hasTarget(t)){var e=document.createElement("div");document.body.appendChild(e);var n=PC(this.bvEventRoot,PR,{propsData:{name:t}});n.$mount(e)}}},startDismissTimer:function(){this.clearDismissTimer(),this.noAutoHide||(this.$_dismissTimer=setTimeout(this.hide,this.resumeDismiss||this.computedDuration),this.dismissStarted=Date.now(),this.resumeDismiss=0)},clearDismissTimer:function(){clearTimeout(this.$_dismissTimer),this.$_dismissTimer=null},setHoverHandler:function(t){var e=this.$refs["b-toast"];Bc(t,e,"mouseenter",this.onPause,Po),Bc(t,e,"mouseleave",this.onUnPause,Po)},onPause:function(){if(!this.noAutoHide&&!this.noHoverPause&&this.$_dismissTimer&&!this.resumeDismiss){var t=Date.now()-this.dismissStarted;t>0&&(this.clearDismissTimer(),this.resumeDismiss=gl(this.computedDuration-t,MR))}},onUnPause:function(){this.noAutoHide||this.noHoverPause||!this.resumeDismiss?this.resumeDismiss=this.dismissStarted=0:this.startDismissTimer()},onLinkClick:function(){var t=this;this.$nextTick((function(){Ra((function(){t.hide()}))}))},onBeforeEnter:function(){this.isTransitioning=!0},onAfterEnter:function(){this.isTransitioning=!1;var t=this.buildEvent(mo);this.emitEvent(t),this.startDismissTimer(),this.setHoverHandler(!0)},onBeforeLeave:function(){this.isTransitioning=!0},onAfterLeave:function(){this.isTransitioning=!1,this.order=0,this.resumeDismiss=this.dismissStarted=0;var t=this.buildEvent(zi);this.emitEvent(t),this.doRender=!1},makeToast:function(t){var e=this,n=this.title,r=this.slotScope,i=$l(this),o=[],s=this.normalizeSlot(oa,r);s?o.push(s):n&&o.push(t("strong",{staticClass:"mr-2"},n)),this.noCloseButton||o.push(t(Wc,{staticClass:"ml-auto mb-1",on:{click:function(){e.hide()}}}));var a=t();o.length>0&&(a=t(this.headerTag,{staticClass:"toast-header",class:this.headerClass},o));var c=t(i?yh:"div",{staticClass:"toast-body",class:this.bodyClass,props:i?xc($R,this):{},on:i?{click:this.onLinkClick}:{}},this.normalizeSlot(ss,r));return t("div",{staticClass:"toast",class:this.toastClass,attrs:this.computedAttrs,key:"toast-".concat(this[hi]),ref:"toast"},[a,c])}},render:function(t){if(!this.doRender||!this.isMounted)return t();var e=this.order,n=this.static,r=this.isHiding,i=this.isStatus,o="b-toast-".concat(this[hi]),s=t("div",{staticClass:"b-toast",class:this.toastClasses,attrs:DR(DR({},n?{}:this.scopedStyleAttrs),{},{id:this.safeId("_toast_outer"),role:r?null:i?"status":"alert","aria-live":r?null:i?"polite":"assertive","aria-atomic":r?null:"true"}),key:o,ref:"b-toast"},[t(el,{props:{noFade:this.noFade},on:this.transitionHandlers},[this.localShow?this.makeToast(t):t()])]);return t(IR.ZL,{props:{name:o,to:this.computedToaster,order:e,slim:!0,disabled:n}},[s])}});function UR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qR(t,e,n){return e&&zR(t.prototype,e),n&&zR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function GR(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?HR(Object(n),!0).forEach((function(e){WR(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function WR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KR(t){return JR(t)||XR(t)||QR(t)||YR()}function YR(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function QR(t,e){if(t){if("string"===typeof t)return ZR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZR(t,e):void 0}}function XR(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function JR(t){if(Array.isArray(t))return ZR(t)}function ZR(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tN="$bvToast",eN="_bv__toast",nN=["id"].concat(KR(Ut(Wt(BR,["static","visible"])))),rN={toastContent:"default",title:"toast-title"},iN=function(t){return nN.reduce((function(e,n){return yt(t[n])||(e[n]=t[n]),e}),{})},oN=function(t){var e=t.extend({name:Kr,extends:VR,mixins:[OC],destroyed:function(){var t=this.$el;t&&t.parentNode&&t.parentNode.removeChild(t)},mounted:function(){var t=this,e=function(){t.localShow=!1,t.doRender=!1,t.$nextTick((function(){t.$nextTick((function(){Ra((function(){t.$destroy()}))}))}))};this.bvParent.$once(So,e),this.$once(zi,e),this.listenOnRoot(zc(Mr,xi),(function(n){n===t.toaster&&e()}))}}),n=function(t,n){if(!fe(tN)){var r=PC(n,e,{propsData:GR(GR(GR({},iN(vc(Fr))),Wt(t,Ut(rN))),{},{static:!1,visible:!0})});Ut(rN).forEach((function(e){var i=t[e];yt(i)||("title"===e&&Tt(i)&&(i=[n.$createElement("strong",{class:"mr-2"},i)]),r.$slots[rN[e]]=ua(i))}));var i=document.createElement("div");document.body.appendChild(i),r.$mount(i)}},r=function(){function t(e){UR(this,t),Ft(this,{_vm:e,_root:Qu(e)}),$t(this,{_vm:Qt(),_root:Qt()})}return qR(t,[{key:"toast",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&!fe(tN)&&n(GR(GR({},iN(e)),{},{toastContent:t}),this._vm)}},{key:"show",value:function(t){t&&this._root.$emit(qc(Fr,po),t)}},{key:"hide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._root.$emit(qc(Fr,qi),t)}}]),t}();t.mixin({beforeCreate:function(){this[eN]=new r(this)}}),zt(t.prototype,tN)||Bt(t.prototype,tN,{get:function(){return this&&this[eN]||de('"'.concat(tN,'" must be accessed from a Vue instance "this" context.'),Fr),this[eN]}})},sN=Ie({plugins:{plugin:oN}}),aN=Ie({components:{BToast:VR,BToaster:PR},plugins:{BVToastPlugin:sN}});function cN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lN(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cN(Object(n),!0).forEach((function(e){uN(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cN(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function uN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hN="__BV_Tooltip__",dN="hover focus",fN={focus:!0,hover:!0,click:!0,blur:!0,manual:!0},pN=/^html$/i,mN=/^noninteractive$/i,gN=/^nofade$/i,vN=/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/i,yN=/^(window|viewport|scrollParent)$/i,bN=/^d\d+$/i,wN=/^ds\d+$/i,_N=/^dh\d+$/i,ON=/^o-?\d+$/i,TN=/^v-.+$/i,SN=/\s+/,CN=function(t,e){var n={title:void 0,trigger:"",placement:"top",fallbackPlacement:"flip",container:!1,animation:!0,offset:0,id:null,html:!1,interactive:!0,disabled:!1,delay:vc($r,"delay",50),boundary:String(vc($r,"boundary","scrollParent")),boundaryPadding:va(vc($r,"boundaryPadding",5),0),variant:vc($r,"variant"),customClass:vc($r,"customClass")};if(Tt(t.value)||St(t.value)||_t(t.value)?n.title=t.value:kt(t.value)&&(n=lN(lN({},n),t.value)),yt(n.title)){var r=di?e.props:(e.data||{}).attrs;n.title=r&&!wt(r.title)?r.title:void 0}kt(n.delay)||(n.delay={show:va(n.delay,0),hide:va(n.delay,0)}),t.arg&&(n.container="#".concat(t.arg)),Ut(t.modifiers).forEach((function(t){if(pN.test(t))n.html=!0;else if(mN.test(t))n.interactive=!1;else if(gN.test(t))n.animation=!1;else if(vN.test(t))n.placement=t;else if(yN.test(t))t="scrollparent"===t?"scrollParent":t,n.boundary=t;else if(bN.test(t)){var e=va(t.slice(1),0);n.delay.show=e,n.delay.hide=e}else wN.test(t)?n.delay.show=va(t.slice(2),0):_N.test(t)?n.delay.hide=va(t.slice(2),0):ON.test(t)?n.offset=va(t.slice(1),0):TN.test(t)&&(n.variant=t.slice(2)||null)}));var i={};return ua(n.trigger||"").filter(ae).join(" ").trim().toLowerCase().split(SN).forEach((function(t){fN[t]&&(i[t]=!0)})),Ut(t.modifiers).forEach((function(t){t=t.toLowerCase(),fN[t]&&(i[t]=!0)})),n.trigger=Ut(i).join(" "),"blur"===n.trigger&&(n.trigger="focus"),n.trigger||(n.trigger=dN),n},IN=function(t,e,n){if(l){var r=CN(e,n);if(!t[hN]){var i=Am(n,e);t[hN]=PC(i,cP,{_scopeId:TC(i,void 0)}),t[hN].__bv_prev_data__={},t[hN].$on(po,(function(){_t(r.title)&&t[hN].updateData({title:r.title(t)})}))}var o={title:r.title,triggers:r.trigger,placement:r.placement,fallbackPlacement:r.fallbackPlacement,variant:r.variant,customClass:r.customClass,container:r.container,boundary:r.boundary,delay:r.delay,offset:r.offset,noFade:!r.animation,id:r.id,interactive:r.interactive,disabled:r.disabled,html:r.html},s=t[hN].__bv_prev_data__;if(t[hN].__bv_prev_data__=o,!$u(o,s)){var a={target:t};Ut(o).forEach((function(e){o[e]!==s[e]&&(a[e]="title"===e&&_t(o[e])?o[e](t):o[e])})),t[hN].updateData(a)}}},EN=function(t){t[hN]&&(t[hN].$destroy(),t[hN]=null),delete t[hN]},kN={bind:function(t,e,n){IN(t,e,n)},componentUpdated:function(t,e,n){wi((function(){IN(t,e,n)}))},unbind:function(t){EN(t)}},PN=Ie({directives:{VBTooltip:kN}}),xN=Ie({components:{BTooltip:vP},plugins:{VBTooltipPlugin:PN}}),DN=Ie({plugins:{AlertPlugin:pl,AspectPlugin:Dl,AvatarPlugin:Gh,BadgePlugin:Zh,BreadcrumbPlugin:pd,ButtonPlugin:md,ButtonGroupPlugin:_d,ButtonToolbarPlugin:Cd,CalendarPlugin:bf,CardPlugin:xp,CarouselPlugin:am,CollapsePlugin:lg,DropdownPlugin:Qy,EmbedPlugin:eb,FormPlugin:_b,FormCheckboxPlugin:gw,FormDatepickerPlugin:zw,FormFilePlugin:o_,FormGroupPlugin:C_,FormInputPlugin:H_,FormRadioPlugin:K_,FormRatingPlugin:uO,FormSelectPlugin:RO,FormSpinbuttonPlugin:ZO,FormTagsPlugin:kT,FormTextareaPlugin:NT,FormTimepickerPlugin:mS,ImagePlugin:gS,InputGroupPlugin:RS,JumbotronPlugin:VS,LayoutPlugin:XS,LinkPlugin:JS,ListGroupPlugin:lC,MediaPlugin:vC,ModalPlugin:ZI,NavPlugin:PE,NavbarPlugin:KE,OverlayPlugin:ok,PaginationPlugin:Dk,PaginationNavPlugin:$k,PopoverPlugin:GP,ProgressPlugin:nx,SidebarPlugin:Cx,SkeletonPlugin:oD,SpinnerPlugin:sD,TablePlugin:tR,TabsPlugin:SR,TimePlugin:CR,ToastPlugin:aN,TooltipPlugin:xN}}),AN=Ie({directives:{VBHover:Tw}}),jN=Ie({directives:{VBModal:AI}});function RN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function NN(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?RN(Object(n),!0).forEach((function(e){LN(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function LN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $N(t,e,n){return e&&MN(t.prototype,e),n&&MN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var BN="v-b-scrollspy",VN="dropdown-item",UN="active",zN=".nav, .list-group",qN=".nav-link",HN=".nav-item",GN=".list-group-item",WN=".dropdown, .dropup",KN=".dropdown-item",YN=".dropdown-toggle",QN=zc("BVScrollspy","activate"),XN="offset",JN="position",ZN={element:"body",offset:10,method:"auto",throttle:75},tL={element:"(string|element|component)",offset:"number",method:"string",throttle:"number"},eL=["webkitTransitionEnd","transitionend","otransitionend","oTransitionEnd"],nL=function(t){return qt(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},rL=function(t,e,n){for(var r in n)if(zt(n,r)){var i=n[r],o=e[r],s=o&&Fa(o)?"element":nL(o);s=o&&o._isVue?"component":s,new RegExp(i).test(s)||de("".concat(t,': Option "').concat(r,'" provided type "').concat(s,'" but expected type "').concat(i,'"'))}},iL=function(){function t(e,n,r){FN(this,t),this.$el=e,this.$scroller=null,this.$selector=[qN,GN,KN].join(","),this.$offsets=[],this.$targets=[],this.$activeTarget=null,this.$scrollHeight=0,this.$resizeTimeout=null,this.$scrollerObserver=null,this.$targetsObserver=null,this.$root=r||null,this.$config=null,this.updateConfig(n)}return $N(t,[{key:"updateConfig",value:function(t,e){this.$scroller&&(this.unlisten(),this.$scroller=null);var n=NN(NN({},this.constructor.Default),t);if(e&&(this.$root=e),rL(this.constructor.Name,n,this.constructor.DefaultType),this.$config=n,this.$root){var r=this;this.$root.$nextTick((function(){r.listen()}))}else this.listen()}},{key:"dispose",value:function(){this.unlisten(),clearTimeout(this.$resizeTimeout),this.$resizeTimeout=null,this.$el=null,this.$config=null,this.$scroller=null,this.$selector=null,this.$offsets=null,this.$targets=null,this.$activeTarget=null,this.$scrollHeight=null}},{key:"listen",value:function(){var t=this,e=this.getScroller();e&&"BODY"!==e.tagName&&Mc(e,"scroll",this,Po),Mc(window,"scroll",this,Po),Mc(window,"resize",this,Po),Mc(window,"orientationchange",this,Po),eL.forEach((function(e){Mc(window,e,t,Po)})),this.setObservers(!0),this.handleEvent("refresh")}},{key:"unlisten",value:function(){var t=this,e=this.getScroller();this.setObservers(!1),e&&"BODY"!==e.tagName&&$c(e,"scroll",this,Po),$c(window,"scroll",this,Po),$c(window,"resize",this,Po),$c(window,"orientationchange",this,Po),eL.forEach((function(e){$c(window,e,t,Po)}))}},{key:"setObservers",value:function(t){var e=this;this.$scrollerObserver&&this.$scrollerObserver.disconnect(),this.$targetsObserver&&this.$targetsObserver.disconnect(),this.$scrollerObserver=null,this.$targetsObserver=null,t&&(this.$targetsObserver=Lp(this.$el,(function(){e.handleEvent("mutation")}),{subtree:!0,childList:!0,attributes:!0,attributeFilter:["href"]}),this.$scrollerObserver=Lp(this.getScroller(),(function(){e.handleEvent("mutation")}),{subtree:!0,childList:!0,characterData:!0,attributes:!0,attributeFilter:["id","style","class"]}))}},{key:"handleEvent",value:function(t){var e=Tt(t)?t:t.type,n=this,r=function(){n.$resizeTimeout||(n.$resizeTimeout=setTimeout((function(){n.refresh(),n.process(),n.$resizeTimeout=null}),n.$config.throttle))};"scroll"===e?(this.$scrollerObserver||this.listen(),this.process()):/(resize|orientationchange|mutation|refresh)/.test(e)&&r()}},{key:"refresh",value:function(){var t=this,e=this.getScroller();if(e){var n=e!==e.window?JN:XN,r="auto"===this.$config.method?n:this.$config.method,i=r===JN?uc:lc,o=r===JN?this.getScrollTop():0;return this.$offsets=[],this.$targets=[],this.$scrollHeight=this.getScrollHeight(),qa(this.$selector,this.$el).map((function(t){return ec(t,"href")})).filter((function(t){return t&&q.test(t||"")})).map((function(t){var n=t.replace(q,"$1").trim();if(!n)return null;var r=Ha(n,e);return r&&Va(r)?{offset:va(i(r).top,0)+o,target:n}:null})).filter(ae).sort((function(t,e){return t.offset-e.offset})).reduce((function(e,n){return e[n.target]||(t.$offsets.push(n.offset),t.$targets.push(n.target),e[n.target]=!0),e}),{}),this}}},{key:"process",value:function(){var t=this.getScrollTop()+this.$config.offset,e=this.getScrollHeight(),n=this.$config.offset+e-this.getOffsetHeight();if(this.$scrollHeight!==e&&this.refresh(),t>=n){var r=this.$targets[this.$targets.length-1];this.$activeTarget!==r&&this.activate(r)}else{if(this.$activeTarget&&t<this.$offsets[0]&&this.$offsets[0]>0)return this.$activeTarget=null,void this.clear();for(var i=this.$offsets.length;i--;){var o=this.$activeTarget!==this.$targets[i]&&t>=this.$offsets[i]&&(yt(this.$offsets[i+1])||t<this.$offsets[i+1]);o&&this.activate(this.$targets[i])}}}},{key:"getScroller",value:function(){if(this.$scroller)return this.$scroller;var t=this.$config.element;return t?(Fa(t.$el)?t=t.$el:Tt(t)&&(t=Ha(t)),t?(this.$scroller="BODY"===t.tagName?window:t,this.$scroller):null):null}},{key:"getScrollTop",value:function(){var t=this.getScroller();return t===window?t.pageYOffset:t.scrollTop}},{key:"getScrollHeight",value:function(){return this.getScroller().scrollHeight||gl(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"getOffsetHeight",value:function(){var t=this.getScroller();return t===window?window.innerHeight:sc(t).height}},{key:"activate",value:function(t){var e=this;this.$activeTarget=t,this.clear();var n=qa(this.$selector.split(",").map((function(e){return"".concat(e,'[href$="').concat(t,'"]')})).join(","),this.$el);n.forEach((function(t){if(Ja(t,VN)){var n=Wa(WN,t);n&&e.setActiveState(Ha(YN,n),!0),e.setActiveState(t,!0)}else{e.setActiveState(t,!0),Ga(t.parentElement,HN)&&e.setActiveState(t.parentElement,!0);var r=t;while(r){r=Wa(zN,r);var i=r?r.previousElementSibling:null;i&&Ga(i,"".concat(qN,", ").concat(GN))&&e.setActiveState(i,!0),i&&Ga(i,HN)&&(e.setActiveState(Ha(qN,i),!0),e.setActiveState(i,!0))}}})),n&&n.length>0&&this.$root&&this.$root.$emit(QN,t,n)}},{key:"clear",value:function(){var t=this;qa("".concat(this.$selector,", ").concat(HN),this.$el).filter((function(t){return Ja(t,UN)})).forEach((function(e){return t.setActiveState(e,!1)}))}},{key:"setActiveState",value:function(t,e){t&&(e?Qa(t,UN):Xa(t,UN))}}],[{key:"Name",get:function(){return BN}},{key:"Default",get:function(){return ZN}},{key:"DefaultType",get:function(){return tL}}]),t}(),oL="__BV_Scrollspy__",sL=/^\d+$/,aL=/^(auto|position|offset)$/,cL=function(t){var e={};return t.arg&&(e.element="#".concat(t.arg)),Ut(t.modifiers).forEach((function(t){sL.test(t)?e.offset=va(t,0):aL.test(t)&&(e.method=t)})),Tt(t.value)?e.element=t.value:St(t.value)?e.offset=_l(t.value):Et(t.value)&&Ut(t.value).filter((function(t){return!!iL.DefaultType[t]})).forEach((function(n){e[n]=t.value[n]})),e},lL=function(t,e,n){if(l){var r=cL(e);t[oL]?t[oL].updateConfig(r,Qu(Am(n,e))):t[oL]=new iL(t,r,Qu(Am(n,e)))}},uL=function(t){t[oL]&&(t[oL].dispose(),t[oL]=null,delete t[oL])},hL={bind:function(t,e,n){lL(t,e,n)},inserted:function(t,e,n){lL(t,e,n)},update:function(t,e,n){e.value!==e.oldValue&&lL(t,e,n)},componentUpdated:function(t,e,n){e.value!==e.oldValue&&lL(t,e,n)},unbind:function(t){uL(t)}},dL=Ie({directives:{VBScrollspy:hL}}),fL=Ie({directives:{VBVisible:dp}}),pL=Ie({plugins:{VBHoverPlugin:AN,VBModalPlugin:jN,VBPopoverPlugin:HP,VBScrollspyPlugin:dL,VBTogglePlugin:cg,VBTooltipPlugin:PN,VBVisiblePlugin:fL}}),mL="BootstrapVue",gL=Ce({plugins:{componentsPlugin:DN,directivesPlugin:pL}}),vL={install:gL,NAME:mL}},8480:(t,e,n)=>{var r=n(1828),i=n(8727),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},8551:(t,e,n)=>{var r=n(34),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not an object")}},8622:(t,e,n)=>{var r=n(4576),i=n(4901),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},8686:(t,e,n)=>{var r=n(3724),i=n(9039);t.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8727:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8773:(t,e)=>{var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},8840:(t,e,n)=>{n.d(e,{A:()=>v});var r=n(6743),i=n(5125),o=n(9928),s=n(3424);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class a{constructor(t,e){this._delegate=t,this.firebase=e,(0,o._addComponent)(t,new i.uA("app-compat",(()=>this),"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((t=>{this._delegate.checkDestroyed(),t()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),(0,o.deleteApp)(this._delegate))))}_getService(t,e=o._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})}_removeServiceInstance(t,e=o._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(t).clearInstance(e)}_addComponent(t){(0,o._addComponent)(this._delegate,t)}_addOrOverwriteComponent(t){(0,o._addOrOverwriteComponent)(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},l=new r.FA("app-compat","Firebase",c);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function u(t){const e={},n={__esModule:!0,initializeApp:a,app:s,registerVersion:o.registerVersion,setLogLevel:o.setLogLevel,onLog:o.onLog,apps:null,SDK_VERSION:o.SDK_VERSION,INTERNAL:{registerComponent:u,removeApp:i,useAsService:h,modularAPIs:o}};function i(t){delete e[t]}function s(t){if(t=t||o._DEFAULT_ENTRY_NAME,!(0,r.gR)(e,t))throw l.create("no-app",{appName:t});return e[t]}function a(i,s={}){const a=o.initializeApp(i,s);if((0,r.gR)(e,a.name))return e[a.name];const c=new t(a,n);return e[a.name]=c,c}function c(){return Object.keys(e).map((t=>e[t]))}function u(e){const i=e.name,a=i.replace("-compat","");if(o._registerComponent(e)&&"PUBLIC"===e.type){const o=(t=s())=>{if("function"!==typeof t[a])throw l.create("invalid-app-argument",{appName:i});return t[a]()};void 0!==e.serviceProps&&(0,r.zw)(o,e.serviceProps),n[a]=o,t.prototype[a]=function(...t){const n=this._getService.bind(this,i);return n.apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?n[a]:null}function h(t,e){if("serverAuth"===e)return null;const n=e;return n}return n["default"]=n,Object.defineProperty(n,"apps",{get:c}),s["App"]=t,n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h(){const t=u(a);function e(e){(0,r.zw)(t,e)}return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:h,extendNamespace:e,createSubscribe:r.tD,ErrorFactory:r.FA,deepExtend:r.zw}),t}const d=h(),f=new s.Vy("@firebase/app-compat"),p="@firebase/app-compat",m="0.2.13";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function g(t){(0,o.registerVersion)(p,m,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if((0,r.Bd)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const v=d;g()},8889:(t,e,n)=>{var r=n(8840),i=n(9928),o=n(6743),s=n(5125);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const a="type.googleapis.com/google.protobuf.Int64Value",c="type.googleapis.com/google.protobuf.UInt64Value";function l(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function u(t){if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"===typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map((t=>u(t)));if("function"===typeof t||"object"===typeof t)return l(t,(t=>u(t)));throw new Error("Data cannot be encoded in JSON: "+t)}function h(t){if(null==t)return t;if(t["@type"])switch(t["@type"]){case a:case c:{const e=Number(t["value"]);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((t=>h(t))):"function"===typeof t||"object"===typeof t?l(t,(t=>h(t))):t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d="functions",f={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p extends o.g{constructor(t,e,n){super(`${d}/${t}`,e||""),this.details=n}}function m(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function g(t,e){let n,r=m(t),i=r;try{const t=e&&e.error;if(t){const e=t.status;if("string"===typeof e){if(!f[e])return new p("internal","internal");r=f[e],i=e}const o=t.message;"string"===typeof o&&(i=o),n=t.details,void 0!==n&&(n=h(n))}}catch(o){}return"ok"===r?null:new p(r,i,n)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v{constructor(t,e,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((t=>this.auth=t),(()=>{})),this.messaging||e.get().then((t=>this.messaging=t),(()=>{})),this.appCheck||n.get().then((t=>this.appCheck=t),(()=>{}))}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return null===t||void 0===t?void 0:t.accessToken}catch(t){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(t){return}}async getAppCheckToken(t){if(this.appCheck){const e=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return e.error?null:e.token}return null}async getContext(t){const e=await this.getAuthToken(),n=await this.getMessagingToken(),r=await this.getAppCheckToken(t);return{authToken:e,messagingToken:n,appCheckToken:r}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y="us-central1";function b(t){let e=null;return{promise:new Promise(((n,r)=>{e=setTimeout((()=>{r(new p("deadline-exceeded","deadline-exceeded"))}),t)})),cancel:()=>{e&&clearTimeout(e)}}}class w{constructor(t,e,n,r,i=y,o){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new v(e,n,r),this.cancelAllRequests=new Promise((t=>{this.deleteService=()=>Promise.resolve(t())}));try{const t=new URL(i);this.customDomain=t.origin,this.region=y}catch(s){this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(t){const e=this.app.options.projectId;if(null!==this.emulatorOrigin){const n=this.emulatorOrigin;return`${n}/${e}/${this.region}/${t}`}return null!==this.customDomain?`${this.customDomain}/${t}`:`https://${this.region}-${e}.cloudfunctions.net/${t}`}}function _(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function O(t,e,n){return r=>C(t,e,r,n||{})}function T(t,e,n){return r=>I(t,e,r,n||{})}async function S(t,e,n,r){let i;n["Content-Type"]="application/json";try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch(s){return{status:0,json:null}}let o=null;try{o=await i.json()}catch(s){}return{status:i.status,json:o}}function C(t,e,n,r){const i=t._url(e);return I(t,i,n,r)}async function I(t,e,n,r){n=u(n);const i={data:n},o={},s=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);s.authToken&&(o["Authorization"]="Bearer "+s.authToken),s.messagingToken&&(o["Firebase-Instance-ID-Token"]=s.messagingToken),null!==s.appCheckToken&&(o["X-Firebase-AppCheck"]=s.appCheckToken);const a=r.timeout||7e4,c=b(a),l=await Promise.race([S(e,i,o,t.fetchImpl),c.promise,t.cancelAllRequests]);if(c.cancel(),!l)throw new p("cancelled","Firebase Functions instance was deleted.");const d=g(l.status,l.json);if(d)throw d;if(!l.json)throw new p("internal","Response is not valid JSON object.");let f=l.json.data;if("undefined"===typeof f&&(f=l.json.result),"undefined"===typeof f)throw new p("internal","Response is missing data field.");const m=h(f);return{data:m}}const E="@firebase/functions",k="0.10.0",P="auth-internal",x="app-check-internal",D="messaging-internal";function A(t,e){const n=(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider(P),o=e.getProvider(D),s=e.getProvider(x);return new w(r,i,o,s,n,t)};(0,i._registerComponent)(new s.uA(d,n,"PUBLIC").setMultipleInstances(!0)),(0,i.registerVersion)(E,k,e),(0,i.registerVersion)(E,k,"esm2017")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(t,e,n){_((0,o.Ku)(t),e,n)}function R(t,e,n){return O((0,o.Ku)(t),e,n)}function N(t,e,n){return T((0,o.Ku)(t),e,n)}A(fetch.bind(self));const L="@firebase/functions-compat",F="0.3.5";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class M{constructor(t,e){this.app=t,this._delegate=e,this._region=this._delegate.region,this._customDomain=this._delegate.customDomain}httpsCallable(t,e){return R(this._delegate,t,e)}httpsCallableFromURL(t,e){return N(this._delegate,t,e)}useFunctionsEmulator(t){const e=t.match("[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?");if(null==e)throw new o.g("functions","No origin provided to useFunctionsEmulator()");if(null==e[2])throw new o.g("functions","Port missing in origin provided to useFunctionsEmulator()");return j(this._delegate,e[1],Number(e[2]))}useEmulator(t,e){return j(this._delegate,t,e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $="us-central1",B=(t,{instanceIdentifier:e})=>{const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("functions").getImmediate({identifier:null!==e&&void 0!==e?e:$});return new M(n,r)};function V(){const t={Functions:M};r.A.INTERNAL.registerComponent(new s.uA("functions-compat",B,"PUBLIC").setServiceProps(t).setMultipleInstances(!0))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */V(),r.A.registerVersion(L,F)},8981:(t,e,n)=>{var r=n(7750),i=Object;t.exports=function(t){return i(r(t))}},9039:t=>{t.exports=function(t){try{return!!t()}catch(e){return!0}}},9297:(t,e,n)=>{var r=n(9504),i=n(8981),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},9306:(t,e,n)=>{var r=n(4901),i=n(6823),o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not a function")}},9313:()=>{},9433:(t,e,n)=>{var r=n(4576),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},9449:(t,e,n)=>{n.d(e,{Z:()=>T});var r=n(1635),i=n(7992),o=function(t){function e(e,n){return t.call(this)||this}return(0,r.C6)(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(i.yU),s={setInterval:function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=s.delegate;return(null===o||void 0===o?void 0:o.setInterval)?o.setInterval.apply(o,(0,r.fX)([t,e],(0,r.zs)(n))):setInterval.apply(void 0,(0,r.fX)([t,e],(0,r.zs)(n)))},clearInterval:function(t){var e=s.delegate;return((null===e||void 0===e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},a=n(6174),c=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return(0,r.C6)(e,t),e.prototype.schedule=function(t,e){var n;if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),s.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&s.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n,r=!1;try{this.work(t)}catch(i){r=!0,n=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},e.prototype.unsubscribe=function(){if(!this.closed){var e=this,n=e.id,r=e.scheduler,i=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,a.o)(i,this),null!=n&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(o),l={now:function(){return(l.delegate||Date).now()},delegate:void 0},u=function(){function t(e,n){void 0===n&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},t.now=l.now,t}(),h=function(t){function e(e,n){void 0===n&&(n=u.now);var r=t.call(this,e,n)||this;return r.actions=[],r._active=!1,r}return(0,r.C6)(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){while(t=e.shift())t.unsubscribe();throw n}}},e}(u),d=new h(c),f=d,p=n(2908),m=n(7213),g=n(4878);function v(t){return(0,p.N)((function(e,n){var r=!1,i=null,o=null,s=!1,a=function(){if(null===o||void 0===o||o.unsubscribe(),o=null,r){r=!1;var t=i;i=null,n.next(t)}s&&n.complete()},c=function(){o=null,s&&n.complete()};e.subscribe((0,g._)(n,(function(e){r=!0,i=e,o||(0,m.Tg)(t(e)).subscribe(o=(0,g._)(n,a,c))}),(function(){s=!0,(!r||!o||o.closed)&&n.complete()})))}))}var y=n(7091),b=n(1209);function w(t){return t&&(0,b.T)(t.schedule)}function _(t){return t instanceof Date&&!isNaN(t)}function O(t,e,n){void 0===t&&(t=0),void 0===n&&(n=f);var r=-1;return null!=e&&(w(e)?n=e:r=e),new y.c((function(e){var i=_(t)?+t-n.now():t;i<0&&(i=0);var o=0;return n.schedule((function(){e.closed||(e.next(o++),0<=r?this.schedule(void 0,r):e.complete())}),i)}))}function T(t,e){return void 0===e&&(e=d),v((function(){return O(t,e)}))}},9462:(t,e,n)=>{var r=n(9565),i=n(2360),o=n(6699),s=n(6279),a=n(8227),c=n(1181),l=n(5966),u=n(7657).IteratorPrototype,h=n(2529),d=n(9539),f=a("toStringTag"),p="IteratorHelper",m="WrapForValidIterator",g=c.set,v=function(t){var e=c.getterFor(t?m:p);return s(i(u),{next:function(){var n=e(this);if(t)return n.nextHandler();if(n.done)return h(void 0,!0);try{var r=n.nextHandler();return n.returnHandlerResult?r:h(r,n.done)}catch(i){throw n.done=!0,i}},return:function(){var n=e(this),i=n.iterator;if(n.done=!0,t){var o=l(i,"return");return o?r(o,i):h(void 0,!0)}if(n.inner)try{d(n.inner.iterator,"normal")}catch(s){return d(i,"throw",s)}return i&&d(i,"normal"),h(void 0,!0)}})},y=v(!0),b=v(!1);o(b,f,"Iterator Helper"),t.exports=function(t,e,n){var r=function(r,i){i?(i.iterator=r.iterator,i.next=r.next):i=r,i.type=e?m:p,i.returnHandlerResult=!!n,i.nextHandler=t,i.counter=0,i.done=!1,g(this,i)};return r.prototype=e?y:b,r}},9504:(t,e,n)=>{var r=n(616),i=Function.prototype,o=i.call,s=r&&i.bind.bind(o,o);t.exports=r?s:function(t){return function(){return o.apply(t,arguments)}}},9519:(t,e,n)=>{var r,i,o=n(4576),s=n(2839),a=o.process,c=o.Deno,l=a&&a.versions||c&&c.version,u=l&&l.v8;u&&(r=u.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),t.exports=i},9539:(t,e,n)=>{var r=n(9565),i=n(8551),o=n(5966);t.exports=function(t,e,n){var s,a;i(t);try{if(s=o(t,"return"),!s){if("throw"===e)throw n;return n}s=r(s,t)}catch(c){a=!0,s=c}if("throw"===e)throw n;if(a)throw s;return i(s),n}},9565:(t,e,n)=>{var r=n(616),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},9617:(t,e,n)=>{var r=n(5397),i=n(5610),o=n(6198),s=function(t){return function(e,n,s){var a=r(e),c=o(a);if(0===c)return!t&&-1;var l,u=i(s,c);if(t&&n!==n){while(c>u)if(l=a[u++],l!==l)return!0}else for(;c>u;u++)if((t||u in a)&&a[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},9928:(t,e,n)=>{n.r(e),n.d(e,{FirebaseError:()=>o.g,SDK_VERSION:()=>yt,_DEFAULT_ENTRY_NAME:()=>ot,_addComponent:()=>lt,_addOrOverwriteComponent:()=>ut,_apps:()=>at,_clearComponents:()=>pt,_components:()=>ct,_getProvider:()=>dt,_registerComponent:()=>ht,_removeServiceInstance:()=>ft,deleteApp:()=>Ot,getApp:()=>wt,getApps:()=>_t,initializeApp:()=>bt,onLog:()=>St,registerVersion:()=>Tt,setLogLevel:()=>Ct});var r=n(5125),i=n(3424),o=n(6743);const s=(t,e)=>e.some((e=>t instanceof e));let a,c;function l(){return a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u(){return c||(c=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakMap;function g(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{e(O(t.result)),r()},o=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)}));return e.then((e=>{e instanceof IDBCursor&&h.set(e,t)})).catch((()=>{})),m.set(e,t),e}function v(t){if(d.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{e(),r()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)}));d.set(t,e)}let y={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return d.get(t);if("objectStoreNames"===e)return t.objectStoreNames||f.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return O(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t}};function b(t){y=t(y)}function w(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?u().includes(t)?function(...e){return t.apply(T(this),e),O(h.get(this))}:function(...e){return O(t.apply(T(this),e))}:function(e,...n){const r=t.call(T(this),e,...n);return f.set(r,e.sort?e.sort():[e]),O(r)}}function _(t){return"function"===typeof t?w(t):(t instanceof IDBTransaction&&v(t),s(t,l())?new Proxy(t,y):t)}function O(t){if(t instanceof IDBRequest)return g(t);if(p.has(t))return p.get(t);const e=_(t);return e!==t&&(p.set(t,e),m.set(e,t)),e}const T=t=>m.get(t);function S(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=O(s);return r&&s.addEventListener("upgradeneeded",(t=>{r(O(s.result),t.oldVersion,t.newVersion,O(s.transaction),t)})),n&&s.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),a.then((t=>{o&&t.addEventListener("close",(()=>o())),i&&t.addEventListener("versionchange",(t=>i(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}const C=["get","getKey","getAll","getAllKeys","count"],I=["put","add","delete","clear"],E=new Map;function k(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(E.get(e))return E.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=I.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!C.includes(n))return;const o=async function(t,...e){const o=this.transaction(t,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(e.shift())),(await Promise.all([s[n](...e),i&&o.done]))[0]};return E.set(e,o),o}b((t=>({...t,get:(e,n,r)=>k(e,n)||t.get(e,n,r),has:(e,n)=>!!k(e,n)||t.has(e,n)})));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class P{constructor(t){this.container=t}getPlatformInfoString(){const t=this.container.getProviders();return t.map((t=>{if(x(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}function x(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}const D="@firebase/app",A="0.9.13",j=new i.Vy("@firebase/app"),R="@firebase/app-compat",N="@firebase/analytics-compat",L="@firebase/analytics",F="@firebase/app-check-compat",M="@firebase/app-check",$="@firebase/auth",B="@firebase/auth-compat",V="@firebase/database",U="@firebase/database-compat",z="@firebase/functions",q="@firebase/functions-compat",H="@firebase/installations",G="@firebase/installations-compat",W="@firebase/messaging",K="@firebase/messaging-compat",Y="@firebase/performance",Q="@firebase/performance-compat",X="@firebase/remote-config",J="@firebase/remote-config-compat",Z="@firebase/storage",tt="@firebase/storage-compat",et="@firebase/firestore",nt="@firebase/firestore-compat",rt="firebase",it="9.23.0",ot="[DEFAULT]",st={[D]:"fire-core",[R]:"fire-core-compat",[L]:"fire-analytics",[N]:"fire-analytics-compat",[M]:"fire-app-check",[F]:"fire-app-check-compat",[$]:"fire-auth",[B]:"fire-auth-compat",[V]:"fire-rtdb",[U]:"fire-rtdb-compat",[z]:"fire-fn",[q]:"fire-fn-compat",[H]:"fire-iid",[G]:"fire-iid-compat",[W]:"fire-fcm",[K]:"fire-fcm-compat",[Y]:"fire-perf",[Q]:"fire-perf-compat",[X]:"fire-rc",[J]:"fire-rc-compat",[Z]:"fire-gcs",[tt]:"fire-gcs-compat",[et]:"fire-fst",[nt]:"fire-fst-compat","fire-js":"fire-js",[rt]:"fire-js-all"},at=new Map,ct=new Map;function lt(t,e){try{t.container.addComponent(e)}catch(n){j.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ut(t,e){t.container.addOrOverwriteComponent(e)}function ht(t){const e=t.name;if(ct.has(e))return j.debug(`There were multiple attempts to register component ${e}.`),!1;ct.set(e,t);for(const n of at.values())lt(n,t);return!0}function dt(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ft(t,e,n=ot){dt(t,e).clearInstance(n)}function pt(){ct.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},gt=new o.FA("app","Firebase",mt);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class vt{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw gt.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt=it;function bt(t,e={}){let n=t;if("object"!==typeof e){const t=e;e={name:t}}const i=Object.assign({name:ot,automaticDataCollectionEnabled:!1},e),s=i.name;if("string"!==typeof s||!s)throw gt.create("bad-app-name",{appName:String(s)});if(n||(n=(0,o.T9)()),!n)throw gt.create("no-options");const a=at.get(s);if(a){if((0,o.bD)(n,a.options)&&(0,o.bD)(i,a.config))return a;throw gt.create("duplicate-app",{appName:s})}const c=new r.h1(s);for(const r of ct.values())c.addComponent(r);const l=new vt(n,i,c);return at.set(s,l),l}function wt(t=ot){const e=at.get(t);if(!e&&t===ot&&(0,o.T9)())return bt();if(!e)throw gt.create("no-app",{appName:t});return e}function _t(){return Array.from(at.values())}async function Ot(t){const e=t.name;at.has(e)&&(at.delete(e),await Promise.all(t.container.getProviders().map((t=>t.delete()))),t.isDeleted=!0)}function Tt(t,e,n){var i;let o=null!==(i=st[t])&&void 0!==i?i:t;n&&(o+=`-${n}`);const s=o.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const t=[`Unable to register library "${o}" with version "${e}":`];return s&&t.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void j.warn(t.join(" "))}ht(new r.uA(`${o}-version`,(()=>({library:o,version:e})),"VERSION"))}function St(t,e){if(null!==t&&"function"!==typeof t)throw gt.create("invalid-log-argument");(0,i.Ey)(t,e)}function Ct(t){(0,i.He)(t)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It="firebase-heartbeat-database",Et=1,kt="firebase-heartbeat-store";let Pt=null;function xt(){return Pt||(Pt=S(It,Et,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(kt)}}}).catch((t=>{throw gt.create("idb-open",{originalErrorMessage:t.message})}))),Pt}async function Dt(t){try{const e=await xt(),n=await e.transaction(kt).objectStore(kt).get(jt(t));return n}catch(e){if(e instanceof o.g)j.warn(e.message);else{const t=gt.create("idb-get",{originalErrorMessage:null===e||void 0===e?void 0:e.message});j.warn(t.message)}}}async function At(t,e){try{const n=await xt(),r=n.transaction(kt,"readwrite"),i=r.objectStore(kt);await i.put(e,jt(t)),await r.done}catch(n){if(n instanceof o.g)j.warn(n.message);else{const t=gt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});j.warn(t.message)}}}function jt(t){return`${t.name}!${t.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt=1024,Nt=2592e6;class Lt{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new $t(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate(),e=t.getPlatformInfoString(),n=Ft();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some((t=>t.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf(),n=Date.now();return n-e<=Nt})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ft(),{heartbeatsToSend:e,unsentEntries:n}=Mt(this._heartbeatsCache.heartbeats),r=(0,o.Uj)(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Ft(){const t=new Date;return t.toISOString().substring(0,10)}function Mt(t,e=Rt){const n=[];let r=t.slice();for(const i of t){const t=n.find((t=>t.agent===i.agent));if(t){if(t.dates.push(i.date),Bt(n)>e){t.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Bt(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $t{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.zW)()&&(0,o.eX)().then((()=>!0)).catch((()=>!1))}async read(){const t=await this._canUseIndexedDBPromise;if(t){const t=await Dt(this.app);return t||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return At(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return At(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function Bt(t){return(0,o.Uj)(JSON.stringify({version:2,heartbeats:t})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){ht(new r.uA("platform-logger",(t=>new P(t)),"PRIVATE")),ht(new r.uA("heartbeat",(t=>new Lt(t)),"PRIVATE")),Tt(D,A,t),Tt(D,A,"esm2017"),Tt("fire-js","")}Vt("")},9988:(t,e,n)=>{n.d(e,{A:()=>r.A});var r=n(8840),i="firebase",o="9.23.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r.A.registerVersion(i,o,"app-compat")}}]);