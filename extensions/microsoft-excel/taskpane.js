/*! For license information please see taskpane.js.LICENSE.txt */
!function(){var e,t,r={90036:function(e,t){"use strict";if("function"==typeof Symbol&&Symbol.for){var r=Symbol.for;r("react.element"),r("react.portal"),r("react.fragment"),r("react.strict_mode"),r("react.profiler"),r("react.provider"),r("react.context"),r("react.forward_ref"),r("react.suspense"),r("react.suspense_list"),r("react.memo"),r("react.lazy"),r("react.block"),r("react.server.block"),r("react.fundamental"),r("react.debug_trace_mode"),r("react.legacy_hidden")}},10488:function(e,t,r){"use strict";r(90036)},64583:function(e,t,r){e.exports=function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,o=void 0,i=void 0,s=function(e,t){f[n]=e,f[n+1]=t,2===(n+=2)&&(i?i(p):y())};var a="undefined"!=typeof window?window:void 0,l=a||{},c=l.MutationObserver||l.WebKitMutationObserver,u="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(p,1)}}var f=new Array(1e3);function p(){for(var e=0;e<n;e+=2)(0,f[e])(f[e+1]),f[e]=void 0,f[e+1]=void 0;n=0}var g,m,v,b,y=void 0;function w(e,t){var r=this,n=new this.constructor(x);void 0===n[k]&&A(n);var o=r._state;if(o){var i=arguments[o-1];s((function(){return B(o,n,i,r._result)}))}else P(r,n,e,t);return n}function _(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(x);return I(t,e),t}y=u?function(){return process.nextTick(p)}:c?(m=0,v=new c(p),b=document.createTextNode(""),v.observe(b,{characterData:!0}),function(){b.data=m=++m%2}):d?((g=new MessageChannel).port1.onmessage=p,function(){return g.port2.postMessage(0)}):void 0===a?function(){try{var e=Function("return this")().require("vertx");return void 0!==(o=e.runOnLoop||e.runOnContext)?function(){o(p)}:h()}catch(e){return h()}}():h();var k=Math.random().toString(36).substring(2);function x(){}var S=void 0,E=1,C=2;function T(t,r,n){r.constructor===t.constructor&&n===w&&r.constructor.resolve===_?function(e,t){t._state===E?R(e,t._result):t._state===C?D(e,t._result):P(t,void 0,(function(t){return I(e,t)}),(function(t){return D(e,t)}))}(t,r):void 0===n?R(t,r):e(n)?function(e,t,r){s((function(e){var n=!1,o=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(r,t,(function(r){n||(n=!0,t!==r?I(e,r):R(e,r))}),(function(t){n||(n=!0,D(e,t))}),e._label);!n&&o&&(n=!0,D(e,o))}),e)}(t,r,n):R(t,r)}function I(e,t){if(e===t)D(e,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(n=t),null===n||"object"!==o&&"function"!==o)R(e,t);else{var r=void 0;try{r=t.then}catch(t){return void D(e,t)}T(e,t,r)}var n,o}function N(e){e._onerror&&e._onerror(e._result),z(e)}function R(e,t){e._state===S&&(e._result=t,e._state=E,0!==e._subscribers.length&&s(z,e))}function D(e,t){e._state===S&&(e._state=C,e._result=t,s(N,e))}function P(e,t,r,n){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+E]=r,o[i+C]=n,0===i&&e._state&&s(z,e)}function z(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,o=void 0,i=e._result,s=0;s<t.length;s+=3)n=t[s],o=t[s+r],n?B(r,n,o,i):o(i);e._subscribers.length=0}}function B(t,r,n,o){var i=e(n),s=void 0,a=void 0,l=!0;if(i){try{s=n(o)}catch(e){l=!1,a=e}if(r===s)return void D(r,new TypeError("A promises callback cannot return that same promise."))}else s=o;r._state!==S||(i&&l?I(r,s):!1===l?D(r,a):t===E?R(r,s):t===C&&D(r,s))}var O=0;function A(e){e[k]=O++,e._state=void 0,e._result=void 0,e._subscribers=[]}var F=function(){function e(e,r){this._instanceConstructor=e,this.promise=new e(x),this.promise[k]||A(this.promise),t(r)?(this.length=r.length,this._remaining=r.length,this._result=new Array(this.length),0===this.length?R(this.promise,this._result):(this.length=this.length||0,this._enumerate(r),0===this._remaining&&R(this.promise,this._result))):D(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===S&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===_){var o=void 0,i=void 0,s=!1;try{o=e.then}catch(e){s=!0,i=e}if(o===w&&e._state!==S)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(r===M){var a=new r(x);s?D(a,i):T(a,e,o),this._willSettleAt(a,t)}else this._willSettleAt(new r((function(t){return t(e)})),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===S&&(this._remaining--,e===C?D(n,r):this._result[t]=r),0===this._remaining&&R(n,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;P(e,void 0,(function(e){return r._settledAt(E,t,e)}),(function(e){return r._settledAt(C,t,e)}))},e}();var M=function(){function t(e){this[k]=O++,this._result=this._state=void 0,this._subscribers=[],x!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){I(e,t)}),(function(t){D(e,t)}))}catch(t){D(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var r=this,n=r.constructor;return e(t)?r.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))})):r.then(t,t)},t}();return M.prototype.then=w,M.all=function(e){return new F(this,e).promise},M.race=function(e){var r=this;return t(e)?new r((function(t,n){for(var o=e.length,i=0;i<o;i++)r.resolve(e[i]).then(t,n)})):new r((function(e,t){return t(new TypeError("You must pass an array to race."))}))},M.resolve=_,M.reject=function(e){var t=new this(x);return D(t,e),t},M._setScheduler=function(e){i=e},M._setAsap=function(e){s=e},M._asap=s,M.polyfill=function(){var e=void 0;if(void 0!==r.g)e=r.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=M},M.Promise=M,M}()},22551:function(e,t,r){"use strict";var n=r(64583).Promise,o=r(96540),i=r(69982);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function m(e,t,r,n,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,r,n){var o=v.hasOwnProperty(t)?v[t]:null;(null!==o?0!==o.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,o,n)&&(r=null),n||null===o?function(e){return!!h.call(g,e)||!h.call(p,e)&&(f.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=null===r?3!==o.type&&"":r:(t=o.attributeName,n=o.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(o=o.type)||4===o&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,y);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),z=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var B=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function A(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=O&&e[O]||e["@@iterator"])?e:null}var F,M=Object.assign;function j(e){if(void 0===F)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var L=!1;function q(e,t){if(!e||L)return"";L=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var n=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){n=e}e.call(t.prototype)}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),i=n.stack.split("\n"),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==i[a]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{L=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?j(e):""}function U(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return q(e.type,!1);case 11:return q(e.type.render,!1);case 1:return q(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case C:return"Profiler";case E:return"StrictMode";case R:return"Suspense";case D:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case z:t=e._payload,e=e._init;try{return V(e(t))}catch(e){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var r=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Y(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=W(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function Z(e,t){J(e,t);var r=W(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?te(e,t.type,r):t.hasOwnProperty("defaultValue")&&te(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ee(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function te(e,t,r){"number"===t&&Q(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var re=Array.isArray;function ne(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+W(r),t=null,o=0;o<e.length;o++){if(e[o].value===r)return e[o].selected=!0,void(n&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(re(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:W(r)}}function se(e,t){var r=W(t.value),n=W(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,de,he=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function fe(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function me(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),o=me(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}Object.keys(pe).forEach((function(e){ge.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var be=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(be[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ee=null;function Ce(e){if(e=_o(e)){if("function"!=typeof xe)throw Error(s(280));var t=e.stateNode;t&&(t=xo(t),xe(e.stateNode,e.type,t))}}function Te(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Ie(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ne(e,t){return e(t)}function Re(){}var De=!1;function Pe(e,t,r){if(De)return e(t,r);De=!0;try{return Ne(e,t,r)}finally{De=!1,(null!==Se||null!==Ee)&&(Re(),Ie())}}function ze(e,t){var r=e.stateNode;if(null===r)return null;var n=xo(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(s(231,t,typeof r));return r}var Be=!1;if(d)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Be=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(de){Be=!1}function Ae(e,t,r,n,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(e){this.onError(e)}}var Fe=!1,Me=null,je=!1,Le=null,qe={onError:function(e){Fe=!0,Me=e}};function Ue(e,t,r,n,o,i,s,a,l){Fe=!1,Me=null,Ae.apply(qe,arguments)}function Ve(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(s(188))}function $e(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(n=o.return)){r=n;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===r)return We(o),e;if(i===n)return We(o),t;i=i.sibling}throw Error(s(188))}if(r.return!==n.return)r=o,n=i;else{for(var a=!1,l=o.child;l;){if(l===r){a=!0,r=o,n=i;break}if(l===n){a=!0,n=o,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=o;break}if(l===n){a=!0,n=i,r=o;break}l=l.sibling}if(!a)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,et=i.unstable_ImmediatePriority,tt=i.unstable_UserBlockingPriority,rt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,ot=i.unstable_IdlePriority,it=null,st=null,at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(lt(e)/ct|0)|0},lt=Math.log,ct=Math.LN2,ut=64,dt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,o=e.suspendedLanes,i=e.pingedLanes,s=268435455&r;if(0!==s){var a=s&~o;0!==a?n=ht(a):0!=(i&=s)&&(n=ht(i))}else 0!=(s=r&~o)?n=ht(s):0!==i&&(n=ht(i));if(0===n)return 0;if(0!==t&&t!==n&&!(t&o)&&((o=n&-n)>=(i=t&-t)||16===o&&4194240&i))return t;if(4&n&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)o=1<<(r=31-at(t)),n|=e[r],t&=~o;return n}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return!(4194240&(ut<<=1))&&(ut=64),e}function vt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-at(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var wt=0;function _t(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var kt,xt,St,Et,Ct,Tt=!1,It=[],Nt=null,Rt=null,Dt=null,Pt=new Map,zt=new Map,Bt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function At(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zt.delete(t.pointerId)}}function Ft(e,t,r,n,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[o]},null!==t&&null!==(t=_o(t))&&xt(t),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Mt(e){var t=wo(e.target);if(null!==t){var r=Ve(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=He(r)))return e.blockedOn=t,void Ct(e.priority,(function(){St(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=_o(r))&&xt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);_e=n,r.target.dispatchEvent(n),_e=null,t.shift()}return!0}function Lt(e,t,r){jt(e)&&r.delete(t)}function qt(){Tt=!1,null!==Nt&&jt(Nt)&&(Nt=null),null!==Rt&&jt(Rt)&&(Rt=null),null!==Dt&&jt(Dt)&&(Dt=null),Pt.forEach(Lt),zt.forEach(Lt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,qt)))}function Vt(e){function t(t){return Ut(t,e)}if(0<It.length){Ut(It[0],e);for(var r=1;r<It.length;r++){var n=It[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Nt&&Ut(Nt,e),null!==Rt&&Ut(Rt,e),null!==Dt&&Ut(Dt,e),Pt.forEach(t),zt.forEach(t),r=0;r<Bt.length;r++)(n=Bt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Bt.length&&null===(r=Bt[0]).blockedOn;)Mt(r),null===r.blockedOn&&Bt.shift()}var Ht=_.ReactCurrentBatchConfig,Wt=!0;function $t(e,t,r,n){var o=wt,i=Ht.transition;Ht.transition=null;try{wt=1,Gt(e,t,r,n)}finally{wt=o,Ht.transition=i}}function Kt(e,t,r,n){var o=wt,i=Ht.transition;Ht.transition=null;try{wt=4,Gt(e,t,r,n)}finally{wt=o,Ht.transition=i}}function Gt(e,t,r,n){if(Wt){var o=Xt(e,t,r,n);if(null===o)Wn(e,t,n,Qt,r),At(e,n);else if(function(e,t,r,n,o){switch(t){case"focusin":return Nt=Ft(Nt,e,t,r,n,o),!0;case"dragenter":return Rt=Ft(Rt,e,t,r,n,o),!0;case"mouseover":return Dt=Ft(Dt,e,t,r,n,o),!0;case"pointerover":var i=o.pointerId;return Pt.set(i,Ft(Pt.get(i)||null,e,t,r,n,o)),!0;case"gotpointercapture":return i=o.pointerId,zt.set(i,Ft(zt.get(i)||null,e,t,r,n,o)),!0}return!1}(o,e,t,r,n))n.stopPropagation();else if(At(e,n),4&t&&-1<Ot.indexOf(e)){for(;null!==o;){var i=_o(o);if(null!==i&&kt(i),null===(i=Xt(e,t,r,n))&&Wn(e,t,n,Qt,r),i===o)break;o=i}null!==o&&n.stopPropagation()}else Wn(e,t,n,null,r)}}var Qt=null;function Xt(e,t,r,n){if(Qt=null,null!==(e=wo(e=ke(n))))if(null===(t=Ve(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case et:return 1;case tt:return 4;case rt:case nt:return 16;case ot:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,er=null;function tr(){if(er)return er;var e,t,r=Zt,n=r.length,o="value"in Jt?Jt.value:Jt.textContent,i=o.length;for(e=0;e<n&&r[e]===o[e];e++);var s=n-e;for(t=1;t<=s&&r[n-t]===o[i-t];t++);return er=o.slice(e,1<t?1-t:void 0)}function rr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nr(){return!0}function or(){return!1}function ir(e){function t(t,r,n,o,i){for(var s in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nr:or,this.isPropagationStopped=or,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),t}var sr,ar,lr,cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ur=ir(cr),dr=M({},cr,{view:0,detail:0}),hr=ir(dr),fr=M({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lr&&(lr&&"mousemove"===e.type?(sr=e.screenX-lr.screenX,ar=e.screenY-lr.screenY):ar=sr=0,lr=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:ar}}),pr=ir(fr),gr=ir(M({},fr,{dataTransfer:0})),mr=ir(M({},dr,{relatedTarget:0})),vr=ir(M({},cr,{animationName:0,elapsedTime:0,pseudoElement:0})),br=M({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=ir(br),wr=ir(M({},cr,{data:0})),_r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xr[e])&&!!t[e]}function Er(){return Sr}var Cr=M({},dr,{key:function(e){if(e.key){var t=_r[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return"keypress"===e.type?rr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tr=ir(Cr),Ir=ir(M({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nr=ir(M({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er})),Rr=ir(M({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dr=M({},fr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pr=ir(Dr),zr=[9,13,27,32],Br=d&&"CompositionEvent"in window,Or=null;d&&"documentMode"in document&&(Or=document.documentMode);var Ar=d&&"TextEvent"in window&&!Or,Fr=d&&(!Br||Or&&8<Or&&11>=Or),Mr=String.fromCharCode(32),jr=!1;function Lr(e,t){switch(e){case"keyup":return-1!==zr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ur=!1,Vr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vr[e.type]:"textarea"===t}function Wr(e,t,r,n){Te(n),0<(t=Kn(t,"onChange")).length&&(r=new ur("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var $r=null,Kr=null;function Gr(e){jn(e,0)}function Qr(e){if(G(ko(e)))return e}function Xr(e,t){if("change"===e)return t}var Yr=!1;if(d){var Jr;if(d){var Zr="oninput"in document;if(!Zr){var en=document.createElement("div");en.setAttribute("oninput","return;"),Zr="function"==typeof en.oninput}Jr=Zr}else Jr=!1;Yr=Jr&&(!document.documentMode||9<document.documentMode)}function tn(){$r&&($r.detachEvent("onpropertychange",rn),Kr=$r=null)}function rn(e){if("value"===e.propertyName&&Qr(Kr)){var t=[];Wr(t,Kr,e,ke(e)),Pe(Gr,t)}}function nn(e,t,r){"focusin"===e?(tn(),Kr=r,($r=t).attachEvent("onpropertychange",rn)):"focusout"===e&&tn()}function on(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qr(Kr)}function sn(e,t){if("click"===e)return Qr(t)}function an(e,t){if("input"===e||"change"===e)return Qr(t)}var ln="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function cn(e,t){if(ln(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!h.call(t,o)||!ln(e[o],t[o]))return!1}return!0}function un(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var r,n=un(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=un(n)}}function hn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fn(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(e){r=!1}if(!r)break;t=Q((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gn(e){var t=fn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hn(r.ownerDocument.documentElement,r)){if(null!==n&&pn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=r.textContent.length,i=Math.min(n.start,o);n=void 0===n.end?i:Math.min(n.end,o),!e.extend&&i>n&&(o=n,n=i,i=o),o=dn(r,i);var s=dn(r,n);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mn=d&&"documentMode"in document&&11>=document.documentMode,vn=null,bn=null,yn=null,wn=!1;function _n(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;wn||null==vn||vn!==Q(n)||(n="selectionStart"in(n=vn)&&pn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&cn(yn,n)||(yn=n,0<(n=Kn(bn,"onSelect")).length&&(t=new ur("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=vn)))}function kn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xn={animationend:kn("Animation","AnimationEnd"),animationiteration:kn("Animation","AnimationIteration"),animationstart:kn("Animation","AnimationStart"),transitionend:kn("Transition","TransitionEnd")},Sn={},En={};function Cn(e){if(Sn[e])return Sn[e];if(!xn[e])return e;var t,r=xn[e];for(t in r)if(r.hasOwnProperty(t)&&t in En)return Sn[e]=r[t];return e}d&&(En=document.createElement("div").style,"AnimationEvent"in window||(delete xn.animationend.animation,delete xn.animationiteration.animation,delete xn.animationstart.animation),"TransitionEvent"in window||delete xn.transitionend.transition);var Tn=Cn("animationend"),In=Cn("animationiteration"),Nn=Cn("animationstart"),Rn=Cn("transitionend"),Dn=new Map,Pn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(e,t){Dn.set(e,t),c(t,[e])}for(var Bn=0;Bn<Pn.length;Bn++){var On=Pn[Bn];zn(On.toLowerCase(),"on"+(On[0].toUpperCase()+On.slice(1)))}zn(Tn,"onAnimationEnd"),zn(In,"onAnimationIteration"),zn(Nn,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(Rn,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var An="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fn=new Set("cancel close invalid load scroll toggle".split(" ").concat(An));function Mn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,o,i,a,l,c){if(Ue.apply(this,arguments),Fe){if(!Fe)throw Error(s(198));var u=Me;Fe=!1,Me=null,je||(je=!0,Le=u)}}(n,t,void 0,e),e.currentTarget=null}function jn(e,t){t=!!(4&t);for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Mn(o,a,c),i=l}else for(s=0;s<n.length;s++){if(l=(a=n[s]).instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Mn(o,a,c),i=l}}}if(je)throw e=Le,je=!1,Le=null,e}function Ln(e,t){var r=t[vo];void 0===r&&(r=t[vo]=new Set);var n=e+"__bubble";r.has(n)||(Hn(t,e,2,!1),r.add(n))}function qn(e,t,r){var n=0;t&&(n|=4),Hn(r,e,n,t)}var Un="_reactListening"+Math.random().toString(36).slice(2);function Vn(e){if(!e[Un]){e[Un]=!0,a.forEach((function(t){"selectionchange"!==t&&(Fn.has(t)||qn(t,!1,e),qn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Un]||(t[Un]=!0,qn("selectionchange",!1,t))}}function Hn(e,t,r,n){switch(Yt(t)){case 1:var o=$t;break;case 4:o=Kt;break;default:o=Gt}r=o.bind(null,t,r,e),o=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),n?void 0!==o?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):void 0!==o?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function Wn(e,t,r,n,o){var i=n;if(!(1&t||2&t||null===n))e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var a=n.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=n.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=wo(a)))return;if(5===(l=s.tag)||6===l){n=i=s;continue e}a=a.parentNode}}n=n.return}Pe((function(){var n=i,o=ke(r),s=[];e:{var a=Dn.get(e);if(void 0!==a){var l=ur,c=e;switch(e){case"keypress":if(0===rr(r))break e;case"keydown":case"keyup":l=Tr;break;case"focusin":c="focus",l=mr;break;case"focusout":c="blur",l=mr;break;case"beforeblur":case"afterblur":l=mr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nr;break;case Tn:case In:case Nn:l=vr;break;case Rn:l=Rr;break;case"scroll":l=hr;break;case"wheel":l=Pr;break;case"copy":case"cut":case"paste":l=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ir}var u=!!(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=n;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&null!=(g=ze(p,h))&&u.push($n(p,g,f))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,r,o),s.push({event:a,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||r===_e||!(c=r.relatedTarget||r.fromElement)||!wo(c)&&!c[mo])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?wo(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(u=pr,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Ir,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:ko(l),f=null==c?a:ko(c),(a=new u(g,p+"leave",l,r,o)).target=d,a.relatedTarget=f,g=null,wo(o)===n&&((u=new u(h,p+"enter",c,r,o)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gn(f))p++;for(f=0,g=h;g;g=Gn(g))f++;for(;0<p-f;)u=Gn(u),p--;for(;0<f-p;)h=Gn(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gn(u),h=Gn(h)}u=null}else u=null;null!==l&&Qn(s,a,l,u,!1),null!==c&&null!==d&&Qn(s,d,c,u,!0)}if("select"===(l=(a=n?ko(n):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Xr;else if(Hr(a))if(Yr)m=an;else{m=on;var v=nn}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=sn);switch(m&&(m=m(e,n))?Wr(s,m,r,o):(v&&v(e,a,n),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&te(a,"number",a.value)),v=n?ko(n):window,e){case"focusin":(Hr(v)||"true"===v.contentEditable)&&(vn=v,bn=n,yn=null);break;case"focusout":yn=bn=vn=null;break;case"mousedown":wn=!0;break;case"contextmenu":case"mouseup":case"dragend":wn=!1,_n(s,r,o);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":_n(s,r,o)}var b;if(Br)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Ur?Lr(e,r)&&(y="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(y="onCompositionStart");y&&(Fr&&"ko"!==r.locale&&(Ur||"onCompositionStart"!==y?"onCompositionEnd"===y&&Ur&&(b=tr()):(Zt="value"in(Jt=o)?Jt.value:Jt.textContent,Ur=!0)),0<(v=Kn(n,y)).length&&(y=new wr(y,e,null,r,o),s.push({event:y,listeners:v}),(b||null!==(b=qr(r)))&&(y.data=b))),(b=Ar?function(e,t){switch(e){case"compositionend":return qr(t);case"keypress":return 32!==t.which?null:(jr=!0,Mr);case"textInput":return(e=t.data)===Mr&&jr?null:e;default:return null}}(e,r):function(e,t){if(Ur)return"compositionend"===e||!Br&&Lr(e,t)?(e=tr(),er=Zt=Jt=null,Ur=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fr&&"ko"!==t.locale?null:t.data}}(e,r))&&0<(n=Kn(n,"onBeforeInput")).length&&(o=new wr("onBeforeInput","beforeinput",null,r,o),s.push({event:o,listeners:n}),o.data=b)}jn(s,t)}))}function $n(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Kn(e,t){for(var r=t+"Capture",n=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=ze(e,r))&&n.unshift($n(e,i,o)),null!=(i=ze(e,t))&&n.push($n(e,i,o))),e=e.return}return n}function Gn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qn(e,t,r,n,o){for(var i=t._reactName,s=[];null!==r&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(null!==l&&l===n)break;5===a.tag&&null!==c&&(a=c,o?null!=(l=ze(r,i))&&s.unshift($n(r,l,a)):o||null!=(l=ze(r,i))&&s.push($n(r,l,a))),r=r.return}0!==s.length&&e.push({event:t,listeners:s})}var Xn=/\r\n?/g,Yn=/\u0000|\uFFFD/g;function Jn(e){return("string"==typeof e?e:""+e).replace(Xn,"\n").replace(Yn,"")}function Zn(e,t,r){if(t=Jn(t),Jn(e)!==t&&r)throw Error(s(425))}function eo(){}var to=null,ro=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var oo="function"==typeof setTimeout?setTimeout:void 0,io="function"==typeof clearTimeout?clearTimeout:void 0,so="function"==typeof n?n:void 0,ao="function"==typeof queueMicrotask?queueMicrotask:void 0!==so?function(e){return so.resolve(null).then(e).catch(lo)}:oo;function lo(e){setTimeout((function(){throw e}))}function co(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&8===o.nodeType)if("/$"===(r=o.data)){if(0===n)return e.removeChild(o),void Vt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=o}while(r);Vt(t)}function uo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ho(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),po="__reactFiber$"+fo,go="__reactProps$"+fo,mo="__reactContainer$"+fo,vo="__reactEvents$"+fo,bo="__reactListeners$"+fo,yo="__reactHandles$"+fo;function wo(e){var t=e[po];if(t)return t;for(var r=e.parentNode;r;){if(t=r[mo]||r[po]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ho(e);null!==e;){if(r=e[po])return r;e=ho(e)}return t}r=(e=r).parentNode}return null}function _o(e){return!(e=e[po]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ko(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xo(e){return e[go]||null}var So=[],Eo=-1;function Co(e){return{current:e}}function To(e){0>Eo||(e.current=So[Eo],So[Eo]=null,Eo--)}function Io(e,t){Eo++,So[Eo]=e.current,e.current=t}var No={},Ro=Co(No),Do=Co(!1),Po=No;function zo(e,t){var r=e.type.contextTypes;if(!r)return No;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in r)i[o]=t[o];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Bo(e){return null!=e.childContextTypes}function Oo(){To(Do),To(Ro)}function Ao(e,t,r){if(Ro.current!==No)throw Error(s(168));Io(Ro,t),Io(Do,r)}function Fo(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in t))throw Error(s(108,H(e)||"Unknown",o));return M({},r,n)}function Mo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||No,Po=Ro.current,Io(Ro,e),Io(Do,Do.current),!0}function jo(e,t,r){var n=e.stateNode;if(!n)throw Error(s(169));r?(e=Fo(e,t,Po),n.__reactInternalMemoizedMergedChildContext=e,To(Do),To(Ro),Io(Ro,e)):To(Do),Io(Do,r)}var Lo=null,qo=!1,Uo=!1;function Vo(e){null===Lo?Lo=[e]:Lo.push(e)}function Ho(){if(!Uo&&null!==Lo){Uo=!0;var e=0,t=wt;try{var r=Lo;for(wt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Lo=null,qo=!1}catch(t){throw null!==Lo&&(Lo=Lo.slice(e+1)),Ge(et,Ho),t}finally{wt=t,Uo=!1}}return null}var Wo=[],$o=0,Ko=null,Go=0,Qo=[],Xo=0,Yo=null,Jo=1,Zo="";function ei(e,t){Wo[$o++]=Go,Wo[$o++]=Ko,Ko=e,Go=t}function ti(e,t,r){Qo[Xo++]=Jo,Qo[Xo++]=Zo,Qo[Xo++]=Yo,Yo=e;var n=Jo;e=Zo;var o=32-at(n)-1;n&=~(1<<o),r+=1;var i=32-at(t)+o;if(30<i){var s=o-o%5;i=(n&(1<<s)-1).toString(32),n>>=s,o-=s,Jo=1<<32-at(t)+o|r<<o|n,Zo=i+e}else Jo=1<<i|r<<o|n,Zo=e}function ri(e){null!==e.return&&(ei(e,1),ti(e,1,0))}function ni(e){for(;e===Ko;)Ko=Wo[--$o],Wo[$o]=null,Go=Wo[--$o],Wo[$o]=null;for(;e===Yo;)Yo=Qo[--Xo],Qo[Xo]=null,Zo=Qo[--Xo],Qo[Xo]=null,Jo=Qo[--Xo],Qo[Xo]=null}var oi=null,ii=null,si=!1,ai=null;function li(e,t){var r=zc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function ci(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,oi=e,ii=uo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,oi=e,ii=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Yo?{id:Jo,overflow:Zo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=zc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,oi=e,ii=null,!0);default:return!1}}function ui(e){return!(!(1&e.mode)||128&e.flags)}function di(e){if(si){var t=ii;if(t){var r=t;if(!ci(e,t)){if(ui(e))throw Error(s(418));t=uo(r.nextSibling);var n=oi;t&&ci(e,t)?li(n,r):(e.flags=-4097&e.flags|2,si=!1,oi=e)}}else{if(ui(e))throw Error(s(418));e.flags=-4097&e.flags|2,si=!1,oi=e}}}function hi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;oi=e}function fi(e){if(e!==oi)return!1;if(!si)return hi(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=ii)){if(ui(e))throw pi(),Error(s(418));for(;t;)li(e,t),t=uo(t.nextSibling)}if(hi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ii=uo(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ii=null}}else ii=oi?uo(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=ii;e;)e=uo(e.nextSibling)}function gi(){ii=oi=null,si=!1}function mi(e){null===ai?ai=[e]:ai.push(e)}var vi=_.ReactCurrentBatchConfig;function bi(e,t){if(e&&e.defaultProps){for(var r in t=M({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var yi=Co(null),wi=null,_i=null,ki=null;function xi(){ki=_i=wi=null}function Si(e){var t=yi.current;To(yi),e._currentValue=t}function Ei(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ci(e,t){wi=e,ki=_i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(_a=!0),e.firstContext=null)}function Ti(e){var t=e._currentValue;if(ki!==e)if(e={context:e,memoizedValue:t,next:null},null===_i){if(null===wi)throw Error(s(308));_i=e,wi.dependencies={lanes:0,firstContext:e}}else _i=_i.next=e;return t}var Ii=null;function Ni(e){null===Ii?Ii=[e]:Ii.push(e)}function Ri(e,t,r,n){var o=t.interleaved;return null===o?(r.next=r,Ni(t)):(r.next=o.next,o.next=r),t.interleaved=r,Di(e,n)}function Di(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Pi=!1;function zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ai(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,2&Rl){var o=n.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),n.pending=t,Di(e,r)}return null===(o=n.interleaved)?(t.next=t,Ni(n)):(t.next=o.next,o.next=t),n.interleaved=t,Di(e,r)}function Fi(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}function Mi(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var o=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?o=i=s:i=i.next=s,r=r.next}while(null!==r);null===i?o=i=t:i=i.next=t}else o=i=t;return r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ji(e,t,r,n){var o=e.updateQueue;Pi=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&(a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l)}if(null!==i){var d=o.baseState;for(s=0,u=c=l=null,a=i;;){var h=a.lane,f=a.eventTime;if((n&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(h=t,f=r,g.tag){case 1:if("function"==typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=g.payload)?p.call(f,d,h):p))break e;d=M({},d,h);break e;case 2:Pi=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(h=a).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Ml|=s,e.lanes=s,e.memoizedState=d}}function Li(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(null!==o){if(n.callback=null,n=r,"function"!=typeof o)throw Error(s(191,o));o.call(n)}}}var qi=(new o.Component).refs;function Ui(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:M({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var Vi={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=rc(),o=nc(e),i=Oi(n,o);i.payload=t,null!=r&&(i.callback=r),null!==(t=Ai(e,i,o))&&(oc(t,e,o,n),Fi(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=rc(),o=nc(e),i=Oi(n,o);i.tag=1,i.payload=t,null!=r&&(i.callback=r),null!==(t=Ai(e,i,o))&&(oc(t,e,o,n),Fi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=rc(),n=nc(e),o=Oi(r,n);o.tag=2,null!=t&&(o.callback=t),null!==(t=Ai(e,o,n))&&(oc(t,e,n,r),Fi(t,e,n))}};function Hi(e,t,r,n,o,i,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,s):!(t.prototype&&t.prototype.isPureReactComponent&&cn(r,n)&&cn(o,i))}function Wi(e,t,r){var n=!1,o=No,i=t.contextType;return"object"==typeof i&&null!==i?i=Ti(i):(o=Bo(t)?Po:Ro.current,i=(n=null!=(n=t.contextTypes))?zo(e,o):No),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vi,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function $i(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Vi.enqueueReplaceState(t,t.state,null)}function Ki(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs=qi,zi(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=Ti(i):(i=Bo(t)?Po:Ro.current,o.context=zo(e,i)),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(Ui(e,t,i,r),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Vi.enqueueReplaceState(o,o.state,null),ji(e,r,o,n),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function Gi(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,e));var o=n,i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=o.refs;t===qi&&(t=o.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function Qi(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xi(e){return(0,e._init)(e._payload)}function Yi(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=jc(r,e.mode,n)).return=e,t):((t=o(t,r)).return=e,t)}function c(e,t,r,n){var i=r.type;return i===S?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===z&&Xi(i)===t.type)?((n=o(t,r.props)).ref=Gi(e,t,r),n.return=e,n):((n=Ac(r.type,r.key,r.props,null,e.mode,n)).ref=Gi(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Lc(r,e.mode,n)).return=e,t):((t=o(t,r.children||[])).return=e,t)}function d(e,t,r,n,i){return null===t||7!==t.tag?((t=Fc(r,e.mode,n,i)).return=e,t):((t=o(t,r)).return=e,t)}function h(e,t,r){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=jc(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case k:return(r=Ac(t.type,t.key,t.props,null,e.mode,r)).ref=Gi(e,null,t),r.return=e,r;case x:return(t=Lc(t,e.mode,r)).return=e,t;case z:return h(e,(0,t._init)(t._payload),r)}if(re(t)||A(t))return(t=Fc(t,e.mode,r,null)).return=e,t;Qi(e,t)}return null}function f(e,t,r,n){var o=null!==t?t.key:null;if("string"==typeof r&&""!==r||"number"==typeof r)return null!==o?null:l(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case k:return r.key===o?c(e,t,r,n):null;case x:return r.key===o?u(e,t,r,n):null;case z:return f(e,t,(o=r._init)(r._payload),n)}if(re(r)||A(r))return null!==o?null:d(e,t,r,n,null);Qi(e,r)}return null}function p(e,t,r,n,o){if("string"==typeof n&&""!==n||"number"==typeof n)return l(t,e=e.get(r)||null,""+n,o);if("object"==typeof n&&null!==n){switch(n.$$typeof){case k:return c(t,e=e.get(null===n.key?r:n.key)||null,n,o);case x:return u(t,e=e.get(null===n.key?r:n.key)||null,n,o);case z:return p(e,t,r,(0,n._init)(n._payload),o)}if(re(n)||A(n))return d(t,e=e.get(r)||null,n,o,null);Qi(t,n)}return null}function g(o,s,a,l){for(var c=null,u=null,d=s,g=s=0,m=null;null!==d&&g<a.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(o,d,a[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(o,d),s=i(v,s,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===a.length)return r(o,d),si&&ei(o,g),c;if(null===d){for(;g<a.length;g++)null!==(d=h(o,a[g],l))&&(s=i(d,s,g),null===u?c=d:u.sibling=d,u=d);return si&&ei(o,g),c}for(d=n(o,d);g<a.length;g++)null!==(m=p(d,o,g,a[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),s=i(m,s,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(o,e)})),si&&ei(o,g),c}function m(o,a,l,c){var u=A(l);if("function"!=typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,g=a,m=a=0,v=null,b=l.next();null!==g&&!b.done;m++,b=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var y=f(o,g,b.value,c);if(null===y){null===g&&(g=v);break}e&&g&&null===y.alternate&&t(o,g),a=i(y,a,m),null===d?u=y:d.sibling=y,d=y,g=v}if(b.done)return r(o,g),si&&ei(o,m),u;if(null===g){for(;!b.done;m++,b=l.next())null!==(b=h(o,b.value,c))&&(a=i(b,a,m),null===d?u=b:d.sibling=b,d=b);return si&&ei(o,m),u}for(g=n(o,g);!b.done;m++,b=l.next())null!==(b=p(g,o,m,b.value,c))&&(e&&null!==b.alternate&&g.delete(null===b.key?m:b.key),a=i(b,a,m),null===d?u=b:d.sibling=b,d=b);return e&&g.forEach((function(e){return t(o,e)})),si&&ei(o,m),u}return function e(n,i,s,l){if("object"==typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"==typeof s&&null!==s){switch(s.$$typeof){case k:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){r(n,u.sibling),(i=o(u,s.props.children)).return=n,n=i;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===z&&Xi(c)===u.type){r(n,u.sibling),(i=o(u,s.props)).ref=Gi(n,u,s),i.return=n,n=i;break e}r(n,u);break}t(n,u),u=u.sibling}s.type===S?((i=Fc(s.props.children,n.mode,l,s.key)).return=n,n=i):((l=Ac(s.type,s.key,s.props,null,n.mode,l)).ref=Gi(n,i,s),l.return=n,n=l)}return a(n);case x:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){r(n,i.sibling),(i=o(i,s.children||[])).return=n,n=i;break e}r(n,i);break}t(n,i),i=i.sibling}(i=Lc(s,n.mode,l)).return=n,n=i}return a(n);case z:return e(n,i,(u=s._init)(s._payload),l)}if(re(s))return g(n,i,s,l);if(A(s))return m(n,i,s,l);Qi(n,s)}return"string"==typeof s&&""!==s||"number"==typeof s?(s=""+s,null!==i&&6===i.tag?(r(n,i.sibling),(i=o(i,s)).return=n,n=i):(r(n,i),(i=jc(s,n.mode,l)).return=n,n=i),a(n)):r(n,i)}}var Ji=Yi(!0),Zi=Yi(!1),es={},ts=Co(es),rs=Co(es),ns=Co(es);function os(e){if(e===es)throw Error(s(174));return e}function is(e,t){switch(Io(ns,t),Io(rs,e),Io(ts,es),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}To(ts),Io(ts,t)}function ss(){To(ts),To(rs),To(ns)}function as(e){os(ns.current);var t=os(ts.current),r=ce(t,e.type);t!==r&&(Io(rs,e),Io(ts,r))}function ls(e){rs.current===e&&(To(ts),To(rs))}var cs=Co(0);function us(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ds=[];function hs(){for(var e=0;e<ds.length;e++)ds[e]._workInProgressVersionPrimary=null;ds.length=0}var fs=_.ReactCurrentDispatcher,ps=_.ReactCurrentBatchConfig,gs=0,ms=null,vs=null,bs=null,ys=!1,ws=!1,_s=0,ks=0;function xs(){throw Error(s(321))}function Ss(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ln(e[r],t[r]))return!1;return!0}function Es(e,t,r,n,o,i){if(gs=i,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fs.current=null===e||null===e.memoizedState?la:ca,e=r(n,o),ws){i=0;do{if(ws=!1,_s=0,25<=i)throw Error(s(301));i+=1,bs=vs=null,t.updateQueue=null,fs.current=ua,e=r(n,o)}while(ws)}if(fs.current=aa,t=null!==vs&&null!==vs.next,gs=0,bs=vs=ms=null,ys=!1,t)throw Error(s(300));return e}function Cs(){var e=0!==_s;return _s=0,e}function Ts(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===bs?ms.memoizedState=bs=e:bs=bs.next=e,bs}function Is(){if(null===vs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=vs.next;var t=null===bs?ms.memoizedState:bs.next;if(null!==t)bs=t,vs=e;else{if(null===e)throw Error(s(310));e={memoizedState:(vs=e).memoizedState,baseState:vs.baseState,baseQueue:vs.baseQueue,queue:vs.queue,next:null},null===bs?ms.memoizedState=bs=e:bs=bs.next=e}return bs}function Ns(e,t){return"function"==typeof t?t(e):t}function Rs(e){var t=Is(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=vs,o=n.baseQueue,i=r.pending;if(null!==i){if(null!==o){var a=o.next;o.next=i.next,i.next=a}n.baseQueue=o=i,r.pending=null}if(null!==o){i=o.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((gs&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=n):c=c.next=h,ms.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==i);null===c?a=n:c.next=l,ln(n,t.memoizedState)||(_a=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){o=e;do{i=o.lane,ms.lanes|=i,Ml|=i,o=o.next}while(o!==e)}else null===o&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ds(e){var t=Is(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,i=t.memoizedState;if(null!==o){r.pending=null;var a=o=o.next;do{i=e(i,a.action),a=a.next}while(a!==o);ln(i,t.memoizedState)||(_a=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Ps(){}function zs(e,t){var r=ms,n=Is(),o=t(),i=!ln(n.memoizedState,o);if(i&&(n.memoizedState=o,_a=!0),n=n.queue,Ws(As.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||null!==bs&&1&bs.memoizedState.tag){if(r.flags|=2048,Ls(9,Os.bind(null,r,n,o,t),void 0,null),null===Dl)throw Error(s(349));30&gs||Bs(r,t,o)}return o}function Bs(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Os(e,t,r,n){t.value=r,t.getSnapshot=n,Fs(t)&&Ms(e)}function As(e,t,r){return r((function(){Fs(t)&&Ms(e)}))}function Fs(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ln(e,r)}catch(e){return!0}}function Ms(e){var t=Di(e,1);null!==t&&oc(t,e,1,-1)}function js(e){var t=Ts();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,ms,e),[t.memoizedState,e]}function Ls(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function qs(){return Is().memoizedState}function Us(e,t,r,n){var o=Ts();ms.flags|=e,o.memoizedState=Ls(1|t,r,void 0,void 0===n?null:n)}function Vs(e,t,r,n){var o=Is();n=void 0===n?null:n;var i=void 0;if(null!==vs){var s=vs.memoizedState;if(i=s.destroy,null!==n&&Ss(n,s.deps))return void(o.memoizedState=Ls(t,r,i,n))}ms.flags|=e,o.memoizedState=Ls(1|t,r,i,n)}function Hs(e,t){return Us(8390656,8,e,t)}function Ws(e,t){return Vs(2048,8,e,t)}function $s(e,t){return Vs(4,2,e,t)}function Ks(e,t){return Vs(4,4,e,t)}function Gs(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qs(e,t,r){return r=null!=r?r.concat([e]):null,Vs(4,4,Gs.bind(null,t,e),r)}function Xs(){}function Ys(e,t){var r=Is();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Ss(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Js(e,t){var r=Is();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Ss(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Zs(e,t,r){return 21&gs?(ln(r,t)||(r=mt(),ms.lanes|=r,Ml|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_a=!0),e.memoizedState=r)}function ea(e,t){var r=wt;wt=0!==r&&4>r?r:4,e(!0);var n=ps.transition;ps.transition={};try{e(!1),t()}finally{wt=r,ps.transition=n}}function ta(){return Is().memoizedState}function ra(e,t,r){var n=nc(e);r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},oa(e)?ia(t,r):null!==(r=Ri(e,t,r,n))&&(oc(r,e,n,rc()),sa(r,t,n))}function na(e,t,r){var n=nc(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(oa(e))ia(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,r);if(o.hasEagerState=!0,o.eagerState=a,ln(a,s)){var l=t.interleaved;return null===l?(o.next=o,Ni(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(e){}null!==(r=Ri(e,t,o,n))&&(oc(r,e,n,o=rc()),sa(r,t,n))}}function oa(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function ia(e,t){ws=ys=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function sa(e,t,r){if(4194240&r){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}var aa={readContext:Ti,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useInsertionEffect:xs,useLayoutEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useMutableSource:xs,useSyncExternalStore:xs,useId:xs,unstable_isNewReconciler:!1},la={readContext:Ti,useCallback:function(e,t){return Ts().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:Hs,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,Us(4194308,4,Gs.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Us(4194308,4,e,t)},useInsertionEffect:function(e,t){return Us(4,2,e,t)},useMemo:function(e,t){var r=Ts();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ts();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ra.bind(null,ms,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Ts().memoizedState=e},useState:js,useDebugValue:Xs,useDeferredValue:function(e){return Ts().memoizedState=e},useTransition:function(){var e=js(!1),t=e[0];return e=ea.bind(null,e[1]),Ts().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ms,o=Ts();if(si){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===Dl)throw Error(s(349));30&gs||Bs(n,t,r)}o.memoizedState=r;var i={value:r,getSnapshot:t};return o.queue=i,Hs(As.bind(null,n,i,e),[e]),n.flags|=2048,Ls(9,Os.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ts(),t=Dl.identifierPrefix;if(si){var r=Zo;t=":"+t+"R"+(r=(Jo&~(1<<32-at(Jo)-1)).toString(32)+r),0<(r=_s++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=ks++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ca={readContext:Ti,useCallback:Ys,useContext:Ti,useEffect:Ws,useImperativeHandle:Qs,useInsertionEffect:$s,useLayoutEffect:Ks,useMemo:Js,useReducer:Rs,useRef:qs,useState:function(){return Rs(Ns)},useDebugValue:Xs,useDeferredValue:function(e){return Zs(Is(),vs.memoizedState,e)},useTransition:function(){return[Rs(Ns)[0],Is().memoizedState]},useMutableSource:Ps,useSyncExternalStore:zs,useId:ta,unstable_isNewReconciler:!1},ua={readContext:Ti,useCallback:Ys,useContext:Ti,useEffect:Ws,useImperativeHandle:Qs,useInsertionEffect:$s,useLayoutEffect:Ks,useMemo:Js,useReducer:Ds,useRef:qs,useState:function(){return Ds(Ns)},useDebugValue:Xs,useDeferredValue:function(e){var t=Is();return null===vs?t.memoizedState=e:Zs(t,vs.memoizedState,e)},useTransition:function(){return[Ds(Ns)[0],Is().memoizedState]},useMutableSource:Ps,useSyncExternalStore:zs,useId:ta,unstable_isNewReconciler:!1};function da(e,t){try{var r="",n=t;do{r+=U(n),n=n.return}while(n);var o=r}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function ha(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function fa(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var pa="function"==typeof WeakMap?WeakMap:Map;function ga(e,t,r){(r=Oi(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){$l||($l=!0,Kl=n),fa(0,t)},r}function ma(e,t,r){(r=Oi(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){fa(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(r.callback=function(){fa(0,t),"function"!=typeof n&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function va(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new pa;var o=new Set;n.set(t,o)}else void 0===(o=n.get(t))&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=Tc.bind(null,e,t,r),t.then(e,e))}function ba(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,r,n,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Oi(-1,1)).tag=2,Ai(r,t,1))),r.lanes|=1),e)}var wa=_.ReactCurrentOwner,_a=!1;function ka(e,t,r,n){t.child=null===e?Zi(t,null,r,n):Ji(t,e.child,r,n)}function xa(e,t,r,n,o){r=r.render;var i=t.ref;return Ci(t,o),n=Es(e,t,r,n,i,o),r=Cs(),null===e||_a?(si&&r&&ri(t),t.flags|=1,ka(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$a(e,t,o))}function Sa(e,t,r,n,o){if(null===e){var i=r.type;return"function"!=typeof i||Bc(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Ac(r.type,null,n,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ea(e,t,i,n,o))}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if((r=null!==(r=r.compare)?r:cn)(s,n)&&e.ref===t.ref)return $a(e,t,o)}return t.flags|=1,(e=Oc(i,n)).ref=t.ref,e.return=t,t.child=e}function Ea(e,t,r,n,o){if(null!==e){var i=e.memoizedProps;if(cn(i,n)&&e.ref===t.ref){if(_a=!1,t.pendingProps=n=i,!(e.lanes&o))return t.lanes=e.lanes,$a(e,t,o);131072&e.flags&&(_a=!0)}}return Ia(e,t,r,n,o)}function Ca(e,t,r){var n=t.pendingProps,o=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(1&t.mode){if(!(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Io(Ol,Bl),Bl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==i?i.baseLanes:r,Io(Ol,Bl),Bl|=n}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Io(Ol,Bl),Bl|=r;else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,Io(Ol,Bl),Bl|=n;return ka(e,t,o,r),t.child}function Ta(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ia(e,t,r,n,o){var i=Bo(r)?Po:Ro.current;return i=zo(t,i),Ci(t,o),r=Es(e,t,r,n,i,o),n=Cs(),null===e||_a?(si&&n&&ri(t),t.flags|=1,ka(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$a(e,t,o))}function Na(e,t,r,n,o){if(Bo(r)){var i=!0;Mo(t)}else i=!1;if(Ci(t,o),null===t.stateNode)Wa(e,t),Wi(t,r,n),Ki(t,r,n,o),n=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=r.contextType;c="object"==typeof c&&null!==c?Ti(c):zo(t,c=Bo(r)?Po:Ro.current);var u=r.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==n||l!==c)&&$i(t,s,n,c),Pi=!1;var h=t.memoizedState;s.state=h,ji(t,n,s,o),l=t.memoizedState,a!==n||h!==l||Do.current||Pi?("function"==typeof u&&(Ui(t,r,u,n),l=t.memoizedState),(a=Pi||Hi(t,r,a,n,h,l,c))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=a):("function"==typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Bi(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:bi(t.type,a),s.props=c,d=t.pendingProps,h=s.context,l="object"==typeof(l=r.contextType)&&null!==l?Ti(l):zo(t,l=Bo(r)?Po:Ro.current);var f=r.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||h!==l)&&$i(t,s,n,l),Pi=!1,h=t.memoizedState,s.state=h,ji(t,n,s,o);var p=t.memoizedState;a!==d||h!==p||Do.current||Pi?("function"==typeof f&&(Ui(t,r,f,n),p=t.memoizedState),(c=Pi||Hi(t,r,c,n,h,p,l)||!1)?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(n,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),s.props=n,s.state=p,s.context=l,n=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ra(e,t,r,n,i,o)}function Ra(e,t,r,n,o,i){Ta(e,t);var s=!!(128&t.flags);if(!n&&!s)return o&&jo(t,r,!1),$a(e,t,i);n=t.stateNode,wa.current=t;var a=s&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&s?(t.child=Ji(t,e.child,null,i),t.child=Ji(t,null,a,i)):ka(e,t,a,i),t.memoizedState=n.state,o&&jo(t,r,!0),t.child}function Da(e){var t=e.stateNode;t.pendingContext?Ao(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ao(0,t.context,!1),is(e,t.containerInfo)}function Pa(e,t,r,n,o){return gi(),mi(o),t.flags|=256,ka(e,t,r,n),t.child}var za,Ba,Oa,Aa,Fa={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,r){var n,o=t.pendingProps,i=cs.current,a=!1,l=!!(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&!!(2&i)),n?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Io(cs,1&i),null===e)return di(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},1&o||null===a?a=Mc(l,o,0,null):(a.childLanes=0,a.pendingProps=l),e=Fc(e,o,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(r),t.memoizedState=Fa,e):La(t,l));if(null!==(i=e.memoizedState)&&null!==(n=i.dehydrated))return function(e,t,r,n,o,i,a){if(r)return 256&t.flags?(t.flags&=-257,qa(e,t,a,n=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=n.fallback,o=t.mode,n=Mc({mode:"visible",children:n.children},o,0,null),(i=Fc(i,o,a,null)).flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,1&t.mode&&Ji(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=Fa,i);if(!(1&t.mode))return qa(e,t,a,null);if("$!"===o.data){if(n=o.nextSibling&&o.nextSibling.dataset)var l=n.dgst;return n=l,qa(e,t,a,n=ha(i=Error(s(419)),n,void 0))}if(l=!!(a&e.childLanes),_a||l){if(null!==(n=Dl)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=o&(n.suspendedLanes|a)?0:o)&&o!==i.retryLane&&(i.retryLane=o,Di(e,o),oc(n,e,o,-1))}return vc(),qa(e,t,a,n=ha(Error(s(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,ii=uo(o.nextSibling),oi=t,si=!0,ai=null,null!==e&&(Qo[Xo++]=Jo,Qo[Xo++]=Zo,Qo[Xo++]=Yo,Jo=e.id,Zo=e.overflow,Yo=t),(t=La(t,n.children)).flags|=4096,t)}(e,t,l,o,n,i,r);if(a){a=o.fallback,l=t.mode,n=(i=e.child).sibling;var c={mode:"hidden",children:o.children};return 1&l||t.child===i?(o=Oc(i,c)).subtreeFlags=14680064&i.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null),null!==n?a=Oc(n,a):(a=Fc(a,l,r,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=Fa,o}return e=(a=e.child).sibling,o=Oc(a,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=r),o.return=t,o.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function La(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function qa(e,t,r,n){return null!==n&&mi(n),Ji(t,e.child,null,r),(e=La(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ei(e.return,t,r)}function Va(e,t,r,n,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=o)}function Ha(e,t,r){var n=t.pendingProps,o=n.revealOrder,i=n.tail;if(ka(e,t,n.children,r),2&(n=cs.current))n=1&n|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,r,t);else if(19===e.tag)Ua(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Io(cs,n),1&t.mode)switch(o){case"forwards":for(r=t.child,o=null;null!==r;)null!==(e=r.alternate)&&null===us(e)&&(o=r),r=r.sibling;null===(r=o)?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),Va(t,!1,o,r,i);break;case"backwards":for(r=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===us(e)){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Va(t,!0,r,null,i);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Wa(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $a(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,!(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Oc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Oc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Ka(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;null!==o;)r|=o.lanes|o.childLanes,n|=14680064&o.subtreeFlags,n|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Qa(e,t,r){var n=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Bo(t.type)&&Oo(),Ga(t),null;case 3:return n=t.stateNode,ss(),To(Do),To(Ro),hs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(fi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ai&&(lc(ai),ai=null))),Ba(e,t),Ga(t),null;case 5:ls(t);var o=os(ns.current);if(r=t.type,null!==e&&null!=t.stateNode)Oa(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return Ga(t),null}if(e=os(ts.current),fi(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[po]=t,n[go]=i,e=!!(1&t.mode),r){case"dialog":Ln("cancel",n),Ln("close",n);break;case"iframe":case"object":case"embed":Ln("load",n);break;case"video":case"audio":for(o=0;o<An.length;o++)Ln(An[o],n);break;case"source":Ln("error",n);break;case"img":case"image":case"link":Ln("error",n),Ln("load",n);break;case"details":Ln("toggle",n);break;case"input":Y(n,i),Ln("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ln("invalid",n);break;case"textarea":ie(n,i),Ln("invalid",n)}for(var a in ye(r,i),o=null,i)if(i.hasOwnProperty(a)){var c=i[a];"children"===a?"string"==typeof c?n.textContent!==c&&(!0!==i.suppressHydrationWarning&&Zn(n.textContent,c,e),o=["children",c]):"number"==typeof c&&n.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Zn(n.textContent,c,e),o=["children",""+c]):l.hasOwnProperty(a)&&null!=c&&"onScroll"===a&&Ln("scroll",n)}switch(r){case"input":K(n),ee(n,i,!0);break;case"textarea":K(n),ae(n);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(n.onclick=eo)}n=o,t.updateQueue=n,null!==n&&(t.flags|=4)}else{a=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),"select"===r&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[po]=t,e[go]=n,za(e,t,!1,!1),t.stateNode=e;e:{switch(a=we(r,n),r){case"dialog":Ln("cancel",e),Ln("close",e),o=n;break;case"iframe":case"object":case"embed":Ln("load",e),o=n;break;case"video":case"audio":for(o=0;o<An.length;o++)Ln(An[o],e);o=n;break;case"source":Ln("error",e),o=n;break;case"img":case"image":case"link":Ln("error",e),Ln("load",e),o=n;break;case"details":Ln("toggle",e),o=n;break;case"input":Y(e,n),o=X(e,n),Ln("invalid",e);break;case"option":default:o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=M({},n,{value:void 0}),Ln("invalid",e);break;case"textarea":ie(e,n),o=oe(e,n),Ln("invalid",e)}for(i in ye(r,o),c=o)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ve(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===i?"string"==typeof u?("textarea"!==r||""!==u)&&fe(e,u):"number"==typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Ln("scroll",e):null!=u&&w(e,i,u,a))}switch(r){case"input":K(e),ee(e,n,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=n.value&&e.setAttribute("value",""+W(n.value));break;case"select":e.multiple=!!n.multiple,null!=(i=n.value)?ne(e,!!n.multiple,i,!1):null!=n.defaultValue&&ne(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=eo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Aa(e,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(s(166));if(r=os(ns.current),os(ts.current),fi(t)){if(n=t.stateNode,r=t.memoizedProps,n[po]=t,(i=n.nodeValue!==r)&&null!==(e=oi))switch(e.tag){case 3:Zn(n.nodeValue,r,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zn(n.nodeValue,r,!!(1&e.mode))}i&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[po]=t,t.stateNode=n}return Ga(t),null;case 13:if(To(cs),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ii&&1&t.mode&&!(128&t.flags))pi(),gi(),t.flags|=98560,i=!1;else if(i=fi(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[po]=t}else gi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),i=!1}else null!==ai&&(lc(ai),ai=null),i=!0;if(!i)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=r,t):((n=null!==n)!=(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,1&t.mode&&(null===e||1&cs.current?0===Al&&(Al=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return ss(),Ba(e,t),null===e&&Vn(t.stateNode.containerInfo),Ga(t),null;case 10:return Si(t.type._context),Ga(t),null;case 19:if(To(cs),null===(i=t.memoizedState))return Ga(t),null;if(n=!!(128&t.flags),null===(a=i.rendering))if(n)Ka(i,!1);else{if(0!==Al||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=us(e))){for(t.flags|=128,Ka(i,!1),null!==(n=a.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(i=r).flags&=14680066,null===(a=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Io(cs,1&cs.current|2),t.child}e=e.sibling}null!==i.tail&&Je()>Hl&&(t.flags|=128,n=!0,Ka(i,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=us(a))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Ka(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!si)return Ga(t),null}else 2*Je()-i.renderingStartTime>Hl&&1073741824!==r&&(t.flags|=128,n=!0,Ka(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(r=i.last)?r.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,r=cs.current,Io(cs,n?1&r|2:1&r),t):(Ga(t),null);case 22:case 23:return fc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&1&t.mode?!!(1073741824&Bl)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Xa(e,t){switch(ni(t),t.tag){case 1:return Bo(t.type)&&Oo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ss(),To(Do),To(Ro),hs(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ls(t),null;case 13:if(To(cs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));gi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return To(cs),null;case 4:return ss(),null;case 10:return Si(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}za=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ba=function(){},Oa=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,os(ts.current);var i,s=null;switch(r){case"input":o=X(e,o),n=X(e,n),s=[];break;case"select":o=M({},o,{value:void 0}),n=M({},n,{value:void 0}),s=[];break;case"textarea":o=oe(e,o),n=oe(e,n),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof n.onClick&&(e.onclick=eo)}for(u in ye(r,n),r=null,o)if(!n.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var a=o[u];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(l.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(a=null!=o?o[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(null!=c||null!=a))if("style"===u)if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,a=a?a.__html:void 0,null!=c&&a!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(l.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ln("scroll",e),s||a===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Aa=function(e,t,r,n){r!==n&&(t.flags|=4)};var Ya=!1,Ja=!1,Za="function"==typeof WeakSet?WeakSet:Set,el=null;function tl(e,t){var r=e.ref;if(null!==r)if("function"==typeof r)try{r(null)}catch(r){Cc(e,t,r)}else r.current=null}function rl(e,t,r){try{r()}catch(r){Cc(e,t,r)}}var nl=!1;function ol(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var o=n=n.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&rl(t,r,i)}o=o.next}while(o!==n)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function sl(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"==typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[po],delete t[go],delete t[vo],delete t[bo],delete t[yo]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ll(e){return 5===e.tag||3===e.tag||4===e.tag}function cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ll(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!=(r=r._reactRootContainer)||null!==t.onclick||(t.onclick=eo));else if(4!==n&&null!==(e=e.child))for(ul(e,t,r),e=e.sibling;null!==e;)ul(e,t,r),e=e.sibling}function dl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(dl(e,t,r),e=e.sibling;null!==e;)dl(e,t,r),e=e.sibling}var hl=null,fl=!1;function pl(e,t,r){for(r=r.child;null!==r;)gl(e,t,r),r=r.sibling}function gl(e,t,r){if(st&&"function"==typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,r)}catch(e){}switch(r.tag){case 5:Ja||tl(r,t);case 6:var n=hl,o=fl;hl=null,pl(e,t,r),fl=o,null!==(hl=n)&&(fl?(e=hl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):hl.removeChild(r.stateNode));break;case 18:null!==hl&&(fl?(e=hl,r=r.stateNode,8===e.nodeType?co(e.parentNode,r):1===e.nodeType&&co(e,r),Vt(e)):co(hl,r.stateNode));break;case 4:n=hl,o=fl,hl=r.stateNode.containerInfo,fl=!0,pl(e,t,r),hl=n,fl=o;break;case 0:case 11:case 14:case 15:if(!Ja&&null!==(n=r.updateQueue)&&null!==(n=n.lastEffect)){o=n=n.next;do{var i=o,s=i.destroy;i=i.tag,void 0!==s&&(2&i||4&i)&&rl(r,t,s),o=o.next}while(o!==n)}pl(e,t,r);break;case 1:if(!Ja&&(tl(r,t),"function"==typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(e){Cc(r,t,e)}pl(e,t,r);break;case 21:pl(e,t,r);break;case 22:1&r.mode?(Ja=(n=Ja)||null!==r.memoizedState,pl(e,t,r),Ja=n):pl(e,t,r);break;default:pl(e,t,r)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Za),t.forEach((function(t){var n=Rc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function vl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var o=r[n];try{var i=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,fl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));gl(i,a,o),hl=null,fl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(e){Cc(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)bl(t,e),t=t.sibling}function bl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),yl(e),4&n){try{ol(3,e,e.return),il(3,e)}catch(t){Cc(e,e.return,t)}try{ol(5,e,e.return)}catch(t){Cc(e,e.return,t)}}break;case 1:vl(t,e),yl(e),512&n&&null!==r&&tl(r,r.return);break;case 5:if(vl(t,e),yl(e),512&n&&null!==r&&tl(r,r.return),32&e.flags){var o=e.stateNode;try{fe(o,"")}catch(t){Cc(e,e.return,t)}}if(4&n&&null!=(o=e.stateNode)){var i=e.memoizedProps,a=null!==r?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&J(o,i),we(l,a);var u=we(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ve(o,h):"dangerouslySetInnerHTML"===d?he(o,h):"children"===d?fe(o,h):w(o,d,h,u)}switch(l){case"input":Z(o,i);break;case"textarea":se(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(o,!!i.multiple,p,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(o,!!i.multiple,i.defaultValue,!0):ne(o,!!i.multiple,i.multiple?[]:"",!1))}o[go]=i}catch(t){Cc(e,e.return,t)}}break;case 6:if(vl(t,e),yl(e),4&n){if(null===e.stateNode)throw Error(s(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(t){Cc(e,e.return,t)}}break;case 3:if(vl(t,e),yl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(t){Cc(e,e.return,t)}break;case 4:default:vl(t,e),yl(e);break;case 13:vl(t,e),yl(e),8192&(o=e.child).flags&&(i=null!==o.memoizedState,o.stateNode.isHidden=i,!i||null!==o.alternate&&null!==o.alternate.memoizedState||(Vl=Je())),4&n&&ml(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Ja=(u=Ja)||d,vl(t,e),Ja=u):vl(t,e),yl(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&1&e.mode)for(el=e,d=e.child;null!==d;){for(h=el=d;null!==el;){switch(p=(f=el).child,f.tag){case 0:case 11:case 14:case 15:ol(4,f,f.return);break;case 1:tl(f,f.return);var g=f.stateNode;if("function"==typeof g.componentWillUnmount){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(e){Cc(n,r,e)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,el=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"==typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,a=null!=(c=h.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(t){Cc(e,e.return,t)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(t){Cc(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vl(t,e),yl(e),4&n&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(ll(r)){var n=r;break e}r=r.return}throw Error(s(160))}switch(n.tag){case 5:var o=n.stateNode;32&n.flags&&(fe(o,""),n.flags&=-33),dl(e,cl(e),o);break;case 3:case 4:var i=n.stateNode.containerInfo;ul(e,cl(e),i);break;default:throw Error(s(161))}}catch(t){Cc(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,r){el=e,_l(e,t,r)}function _l(e,t,r){for(var n=!!(1&e.mode);null!==el;){var o=el,i=o.child;if(22===o.tag&&n){var s=null!==o.memoizedState||Ya;if(!s){var a=o.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=Ya;var c=Ja;if(Ya=s,(Ja=l)&&!c)for(el=o;null!==el;)l=(s=el).child,22===s.tag&&null!==s.memoizedState?Sl(o):null!==l?(l.return=s,el=l):Sl(o);for(;null!==i;)el=i,_l(i,t,r),i=i.sibling;el=o,Ya=a,Ja=c}kl(e)}else 8772&o.subtreeFlags&&null!==i?(i.return=o,el=i):kl(e)}}function kl(e){for(;null!==el;){var t=el;if(8772&t.flags){var r=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Ja||il(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Ja)if(null===r)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:bi(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Li(t,i,n);break;case 3:var a=t.updateQueue;if(null!==a){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Li(t,a,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(s(163))}Ja||512&t.flags&&sl(t)}catch(e){Cc(t,t.return,e)}}if(t===e){el=null;break}if(null!==(r=t.sibling)){r.return=t.return,el=r;break}el=t.return}}function xl(e){for(;null!==el;){var t=el;if(t===e){el=null;break}var r=t.sibling;if(null!==r){r.return=t.return,el=r;break}el=t.return}}function Sl(e){for(;null!==el;){var t=el;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{il(4,t)}catch(e){Cc(t,r,e)}break;case 1:var n=t.stateNode;if("function"==typeof n.componentDidMount){var o=t.return;try{n.componentDidMount()}catch(e){Cc(t,o,e)}}var i=t.return;try{sl(t)}catch(e){Cc(t,i,e)}break;case 5:var s=t.return;try{sl(t)}catch(e){Cc(t,s,e)}}}catch(e){Cc(t,t.return,e)}if(t===e){el=null;break}var a=t.sibling;if(null!==a){a.return=t.return,el=a;break}el=t.return}}var El,Cl=Math.ceil,Tl=_.ReactCurrentDispatcher,Il=_.ReactCurrentOwner,Nl=_.ReactCurrentBatchConfig,Rl=0,Dl=null,Pl=null,zl=0,Bl=0,Ol=Co(0),Al=0,Fl=null,Ml=0,jl=0,Ll=0,ql=null,Ul=null,Vl=0,Hl=1/0,Wl=null,$l=!1,Kl=null,Gl=null,Ql=!1,Xl=null,Yl=0,Jl=0,Zl=null,ec=-1,tc=0;function rc(){return 6&Rl?Je():-1!==ec?ec:ec=Je()}function nc(e){return 1&e.mode?2&Rl&&0!==zl?zl&-zl:null!==vi.transition?(0===tc&&(tc=mt()),tc):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Yt(e.type):1}function oc(e,t,r,n){if(50<Jl)throw Jl=0,Zl=null,Error(s(185));bt(e,r,n),2&Rl&&e===Dl||(e===Dl&&(!(2&Rl)&&(jl|=r),4===Al&&cc(e,zl)),ic(e,n),1===r&&0===Rl&&!(1&t.mode)&&(Hl=Je()+500,qo&&Ho()))}function ic(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-at(i),a=1<<s,l=o[s];-1===l?a&r&&!(a&n)||(o[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var n=ft(e,e===Dl?zl:0);if(0===n)null!==r&&Qe(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Qe(r),1===t)0===e.tag?function(e){qo=!0,Vo(e)}(uc.bind(null,e)):Vo(uc.bind(null,e)),ao((function(){!(6&Rl)&&Ho()})),r=null;else{switch(_t(n)){case 1:r=et;break;case 4:r=tt;break;case 16:default:r=rt;break;case 536870912:r=ot}r=Dc(r,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sc(e,t){if(ec=-1,tc=0,6&Rl)throw Error(s(327));var r=e.callbackNode;if(Sc()&&e.callbackNode!==r)return null;var n=ft(e,e===Dl?zl:0);if(0===n)return null;if(30&n||n&e.expiredLanes||t)t=bc(e,n);else{t=n;var o=Rl;Rl|=2;var i=mc();for(Dl===e&&zl===t||(Wl=null,Hl=Je()+500,pc(e,t));;)try{wc();break}catch(t){gc(e,t)}xi(),Tl.current=i,Rl=o,null!==Pl?t=0:(Dl=null,zl=0,t=Al)}if(0!==t){if(2===t&&0!==(o=gt(e))&&(n=o,t=ac(e,o)),1===t)throw r=Fl,pc(e,0),cc(e,n),ic(e,Je()),r;if(6===t)cc(e,n);else{if(o=e.current.alternate,!(30&n||function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var o=r[n],i=o.getSnapshot;o=o.value;try{if(!ln(i(),o))return!1}catch(e){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=bc(e,n),2===t&&(i=gt(e),0!==i&&(n=i,t=ac(e,i))),1!==t)))throw r=Fl,pc(e,0),cc(e,n),ic(e,Je()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:xc(e,Ul,Wl);break;case 3:if(cc(e,n),(130023424&n)===n&&10<(t=Vl+500-Je())){if(0!==ft(e,0))break;if(((o=e.suspendedLanes)&n)!==n){rc(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=oo(xc.bind(null,e,Ul,Wl),t);break}xc(e,Ul,Wl);break;case 4:if(cc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,o=-1;0<n;){var a=31-at(n);i=1<<a,(a=t[a])>o&&(o=a),n&=~i}if(n=o,10<(n=(120>(n=Je()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cl(n/1960))-n)){e.timeoutHandle=oo(xc.bind(null,e,Ul,Wl),n);break}xc(e,Ul,Wl);break;default:throw Error(s(329))}}}return ic(e,Je()),e.callbackNode===r?sc.bind(null,e):null}function ac(e,t){var r=ql;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=bc(e,t))&&(t=Ul,Ul=r,null!==t&&lc(t)),e}function lc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function cc(e,t){for(t&=~Ll,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-at(t),n=1<<r;e[r]=-1,t&=~n}}function uc(e){if(6&Rl)throw Error(s(327));Sc();var t=ft(e,0);if(!(1&t))return ic(e,Je()),null;var r=bc(e,t);if(0!==e.tag&&2===r){var n=gt(e);0!==n&&(t=n,r=ac(e,n))}if(1===r)throw r=Fl,pc(e,0),cc(e,t),ic(e,Je()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Ul,Wl),ic(e,Je()),null}function dc(e,t){var r=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=r)&&(Hl=Je()+500,qo&&Ho())}}function hc(e){null!==Xl&&0===Xl.tag&&!(6&Rl)&&Sc();var t=Rl;Rl|=1;var r=Nl.transition,n=wt;try{if(Nl.transition=null,wt=1,e)return e()}finally{wt=n,Nl.transition=r,!(6&(Rl=t))&&Ho()}}function fc(){Bl=Ol.current,To(Ol)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,io(r)),null!==Pl)for(r=Pl.return;null!==r;){var n=r;switch(ni(n),n.tag){case 1:null!=(n=n.type.childContextTypes)&&Oo();break;case 3:ss(),To(Do),To(Ro),hs();break;case 5:ls(n);break;case 4:ss();break;case 13:case 19:To(cs);break;case 10:Si(n.type._context);break;case 22:case 23:fc()}r=r.return}if(Dl=e,Pl=e=Oc(e.current,null),zl=Bl=t,Al=0,Fl=null,Ll=jl=Ml=0,Ul=ql=null,null!==Ii){for(t=0;t<Ii.length;t++)if(null!==(n=(r=Ii[t]).interleaved)){r.interleaved=null;var o=n.next,i=r.pending;if(null!==i){var s=i.next;i.next=o,n.next=s}r.pending=n}Ii=null}return e}function gc(e,t){for(;;){var r=Pl;try{if(xi(),fs.current=aa,ys){for(var n=ms.memoizedState;null!==n;){var o=n.queue;null!==o&&(o.pending=null),n=n.next}ys=!1}if(gs=0,bs=vs=ms=null,ws=!1,_s=0,Il.current=null,null===r||null===r.return){Al=1,Fl=t,Pl=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=zl,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=l,h=d.tag;if(!(1&d.mode||0!==h&&11!==h&&15!==h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ba(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&va(i,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(!(1&t)){va(i,u,t),vc();break e}c=Error(s(426))}else if(si&&1&l.mode){var v=ba(a);if(null!==v){!(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),mi(da(c,l));break e}}i=c=da(c,l),4!==Al&&(Al=2),null===ql?ql=[i]:ql.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Mi(i,ga(0,c,t));break e;case 1:l=c;var b=i.type,y=i.stateNode;if(!(128&i.flags||"function"!=typeof b.getDerivedStateFromError&&(null===y||"function"!=typeof y.componentDidCatch||null!==Gl&&Gl.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,Mi(i,ma(i,l,t));break e}}i=i.return}while(null!==i)}kc(r)}catch(e){t=e,Pl===r&&null!==r&&(Pl=r=r.return);continue}break}}function mc(){var e=Tl.current;return Tl.current=aa,null===e?aa:e}function vc(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===Dl||!(268435455&Ml)&&!(268435455&jl)||cc(Dl,zl)}function bc(e,t){var r=Rl;Rl|=2;var n=mc();for(Dl===e&&zl===t||(Wl=null,pc(e,t));;)try{yc();break}catch(t){gc(e,t)}if(xi(),Rl=r,Tl.current=n,null!==Pl)throw Error(s(261));return Dl=null,zl=0,Al}function yc(){for(;null!==Pl;)_c(Pl)}function wc(){for(;null!==Pl&&!Xe();)_c(Pl)}function _c(e){var t=El(e.alternate,e,Bl);e.memoizedProps=e.pendingProps,null===t?kc(e):Pl=t,Il.current=null}function kc(e){var t=e;do{var r=t.alternate;if(e=t.return,32768&t.flags){if(null!==(r=Xa(r,t)))return r.flags&=32767,void(Pl=r);if(null===e)return Al=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(r=Qa(r,t,Bl)))return void(Pl=r);if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Al&&(Al=5)}function xc(e,t,r){var n=wt,o=Nl.transition;try{Nl.transition=null,wt=1,function(e,t,r,n){do{Sc()}while(null!==Xl);if(6&Rl)throw Error(s(327));r=e.finishedWork;var o=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-at(r),i=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~i}}(e,i),e===Dl&&(Pl=Dl=null,zl=0),!(2064&r.subtreeFlags)&&!(2064&r.flags)||Ql||(Ql=!0,Dc(rt,(function(){return Sc(),null}))),i=!!(15990&r.flags),15990&r.subtreeFlags||i){i=Nl.transition,Nl.transition=null;var a=wt;wt=1;var l=Rl;Rl|=4,Il.current=null,function(e,t){if(to=Wt,pn(e=fn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var o=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch(e){r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==o&&3!==h.nodeType||(l=a+o),h!==i||0!==n&&3!==h.nodeType||(c=a+n),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===o&&(l=a),f===i&&++d===n&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ro={focusedElem:e,selectionRange:r},Wt=!1,el=t;null!==el;)if(e=(t=el).child,1028&t.subtreeFlags&&null!==e)e.return=t,el=e;else for(;null!==el;){t=el;try{var g=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:bi(t.type,m),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(e){Cc(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,el=e;break}el=t.return}g=nl,nl=!1}(e,r),bl(r,e),gn(ro),Wt=!!to,ro=to=null,e.current=r,wl(r,e,o),Ye(),Rl=l,wt=a,Nl.transition=i}else e.current=r;if(Ql&&(Ql=!1,Xl=e,Yl=o),0===(i=e.pendingLanes)&&(Gl=null),function(e){if(st&&"function"==typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,!(128&~e.current.flags))}catch(e){}}(r.stateNode),ic(e,Je()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n((o=t[r]).value,{componentStack:o.stack,digest:o.digest});if($l)throw $l=!1,e=Kl,Kl=null,e;!!(1&Yl)&&0!==e.tag&&Sc(),1&(i=e.pendingLanes)?e===Zl?Jl++:(Jl=0,Zl=e):Jl=0,Ho()}(e,t,r,n)}finally{Nl.transition=o,wt=n}return null}function Sc(){if(null!==Xl){var e=_t(Yl),t=Nl.transition,r=wt;try{if(Nl.transition=null,wt=16>e?16:e,null===Xl)var n=!1;else{if(e=Xl,Xl=null,Yl=0,6&Rl)throw Error(s(331));var o=Rl;for(Rl|=4,el=e.current;null!==el;){var i=el,a=i.child;if(16&el.flags){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(el=u;null!==el;){var d=el;switch(d.tag){case 0:case 11:case 15:ol(8,d,i)}var h=d.child;if(null!==h)h.return=d,el=h;else for(;null!==el;){var f=(d=el).sibling,p=d.return;if(al(d),d===u){el=null;break}if(null!==f){f.return=p,el=f;break}el=p}}}var g=i.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}el=i}}if(2064&i.subtreeFlags&&null!==a)a.return=i,el=a;else e:for(;null!==el;){if(2048&(i=el).flags)switch(i.tag){case 0:case 11:case 15:ol(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,el=b;break e}el=i.return}}var y=e.current;for(el=y;null!==el;){var w=(a=el).child;if(2064&a.subtreeFlags&&null!==w)w.return=a,el=w;else e:for(a=y;null!==el;){if(2048&(l=el).flags)try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(e){Cc(l,l.return,e)}if(l===a){el=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,el=_;break e}el=l.return}}if(Rl=o,Ho(),st&&"function"==typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(e){}n=!0}return n}finally{wt=r,Nl.transition=t}}return!1}function Ec(e,t,r){e=Ai(e,t=ga(0,t=da(r,t),1),1),t=rc(),null!==e&&(bt(e,1,t),ic(e,t))}function Cc(e,t,r){if(3===e.tag)Ec(e,e,r);else for(;null!==t;){if(3===t.tag){Ec(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Gl||!Gl.has(n))){t=Ai(t,e=ma(t,e=da(r,e),1),1),e=rc(),null!==t&&(bt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=rc(),e.pingedLanes|=e.suspendedLanes&r,Dl===e&&(zl&r)===r&&(4===Al||3===Al&&(130023424&zl)===zl&&500>Je()-Vl?pc(e,0):Ll|=r),ic(e,t)}function Ic(e,t){0===t&&(1&e.mode?(t=dt,!(130023424&(dt<<=1))&&(dt=4194304)):t=1);var r=rc();null!==(e=Di(e,t))&&(bt(e,t,r),ic(e,r))}function Nc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Ic(e,r)}function Rc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;null!==o&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),Ic(e,r)}function Dc(e,t){return Ge(e,t)}function Pc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zc(e,t,r,n){return new Pc(e,t,r,n)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var r=e.alternate;return null===r?((r=zc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ac(e,t,r,n,o,i){var a=2;if(n=e,"function"==typeof e)Bc(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case S:return Fc(r.children,o,i,t);case E:a=8,o|=8;break;case C:return(e=zc(12,r,t,2|o)).elementType=C,e.lanes=i,e;case R:return(e=zc(13,r,t,o)).elementType=R,e.lanes=i,e;case D:return(e=zc(19,r,t,o)).elementType=D,e.lanes=i,e;case B:return Mc(r,o,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case I:a=9;break e;case N:a=11;break e;case P:a=14;break e;case z:a=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=zc(a,r,t,o)).elementType=e,t.type=n,t.lanes=i,t}function Fc(e,t,r,n){return(e=zc(7,e,n,t)).lanes=r,e}function Mc(e,t,r,n){return(e=zc(22,e,n,t)).elementType=B,e.lanes=r,e.stateNode={isHidden:!1},e}function jc(e,t,r){return(e=zc(6,e,null,t)).lanes=r,e}function Lc(e,t,r){return(t=zc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qc(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Uc(e,t,r,n,o,i,s,a,l){return e=new qc(e,t,r,a,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=zc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zi(i),e}function Vc(e){if(!e)return No;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(Bo(r))return Fo(e,r,t)}return t}function Hc(e,t,r,n,o,i,s,a,l){return(e=Uc(r,n,!0,e,0,i,0,a,l)).context=Vc(null),r=e.current,(i=Oi(n=rc(),o=nc(r))).callback=null!=t?t:null,Ai(r,i,o),e.current.lanes=o,bt(e,o,n),ic(e,n),e}function Wc(e,t,r,n){var o=t.current,i=rc(),s=nc(o);return r=Vc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Oi(i,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Ai(o,t,s))&&(oc(e,o,s,i),Fi(e,o,s)),s}function $c(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}El=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Do.current)_a=!0;else{if(!(e.lanes&r||128&t.flags))return _a=!1,function(e,t,r){switch(t.tag){case 3:Da(t),gi();break;case 5:as(t);break;case 1:Bo(t.type)&&Mo(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;Io(yi,n._currentValue),n._currentValue=o;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Io(cs,1&cs.current),t.flags|=128,null):r&t.child.childLanes?ja(e,t,r):(Io(cs,1&cs.current),null!==(e=$a(e,t,r))?e.sibling:null);Io(cs,1&cs.current);break;case 19:if(n=!!(r&t.childLanes),128&e.flags){if(n)return Ha(e,t,r);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Io(cs,cs.current),n)break;return null;case 22:case 23:return t.lanes=0,Ca(e,t,r)}return $a(e,t,r)}(e,t,r);_a=!!(131072&e.flags)}else _a=!1,si&&1048576&t.flags&&ti(t,Go,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Wa(e,t),e=t.pendingProps;var o=zo(t,Ro.current);Ci(t,r),o=Es(null,t,n,e,o,r);var i=Cs();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bo(n)?(i=!0,Mo(t)):i=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,zi(t),o.updater=Vi,t.stateNode=o,o._reactInternals=t,Ki(t,n,e,r),t=Ra(null,t,n,!0,i,r)):(t.tag=0,si&&i&&ri(t),ka(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,n=(o=n._init)(n._payload),t.type=n,o=t.tag=function(e){if("function"==typeof e)return Bc(e)?1:0;if(null!=e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(n),e=bi(n,e),o){case 0:t=Ia(null,t,n,e,r);break e;case 1:t=Na(null,t,n,e,r);break e;case 11:t=xa(null,t,n,e,r);break e;case 14:t=Sa(null,t,n,bi(n.type,e),r);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,Ia(e,t,n,o=t.elementType===n?o:bi(n,o),r);case 1:return n=t.type,o=t.pendingProps,Na(e,t,n,o=t.elementType===n?o:bi(n,o),r);case 3:e:{if(Da(t),null===e)throw Error(s(387));n=t.pendingProps,o=(i=t.memoizedState).element,Bi(e,t),ji(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Pa(e,t,n,r,o=da(Error(s(423)),t));break e}if(n!==o){t=Pa(e,t,n,r,o=da(Error(s(424)),t));break e}for(ii=uo(t.stateNode.containerInfo.firstChild),oi=t,si=!0,ai=null,r=Zi(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(gi(),n===o){t=$a(e,t,r);break e}ka(e,t,n,r)}t=t.child}return t;case 5:return as(t),null===e&&di(t),n=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,a=o.children,no(n,o)?a=null:null!==i&&no(n,i)&&(t.flags|=32),Ta(e,t),ka(e,t,a,r),t.child;case 6:return null===e&&di(t),null;case 13:return ja(e,t,r);case 4:return is(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Ji(t,null,n,r):ka(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,xa(e,t,n,o=t.elementType===n?o:bi(n,o),r);case 7:return ka(e,t,t.pendingProps,r),t.child;case 8:case 12:return ka(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,i=t.memoizedProps,a=o.value,Io(yi,n._currentValue),n._currentValue=a,null!==i)if(ln(i.value,a)){if(i.children===o.children&&!Do.current){t=$a(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){a=i.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===i.tag){(c=Oi(-1,r&-r)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,null!==(c=i.alternate)&&(c.lanes|=r),Ei(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===i.tag)a=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(a=i.return))throw Error(s(341));a.lanes|=r,null!==(l=a.alternate)&&(l.lanes|=r),Ei(a,r,t),a=i.sibling}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===t){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}ka(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Ci(t,r),n=n(o=Ti(o)),t.flags|=1,ka(e,t,n,r),t.child;case 14:return o=bi(n=t.type,t.pendingProps),Sa(e,t,n,o=bi(n.type,o),r);case 15:return Ea(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:bi(n,o),Wa(e,t),t.tag=1,Bo(n)?(e=!0,Mo(t)):e=!1,Ci(t,r),Wi(t,n,o),Ki(t,n,o,r),Ra(null,t,n,!0,e,r);case 19:return Ha(e,t,r);case 22:return Ca(e,t,r)}throw Error(s(156,t.tag))};var Qc="function"==typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function eu(){}function tu(e,t,r,n,o){var i=r._reactRootContainer;if(i){var s=i;if("function"==typeof o){var a=o;o=function(){var e=$c(s);a.call(e)}}Wc(t,s,e,o)}else s=function(e,t,r,n,o){if(o){if("function"==typeof n){var i=n;n=function(){var e=$c(s);i.call(e)}}var s=Hc(t,n,e,0,null,!1,0,"",eu);return e._reactRootContainer=s,e[mo]=s.current,Vn(8===e.nodeType?e.parentNode:e),hc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof n){var a=n;n=function(){var e=$c(l);a.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",eu);return e._reactRootContainer=l,e[mo]=l.current,Vn(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,l,r,n)})),l}(r,t,e,o,n);return $c(s)}Yc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Yc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[mo]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Bt.length&&0!==t&&t<Bt[r].priority;r++);Bt.splice(r,0,e),0===r&&Mt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ht(t.pendingLanes);0!==r&&(yt(t,1|r),ic(t,Je()),!(6&Rl)&&(Hl=Je()+500,Ho()))}break;case 13:hc((function(){var t=Di(e,1);if(null!==t){var r=rc();oc(t,e,1,r)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Di(e,134217728);null!==t&&oc(t,e,134217728,rc()),Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),r=Di(e,t);null!==r&&oc(r,e,t,rc()),Gc(e,t)}},Et=function(){return wt},Ct=function(e,t){var r=wt;try{return wt=e,t()}finally{wt=r}},xe=function(e,t,r){switch(t){case"input":if(Z(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=xo(n);if(!o)throw Error(s(90));G(n),Z(n,o)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&ne(e,!!r.multiple,t,!1)}},Ne=dc,Re=hc;var ru={usingClientEntryPoint:!1,Events:[_o,ko,xo,Te,Ie,dc]},nu={findFiberByHostInstance:wo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ou={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ou),st=iu}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ru,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var r=!1,n="",o=Qc;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Uc(e,1,!1,null,0,r,0,n,o),e[mo]=t.current,Vn(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,r){if(!Zc(t))throw Error(s(200));return tu(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Jc(e))throw Error(s(405));var n=null!=r&&r.hydratedSources||null,o=!1,i="",a=Qc;if(null!=r&&(!0===r.unstable_strictMode&&(o=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onRecoverableError&&(a=r.onRecoverableError)),t=Hc(t,null,e,1,null!=r?r:null,o,0,i,a),e[mo]=t.current,Vn(e),n)for(e=0;e<n.length;e++)o=(o=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new Yc(t)},t.render=function(e,t,r){if(!Zc(t))throw Error(s(200));return tu(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){tu(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Zc(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return tu(e,t,r,!1,n)},t.version="18.2.0-next-9e3b772b8-20220608"},5338:function(e,t,r){"use strict";var n=r(40961);t.H=n.createRoot,n.hydrateRoot},40961:function(e,t,r){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=r(22551)},21020:function(e,t,r){"use strict";var n=r(96540),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,i={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:a.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},15287:function(e,t){"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}function b(){}function y(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var w=y.prototype=new b;w.constructor=y,g(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,k=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var o,i={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)k.call(t,o)&&!S.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:r,type:e,key:s,ref:a,props:i,_owner:x.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var T=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,o,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return s=s(l=e),e=""===i?"."+I(l,0):i,_(s)?(o="",null!=e&&(o=e.replace(T,"$&/")+"/"),N(s,t,o,"",(function(e){return e}))):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",_(e))for(var c=0;c<e.length;c++){var u=i+I(a=e[c],c);l+=N(a,t,o,u,s)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,o,u=i+I(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,r){if(null==e)return e;var n=[],o=0;return N(e,n,"","",(function(e){return t.call(r,e,o++)})),n}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},z={transition:null},B={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:z,ReactCurrentOwner:x};t.Children={map:R,forEach:function(e,t,r){R(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=s,t.PureComponent=y,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=g({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=x.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:r,type:e.type,key:i,ref:s,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=z.transition;z.transition={};try{e()}finally{z.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,r){return P.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,r){return P.current.useReducer(e,t,r)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return P.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},96540:function(e,t,r){"use strict";e.exports=r(15287)},74848:function(e,t,r){"use strict";e.exports=r(21020)},7463:function(e,t){"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,o=e[n];if(!(0<i(o,t)))break e;e[n]=t,e[r]=o,r=n}}function n(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,o=e.length,s=o>>>1;n<s;){var a=2*(n+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,r))c<o&&0>i(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[a]=r,n=a);else{if(!(c<o&&0>i(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=n(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,r(c,t)}t=n(u)}}function _(e){if(m=!1,w(e),!g)if(null!==n(c))g=!0,z(k);else{var t=n(u);null!==t&&B(_,t.startTime-e)}}function k(e,r){g=!1,m&&(m=!1,b(C),C=-1),p=!0;var i=f;try{for(w(r),h=n(c);null!==h&&(!(h.expirationTime>r)||e&&!N());){var s=h.callback;if("function"==typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=r);r=t.unstable_now(),"function"==typeof a?h.callback=a:h===n(c)&&o(c),w(r)}else o(c);h=n(c)}if(null!==h)var l=!0;else{var d=n(u);null!==d&&B(_,d.startTime-r),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,C=-1,T=5,I=-1;function N(){return!(t.unstable_now()-I<T)}function R(){if(null!==E){var e=t.unstable_now();I=e;var r=!0;try{r=E(!0,e)}finally{r?x():(S=!1,E=null)}}else S=!1}if("function"==typeof y)x=function(){y(R)};else if("undefined"!=typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=R,x=function(){P.postMessage(null)}}else x=function(){v(R,0)};function z(e){E=e,S||(S=!0,x())}function B(e,r){C=v((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,z(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?s+i:s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,r(u,e),null===n(c)&&e===n(u)&&(m?(b(C),C=-1):m=!0,B(_,i-s))):(e.sortIndex=a,r(c,e),g||p||(g=!0,z(k))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},69982:function(e,t,r){"use strict";e.exports=r(7463)}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}};return r[e].call(i.exports,i,i.exports,o),i.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},o.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var i=Object.create(null);o.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&n&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){s[e]=function(){return r[e]}}));return s.default=function(){return r},o.d(i,s),i},o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=o(96540),t=o.t(e,2);const r=Symbol.for("fui.slotRenderFunction"),n=Symbol.for("fui.slotElementType");function i(e){return Boolean(null==e?void 0:e.hasOwnProperty(n))}function s(e,t){return function(r,o,s,a,l){return i(o)?t(function(e,t){return{...t,[n]:e}}(r,o),null,s,a,l):i(r)?t(r,o,s,a,l):e(r,o,s,a,l)}}function a(e){const{as:t,[n]:o,[r]:i,...s}=e,a=s,l="string"==typeof o&&null!=t?t:o;return"string"!=typeof l&&t&&(a.as=t),{elementType:l,props:a,renderFunction:i}}o(10488);var l=o(74848);const c=o.t(l,2),u=s(c.jsx,((t,r,n)=>{const{elementType:o,renderFunction:i,props:s}=a(t),l={...s,...r};return i?c.jsx(e.Fragment,{children:i(o,l)},n):c.jsx(o,l,n)})),d=s(c.jsxs,((t,r,n)=>{const{elementType:o,renderFunction:i,props:s}=a(t),l={...s,...r};return i?c.jsx(e.Fragment,{children:i(o,{...l,children:c.jsxs(e.Fragment,{children:l.children},void 0)})},n):c.jsxs(o,l,n)}));function h(){return"undefined"!=typeof window&&!(!window.document||!window.document.createElement)}const f=e.createContext("ltr"),p=({children:t,dir:r})=>e.createElement(f.Provider,{value:r},t);function g(){return e.useContext(f)}const m=e.createContext(void 0),v={targetDocument:"object"==typeof document?document:void 0,dir:"ltr"},b=m.Provider;function y(){var t;return null!==(t=e.useContext(m))&&void 0!==t?t:v}const w=e.createContext(void 0),_=w.Provider,k=e.createContext(void 0),x=k.Provider,S=e.createContext(void 0),E=()=>{},C=S.Provider,T=t=>{var r,n;return null!==(n=null===(r=e.useContext(S))||void 0===r?void 0:r[t])&&void 0!==n?n:E},I=e.createContext(void 0).Provider,N=e.createContext(void 0),R=N.Provider;function D(){var t;return null!==(t=e.useContext(N))&&void 0!==t?t:{}}const P=e.createContext(void 0),z={},B=P.Provider,O="undefined"==typeof window?o.g:window,A="@griffel/";function F(e,t){return O[Symbol.for(A+e)]||(O[Symbol.for(A+e)]=t),O[Symbol.for(A+e)]}const M=F("DEFINITION_LOOKUP_TABLE",{}),j="data-make-styles-bucket",L="f",q=7,U="___",V=U.length+q,H={all:1,animation:1,animationRange:1,background:1,backgroundPosition:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockStart:1,borderBottom:1,borderColor:1,borderImage:1,borderInline:1,borderInlineEnd:1,borderInlineStart:1,borderLeft:1,borderRadius:1,borderRight:1,borderStyle:1,borderTop:1,borderWidth:1,caret:1,columns:1,columnRule:1,containIntrinsicSize:1,container:1,flex:1,flexFlow:1,font:1,gap:1,grid:1,gridArea:1,gridColumn:1,gridRow:1,gridTemplate:1,inset:1,insetBlock:1,insetInline:1,lineClamp:1,listStyle:1,margin:1,marginBlock:1,marginInline:1,mask:1,maskBorder:1,motion:1,offset:1,outline:1,overflow:1,overscrollBehavior:1,padding:1,paddingBlock:1,paddingInline:1,placeItems:1,placeContent:1,placeSelf:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginInline:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingInline:1,scrollSnapMargin:1,scrollTimeline:1,textDecoration:1,textEmphasis:1,transition:1,viewTimeline:1};const W=["r","d","l","v","w","f","i","h","a","s","k","t","m","c"].reduce(((e,t,r)=>(e[t]=r,e)),{});function $(e,t,r,n,o={}){const i="m"===e,s=i?e+o.m:e;if(!n.stylesheets[s]){const a=t&&t.createElement("style"),l=function(e,t,r){const n=[];if(r[j]=t,e)for(const t in r)e.setAttribute(t,r[t]);return{elementAttributes:r,insertRule:function(t){return null!=e&&e.sheet?e.sheet.insertRule(t,e.sheet.cssRules.length):n.push(t)},element:e,bucketName:t,cssRules(){return null!=e&&e.sheet?Array.from(e.sheet.cssRules).map((e=>e.cssText)):n}}}(a,e,Object.assign({},n.styleElementAttributes,i&&{media:o.m}));n.stylesheets[s]=l,t&&a&&t.head.insertBefore(a,function(e,t,r,n,o){const i=W[r];let s=e=>i-W[e.getAttribute(j)],a=e.head.querySelectorAll(`[${j}]`);if("m"===r&&o){const t=e.head.querySelectorAll(`[${j}="${r}"]`);t.length&&(a=t,s=e=>n.compareMediaQueries(o.m,e.media))}const l=a.length;let c=l-1;for(;c>=0;){const e=a.item(c);if(s(e)>0)return e.nextSibling;c--}return l>0?a.item(0):t?t.nextSibling:null}(t,r,e,n,o))}return n.stylesheets[s]}function K(e,t){try{e.insertRule(t)}catch(e){}}let G=0;const Q=(e,t)=>e<t?-1:e>t?1:0;function X(e=("undefined"==typeof document?void 0:document),t={}){const{unstable_filterCSSRule:r,insertionPoint:n,styleElementAttributes:o,compareMediaQueries:i=Q}=t,s={insertionCache:{},stylesheets:{},styleElementAttributes:Object.freeze(o),compareMediaQueries:i,id:"d"+G++,insertCSSRules(t){for(const i in t){const a=t[i];for(let t=0,l=a.length;t<l;t++){const[l,c]=(o=a[t],Array.isArray(o)?o:[o]),u=$(i,e,n||null,s,c);s.insertionCache[l]||(s.insertionCache[l]=i,r?r(l)&&K(u,l):K(u,l))}}var o}};return s}const Y=e.createContext(X());function J(){return e.useContext(Y)}function Z(e,t){var r;const n=e;var o;return Boolean((null==n||null===(r=n.ownerDocument)||void 0===r?void 0:r.defaultView)&&n instanceof n.ownerDocument.defaultView[null!==(o=null==t?void 0:t.constructorName)&&void 0!==o?o:"HTMLElement"])}var ee="undefined"!=typeof WeakRef,te=class{constructor(e){ee&&"object"==typeof e?this._weakRef=new WeakRef(e):this._instance=e}deref(){var e,t;let r;return this._weakRef?(r=null==(e=this._weakRef)?void 0:e.deref(),r||delete this._weakRef):(r=this._instance,(null==(t=null==r?void 0:r.isDisposed)?void 0:t.call(r))&&delete this._instance),r}},re="keyborg:focusin",ne="keyborg:focusout",oe=!1;function ie(e){const t=e.focus;t.__keyborgNativeFocus?t.__keyborgNativeFocus.call(e):e.focus()}var se=0,ae=class{constructor(e,t){this._isNavigatingWithKeyboard_DO_NOT_USE=!1,this._onFocusIn=e=>{if(this._isMouseUsedTimer)return;if(this.isNavigatingWithKeyboard)return;const t=e.detail;t.relatedTarget&&(t.isFocusedProgrammatically||void 0===t.isFocusedProgrammatically||(this.isNavigatingWithKeyboard=!0))},this._onMouseDown=e=>{if(0===e.buttons||0===e.clientX&&0===e.clientY&&0===e.screenX&&0===e.screenY)return;const t=this._win;t&&(this._isMouseUsedTimer&&t.clearTimeout(this._isMouseUsedTimer),this._isMouseUsedTimer=t.setTimeout((()=>{delete this._isMouseUsedTimer}),1e3)),this.isNavigatingWithKeyboard=!1},this._onKeyDown=e=>{this.isNavigatingWithKeyboard?this._shouldDismissKeyboardNavigation(e)&&this._scheduleDismiss():this._shouldTriggerKeyboardNavigation(e)&&(this.isNavigatingWithKeyboard=!0)},this.id="c"+ ++se,this._win=e;const r=e.document;if(t){const e=t.triggerKeys,r=t.dismissKeys;(null==e?void 0:e.length)&&(this._triggerKeys=new Set(e)),(null==r?void 0:r.length)&&(this._dismissKeys=new Set(r))}r.addEventListener(re,this._onFocusIn,!0),r.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("keydown",this._onKeyDown,!0),function(e){const t=e;oe||(oe=function(e){const t=e.HTMLElement,r=t.prototype.focus;let n=!1;return t.prototype.focus=function(){n=!0},e.document.createElement("button").focus(),t.prototype.focus=r,n}(t));const r=t.HTMLElement.prototype.focus;if(r.__keyborgNativeFocus)return;t.HTMLElement.prototype.focus=l;const n=new Set,o=e=>{const t=e.target;if(!t)return;const r=new CustomEvent(ne,{cancelable:!0,bubbles:!0,composed:!0,detail:{originalEvent:e}});t.dispatchEvent(r)},i=e=>{const t=e.target;if(!t)return;let r=e.composedPath()[0];const a=new Set;for(;r;)r.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(a.add(r),r=r.host):r=r.parentNode;for(const e of n){const t=e.deref();t&&a.has(t)||(n.delete(e),t&&(t.removeEventListener("focusin",i,!0),t.removeEventListener("focusout",o,!0)))}s(t,e.relatedTarget||void 0)},s=(e,t,r)=>{var s;const l=e.shadowRoot;if(l){for(const e of n)if(e.deref()===l)return;return l.addEventListener("focusin",i,!0),l.addEventListener("focusout",o,!0),void n.add(new te(l))}const c={relatedTarget:t,originalEvent:r},u=new CustomEvent(re,{cancelable:!0,bubbles:!0,composed:!0,detail:c});u.details=c,(oe||a.lastFocusedProgrammatically)&&(c.isFocusedProgrammatically=e===(null==(s=a.lastFocusedProgrammatically)?void 0:s.deref()),a.lastFocusedProgrammatically=void 0),e.dispatchEvent(u)},a=t.__keyborgData={focusInHandler:i,focusOutHandler:o,shadowTargets:n};function l(){const e=t.__keyborgData;return e&&(e.lastFocusedProgrammatically=new te(this)),r.apply(this,arguments)}t.document.addEventListener("focusin",t.__keyborgData.focusInHandler,!0),t.document.addEventListener("focusout",t.__keyborgData.focusOutHandler,!0);let c=t.document.activeElement;for(;c&&c.shadowRoot;)s(c),c=c.shadowRoot.activeElement;l.__keyborgNativeFocus=r}(e)}get isNavigatingWithKeyboard(){return this._isNavigatingWithKeyboard_DO_NOT_USE}set isNavigatingWithKeyboard(e){this._isNavigatingWithKeyboard_DO_NOT_USE!==e&&(this._isNavigatingWithKeyboard_DO_NOT_USE=e,this.update())}dispose(){const e=this._win;if(e){this._isMouseUsedTimer&&(e.clearTimeout(this._isMouseUsedTimer),this._isMouseUsedTimer=void 0),this._dismissTimer&&(e.clearTimeout(this._dismissTimer),this._dismissTimer=void 0),function(e){const t=e,r=t.HTMLElement.prototype,n=r.focus.__keyborgNativeFocus,o=t.__keyborgData;if(o){t.document.removeEventListener("focusin",o.focusInHandler,!0),t.document.removeEventListener("focusout",o.focusOutHandler,!0);for(const e of o.shadowTargets){const t=e.deref();t&&(t.removeEventListener("focusin",o.focusInHandler,!0),t.removeEventListener("focusout",o.focusOutHandler,!0))}o.shadowTargets.clear(),delete t.__keyborgData}n&&(r.focus=n)}(e);const t=e.document;t.removeEventListener(re,this._onFocusIn,!0),t.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("keydown",this._onKeyDown,!0),delete this._win}}isDisposed(){return!!this._win}update(){var e,t;const r=null==(t=null==(e=this._win)?void 0:e.__keyborg)?void 0:t.refs;if(r)for(const e of Object.keys(r))le.update(r[e],this.isNavigatingWithKeyboard)}_shouldTriggerKeyboardNavigation(e){var t;if("Tab"===e.key)return!0;const r=null==(t=this._win)?void 0:t.document.activeElement,n=!this._triggerKeys||this._triggerKeys.has(e.keyCode),o=r&&("INPUT"===r.tagName||"TEXTAREA"===r.tagName||r.isContentEditable);return n&&!o}_shouldDismissKeyboardNavigation(e){var t;return null==(t=this._dismissKeys)?void 0:t.has(e.keyCode)}_scheduleDismiss(){const e=this._win;if(e){this._dismissTimer&&(e.clearTimeout(this._dismissTimer),this._dismissTimer=void 0);const t=e.document.activeElement;this._dismissTimer=e.setTimeout((()=>{this._dismissTimer=void 0;const r=e.document.activeElement;t&&r&&t===r&&(this.isNavigatingWithKeyboard=!1)}),500)}}},le=class e{constructor(e,t){this._cb=[],this._id="k"+ ++se,this._win=e;const r=e.__keyborg;r?(this._core=r.core,r.refs[this._id]=this):(this._core=new ae(e,t),e.__keyborg={core:this._core,refs:{[this._id]:this}})}static create(t,r){return new e(t,r)}static dispose(e){e.dispose()}static update(e,t){e._cb.forEach((e=>e(t)))}dispose(){var e;const t=null==(e=this._win)?void 0:e.__keyborg;(null==t?void 0:t.refs[this._id])&&(delete t.refs[this._id],0===Object.keys(t.refs).length&&(t.core.dispose(),delete this._win.__keyborg)),this._cb=[],delete this._core,delete this._win}isNavigatingWithKeyboard(){var e;return!!(null==(e=this._core)?void 0:e.isNavigatingWithKeyboard)}subscribe(e){this._cb.push(e)}unsubscribe(e){const t=this._cb.indexOf(e);t>=0&&this._cb.splice(t,1)}setVal(e){this._core&&(this._core.isNavigatingWithKeyboard=e)}};function ce(e,t){return le.create(e,t)}function ue(e){le.dispose(e)}const de="data-fui-focus-visible",he="data-fui-focus-within";function fe(e,t){if(pe(e))return()=>{};const r={current:void 0},n=ce(t);function o(e){n.isNavigatingWithKeyboard()&&Z(e)&&(r.current=e,e.setAttribute(de,""))}function i(){r.current&&(r.current.removeAttribute(de),r.current=void 0)}n.subscribe((e=>{e||i()}));const s=e=>{i(),o(e.composedPath()[0])},a=t=>{(!t.relatedTarget||Z(t.relatedTarget)&&!e.contains(t.relatedTarget))&&i()};return e.addEventListener(re,s),e.addEventListener("focusout",a),e.focusVisible=!0,e.contains(t.document.activeElement)&&o(t.document.activeElement),()=>{i(),e.removeEventListener(re,s),e.removeEventListener("focusout",a),delete e.focusVisible,ue(n)}}function pe(e){return!!e&&(!!e.focusVisible||pe(null==e?void 0:e.parentElement))}function ge(t={}){const r=y(),n=e.useRef(null);var o;const i=null!==(o=t.targetDocument)&&void 0!==o?o:r.targetDocument;return e.useEffect((()=>{if((null==i?void 0:i.defaultView)&&n.current)return fe(n.current,i.defaultView)}),[n,i]),n}function me(t,o){const{defaultProps:i,elementType:s}=o,a=function(t){return"string"==typeof t||"number"==typeof t||Array.isArray(t)||e.isValidElement(t)?{children:t}:t}(t),l={...i,...a,[n]:s};return a&&"function"==typeof a.children&&(l[r]=a.children,l.children=null==i?void 0:i.children),l}function ve(e,t){if(null!==e&&(void 0!==e||t.renderByDefault))return me(e,t)}const be=(...e)=>{const t={};for(const r of e){const e=Array.isArray(r)?r:Object.keys(r);for(const r of e)t[r]=1}return t},ye=be(["onAuxClick","onAnimationEnd","onAnimationStart","onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onInput","onSubmit","onLoad","onError","onKeyDown","onKeyDownCapture","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onClickCapture","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseUpCapture","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp","onGotPointerCapture","onLostPointerCapture"]),we=be(["accessKey","children","className","contentEditable","dir","draggable","hidden","htmlFor","id","lang","ref","role","style","tabIndex","title","translate","spellCheck","name"]),_e=be(["itemID","itemProp","itemRef","itemScope","itemType"]),ke=be(we,ye,_e),xe=be(ke,["form"]),Se=be(ke,["height","loop","muted","preload","src","width"]),Ee=be(Se,["poster"]),Ce=be(ke,["start"]),Te=be(ke,["value"]),Ie=be(ke,["download","href","hrefLang","media","rel","target","type"]),Ne=be(ke,["dateTime"]),Re=be(ke,["autoFocus","disabled","form","formAction","formEncType","formMethod","formNoValidate","formTarget","type","value"]),De={label:xe,audio:Se,video:Ee,ol:Ce,li:Te,a:Ie,button:Re,input:be(Re,["accept","alt","autoCapitalize","autoComplete","checked","dirname","form","height","inputMode","list","max","maxLength","min","multiple","pattern","placeholder","readOnly","required","src","step","size","type","value","width"]),textarea:be(Re,["autoCapitalize","cols","dirname","form","maxLength","placeholder","readOnly","required","rows","wrap"]),select:be(Re,["form","multiple","required"]),option:be(ke,["selected","value"]),table:be(ke,["cellPadding","cellSpacing"]),tr:ke,th:be(ke,["colSpan","rowSpan","scope"]),td:be(ke,["colSpan","headers","rowSpan","scope"]),colGroup:be(ke,["span"]),col:be(ke,["span"]),fieldset:be(ke,["disabled","form"]),form:be(ke,["acceptCharset","action","encType","encType","method","noValidate","target"]),iframe:be(ke,["allow","allowFullScreen","allowPaymentRequest","allowTransparency","csp","height","importance","referrerPolicy","sandbox","src","srcDoc","width"]),img:be(ke,["alt","crossOrigin","height","src","srcSet","useMap","width"]),time:Ne,dialog:be(ke,["open","onCancel","onClose"])};function Pe(e,t,r){const n=e&&De[e]||ke;return n.as=1,function(e,t,r){const n=Array.isArray(t),o={},i=Object.keys(e);for(const s of i)!(!n&&t[s]||n&&t.indexOf(s)>=0||0===s.indexOf("data-")||0===s.indexOf("aria-"))||r&&-1!==(null==r?void 0:r.indexOf(s))||(o[s]=e[s]);return o}(t,n,r)}const ze=({primarySlotTagName:e,props:t,excludedPropNames:r})=>({root:{style:t.style,className:t.className},primary:Pe(e,t,[...r||[],"style","className"])}),Be=(e,t,r)=>{var n;return Pe(null!==(n=t.as)&&void 0!==n?n:e,t,r)};function Oe(...t){const r=e.useCallback((e=>{r.current=e;for(const r of t)"function"==typeof r?r(e):r&&(r.current=e)}),[...t]);return r}const Ae=h()?e.useLayoutEffect:e.useEffect,Fe={current:0},Me=e.createContext(void 0);const je=e.createContext(void 0);function Le(r="fui-",n){const o=null!==(a=e.useContext(Me))&&void 0!==a?a:Fe,i=e.useContext(je)||"",s=t.useId;var a;if(s){const t=s(),o=e.useMemo((()=>t.replace(/:/g,"")),[t]);return n||`${i}${r}${o}`}return e.useMemo((()=>n||`${i}${r}${++o.current}`),[i,r,n,o])}je.Provider;const qe=()=>{const e={};return function(t,r){void 0===e[t.id]&&(t.insertCSSRules(r),e[t.id]=!0)}};function Ue(e){for(var t,r=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}function Ve(e,t,r=[]){return U+function(e){const t=e.length;if(t===q)return e;for(let r=t;r<q;r++)e+="0";return e}(Ue(e+t))}function He(e,t){let r="";for(const n in e){const o=e[n];if(o){const e=Array.isArray(o);r+="rtl"===t?(e?o[1]:o)+" ":(e?o[0]:o)+" "}}return r.slice(0,-1)}function We(e,t){const r={};for(const n in e){const o=He(e[n],t);if(""===o){r[n]="";continue}const i=Ve(o,t),s=i+" "+o;M[i]=[e[n],t],r[n]=s}return r}function $e(e,t,r=qe){const n=r();let o=null,i=null;return function(r){const{dir:s,renderer:a}=r,l="ltr"===s;return l?null===o&&(o=We(e,s)):null===i&&(i=We(e,s)),n(a,t),l?o:i}}const Ke={};function Ge(){let e=null,t="",r="";const n=new Array(arguments.length);for(let e=0;e<arguments.length;e++){const o=arguments[e];if("string"==typeof o&&""!==o){const i=o.indexOf(U);if(-1===i)t+=o+" ";else{const s=o.substr(i,V);i>0&&(t+=o.slice(0,i)),r+=s,n[e]=s}}}if(""===r)return t.slice(0,-1);const o=Ke[r];if(void 0!==o)return t+o;const i=[];for(let t=0;t<arguments.length;t++){const r=n[t];if(r){const t=M[r];t&&(i.push(t[0]),e=t[1])}}const s=Object.assign.apply(Object,[{}].concat(i));let a=He(s,e);const l=Ve(a,e,n);return a=l+" "+a,Ke[r]=a,M[l]=[s,e],t+a}const Qe="fui-FluentProvider",Xe=$e({root:{sj55zd:"f19n0e5",De3pzq:"fxugw4r",fsow6f:["f1o700av","fes3tcz"],Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"}},{d:[".f19n0e5{color:var(--colorNeutralForeground1);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",".f1o700av{text-align:left;}",".fes3tcz{text-align:right;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}"]}),Ye=t.useInsertionEffect?t.useInsertionEffect:Ae,Je={},Ze={},et=(t,r)=>{const n=y(),o=e.useContext(w),i=D(),s=e.useContext(S)||Je,{applyStylesToPortals:a=!0,customStyleHooks_unstable:l,dir:c=n.dir,targetDocument:u=n.targetDocument,theme:d,overrides_unstable:h={}}=t,f=tt(o,d),p=tt(i,h),g=tt(s,l),m=J();var v;const{styleTagId:b,rule:_}=(t=>{const{targetDocument:r,theme:n,rendererAttributes:o}=t,i=e.useRef(),s=Le(Qe),a=o,l=e.useMemo((()=>function(e,t){return t?`${e} { ${Object.keys(t).reduce(((e,r)=>`${e}--${r}: ${t[r]}; `),"")} }`:`${e} {}`}(`.${s}`,n)),[n,s]);return function(t,r){e.useState((()=>{if(!t)return;const e=t.getElementById(r);e&&t.head.append(e)}))}(r,s),Ye((()=>{const e=null==r?void 0:r.getElementById(s);return e?i.current=e:(i.current=((e,t)=>{if(!e)return;const r=e.createElement("style");return Object.keys(t).forEach((e=>{r.setAttribute(e,t[e])})),e.head.appendChild(r),r})(r,{...a,id:s}),i.current&&((e,t)=>{const r=e.sheet;r&&(r.cssRules.length>0&&r.deleteRule(0),r.insertRule(t,0))})(i.current,l)),()=>{var e;null===(e=i.current)||void 0===e||e.remove()}}),[s,r,l,a]),{styleTagId:s,rule:l}})({theme:f,targetDocument:u,rendererAttributes:null!==(v=m.styleElementAttributes)&&void 0!==v?v:Ze});return{applyStylesToPortals:a,customStyleHooks_unstable:g,dir:c,targetDocument:u,theme:f,overrides_unstable:p,themeClassName:b,components:{root:"div"},root:me(Be("div",{...t,dir:c,ref:Oe(r,ge({targetDocument:u}))}),{elementType:"div"}),serverStyleProps:{cssRule:_,attributes:{...m.styleElementAttributes,id:b}}}};function tt(e,t){return e&&t?{...e,...t}:e||t}const rt=e.forwardRef(((t,r)=>{const n=et(t,r);(e=>{const t=J(),r=Xe({dir:e.dir,renderer:t});e.root.className=Ge(Qe,e.themeClassName,r.root,e.root.className)})(n);const o=function(t){const{applyStylesToPortals:r,customStyleHooks_unstable:n,dir:o,root:i,targetDocument:s,theme:a,themeClassName:l,overrides_unstable:c}=t,u=e.useMemo((()=>({dir:o,targetDocument:s})),[o,s]),[d]=e.useState((()=>({}))),h=e.useMemo((()=>({textDirection:o})),[o]);return{customStyleHooks_unstable:n,overrides_unstable:c,provider:u,textDirection:o,iconDirection:h,tooltip:d,theme:a,themeClassName:r?i.className:l}}(n);return((e,t)=>u(b,{value:t.provider,children:u(_,{value:t.theme,children:u(x,{value:t.themeClassName,children:u(C,{value:t.customStyleHooks_unstable,children:u(I,{value:t.tooltip,children:u(p,{dir:t.textDirection,children:u(B,{value:t.iconDirection,children:u(R,{value:t.overrides_unstable,children:d(e.root,{children:[h()?null:u("style",{dangerouslySetInnerHTML:{__html:e.serverStyleProps.cssRule},...e.serverStyleProps.attributes}),e.root.children]})})})})})})})})}))(n,o)}));rt.displayName="FluentProvider";const nt="#242424",ot="#424242",it="#616161",st="#bdbdbd",at="#e0e0e0",lt="#e6e6e6",ct="#ebebeb",ut="#f0f0f0",dt="#f5f5f5",ht="#fafafa",ft="rgba(255, 255, 255, 0.4)",pt="rgba(255, 255, 255, 0.5)",gt="rgba(0, 0, 0, 0.05)",mt="rgba(0, 0, 0, 0.1)",vt="#ffffff",bt={shade50:"#200205",shade40:"#3b0509",shade30:"#6e0811",shade20:"#960b18",shade10:"#b10e1c",primary:"#c50f1f",tint10:"#cc2635",tint20:"#d33f4c",tint30:"#dc626d",tint40:"#eeacb2",tint50:"#f6d1d5",tint60:"#fdf3f4"},yt={shade50:"#031403",shade40:"#052505",shade30:"#094509",shade20:"#0c5e0c",shade10:"#0e700e",primary:"#107c10",tint10:"#218c21",tint20:"#359b35",tint30:"#54b054",tint40:"#9fd89f",tint50:"#c9eac9",tint60:"#f1faf1"},wt={red:{shade50:"#210809",shade40:"#3f1011",shade30:"#751d1f",shade20:"#9f282b",shade10:"#bc2f32",primary:"#d13438",tint10:"#d7494c",tint20:"#dc5e62",tint30:"#e37d80",tint40:"#f1bbbc",tint50:"#f8dadb",tint60:"#fdf6f6"},green:yt,darkOrange:{shade50:"#230900",shade40:"#411200",shade30:"#7a2101",shade20:"#a62d01",shade10:"#c43501",primary:"#da3b01",tint10:"#de501c",tint20:"#e36537",tint30:"#e9835e",tint40:"#f4bfab",tint50:"#f9dcd1",tint60:"#fdf6f3"},yellow:{shade50:"#282400",shade40:"#4c4400",shade30:"#817400",shade20:"#c0ad00",shade10:"#e4cc00",primary:"#fde300",tint10:"#fde61e",tint20:"#fdea3d",tint30:"#feee66",tint40:"#fef7b2",tint50:"#fffad6",tint60:"#fffef5"},berry:{shade50:"#1f091d",shade40:"#3a1136",shade30:"#6d2064",shade20:"#932b88",shade10:"#af33a1",primary:"#c239b3",tint10:"#c94cbc",tint20:"#d161c4",tint30:"#da7ed0",tint40:"#edbbe7",tint50:"#f5daf2",tint60:"#fdf5fc"},lightGreen:{shade50:"#031a02",shade40:"#063004",shade30:"#0b5a08",shade20:"#0e7a0b",shade10:"#11910d",primary:"#13a10e",tint10:"#27ac22",tint20:"#3db838",tint30:"#5ec75a",tint40:"#a7e3a5",tint50:"#cef0cd",tint60:"#f2fbf2"},marigold:{shade50:"#251a00",shade40:"#463100",shade30:"#835b00",shade20:"#b27c00",shade10:"#d39300",primary:"#eaa300",tint10:"#edad1c",tint20:"#efb839",tint30:"#f2c661",tint40:"#f9e2ae",tint50:"#fcefd3",tint60:"#fefbf4"}},_t={darkRed:{shade50:"#130204",shade40:"#230308",shade30:"#420610",shade20:"#590815",shade10:"#690a19",primary:"#750b1c",tint10:"#861b2c",tint20:"#962f3f",tint30:"#ac4f5e",tint40:"#d69ca5",tint50:"#e9c7cd",tint60:"#f9f0f2"},cranberry:bt,pumpkin:{shade50:"#200d03",shade40:"#3d1805",shade30:"#712d09",shade20:"#9a3d0c",shade10:"#b6480e",primary:"#ca5010",tint10:"#d06228",tint20:"#d77440",tint30:"#df8e64",tint40:"#efc4ad",tint50:"#f7dfd2",tint60:"#fdf7f4"},peach:{shade50:"#291600",shade40:"#4d2a00",shade30:"#8f4e00",shade20:"#c26a00",shade10:"#e67e00",primary:"#ff8c00",tint10:"#ff9a1f",tint20:"#ffa83d",tint30:"#ffba66",tint40:"#ffddb3",tint50:"#ffedd6",tint60:"#fffaf5"},gold:{shade50:"#1f1900",shade40:"#3a2f00",shade30:"#6c5700",shade20:"#937700",shade10:"#ae8c00",primary:"#c19c00",tint10:"#c8a718",tint20:"#d0b232",tint30:"#dac157",tint40:"#ecdfa5",tint50:"#f5eece",tint60:"#fdfbf2"},brass:{shade50:"#181202",shade40:"#2e2103",shade30:"#553e06",shade20:"#745408",shade10:"#89640a",primary:"#986f0b",tint10:"#a47d1e",tint20:"#b18c34",tint30:"#c1a256",tint40:"#e0cea2",tint50:"#efe4cb",tint60:"#fbf8f2"},brown:{shade50:"#170e07",shade40:"#2b1a0e",shade30:"#50301a",shade20:"#6c4123",shade10:"#804d29",primary:"#8e562e",tint10:"#9c663f",tint20:"#a97652",tint30:"#bb8f6f",tint40:"#ddc3b0",tint50:"#edded3",tint60:"#faf7f4"},forest:{shade50:"#0c1501",shade40:"#162702",shade30:"#294903",shade20:"#376304",shade10:"#427505",primary:"#498205",tint10:"#599116",tint20:"#6ba02b",tint30:"#85b44c",tint40:"#bdd99b",tint50:"#dbebc7",tint60:"#f6faf0"},seafoam:{shade50:"#002111",shade40:"#003d20",shade30:"#00723b",shade20:"#009b51",shade10:"#00b85f",primary:"#00cc6a",tint10:"#19d279",tint20:"#34d889",tint30:"#5ae0a0",tint40:"#a8f0cd",tint50:"#cff7e4",tint60:"#f3fdf8"},darkGreen:{shade50:"#021102",shade40:"#032003",shade30:"#063b06",shade20:"#085108",shade10:"#0a5f0a",primary:"#0b6a0b",tint10:"#1a7c1a",tint20:"#2d8e2d",tint30:"#4da64d",tint40:"#9ad29a",tint50:"#c6e7c6",tint60:"#f0f9f0"},lightTeal:{shade50:"#001d1f",shade40:"#00373a",shade30:"#00666d",shade20:"#008b94",shade10:"#00a5af",primary:"#00b7c3",tint10:"#18bfca",tint20:"#32c8d1",tint30:"#58d3db",tint40:"#a6e9ed",tint50:"#cef3f5",tint60:"#f2fcfd"},teal:{shade50:"#001516",shade40:"#012728",shade30:"#02494c",shade20:"#026467",shade10:"#037679",primary:"#038387",tint10:"#159195",tint20:"#2aa0a4",tint30:"#4cb4b7",tint40:"#9bd9db",tint50:"#c7ebec",tint60:"#f0fafa"},steel:{shade50:"#000f12",shade40:"#001b22",shade30:"#00333f",shade20:"#004555",shade10:"#005265",primary:"#005b70",tint10:"#0f6c81",tint20:"#237d92",tint30:"#4496a9",tint40:"#94c8d4",tint50:"#c3e1e8",tint60:"#eff7f9"},blue:{shade50:"#001322",shade40:"#002440",shade30:"#004377",shade20:"#005ba1",shade10:"#006cbf",primary:"#0078d4",tint10:"#1a86d9",tint20:"#3595de",tint30:"#5caae5",tint40:"#a9d3f2",tint50:"#d0e7f8",tint60:"#f3f9fd"},royalBlue:{shade50:"#000c16",shade40:"#00172a",shade30:"#002c4e",shade20:"#003b6a",shade10:"#00467e",primary:"#004e8c",tint10:"#125e9a",tint20:"#286fa8",tint30:"#4a89ba",tint40:"#9abfdc",tint50:"#c7dced",tint60:"#f0f6fa"},cornflower:{shade50:"#0d1126",shade40:"#182047",shade30:"#2c3c85",shade20:"#3c51b4",shade10:"#4760d5",primary:"#4f6bed",tint10:"#637cef",tint20:"#778df1",tint30:"#93a4f4",tint40:"#c8d1fa",tint50:"#e1e6fc",tint60:"#f7f9fe"},navy:{shade50:"#00061d",shade40:"#000c36",shade30:"#001665",shade20:"#001e89",shade10:"#0023a2",primary:"#0027b4",tint10:"#173bbd",tint20:"#3050c6",tint30:"#546fd2",tint40:"#a3b2e8",tint50:"#ccd5f3",tint60:"#f2f4fc"},lavender:{shade50:"#120f25",shade40:"#221d46",shade30:"#3f3682",shade20:"#5649b0",shade10:"#6656d1",primary:"#7160e8",tint10:"#8172eb",tint20:"#9184ee",tint30:"#a79cf1",tint40:"#d2ccf8",tint50:"#e7e4fb",tint60:"#f9f8fe"},purple:{shade50:"#0f0717",shade40:"#1c0e2b",shade30:"#341a51",shade20:"#46236e",shade10:"#532982",primary:"#5c2e91",tint10:"#6b3f9e",tint20:"#7c52ab",tint30:"#9470bd",tint40:"#c6b1de",tint50:"#e0d3ed",tint60:"#f7f4fb"},grape:{shade50:"#160418",shade40:"#29072e",shade30:"#4c0d55",shade20:"#671174",shade10:"#7a1589",primary:"#881798",tint10:"#952aa4",tint20:"#a33fb1",tint30:"#b55fc1",tint40:"#d9a7e0",tint50:"#eaceef",tint60:"#faf2fb"},lilac:{shade50:"#1c0b1f",shade40:"#35153a",shade30:"#63276d",shade20:"#863593",shade10:"#9f3faf",primary:"#b146c2",tint10:"#ba58c9",tint20:"#c36bd1",tint30:"#cf87da",tint40:"#e6bfed",tint50:"#f2dcf5",tint60:"#fcf6fd"},pink:{shade50:"#24091b",shade40:"#441232",shade30:"#80215d",shade20:"#ad2d7e",shade10:"#cd3595",primary:"#e43ba6",tint10:"#e750b0",tint20:"#ea66ba",tint30:"#ef85c8",tint40:"#f7c0e3",tint50:"#fbddf0",tint60:"#fef6fb"},magenta:{shade50:"#1f0013",shade40:"#390024",shade30:"#6b0043",shade20:"#91005a",shade10:"#ac006b",primary:"#bf0077",tint10:"#c71885",tint20:"#ce3293",tint30:"#d957a8",tint40:"#eca5d1",tint50:"#f5cee6",tint60:"#fcf2f9"},plum:{shade50:"#13000c",shade40:"#240017",shade30:"#43002b",shade20:"#5a003b",shade10:"#6b0045",primary:"#77004d",tint10:"#87105d",tint20:"#98246f",tint30:"#ad4589",tint40:"#d696c0",tint50:"#e9c4dc",tint60:"#faf0f6"},beige:{shade50:"#141313",shade40:"#252323",shade30:"#444241",shade20:"#5d5958",shade10:"#6e6968",primary:"#7a7574",tint10:"#8a8584",tint20:"#9a9594",tint30:"#afabaa",tint40:"#d7d4d4",tint50:"#eae8e8",tint60:"#faf9f9"},mink:{shade50:"#0f0e0e",shade40:"#1c1b1a",shade30:"#343231",shade20:"#474443",shade10:"#54514f",primary:"#5d5a58",tint10:"#706d6b",tint20:"#84817e",tint30:"#9e9b99",tint40:"#cecccb",tint50:"#e5e4e3",tint60:"#f8f8f8"},platinum:{shade50:"#111314",shade40:"#1f2426",shade30:"#3b4447",shade20:"#505c60",shade10:"#5f6d71",primary:"#69797e",tint10:"#79898d",tint20:"#89989d",tint30:"#a0adb2",tint40:"#cdd6d8",tint50:"#e4e9ea",tint60:"#f8f9fa"},anchor:{shade50:"#090a0b",shade40:"#111315",shade30:"#202427",shade20:"#2b3135",shade10:"#333a3f",primary:"#394146",tint10:"#4d565c",tint20:"#626c72",tint30:"#808a90",tint40:"#bcc3c7",tint50:"#dbdfe1",tint60:"#f6f7f8"}},kt={cranberry:bt,green:yt,orange:{shade50:"#271002",shade40:"#4a1e04",shade30:"#8a3707",shade20:"#bc4b09",shade10:"#de590b",primary:"#f7630c",tint10:"#f87528",tint20:"#f98845",tint30:"#faa06b",tint40:"#fdcfb4",tint50:"#fee5d7",tint60:"#fff9f5"}},xt={success:"green",warning:"orange",danger:"cranberry"},St=["red","green","darkOrange","yellow","berry","lightGreen","marigold"].reduce(((e,t)=>{const r=t.slice(0,1).toUpperCase()+t.slice(1),n={[`colorPalette${r}Background1`]:wt[t].tint60,[`colorPalette${r}Background2`]:wt[t].tint40,[`colorPalette${r}Background3`]:wt[t].primary,[`colorPalette${r}Foreground1`]:wt[t].shade10,[`colorPalette${r}Foreground2`]:wt[t].shade30,[`colorPalette${r}Foreground3`]:wt[t].primary,[`colorPalette${r}BorderActive`]:wt[t].primary,[`colorPalette${r}Border1`]:wt[t].tint40,[`colorPalette${r}Border2`]:wt[t].primary};return Object.assign(e,n)}),{});St.colorPaletteYellowForeground1=wt.yellow.shade30,St.colorPaletteRedForegroundInverted=wt.red.tint20,St.colorPaletteGreenForegroundInverted=wt.green.tint20,St.colorPaletteYellowForegroundInverted=wt.yellow.tint40;const Et=["darkRed","cranberry","pumpkin","peach","gold","brass","brown","forest","seafoam","darkGreen","lightTeal","teal","steel","blue","royalBlue","cornflower","navy","lavender","purple","grape","lilac","pink","magenta","plum","beige","mink","platinum","anchor"].reduce(((e,t)=>{const r=t.slice(0,1).toUpperCase()+t.slice(1),n={[`colorPalette${r}Background2`]:_t[t].tint40,[`colorPalette${r}Foreground2`]:_t[t].shade30,[`colorPalette${r}BorderActive`]:_t[t].primary};return Object.assign(e,n)}),{}),Ct={...St,...Et},Tt=Object.entries(xt).reduce(((e,[t,r])=>{const n=t.slice(0,1).toUpperCase()+t.slice(1),o={[`colorStatus${n}Background1`]:kt[r].tint60,[`colorStatus${n}Background2`]:kt[r].tint40,[`colorStatus${n}Background3`]:kt[r].primary,[`colorStatus${n}Foreground1`]:kt[r].shade10,[`colorStatus${n}Foreground2`]:kt[r].shade30,[`colorStatus${n}Foreground3`]:kt[r].primary,[`colorStatus${n}ForegroundInverted`]:kt[r].tint30,[`colorStatus${n}BorderActive`]:kt[r].primary,[`colorStatus${n}Border1`]:kt[r].tint40,[`colorStatus${n}Border2`]:kt[r].primary};return Object.assign(e,o)}),{});Tt.colorStatusDangerBackground3Hover=kt[xt.danger].shade10,Tt.colorStatusDangerBackground3Pressed=kt[xt.danger].shade20,Tt.colorStatusWarningForeground1=kt[xt.warning].shade20,Tt.colorStatusWarningForeground3=kt[xt.warning].shade20,Tt.colorStatusWarningBorder2=kt[xt.warning].shade20;const It={borderRadiusNone:"0",borderRadiusSmall:"2px",borderRadiusMedium:"4px",borderRadiusLarge:"6px",borderRadiusXLarge:"8px",borderRadiusCircular:"10000px"},Nt={fontSizeBase100:"10px",fontSizeBase200:"12px",fontSizeBase300:"14px",fontSizeBase400:"16px",fontSizeBase500:"20px",fontSizeBase600:"24px",fontSizeHero700:"28px",fontSizeHero800:"32px",fontSizeHero900:"40px",fontSizeHero1000:"68px"},Rt={lineHeightBase100:"14px",lineHeightBase200:"16px",lineHeightBase300:"20px",lineHeightBase400:"22px",lineHeightBase500:"28px",lineHeightBase600:"32px",lineHeightHero700:"36px",lineHeightHero800:"40px",lineHeightHero900:"52px",lineHeightHero1000:"92px"},Dt={fontWeightRegular:400,fontWeightMedium:500,fontWeightSemibold:600,fontWeightBold:700},Pt={fontFamilyBase:"'Segoe UI', 'Segoe UI Web (West European)', -apple-system, BlinkMacSystemFont, Roboto, 'Helvetica Neue', sans-serif",fontFamilyMonospace:"Consolas, 'Courier New', Courier, monospace",fontFamilyNumeric:"Bahnschrift, 'Segoe UI', 'Segoe UI Web (West European)', -apple-system, BlinkMacSystemFont, Roboto, 'Helvetica Neue', sans-serif"},zt={strokeWidthThin:"1px",strokeWidthThick:"2px",strokeWidthThicker:"3px",strokeWidthThickest:"4px"};function Bt(e,t,r=""){return{[`shadow2${r}`]:`0 0 2px ${e}, 0 1px 2px ${t}`,[`shadow4${r}`]:`0 0 2px ${e}, 0 2px 4px ${t}`,[`shadow8${r}`]:`0 0 2px ${e}, 0 4px 8px ${t}`,[`shadow16${r}`]:`0 0 2px ${e}, 0 8px 16px ${t}`,[`shadow28${r}`]:`0 0 8px ${e}, 0 14px 28px ${t}`,[`shadow64${r}`]:`0 0 8px ${e}, 0 32px 64px ${t}`}}const Ot={durationUltraFast:"50ms",durationFaster:"100ms",durationFast:"150ms",durationNormal:"200ms",durationGentle:"250ms",durationSlow:"300ms",durationSlower:"400ms",durationUltraSlow:"500ms"},At={curveAccelerateMax:"cubic-bezier(0.9,0.1,1,0.2)",curveAccelerateMid:"cubic-bezier(1,0,1,1)",curveAccelerateMin:"cubic-bezier(0.8,0,0.78,1)",curveDecelerateMax:"cubic-bezier(0.1,0.9,0.2,1)",curveDecelerateMid:"cubic-bezier(0,0,0,1)",curveDecelerateMin:"cubic-bezier(0.33,0,0.1,1)",curveEasyEaseMax:"cubic-bezier(0.8,0,0.2,1)",curveEasyEase:"cubic-bezier(0.33,0,0.67,1)",curveLinear:"cubic-bezier(0,0,1,1)"},Ft="10px",Mt="12px",jt="16px",Lt="20px",qt="24px",Ut="32px",Vt={spacingHorizontalNone:"0",spacingHorizontalXXS:"2px",spacingHorizontalXS:"4px",spacingHorizontalSNudge:"6px",spacingHorizontalS:"8px",spacingHorizontalMNudge:Ft,spacingHorizontalM:Mt,spacingHorizontalL:jt,spacingHorizontalXL:Lt,spacingHorizontalXXL:qt,spacingHorizontalXXXL:Ut},Ht={spacingVerticalNone:"0",spacingVerticalXXS:"2px",spacingVerticalXS:"4px",spacingVerticalSNudge:"6px",spacingVerticalS:"8px",spacingVerticalMNudge:Ft,spacingVerticalM:Mt,spacingVerticalL:jt,spacingVerticalXL:Lt,spacingVerticalXXL:qt,spacingVerticalXXXL:Ut},Wt=(e=>{const t=(e=>({colorNeutralForeground1:nt,colorNeutralForeground1Hover:nt,colorNeutralForeground1Pressed:nt,colorNeutralForeground1Selected:nt,colorNeutralForeground2:ot,colorNeutralForeground2Hover:nt,colorNeutralForeground2Pressed:nt,colorNeutralForeground2Selected:nt,colorNeutralForeground2BrandHover:e[80],colorNeutralForeground2BrandPressed:e[70],colorNeutralForeground2BrandSelected:e[80],colorNeutralForeground3:it,colorNeutralForeground3Hover:ot,colorNeutralForeground3Pressed:ot,colorNeutralForeground3Selected:ot,colorNeutralForeground3BrandHover:e[80],colorNeutralForeground3BrandPressed:e[70],colorNeutralForeground3BrandSelected:e[80],colorNeutralForeground4:"#707070",colorNeutralForegroundDisabled:st,colorNeutralForegroundInvertedDisabled:ft,colorBrandForegroundLink:e[70],colorBrandForegroundLinkHover:e[60],colorBrandForegroundLinkPressed:e[40],colorBrandForegroundLinkSelected:e[70],colorNeutralForeground2Link:ot,colorNeutralForeground2LinkHover:nt,colorNeutralForeground2LinkPressed:nt,colorNeutralForeground2LinkSelected:nt,colorCompoundBrandForeground1:e[80],colorCompoundBrandForeground1Hover:e[70],colorCompoundBrandForeground1Pressed:e[60],colorBrandForeground1:e[80],colorBrandForeground2:e[70],colorBrandForeground2Hover:e[60],colorBrandForeground2Pressed:e[30],colorNeutralForeground1Static:nt,colorNeutralForegroundStaticInverted:vt,colorNeutralForegroundInverted:vt,colorNeutralForegroundInvertedHover:vt,colorNeutralForegroundInvertedPressed:vt,colorNeutralForegroundInvertedSelected:vt,colorNeutralForegroundInverted2:vt,colorNeutralForegroundOnBrand:vt,colorNeutralForegroundInvertedLink:vt,colorNeutralForegroundInvertedLinkHover:vt,colorNeutralForegroundInvertedLinkPressed:vt,colorNeutralForegroundInvertedLinkSelected:vt,colorBrandForegroundInverted:e[100],colorBrandForegroundInvertedHover:e[110],colorBrandForegroundInvertedPressed:e[100],colorBrandForegroundOnLight:e[80],colorBrandForegroundOnLightHover:e[70],colorBrandForegroundOnLightPressed:e[50],colorBrandForegroundOnLightSelected:e[60],colorNeutralBackground1:vt,colorNeutralBackground1Hover:dt,colorNeutralBackground1Pressed:at,colorNeutralBackground1Selected:ct,colorNeutralBackground2:ht,colorNeutralBackground2Hover:ut,colorNeutralBackground2Pressed:"#dbdbdb",colorNeutralBackground2Selected:lt,colorNeutralBackground3:dt,colorNeutralBackground3Hover:ct,colorNeutralBackground3Pressed:"#d6d6d6",colorNeutralBackground3Selected:at,colorNeutralBackground4:ut,colorNeutralBackground4Hover:ht,colorNeutralBackground4Pressed:dt,colorNeutralBackground4Selected:vt,colorNeutralBackground5:ct,colorNeutralBackground5Hover:dt,colorNeutralBackground5Pressed:ut,colorNeutralBackground5Selected:ht,colorNeutralBackground6:lt,colorNeutralBackgroundInverted:"#292929",colorNeutralBackgroundStatic:"#333333",colorNeutralBackgroundAlpha:pt,colorNeutralBackgroundAlpha2:"rgba(255, 255, 255, 0.8)",colorSubtleBackground:"transparent",colorSubtleBackgroundHover:dt,colorSubtleBackgroundPressed:at,colorSubtleBackgroundSelected:ct,colorSubtleBackgroundLightAlphaHover:"rgba(255, 255, 255, 0.7)",colorSubtleBackgroundLightAlphaPressed:pt,colorSubtleBackgroundLightAlphaSelected:"transparent",colorSubtleBackgroundInverted:"transparent",colorSubtleBackgroundInvertedHover:mt,colorSubtleBackgroundInvertedPressed:"rgba(0, 0, 0, 0.3)",colorSubtleBackgroundInvertedSelected:"rgba(0, 0, 0, 0.2)",colorTransparentBackground:"transparent",colorTransparentBackgroundHover:"transparent",colorTransparentBackgroundPressed:"transparent",colorTransparentBackgroundSelected:"transparent",colorNeutralBackgroundDisabled:ut,colorNeutralBackgroundInvertedDisabled:"rgba(255, 255, 255, 0.1)",colorNeutralStencil1:lt,colorNeutralStencil2:ht,colorNeutralStencil1Alpha:mt,colorNeutralStencil2Alpha:gt,colorBackgroundOverlay:"rgba(0, 0, 0, 0.4)",colorScrollbarOverlay:"rgba(0, 0, 0, 0.5)",colorBrandBackground:e[80],colorBrandBackgroundHover:e[70],colorBrandBackgroundPressed:e[40],colorBrandBackgroundSelected:e[60],colorCompoundBrandBackground:e[80],colorCompoundBrandBackgroundHover:e[70],colorCompoundBrandBackgroundPressed:e[60],colorBrandBackgroundStatic:e[80],colorBrandBackground2:e[160],colorBrandBackground2Hover:e[150],colorBrandBackground2Pressed:e[130],colorBrandBackground3Static:e[60],colorBrandBackground4Static:e[40],colorBrandBackgroundInverted:vt,colorBrandBackgroundInvertedHover:e[160],colorBrandBackgroundInvertedPressed:e[140],colorBrandBackgroundInvertedSelected:e[150],colorNeutralCardBackground:ht,colorNeutralCardBackgroundHover:vt,colorNeutralCardBackgroundPressed:dt,colorNeutralCardBackgroundSelected:ct,colorNeutralCardBackgroundDisabled:ut,colorNeutralStrokeAccessible:it,colorNeutralStrokeAccessibleHover:"#575757",colorNeutralStrokeAccessiblePressed:"#4d4d4d",colorNeutralStrokeAccessibleSelected:e[80],colorNeutralStroke1:"#d1d1d1",colorNeutralStroke1Hover:"#c7c7c7",colorNeutralStroke1Pressed:"#b3b3b3",colorNeutralStroke1Selected:st,colorNeutralStroke2:at,colorNeutralStroke3:ut,colorNeutralStrokeSubtle:at,colorNeutralStrokeOnBrand:vt,colorNeutralStrokeOnBrand2:vt,colorNeutralStrokeOnBrand2Hover:vt,colorNeutralStrokeOnBrand2Pressed:vt,colorNeutralStrokeOnBrand2Selected:vt,colorBrandStroke1:e[80],colorBrandStroke2:e[140],colorBrandStroke2Hover:e[120],colorBrandStroke2Pressed:e[80],colorBrandStroke2Contrast:e[140],colorCompoundBrandStroke:e[80],colorCompoundBrandStrokeHover:e[70],colorCompoundBrandStrokePressed:e[60],colorNeutralStrokeDisabled:at,colorNeutralStrokeInvertedDisabled:ft,colorTransparentStroke:"transparent",colorTransparentStrokeInteractive:"transparent",colorTransparentStrokeDisabled:"transparent",colorNeutralStrokeAlpha:gt,colorNeutralStrokeAlpha2:"rgba(255, 255, 255, 0.2)",colorStrokeFocus1:vt,colorStrokeFocus2:"#000000",colorNeutralShadowAmbient:"rgba(0,0,0,0.12)",colorNeutralShadowKey:"rgba(0,0,0,0.14)",colorNeutralShadowAmbientLighter:"rgba(0,0,0,0.06)",colorNeutralShadowKeyLighter:"rgba(0,0,0,0.07)",colorNeutralShadowAmbientDarker:"rgba(0,0,0,0.20)",colorNeutralShadowKeyDarker:"rgba(0,0,0,0.24)",colorBrandShadowAmbient:"rgba(0,0,0,0.30)",colorBrandShadowKey:"rgba(0,0,0,0.25)"}))({10:"#061724",20:"#082338",30:"#0a2e4a",40:"#0c3b5e",50:"#0e4775",60:"#0f548c",70:"#115ea3",80:"#0f6cbd",90:"#2886de",100:"#479ef5",110:"#62abf5",120:"#77b7f7",130:"#96c6fa",140:"#b4d6fa",150:"#cfe4fa",160:"#ebf3fc"});return{...It,...Nt,...Rt,...Pt,...Dt,...zt,...Vt,...Ht,...Ot,...At,...t,...Ct,...Tt,...Bt(t.colorNeutralShadowAmbient,t.colorNeutralShadowKey),...Bt(t.colorBrandShadowAmbient,t.colorBrandShadowKey,"Brand")}})();var $t=o(5338);function Kt(e){return e.reduce((function(e,t){var r=t[0],n=t[1];return e[r]=n,e[n]=r,e}),{})}function Gt(e){return"number"==typeof e}function Qt(e,t){return-1!==e.indexOf(t)}function Xt(e,t,r,n){return t+(o=r,0===parseFloat(o)?o:"-"===o[0]?o.slice(1):"-"+o)+n;var o}function Yt(e){return e.replace(/ +/g," ").split(" ").map((function(e){return e.trim()})).filter(Boolean).reduce((function(e,t){var r=e.list,n=e.state,o=(t.match(/\(/g)||[]).length,i=(t.match(/\)/g)||[]).length;return n.parensDepth>0?r[r.length-1]=r[r.length-1]+" "+t:r.push(t),n.parensDepth+=o-i,{list:r,state:n}}),{list:[],state:{parensDepth:0}}).list}function Jt(e){var t=Yt(e);if(t.length<=3||t.length>4)return e;var r=t[0],n=t[1],o=t[2];return[r,t[3],o,n].join(" ")}var Zt={padding:function(e){var t=e.value;return Gt(t)?t:Jt(t)},textShadow:function(e){return function(e){for(var t=[],r=0,n=0,o=!1;n<e.length;)o||","!==e[n]?"("===e[n]?(o=!0,n++):")"===e[n]?(o=!1,n++):n++:(t.push(e.substring(r,n).trim()),r=++n);return r!=n&&t.push(e.substring(r,n+1)),t}(e.value).map((function(e){return e.replace(/(^|\s)(-*)([.|\d]+)/,(function(e,t,r,n){return"0"===n?e:t+(""===r?"-":"")+n}))})).join(",")},borderColor:function(e){return Jt(e.value)},borderRadius:function(e){var t=e.value;if(Gt(t))return t;if(Qt(t,"/")){var r=t.split("/"),n=r[0],o=r[1];return Zt.borderRadius({value:n.trim()})+" / "+Zt.borderRadius({value:o.trim()})}var i=Yt(t);switch(i.length){case 2:return i.reverse().join(" ");case 4:var s=i[0],a=i[1],l=i[2];return[a,s,i[3],l].join(" ");default:return t}},background:function(e){var t=e.value,r=e.valuesToConvert,n=e.isRtl,o=e.bgImgDirectionRegex,i=e.bgPosDirectionRegex;if(Gt(t))return t;var s=t.replace(/(url\(.*?\))|(rgba?\(.*?\))|(hsl\(.*?\))|(#[a-fA-F0-9]+)|((^| )(\D)+( |$))/g,"").trim();return t=t.replace(s,Zt.backgroundPosition({value:s,valuesToConvert:r,isRtl:n,bgPosDirectionRegex:i})),Zt.backgroundImage({value:t,valuesToConvert:r,bgImgDirectionRegex:o})},backgroundImage:function(e){var t=e.value,r=e.valuesToConvert,n=e.bgImgDirectionRegex;return Qt(t,"url(")||Qt(t,"linear-gradient(")?t.replace(n,(function(e,t,n){return e.replace(n,r[n])})):t},backgroundPosition:function(e){var t=e.value,r=e.valuesToConvert,n=e.isRtl,o=e.bgPosDirectionRegex;return t.replace(n?/^((-|\d|\.)+%)/:null,(function(e,t){return function(e){var t=e.indexOf(".");if(-1===t)e=100-parseFloat(e)+"%";else{var r=e.length-t-2;e=(e=100-parseFloat(e)).toFixed(r)+"%"}return e}(t)})).replace(o,(function(e){return r[e]}))},backgroundPositionX:function(e){var t=e.value,r=e.valuesToConvert,n=e.isRtl,o=e.bgPosDirectionRegex;return Gt(t)?t:Zt.backgroundPosition({value:t,valuesToConvert:r,isRtl:n,bgPosDirectionRegex:o})},transition:function(e){var t=e.value,r=e.propertiesToConvert;return t.split(/,\s*/g).map((function(e){var t=e.split(" ");return t[0]=r[t[0]]||t[0],t.join(" ")})).join(", ")},transitionProperty:function(e){var t=e.value,r=e.propertiesToConvert;return t.split(/,\s*/g).map((function(e){return r[e]||e})).join(", ")},transform:function(e){var t=e.value,r="[^\\u0020-\\u007e]",n="(?:(?:(?:\\[0-9a-f]{1,6})(?:\\r\\n|\\s)?)|\\\\[^\\r\\n\\f0-9a-f])",o="((?:-?(?:[0-9]*\\.[0-9]+|[0-9]+)(?:\\s*(?:em|ex|px|cm|mm|in|pt|pc|deg|rad|grad|ms|s|hz|khz|%)|-?(?:[_a-z]|"+r+"|"+n+")(?:[_a-z0-9-]|"+r+"|"+n+")*)?)|(?:inherit|auto))",i=new RegExp("(translateX\\s*\\(\\s*)"+o+"(\\s*\\))","gi"),s=new RegExp("(translate\\s*\\(\\s*)"+o+"((?:\\s*,\\s*"+o+"){0,1}\\s*\\))","gi"),a=new RegExp("(translate3d\\s*\\(\\s*)"+o+"((?:\\s*,\\s*"+o+"){0,2}\\s*\\))","gi"),l=new RegExp("(rotate[ZY]?\\s*\\(\\s*)"+o+"(\\s*\\))","gi");return t.replace(i,Xt).replace(s,Xt).replace(a,Xt).replace(l,Xt)}};Zt.objectPosition=Zt.backgroundPosition,Zt.margin=Zt.padding,Zt.borderWidth=Zt.padding,Zt.boxShadow=Zt.textShadow,Zt.webkitBoxShadow=Zt.boxShadow,Zt.mozBoxShadow=Zt.boxShadow,Zt.WebkitBoxShadow=Zt.boxShadow,Zt.MozBoxShadow=Zt.boxShadow,Zt.borderStyle=Zt.borderColor,Zt.webkitTransform=Zt.transform,Zt.mozTransform=Zt.transform,Zt.WebkitTransform=Zt.transform,Zt.MozTransform=Zt.transform,Zt.transformOrigin=Zt.backgroundPosition,Zt.webkitTransformOrigin=Zt.transformOrigin,Zt.mozTransformOrigin=Zt.transformOrigin,Zt.WebkitTransformOrigin=Zt.transformOrigin,Zt.MozTransformOrigin=Zt.transformOrigin,Zt.webkitTransition=Zt.transition,Zt.mozTransition=Zt.transition,Zt.WebkitTransition=Zt.transition,Zt.MozTransition=Zt.transition,Zt.webkitTransitionProperty=Zt.transitionProperty,Zt.mozTransitionProperty=Zt.transitionProperty,Zt.WebkitTransitionProperty=Zt.transitionProperty,Zt.MozTransitionProperty=Zt.transitionProperty,Zt["text-shadow"]=Zt.textShadow,Zt["border-color"]=Zt.borderColor,Zt["border-radius"]=Zt.borderRadius,Zt["background-image"]=Zt.backgroundImage,Zt["background-position"]=Zt.backgroundPosition,Zt["background-position-x"]=Zt.backgroundPositionX,Zt["object-position"]=Zt.objectPosition,Zt["border-width"]=Zt.padding,Zt["box-shadow"]=Zt.textShadow,Zt["-webkit-box-shadow"]=Zt.textShadow,Zt["-moz-box-shadow"]=Zt.textShadow,Zt["border-style"]=Zt.borderColor,Zt["-webkit-transform"]=Zt.transform,Zt["-moz-transform"]=Zt.transform,Zt["transform-origin"]=Zt.transformOrigin,Zt["-webkit-transform-origin"]=Zt.transformOrigin,Zt["-moz-transform-origin"]=Zt.transformOrigin,Zt["-webkit-transition"]=Zt.transition,Zt["-moz-transition"]=Zt.transition,Zt["transition-property"]=Zt.transitionProperty,Zt["-webkit-transition-property"]=Zt.transitionProperty,Zt["-moz-transition-property"]=Zt.transitionProperty;var er=Kt([["paddingLeft","paddingRight"],["marginLeft","marginRight"],["left","right"],["borderLeft","borderRight"],["borderLeftColor","borderRightColor"],["borderLeftStyle","borderRightStyle"],["borderLeftWidth","borderRightWidth"],["borderTopLeftRadius","borderTopRightRadius"],["borderBottomLeftRadius","borderBottomRightRadius"],["padding-left","padding-right"],["margin-left","margin-right"],["border-left","border-right"],["border-left-color","border-right-color"],["border-left-style","border-right-style"],["border-left-width","border-right-width"],["border-top-left-radius","border-top-right-radius"],["border-bottom-left-radius","border-bottom-right-radius"]]),tr=["content"],rr=Kt([["ltr","rtl"],["left","right"],["w-resize","e-resize"],["sw-resize","se-resize"],["nw-resize","ne-resize"]]),nr=new RegExp("(^|\\W|_)((ltr)|(rtl)|(left)|(right))(\\W|_|$)","g"),or=new RegExp("(left)|(right)");function ir(e){return Object.keys(e).reduce((function(t,r){var n=e[r];if("string"==typeof n&&(n=n.trim()),Qt(tr,r))return t[r]=n,t;var o=sr(r,n),i=o.key,s=o.value;return t[i]=s,t}),Array.isArray(e)?[]:{})}function sr(e,t){var r,n=/\/\*\s?@noflip\s?\*\//.test(t),o=n?e:er[r=e]||r,i=n?t:function(e,t){if(!function(e){return!("boolean"==typeof e||function(e){return null==e}(e))}(t))return t;if((r=t)&&"object"==typeof r)return ir(t);var r,n,o=Gt(t),i=function(e){return"function"==typeof e}(t),s=o||i?t:t.replace(/ !important.*?$/,""),a=!o&&s.length!==t.length,l=Zt[e];return n=l?l({value:s,valuesToConvert:rr,propertiesToConvert:er,isRtl:!0,bgImgDirectionRegex:nr,bgPosDirectionRegex:or}):rr[s]||s,a?n+" !important":n}(o,t);return{key:o,value:i}}const ar=/[A-Z]/g,lr=/^ms-/,cr={};function ur(e){return"-"+e.toLowerCase()}function dr(e){if(Object.prototype.hasOwnProperty.call(cr,e))return cr[e];if("--"===e.substr(0,2))return e;const t=e.replace(ar,ur);return cr[e]=lr.test(t)?"-"+t:t}function hr(e){return"&"===e.charAt(0)?e.slice(1):e}var fr="-moz-",pr="-webkit-",gr="comm",mr="rule",vr="decl",br="@import",yr="@keyframes",wr="@layer",_r=Math.abs,kr=String.fromCharCode,xr=Object.assign;function Sr(e){return e.trim()}function Er(e,t){return(e=t.exec(e))?e[0]:e}function Cr(e,t,r){return e.replace(t,r)}function Tr(e,t,r){return e.indexOf(t,r)}function Ir(e,t){return 0|e.charCodeAt(t)}function Nr(e,t,r){return e.slice(t,r)}function Rr(e){return e.length}function Dr(e){return e.length}function Pr(e,t){return t.push(e),e}function zr(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function Br(e,t,r,n){switch(e.type){case wr:if(e.children.length)break;case br:case vr:return e.return=e.return||e.value;case gr:return"";case yr:return e.return=e.value+"{"+zr(e.children,n)+"}";case mr:if(!Rr(e.value=e.props.join(",")))return""}return Rr(r=zr(e.children,n))?e.return=e.value+"{"+r+"}":""}var Or=1,Ar=1,Fr=0,Mr=0,jr=0,Lr="";function qr(e,t,r,n,o,i,s,a){return{value:e,root:t,parent:r,type:n,props:o,children:i,line:Or,column:Ar,length:s,return:"",siblings:a}}function Ur(e,t){return xr(qr("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Vr(){return jr=Mr>0?Ir(Lr,--Mr):0,Ar--,10===jr&&(Ar=1,Or--),jr}function Hr(){return jr=Mr<Fr?Ir(Lr,Mr++):0,Ar++,10===jr&&(Ar=1,Or++),jr}function Wr(){return Ir(Lr,Mr)}function $r(){return Mr}function Kr(e,t){return Nr(Lr,e,t)}function Gr(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Qr(e){return Or=Ar=1,Fr=Rr(Lr=e),Mr=0,[]}function Xr(e){return Lr="",e}function Yr(e){return Sr(Kr(Mr-1,en(91===e?e+2:40===e?e+1:e)))}function Jr(e){for(;(jr=Wr())&&jr<33;)Hr();return Gr(e)>2||Gr(jr)>3?"":" "}function Zr(e,t){for(;--t&&Hr()&&!(jr<48||jr>102||jr>57&&jr<65||jr>70&&jr<97););return Kr(e,$r()+(t<6&&32==Wr()&&32==Hr()))}function en(e){for(;Hr();)switch(jr){case e:return Mr;case 34:case 39:34!==e&&39!==e&&en(jr);break;case 40:41===e&&en(e);break;case 92:Hr()}return Mr}function tn(e,t){for(;Hr()&&e+jr!==57&&(e+jr!==84||47!==Wr()););return"/*"+Kr(t,Mr-1)+"*"+kr(47===e?e:Hr())}function rn(e){for(;!Gr(Wr());)Hr();return Kr(e,Mr)}function nn(e){return Xr(on("",null,null,null,[""],e=Qr(e),0,[0],e))}function on(e,t,r,n,o,i,s,a,l){for(var c=0,u=0,d=s,h=0,f=0,p=0,g=1,m=1,v=1,b=0,y="",w=o,_=i,k=n,x=y;m;)switch(p=b,b=Hr()){case 40:if(108!=p&&58==Ir(x,d-1)){-1!=Tr(x+=Cr(Yr(b),"&","&\f"),"&\f",_r(c?a[c-1]:0))&&(v=-1);break}case 34:case 39:case 91:x+=Yr(b);break;case 9:case 10:case 13:case 32:x+=Jr(p);break;case 92:x+=Zr($r()-1,7);continue;case 47:switch(Wr()){case 42:case 47:Pr(an(tn(Hr(),$r()),t,r,l),l);break;default:x+="/"}break;case 123*g:a[c++]=Rr(x)*v;case 125*g:case 59:case 0:switch(b){case 0:case 125:m=0;case 59+u:-1==v&&(x=Cr(x,/\f/g,"")),f>0&&Rr(x)-d&&Pr(f>32?ln(x+";",n,r,d-1,l):ln(Cr(x," ","")+";",n,r,d-2,l),l);break;case 59:x+=";";default:if(Pr(k=sn(x,t,r,c,u,o,a,y,w=[],_=[],d,i),i),123===b)if(0===u)on(x,t,k,k,w,i,d,a,_);else switch(99===h&&110===Ir(x,3)?100:h){case 100:case 108:case 109:case 115:on(e,k,k,n&&Pr(sn(e,k,k,0,0,o,a,y,o,w=[],d,_),_),o,_,d,a,n?w:_);break;default:on(x,k,k,k,[""],_,0,a,_)}}c=u=f=0,g=v=1,y=x="",d=s;break;case 58:d=1+Rr(x),f=p;default:if(g<1)if(123==b)--g;else if(125==b&&0==g++&&125==Vr())continue;switch(x+=kr(b),b*g){case 38:v=u>0?1:(x+="\f",-1);break;case 44:a[c++]=(Rr(x)-1)*v,v=1;break;case 64:45===Wr()&&(x+=Yr(Hr())),h=Wr(),u=d=Rr(y=x+=rn($r())),b++;break;case 45:45===p&&2==Rr(x)&&(g=0)}}return i}function sn(e,t,r,n,o,i,s,a,l,c,u,d){for(var h=o-1,f=0===o?i:[""],p=Dr(f),g=0,m=0,v=0;g<n;++g)for(var b=0,y=Nr(e,h+1,h=_r(m=s[g])),w=e;b<p;++b)(w=Sr(m>0?f[b]+" "+y:Cr(y,/&\f/g,f[b])))&&(l[v++]=w);return qr(e,t,r,0===o?mr:a,l,c,u,d)}function an(e,t,r,n){return qr(e,t,r,gr,kr(jr),Nr(e,2,-2),0,n)}function ln(e,t,r,n,o){return qr(e,t,r,vr,Nr(e,0,n),Nr(e,n+1,-1),n,o)}function cn(e){var t=Dr(e);return function(r,n,o,i){for(var s="",a=0;a<t;a++)s+=e[a](r,n,o,i)||"";return s}}function un(e){return function(t){t.root||(t=t.return)&&e(t)}}const dn=e=>{if(e.type===mr){if("string"==typeof e.props)return;e.props=e.props.map((e=>-1===e.indexOf(":global(")?e:function(e){return Xr(function(e){for(;Hr();)switch(Gr(jr)){case 0:Pr(rn(Mr-1),e);break;case 2:Pr(Yr(jr),e);break;default:Pr(kr(jr),e)}return e}(Qr(e)))}(e).reduce(((e,t,r,n)=>{if(""===t)return e;if(":"===t&&"global"===n[r+1]){const t=n[r+2].slice(1,-1)+" ";return e.unshift(t),n[r+1]="",n[r+2]="",e}return e.push(t),e}),[]).join("")))}};function hn(e,t,r){switch(function(e,t){return 45^Ir(e,0)?(((t<<2^Ir(e,0))<<2^Ir(e,1))<<2^Ir(e,2))<<2^Ir(e,3):0}(e,t)){case 5103:return pr+"print-"+e+e;case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:return pr+e+e;case 4215:if(102===Ir(e,9))return pr+e+e;if(116===Ir(e,t+1))return pr+e+e;break;case 4789:return fr+e+e;case 5349:case 4246:case 6968:return pr+e+fr+e+e;case 6187:if(!Er(e,/grab/))return Cr(Cr(Cr(e,/(zoom-|grab)/,pr+"$1"),/(image-set)/,pr+"$1"),e,"")+e;case 5495:case 3959:return Cr(e,/(image-set\([^]*)/,pr+"$1$`$1");case 4095:case 3583:case 4068:case 2532:return Cr(e,/(.+)-inline(.+)/,pr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Rr(e)-1-t>6)switch(Ir(e,t+1)){case 102:if(108===Ir(e,t+3))return Cr(e,/(.+:)(.+)-([^]+)/,"$1"+pr+"$2-$3$1"+fr+(108==Ir(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Tr(e,"stretch")?hn(Cr(e,"stretch","fill-available"),t)+e:e}}return e}function fn(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case vr:return void(e.return=hn(e.value,e.length));case mr:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(Er(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return zr([Ur(e,{props:[Cr(t,/:(read-\w+)/,":"+fr+"$1")]})],n);case"::placeholder":return zr([Ur(e,{props:[Cr(t,/:(plac\w+)/,":"+pr+"input-$1")]}),Ur(e,{props:[Cr(t,/:(plac\w+)/,":"+fr+"$1")]})],n)}return""}))}}const pn=e=>{(function(e){switch(e.type){case"@container":case"@media":case"@supports":case wr:return!0}return!1})(e)&&Array.isArray(e.children)&&e.children.sort(((e,t)=>e.props[0]>t.props[0]?1:-1))};const gn=/,( *[^ &])/g;function mn(e,t,r){let n=t;return r.length>0&&(n=r.reduceRight(((e,t)=>{return`${r=t,"&"+hr(r.replace(gn,",&$1"))} { ${e} }`;var r}),t)),`${e}{${n}}`}function vn(e){const{className:t,media:r,layer:n,selectors:o,support:i,property:s,rtlClassName:a,rtlProperty:l,rtlValue:c,value:u,container:d}=e,h=`.${t}`,f=Array.isArray(u)?`${u.map((e=>`${dr(s)}: ${e}`)).join(";")};`:`${dr(s)}: ${u};`;let p=mn(h,f,o);if(l&&a){const e=`.${a}`,t=Array.isArray(c)?`${c.map((e=>`${dr(l)}: ${e}`)).join(";")};`:`${dr(l)}: ${c};`;p+=mn(e,t,o)}return r&&(p=`@media ${r} { ${p} }`),n&&(p=`@layer ${n} { ${p} }`),i&&(p=`@supports ${i} { ${p} }`),d&&(p=`@container ${d} { ${p} }`),function(e,t){const r=[];return zr(nn(e),cn([dn,pn,fn,Br,un((e=>r.push(e)))])),r}(p)}function bn(e){let t="";for(const r in e){const n=e[r];"string"!=typeof n&&"number"!=typeof n||(t+=dr(r)+":"+n+";")}return t}function yn(e){let t="";for(const r in e)t+=`${r}{${bn(e[r])}}`;return t}function wn(e,t){const r=[];return zr(nn(`@keyframes ${e} {${t}}`),cn([Br,fn,un((e=>r.push(e)))])),r}function _n(e,t){return 0===e.length?t:`${e} and ${t}`}function kn(e){return"@media"===e.substr(0,6)}function xn(e){return"@layer"===e.substr(0,6)}const Sn=/^(:|\[|>|&)/;function En(e){return Sn.test(e)}function Cn(e){return"@supports"===e.substr(0,9)}function Tn(e){return"@container"===e.substring(0,10)}const In={"us-w":"w","us-v":"i",nk:"l",si:"v",cu:"f",ve:"h",ti:"a"};function Nn(e,t,r,n,o){if(r)return"m";if(t||n)return"t";if(o)return"c";if(e.length>0){const t=e[0].trim();if(58===t.charCodeAt(0))return In[t.slice(4,8)]||In[t.slice(3,5)]||"d"}return"d"}function Rn({container:e,media:t,layer:r,property:n,selector:o,support:i,value:s}){const a=Ue(o+e+t+r+i+n+s.trim());return L+a}function Dn(e,t,r,n,o){const i=Ue(e+t+r+n+o),s=i.charCodeAt(0);return s>=48&&s<=57?String.fromCharCode(s+17)+i.slice(1):i}function Pn(e){return e.replace(/>\s+/g,">")}function zn(e,t){const r=JSON.stringify(t,null,2),n=["@griffel/react: A rule was not resolved to CSS properly. Please check your `makeStyles` or `makeResetStyles` calls for following:"," ".repeat(2)+"makeStyles({"," ".repeat(4)+"[slot]: {"," ".repeat(6)+`"${e}": ${r.split("\n").map(((e,t)=>" ".repeat(0===t?0:6)+e)).join("\n")}`," ".repeat(4)+"}"," ".repeat(2)+"})",""];-1===e.indexOf("&")?(n.push("It looks that you're are using a nested selector, but it is missing an ampersand placeholder where the generated class name should be injected."),n.push(`Try to update a property to include it i.e "${e}" => "&${e}".`)):(n.push(""),n.push("If it's not obvious what triggers a problem, please report an issue at https://github.com/microsoft/griffel/issues")),n.join("\n")}function Bn(e,t){[`@griffel/react: You are using unsupported shorthand CSS property "${e}". Please check your "makeStyles" calls, there *should not* be following:`," ".repeat(2)+"makeStyles({"," ".repeat(4)+`[slot]: { ${e}: "${t}" }`," ".repeat(2)+"})","","Learn why CSS shorthands are not supported: https://aka.ms/griffel-css-shorthands"].join("\n")}function On(e,t,r,n){e[t]=n?[r,n]:r}function An(e,t){return t?[e,t]:e}function Fn(e,t,r,n,o){let i;"m"===t&&o&&(i={m:o}),null!=e[t]||(e[t]=[]),r&&e[t].push(An(r,i)),n&&e[t].push(An(n,i))}function Mn(e,t=[],r="",n="",o="",i="",s={},a={},l){for(const u in e){if(H.hasOwnProperty(u)){Bn(u,e[u]);continue}const d=e[u];if(null!=d)if("string"==typeof d||"number"==typeof d){const e=Pn(t.join("")),c=Dn(e,i,r,o,u),h=Rn({container:i,media:r,layer:n,value:d.toString(),support:o,selector:e,property:u}),f=l&&{key:u,value:l}||sr(u,d),p=f.key!==u||f.value!==d,g=p?Rn({container:i,value:f.value.toString(),property:f.key,selector:e,media:r,layer:n,support:o}):void 0,m=p?{rtlClassName:g,rtlProperty:f.key,rtlValue:f.value}:void 0,v=Nn(t,n,r,o,i),[b,y]=vn(Object.assign({className:h,media:r,layer:n,selectors:t,property:u,support:o,container:i,value:d},m));On(s,c,h,g),Fn(a,v,b,y,r)}else if("animationName"===u){const e=Array.isArray(d)?d:[d],l=[],c=[];for(const t of e){const e=yn(t),n=yn(ir(t)),o=L+Ue(e);let i;const s=wn(o,e);let u=[];e===n?i=o:(i=L+Ue(n),u=wn(i,n));for(let e=0;e<s.length;e++)Fn(a,"k",s[e],u[e],r);l.push(o),c.push(i)}Mn({animationName:l.join(", ")},t,r,n,o,i,s,a,c.join(", "))}else if(Array.isArray(d)){if(0===d.length)continue;const e=Pn(t.join("")),l=Dn(e,i,r,o,u),c=Rn({container:i,media:r,layer:n,value:d.map((e=>(null!=e?e:"").toString())).join(";"),support:o,selector:e,property:u}),h=d.map((e=>sr(u,e))),f=!h.some((e=>e.key!==h[0].key));if(!f)continue;const p=h[0].key!==u||h.some(((e,t)=>e.value!==d[t])),g=p?Rn({container:i,value:h.map((e=>{var t;return(null!=(t=null==e?void 0:e.value)?t:"").toString()})).join(";"),property:h[0].key,selector:e,layer:n,media:r,support:o}):void 0,m=p?{rtlClassName:g,rtlProperty:h[0].key,rtlValue:h.map((e=>e.value))}:void 0,v=Nn(t,n,r,o,i),[b,y]=vn(Object.assign({className:c,media:r,layer:n,selectors:t,property:u,support:o,container:i,value:d},m));On(s,l,c,g),Fn(a,v,b,y,r)}else if(null!=(c=d)&&"object"==typeof c&&!1===Array.isArray(c))if(En(u))Mn(d,t.concat(hr(u)),r,n,o,i,s,a);else if(kn(u)){const e=_n(r,u.slice(6).trim());Mn(d,t,e,n,o,i,s,a)}else if(xn(u)){const e=(n?`${n}.`:"")+u.slice(6).trim();Mn(d,t,r,e,o,i,s,a)}else if(Cn(u)){const e=_n(o,u.slice(9).trim());Mn(d,t,r,n,e,i,s,a)}else if(Tn(u)){const e=u.slice(10).trim();Mn(d,t,r,n,o,e,s,a)}else zn(u,d)}var c;return[s,a]}const jn=t.useInsertionEffect?t.useInsertionEffect:void 0,Ln=()=>{const e={};return function(t,r){jn&&"undefined"!=typeof window&&window.document&&window.document.createElement?jn((()=>{t.insertCSSRules(r)}),[t,r]):void 0===e[t.id]&&(t.insertCSSRules(r),e[t.id]=!0)}};function qn(e){const t=function(e,t=qe){const r=t();let n=null,o=null,i=null,s=null;return function(t){const{dir:a,renderer:l}=t;null===n&&([n,o]=function(e){const t={},r={};for(const n in e){const o=e[n],[i,s]=Mn(o);t[n]=i,Object.keys(s).forEach((e=>{r[e]=(r[e]||[]).concat(s[e])}))}return[t,r]}(e));const c="ltr"===a;return c?null===i&&(i=We(n,a)):null===s&&(s=We(n,a)),r(l,o),c?i:s}}(e,Ln);return function(){const e=g(),r=J();return t({dir:e,renderer:r})}}function Un(e,t){const r=$e(e,t,Ln);return function(){const e=g(),t=J();return r({dir:e,renderer:t})}}const Vn=Un({base:{Bt984gj:"f122n59",B7ck84d:"f1ewtqcl",mc9l5x:"f22iagw",Beiy3e4:"f1063pyq",Bh6795r:"fqerorx",qhf8xq:"f10pi13n",Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm",fsow6f:"f17mccla",Bcvre1j:"fyl8oag",Br0sdwz:"f16vkdww",Bn78ew0:"fhsnbul",li1rpt:"f1gw3sf2",ap17g6:"f1ly5f7u",B771hl4:"f1s3tz6t"},childless:{susq4k:"f1kyqvp9",Bicfajf:["fzynn9s","f1z0ukd1"],jwcpgy:["fekrn8e","ftdg338"],B4rk6o:"fesgyo"},start:{Bsft5z2:"f13zj6fq"},center:{Ftih45:"f1wl9k8s",Bsft5z2:"f13zj6fq"},end:{Ftih45:"f1wl9k8s"},brand:{sj55zd:"f16muhyy",Bq4z7u6:"fcbuu2a",Bk5zm6e:["f1wdw2dr","f1ttio3w"],Bqjgrrk:"f1582fpk",Bm6vgfq:["f1ttio3w","f1wdw2dr"],B0n5ga8:"f1ahrvm8",s924m2:["f1cd3wbc","f17hbk9y"],B1q35kw:"fvrapl0",Gp14am:["f17hbk9y","f1cd3wbc"]},default:{sj55zd:"fkfq4zb",Bq4z7u6:"f1vccso1",Bk5zm6e:["f1geml7w","fjml6kk"],Bqjgrrk:"f1r7kh1m",Bm6vgfq:["fjml6kk","f1geml7w"],B0n5ga8:"f16j7guv",s924m2:["fx01ahm","fj1a37q"],B1q35kw:"fl8d8yv",Gp14am:["fj1a37q","fx01ahm"]},subtle:{sj55zd:"f11d4kpn",Bq4z7u6:"f5g06un",Bk5zm6e:["f13sxdku","f1n015lb"],Bqjgrrk:"f1x6bl8t",Bm6vgfq:["f1n015lb","f13sxdku"],B0n5ga8:"fvod1wy",s924m2:["fwslg65","flk0e17"],B1q35kw:"f103fvts",Gp14am:["flk0e17","fwslg65"]},strong:{sj55zd:"f19n0e5",Bq4z7u6:"f10tv6oz",Bk5zm6e:["f16xp3sf","f1seuxxq"],Bqjgrrk:"fwrmqbx",Bm6vgfq:["f1seuxxq","f16xp3sf"],B0n5ga8:"ft83z1f",s924m2:["f1g4150c","f192dr6e"],B1q35kw:"f1qnawh6",Gp14am:["f192dr6e","f1g4150c"]}},{d:[".f122n59{align-items:center;}",".f1ewtqcl{box-sizing:border-box;}",".f22iagw{display:flex;}",".f1063pyq{flex-direction:row;}",".fqerorx{flex-grow:1;}",".f10pi13n{position:relative;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".f17mccla{text-align:center;}",".fyl8oag::before{box-sizing:border-box;}",".f16vkdww::before{display:flex;}",".fhsnbul::before{flex-grow:1;}",".f1gw3sf2::after{box-sizing:border-box;}",".f1ly5f7u::after{display:flex;}",".f1s3tz6t::after{flex-grow:1;}",".f1kyqvp9::before{margin-bottom:0;}",".fzynn9s::before{margin-right:0;}",".f1z0ukd1::before{margin-left:0;}",".fekrn8e::after{margin-left:0;}",".ftdg338::after{margin-right:0;}",".fesgyo::after{margin-top:0;}",'.f13zj6fq::after{content:"";}','.f1wl9k8s::before{content:"";}',".f16muhyy{color:var(--colorBrandForeground1);}",".fcbuu2a::before{border-top-color:var(--colorBrandStroke1);}",".f1wdw2dr::before{border-right-color:var(--colorBrandStroke1);}",".f1ttio3w::before{border-left-color:var(--colorBrandStroke1);}",".f1582fpk::before{border-bottom-color:var(--colorBrandStroke1);}",".f1ahrvm8::after{border-top-color:var(--colorBrandStroke1);}",".f1cd3wbc::after{border-right-color:var(--colorBrandStroke1);}",".f17hbk9y::after{border-left-color:var(--colorBrandStroke1);}",".fvrapl0::after{border-bottom-color:var(--colorBrandStroke1);}",".fkfq4zb{color:var(--colorNeutralForeground2);}",".f1vccso1::before{border-top-color:var(--colorNeutralStroke2);}",".f1geml7w::before{border-right-color:var(--colorNeutralStroke2);}",".fjml6kk::before{border-left-color:var(--colorNeutralStroke2);}",".f1r7kh1m::before{border-bottom-color:var(--colorNeutralStroke2);}",".f16j7guv::after{border-top-color:var(--colorNeutralStroke2);}",".fx01ahm::after{border-right-color:var(--colorNeutralStroke2);}",".fj1a37q::after{border-left-color:var(--colorNeutralStroke2);}",".fl8d8yv::after{border-bottom-color:var(--colorNeutralStroke2);}",".f11d4kpn{color:var(--colorNeutralForeground3);}",".f5g06un::before{border-top-color:var(--colorNeutralStroke3);}",".f13sxdku::before{border-right-color:var(--colorNeutralStroke3);}",".f1n015lb::before{border-left-color:var(--colorNeutralStroke3);}",".f1x6bl8t::before{border-bottom-color:var(--colorNeutralStroke3);}",".fvod1wy::after{border-top-color:var(--colorNeutralStroke3);}",".fwslg65::after{border-right-color:var(--colorNeutralStroke3);}",".flk0e17::after{border-left-color:var(--colorNeutralStroke3);}",".f103fvts::after{border-bottom-color:var(--colorNeutralStroke3);}",".f19n0e5{color:var(--colorNeutralForeground1);}",".f10tv6oz::before{border-top-color:var(--colorNeutralStroke1);}",".f16xp3sf::before{border-right-color:var(--colorNeutralStroke1);}",".f1seuxxq::before{border-left-color:var(--colorNeutralStroke1);}",".fwrmqbx::before{border-bottom-color:var(--colorNeutralStroke1);}",".ft83z1f::after{border-top-color:var(--colorNeutralStroke1);}",".f1g4150c::after{border-right-color:var(--colorNeutralStroke1);}",".f192dr6e::after{border-left-color:var(--colorNeutralStroke1);}",".f1qnawh6::after{border-bottom-color:var(--colorNeutralStroke1);}"]}),Hn=Un({base:{a9b677:"fly5x3f",Bdkvgpv:"f163fonl",B0qfbqy:"f51yk4v",pbipgd:"f13rof3u",Bm2nyyq:"f8rth92",xrcqlc:"f6czdpx",i5u598:"f1iyka9k"},inset:{uwmqm3:["fjlbh76","f11qrl6u"],z189sj:["f11qrl6u","fjlbh76"]},start:{Ftih45:"f1wl9k8s",Bicfajf:["f1ojjlep","fk1kexq"],Bxwl2t9:"f1he2m4d",jwcpgy:["f12w1bnb","f1558wlj"]},center:{Bicfajf:["f1ojjlep","fk1kexq"],jwcpgy:["f12w1bnb","f1558wlj"]},end:{Bicfajf:["f1ojjlep","fk1kexq"],Bsft5z2:"f13zj6fq",jwcpgy:["f12w1bnb","f1558wlj"],Iy66sp:"f1ayce8x"}},{d:[".fly5x3f{width:100%;}",".f163fonl::before{border-top-style:solid;}",".f51yk4v::before{border-top-width:var(--strokeWidthThin);}",".f13rof3u::before{min-width:8px;}",".f8rth92::after{border-top-style:solid;}",".f6czdpx::after{border-top-width:var(--strokeWidthThin);}",".f1iyka9k::after{min-width:8px;}",".fjlbh76{padding-left:12px;}",".f11qrl6u{padding-right:12px;}",'.f1wl9k8s::before{content:"";}',".f1ojjlep::before{margin-right:12px;}",".fk1kexq::before{margin-left:12px;}",".f1he2m4d::before{max-width:8px;}",".f12w1bnb::after{margin-left:12px;}",".f1558wlj::after{margin-right:12px;}",'.f13zj6fq::after{content:"";}',".f1ayce8x::after{max-width:8px;}"]}),Wn=Un({base:{Beiy3e4:"f1vx9l62",sshi5w:"f16gbxbe",m598lv:["f1yq6w5o","f1jpmc5p"],B4f6apu:["f9sc749","f1x8pvcy"],zkzzav:"fhkwbjy",Barhvk9:["flthirb","ftkbnf5"],Ihftqj:["f13hvwk3","f1en4csx"],Bde111x:"f19onpk6"},inset:{B6of3ja:"f1xdg43u",jrapky:"f1jlhsmd"},withChildren:{sshi5w:"f1tjaq3g"},start:{Ftih45:"f1wl9k8s",susq4k:"fg2pwug",Bbdr6tz:"fkjtzyi",B4rk6o:"f8vk40g"},center:{susq4k:"fg2pwug",B4rk6o:"f8vk40g"},end:{susq4k:"fg2pwug",Bsft5z2:"f13zj6fq",B4rk6o:"f8vk40g",gn64ia:"fqg5mu5"}},{d:[".f1vx9l62{flex-direction:column;}",".f16gbxbe{min-height:20px;}",".f1yq6w5o::before{border-right-style:solid;}",".f1jpmc5p::before{border-left-style:solid;}",".f9sc749::before{border-right-width:var(--strokeWidthThin);}",".f1x8pvcy::before{border-left-width:var(--strokeWidthThin);}",".fhkwbjy::before{min-height:8px;}",".flthirb::after{border-right-style:solid;}",".ftkbnf5::after{border-left-style:solid;}",".f13hvwk3::after{border-right-width:var(--strokeWidthThin);}",".f1en4csx::after{border-left-width:var(--strokeWidthThin);}",".f19onpk6::after{min-height:8px;}",".f1xdg43u{margin-top:12px;}",".f1jlhsmd{margin-bottom:12px;}",".f1tjaq3g{min-height:84px;}",'.f1wl9k8s::before{content:"";}',".fg2pwug::before{margin-bottom:12px;}",".fkjtzyi::before{max-height:8px;}",".f8vk40g::after{margin-top:12px;}",'.f13zj6fq::after{content:"";}',".fqg5mu5::after{max-height:8px;}"]}),$n=e.forwardRef(((e,t)=>{const r=((e,t)=>{const{alignContent:r="center",appearance:n="default",inset:o=!1,vertical:i=!1,wrapper:s}=e,a=Le("divider-");return{alignContent:r,appearance:n,inset:o,vertical:i,components:{root:"div",wrapper:"div"},root:me(Be("div",{role:"separator","aria-orientation":i?"vertical":"horizontal","aria-labelledby":e.children?a:void 0,...e,ref:t}),{elementType:"div"}),wrapper:me(s,{defaultProps:{id:a,children:e.children},elementType:"div"})}})(e,t);return(e=>{const t=Vn(),r=Hn(),n=Wn(),{alignContent:o,appearance:i,inset:s,vertical:a}=e;e.root.className=Ge("fui-Divider",t.base,t[o],i&&t[i],!a&&r.base,!a&&s&&r.inset,!a&&r[o],a&&n.base,a&&s&&n.inset,a&&n[o],a&&void 0!==e.root.children&&n.withChildren,void 0===e.root.children&&t.childless,e.root.className),e.wrapper&&(e.wrapper.className=Ge("fui-Divider__wrapper",e.wrapper.className))})(r),T("useDividerStyles_unstable")(r),(e=>u(e.root,{children:void 0!==e.root.children&&u(e.wrapper,{children:e.root.children})}))(r)}));$n.displayName="Divider";const Kn=e.createContext(void 0);Kn.Provider;const Gn=Un({root:{mc9l5x:"f1w7gpdv",Bg96gwp:"fez10in",ycbfsm:"fg4l7m0"},rtl:{Bz10aip:"f13rod7r"}},{d:[".f1w7gpdv{display:inline;}",".fez10in{line-height:0;}",".f13rod7r{-webkit-transform:scaleX(-1);-moz-transform:scaleX(-1);-ms-transform:scaleX(-1);transform:scaleX(-1);}"],t:["@media (forced-colors: active){.fg4l7m0{forced-color-adjust:auto;}}"]}),Qn=(t,r)=>{const{title:n,primaryFill:o="currentColor",...i}=t,s={...i,title:void 0,fill:o},a=Gn(),l=e.useContext(P)?e.useContext(P):z;return s.className=Ge(a.root,(null==r?void 0:r.flipInRtl)&&"rtl"===(null==l?void 0:l.textDirection)&&a.rtl,s.className),n&&(s["aria-label"]=n),s["aria-label"]||s["aria-labelledby"]?s.role="img":s["aria-hidden"]=!0,s},Xn=(t,r,n,o)=>{const i="1em"===r?"20":r,s=e.forwardRef(((t,s)=>{const a={...Qn(t,{flipInRtl:null==o?void 0:o.flipInRtl}),ref:s,width:r,height:r,viewBox:`0 0 ${i} ${i}`,xmlns:"http://www.w3.org/2000/svg"};return e.createElement("svg",a,...n.map((t=>e.createElement("path",{d:t,fill:a.fill}))))}));return s.displayName=t,s},Yn=Xn("InfoFilled","1em",["M18 10a8 8 0 1 0-16 0 8 8 0 0 0 16 0ZM9.5 8.91a.5.5 0 0 1 1 0V13.6a.5.5 0 0 1-1 0V8.9Zm-.25-2.16a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0Z"]),Jn=Xn("WarningFilled","1em",["M8.68 2.79a1.5 1.5 0 0 1 2.64 0l6.5 12A1.5 1.5 0 0 1 16.5 17h-13a1.5 1.5 0 0 1-1.32-2.21l6.5-12ZM10.5 7.5a.5.5 0 0 0-1 0v4a.5.5 0 0 0 1 0v-4Zm.25 6.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"]),Zn=Xn("CheckmarkCircleFilled","1em",["M10 2a8 8 0 1 1 0 16 8 8 0 0 1 0-16Zm3.36 5.65a.5.5 0 0 0-.64-.06l-.07.06L9 11.3 7.35 9.65l-.07-.06a.5.5 0 0 0-.7.7l.07.07 2 2 .07.06c.17.11.4.11.56 0l.07-.06 4-4 .07-.08a.5.5 0 0 0-.06-.63Z"]),eo=Xn("ChevronDownRegular","1em",["M15.85 7.65c.2.2.2.5 0 .7l-5.46 5.49a.55.55 0 0 1-.78 0L4.15 8.35a.5.5 0 1 1 .7-.7L10 12.8l5.15-5.16c.2-.2.5-.2.7 0Z"]),to=Xn("ChevronLeftFilled","1em",["M12.27 15.8a.75.75 0 0 1-1.06-.03l-5-5.25a.75.75 0 0 1 0-1.04l5-5.25a.75.75 0 1 1 1.08 1.04L7.8 10l4.5 4.73c.29.3.28.78-.02 1.06Z"]),ro=Xn("ChevronLeftRegular","1em",["M12.35 15.85a.5.5 0 0 1-.7 0L6.16 10.4a.55.55 0 0 1 0-.78l5.49-5.46a.5.5 0 1 1 .7.7L7.2 10l5.16 5.15c.2.2.2.5 0 .7Z"]),no=Xn("ChevronRightFilled","1em",["M7.73 4.2a.75.75 0 0 1 1.06.03l5 5.25c.28.3.28.75 0 1.04l-5 5.25a.75.75 0 1 1-1.08-1.04L12.2 10l-4.5-4.73a.75.75 0 0 1 .02-1.06Z"]),oo=Xn("ChevronRightRegular","1em",["M7.65 4.15c.2-.2.5-.2.7 0l5.49 5.46c.21.22.21.57 0 .78l-5.49 5.46a.5.5 0 0 1-.7-.7L12.8 10 7.65 4.85a.5.5 0 0 1 0-.7Z"]),io=Xn("CircleFilled","1em",["M10 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16Z"]),so=Xn("DismissRegular","1em",["m4.09 4.22.06-.07a.5.5 0 0 1 .63-.06l.07.06L10 9.29l5.15-5.14a.5.5 0 0 1 .63-.06l.07.06c.18.17.2.44.06.63l-.06.07L10.71 10l5.14 5.15c.18.17.2.44.06.63l-.06.07a.5.5 0 0 1-.63.06l-.07-.06L10 10.71l-5.15 5.14a.5.5 0 0 1-.63.06l-.07-.06a.5.5 0 0 1-.06-.63l.06-.07L9.29 10 4.15 4.85a.5.5 0 0 1-.06-.63l.06-.07-.06.07Z"]),ao=Xn("ErrorCircleFilled","1em",["M10 2a8 8 0 1 1 0 16 8 8 0 0 1 0-16Zm0 10.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM10 6a.5.5 0 0 0-.5.41v4.68a.5.5 0 0 0 1 0V6.41A.5.5 0 0 0 10 6Z"]);function lo(t){switch(t){case"info":return e.createElement(Yn,null);case"warning":return e.createElement(Jn,null);case"error":return e.createElement(ao,null);case"success":return e.createElement(Zn,null);default:return null}}const co=e.createContext(void 0),uo={className:"",nodeRef:e.createRef()},ho=(co.Provider,(t,r)=>{const{layout:n="auto",intent:o="info",politeness:i,shape:s="rounded"}=t,a=(null!=i?i:"info"===o)?"polite":"assertive",l="auto"===n,{ref:c,reflowing:u}=function(t=!1){const{targetDocument:r}=y(),n=e.useReducer((()=>({})),{})[1],o=e.useRef(!1),i=e.useRef(null),s=e.useRef(-1),a=e.useCallback((e=>{const t=e[0],r=null==t?void 0:t.borderBoxSize[0];if(!r||!t)return;const{inlineSize:i}=r,{target:a}=t;if(!Z(a))return;let l;o.current?s.current<i&&(l=!1):i<a.scrollWidth&&(l=!0),s.current=i,void 0!==l&&o.current!==l&&(o.current=l,n())}),[n]),l=e.useCallback((e=>{var n;if(!t||!e||!(null==r?void 0:r.defaultView))return;null===(n=i.current)||void 0===n||n.disconnect();const o=new r.defaultView.ResizeObserver(a);i.current=o,o.observe(e,{box:"border-box"})}),[r,a,t]);return e.useEffect((()=>()=>{var e;null===(e=i.current)||void 0===e||e.disconnect()}),[]),{ref:l,reflowing:o.current}}(l),d=l?u?"multiline":"singleline":n,{className:h,nodeRef:f}=null!==(p=e.useContext(co))&&void 0!==p?p:uo;var p;const g=e.useRef(null),m=e.useRef(null),{announce:v}=function(){var t;return null!==(t=e.useContext(Kn))&&void 0!==t?t:{announce:()=>{}}}(),b=Le();return e.useEffect((()=>{var e,t;const r=[null===(e=m.current)||void 0===e?void 0:e.textContent,null===(t=g.current)||void 0===t?void 0:t.textContent].filter(Boolean).join(",");v(r,{polite:"polite"===a,alert:"assertive"===a})}),[m,g,v,a]),{components:{root:"div",icon:"div",bottomReflowSpacer:"div"},root:me(Be("div",{ref:Oe(r,c,f),role:"group","aria-labelledby":b,...t}),{elementType:"div"}),icon:ve(t.icon,{renderByDefault:!0,elementType:"div",defaultProps:{children:lo(o)}}),bottomReflowSpacer:ve(t.bottomReflowSpacer,{renderByDefault:"multiline"===d,elementType:"div"}),layout:d,intent:o,transitionClassName:h,actionsRef:g,bodyRef:m,titleId:b,shape:s}}),fo=e.createContext(void 0),po={titleId:"",layout:"singleline",actionsRef:e.createRef(),bodyRef:e.createRef()},go=fo.Provider;function mo(e,t,r){const n=function(e,t,r,n=qe){const o=n();return function(n){const{dir:i,renderer:s}=n,a="ltr"===i?e:t||e;return o(s,Array.isArray(r)?{r:r}:r),a}}(e,t,r,Ln);return function(){const e=g(),t=J();return n({dir:e,renderer:t})}}const vo=mo("rashqx","ri1c0vc",['.rashqx{white-space:nowrap;display:grid;grid-template-columns:auto 1fr auto auto;grid-template-rows:1fr;grid-template-areas:"icon body secondaryActions actions";padding-left:var(--spacingHorizontalM);border-top-width:var(--strokeWidthThin);border-right-width:var(--strokeWidthThin);border-bottom-width:var(--strokeWidthThin);border-left-width:var(--strokeWidthThin);border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-left-style:solid;border-top-color:var(--colorNeutralStroke1);border-right-color:var(--colorNeutralStroke1);border-bottom-color:var(--colorNeutralStroke1);border-left-color:var(--colorNeutralStroke1);border-bottom-right-radius:var(--borderRadiusMedium);border-bottom-left-radius:var(--borderRadiusMedium);border-top-right-radius:var(--borderRadiusMedium);border-top-left-radius:var(--borderRadiusMedium);align-items:center;min-height:36px;box-sizing:border-box;background-color:var(--colorNeutralBackground3);}','.ri1c0vc{white-space:nowrap;display:grid;grid-template-columns:auto 1fr auto auto;grid-template-rows:1fr;grid-template-areas:"icon body secondaryActions actions";padding-right:var(--spacingHorizontalM);border-top-width:var(--strokeWidthThin);border-left-width:var(--strokeWidthThin);border-bottom-width:var(--strokeWidthThin);border-right-width:var(--strokeWidthThin);border-top-style:solid;border-left-style:solid;border-bottom-style:solid;border-right-style:solid;border-top-color:var(--colorNeutralStroke1);border-left-color:var(--colorNeutralStroke1);border-bottom-color:var(--colorNeutralStroke1);border-right-color:var(--colorNeutralStroke1);border-bottom-left-radius:var(--borderRadiusMedium);border-bottom-right-radius:var(--borderRadiusMedium);border-top-left-radius:var(--borderRadiusMedium);border-top-right-radius:var(--borderRadiusMedium);align-items:center;min-height:36px;box-sizing:border-box;background-color:var(--colorNeutralBackground3);}']),bo=mo("r1bxgyar","rv8i6h8",[".r1bxgyar{grid-row-start:icon;grid-column-start:icon;grid-row-end:icon;grid-column-end:icon;font-size:var(--fontSizeBase500);margin-right:var(--spacingHorizontalS);color:var(--colorNeutralForeground3);display:flex;align-items:center;}",".rv8i6h8{grid-row-start:icon;grid-column-start:icon;grid-row-end:icon;grid-column-end:icon;font-size:var(--fontSizeBase500);margin-left:var(--spacingHorizontalS);color:var(--colorNeutralForeground3);display:flex;align-items:center;}"]),yo=mo("r1vx593n",null,[".r1vx593n{margin-bottom:var(--spacingVerticalS);grid-area:secondaryActions;}"]),wo=Un({rootMultiline:{Huce71:"f6juhto",Bt984gj:"f1s2louj",z8tnut:"f1ngh7ph",Budl1dq:"f17g0uqy",zoa1oz:"f1w7oly7"},secondaryActionsMultiline:{Brf1p80:"f1e8xxv9",B6of3ja:"f1gaxbfw",jrapky:"fqcjy3b",t21cq0:["fibjyge","f9yszdx"]},square:{Bbmb7ep:["f1krrbdw","f1deotkl"],Beyfa6y:["f1deotkl","f1krrbdw"],B7oj6ja:["f10ostut","f1ozlkrg"],Btl43ni:["f1ozlkrg","f10ostut"]}},{d:[".f6juhto{white-space:normal;}",".f1s2louj{align-items:start;}",".f1ngh7ph{padding-top:var(--spacingVerticalMNudge);}",".f17g0uqy{grid-template-columns:auto 1fr auto;}",'.f1w7oly7{grid-template-areas:"icon body actions" "secondaryActions secondaryActions secondaryActions";}',".f1e8xxv9{justify-content:end;}",".f1gaxbfw{margin-top:var(--spacingVerticalMNudge);}",".fqcjy3b{margin-bottom:var(--spacingVerticalS);}",".fibjyge{margin-right:0px;}",".f9yszdx{margin-left:0px;}",".f1krrbdw{border-bottom-right-radius:0;}",".f1deotkl{border-bottom-left-radius:0;}",".f10ostut{border-top-right-radius:0;}",".f1ozlkrg{border-top-left-radius:0;}"]}),_o=Un({info:{},error:{sj55zd:"f1ca9wz"},warning:{sj55zd:"f14a4cve"},success:{sj55zd:"f36rra6"}},{d:[".f1ca9wz{color:var(--colorStatusDangerForeground1);}",".f14a4cve{color:var(--colorStatusWarningForeground3);}",".f36rra6{color:var(--colorStatusSuccessForeground1);}"]}),ko=Un({info:{},error:{De3pzq:"f1eon7jj",g2u3we:"f1f8dvr7",h3c5rm:["f1g1ijmo","f1nxacbt"],B9xav0g:"fo25q1j",zhjwy3:["f1nxacbt","f1g1ijmo"]},warning:{De3pzq:"f13ftzij",g2u3we:"frd1ypx",h3c5rm:["f1gyjrma","f18qd5xz"],B9xav0g:"fqyqtrt",zhjwy3:["f18qd5xz","f1gyjrma"]},success:{De3pzq:"f64thcm",g2u3we:"f1b4u7v",h3c5rm:["f1nyd2b1","f70v3om"],B9xav0g:"fk173vo",zhjwy3:["f70v3om","f1nyd2b1"]}},{d:[".f1eon7jj{background-color:var(--colorStatusDangerBackground1);}",".f1f8dvr7{border-top-color:var(--colorStatusDangerBorder1);}",".f1g1ijmo{border-right-color:var(--colorStatusDangerBorder1);}",".f1nxacbt{border-left-color:var(--colorStatusDangerBorder1);}",".fo25q1j{border-bottom-color:var(--colorStatusDangerBorder1);}",".f13ftzij{background-color:var(--colorStatusWarningBackground1);}",".frd1ypx{border-top-color:var(--colorStatusWarningBorder1);}",".f1gyjrma{border-right-color:var(--colorStatusWarningBorder1);}",".f18qd5xz{border-left-color:var(--colorStatusWarningBorder1);}",".fqyqtrt{border-bottom-color:var(--colorStatusWarningBorder1);}",".f64thcm{background-color:var(--colorStatusSuccessBackground1);}",".f1b4u7v{border-top-color:var(--colorStatusSuccessBorder1);}",".f1nyd2b1{border-right-color:var(--colorStatusSuccessBorder1);}",".f70v3om{border-left-color:var(--colorStatusSuccessBorder1);}",".fk173vo{border-bottom-color:var(--colorStatusSuccessBorder1);}"]}),xo=e.forwardRef(((t,r)=>{const n=ho(t,r);return(e=>{const t=vo(),r=bo(),n=_o(),o=ko(),i=yo(),s=wo();e.root.className=Ge("fui-MessageBar",t,"multiline"===e.layout&&s.rootMultiline,"square"===e.shape&&s.square,o[e.intent],e.transitionClassName,e.root.className),e.icon&&(e.icon.className=Ge("fui-MessageBar__icon",r,n[e.intent],e.icon.className)),e.bottomReflowSpacer&&(e.bottomReflowSpacer.className=Ge("fui-MessageBar__bottomReflowSpacer",i))})(n),T("useMessageBarStyles_unstable")(n),((e,t)=>u(go,{value:t.messageBar,children:d(e.root,{children:[e.icon&&u(e.icon,{}),e.root.children,e.bottomReflowSpacer&&u(e.bottomReflowSpacer,{})]})}))(n,function(t){const{layout:r,actionsRef:n,bodyRef:o,titleId:i}=t;return{messageBar:e.useMemo((()=>({layout:r,actionsRef:n,bodyRef:o,titleId:i})),[r,n,o,i])}}(n))}));xo.displayName="MessageBar";const So=mo("rnv3mfe","r1ixc1x8",[".rnv3mfe{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);grid-row-start:body;grid-column-start:body;grid-row-end:body;grid-column-end:body;padding-right:var(--spacingHorizontalM);}",".r1ixc1x8{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);grid-row-start:body;grid-column-start:body;grid-row-end:body;grid-column-end:body;padding-left:var(--spacingHorizontalM);}"]),Eo=e.forwardRef(((t,r)=>{const n=((t,r)=>{const{bodyRef:n}=null!==(o=e.useContext(fo))&&void 0!==o?o:po;var o;return{components:{root:"div"},root:me(Be("div",{ref:Oe(r,n),...t}),{elementType:"div"})}})(t,r);return(e=>{const t=So();e.root.className=Ge("fui-MessageBarBody",t,e.root.className)})(n),T("useMessageBarBodyStyles_unstable")(n),(e=>u(e.root,{}))(n)}));Eo.displayName="MessageBarBody";const Co="var(--fontFamilyBase)",To="var(--fontSizeBase100)",Io="var(--fontSizeBase200)",No="var(--fontSizeBase300)",Ro="var(--fontSizeBase400)",Do="var(--fontWeightRegular)",Po="var(--fontWeightSemibold)",zo="var(--fontWeightBold)",Bo="var(--lineHeightBase100)",Oo="var(--lineHeightBase200)",Ao="var(--lineHeightBase300)",Fo="var(--lineHeightBase400)",Mo=t=>{const[r,n]=e.useState(t);return[r,e=>{if(null==e)return void n(void 0);let t;t=e instanceof MouseEvent?e:e.nativeEvent,MouseEvent;const r=function(e){const t=e.clientX,r=e.clientY,n=t+1,o=r+1;return{getBoundingClientRect:function(){return{left:t,top:r,right:n,bottom:o,x:t,y:r,height:1,width:1}}}}(t);n(r)}]},jo={above:{position:"above",align:"center"},"above-start":{position:"above",align:"start"},"above-end":{position:"above",align:"end"},below:{position:"below",align:"center"},"below-start":{position:"below",align:"start"},"below-end":{position:"below",align:"end"},before:{position:"before",align:"center"},"before-top":{position:"before",align:"top"},"before-bottom":{position:"before",align:"bottom"},after:{position:"after",align:"center"},"after-top":{position:"after",align:"top"},"after-bottom":{position:"after",align:"bottom"}};function Lo(e){return null==e?{}:"string"==typeof e?jo[e]:e}const qo=["top","right","bottom","left"],Uo=Math.min,Vo=Math.max,Ho=Math.round,Wo=(Math.floor,e=>({x:e,y:e})),$o={left:"right",right:"left",bottom:"top",top:"bottom"},Ko={start:"end",end:"start"};function Go(e,t,r){return Vo(e,Uo(t,r))}function Qo(e,t){return"function"==typeof e?e(t):e}function Xo(e){return e.split("-")[0]}function Yo(e){return e.split("-")[1]}function Jo(e){return"x"===e?"y":"x"}function Zo(e){return"y"===e?"height":"width"}function ei(e){return["top","bottom"].includes(Xo(e))?"y":"x"}function ti(e){return Jo(ei(e))}function ri(e){return e.replace(/start|end/g,(e=>Ko[e]))}function ni(e){return e.replace(/left|right|bottom|top/g,(e=>$o[e]))}function oi(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function ii(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function si(e,t,r){let{reference:n,floating:o}=e;const i=ei(t),s=ti(t),a=Zo(s),l=Xo(t),c="y"===i,u=n.x+n.width/2-o.width/2,d=n.y+n.height/2-o.height/2,h=n[a]/2-o[a]/2;let f;switch(l){case"top":f={x:u,y:n.y-o.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-o.width,y:d};break;default:f={x:n.x,y:n.y}}switch(Yo(t)){case"start":f[s]-=h*(r&&c?-1:1);break;case"end":f[s]+=h*(r&&c?-1:1)}return f}async function ai(e,t){var r;void 0===t&&(t={});const{x:n,y:o,platform:i,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Qo(t,e),p=oi(f),g=a[h?"floating"===d?"reference":"floating":d],m=ii(await i.getClippingRect({element:null==(r=await(null==i.isElement?void 0:i.isElement(g)))||r?g:g.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{...s.floating,x:n,y:o}:s.reference,b=await(null==i.getOffsetParent?void 0:i.getOffsetParent(a.floating)),y=await(null==i.isElement?void 0:i.isElement(b))&&await(null==i.getScale?void 0:i.getScale(b))||{x:1,y:1},w=ii(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:b,strategy:l}):v);return{top:(m.top-w.top+p.top)/y.y,bottom:(w.bottom-m.bottom+p.bottom)/y.y,left:(m.left-w.left+p.left)/y.x,right:(w.right-m.right+p.right)/y.x}}function li(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ci(e){return qo.some((t=>e[t]>=0))}const ui=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:i,placement:s,middlewareData:a}=t,l=await async function(e,t){const{placement:r,platform:n,elements:o}=e,i=await(null==n.isRTL?void 0:n.isRTL(o.floating)),s=Xo(r),a=Yo(r),l="y"===ei(r),c=["left","top"].includes(s)?-1:1,u=i&&l?-1:1,d=Qo(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&"number"==typeof p&&(f="end"===a?-1*p:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}(t,e);return s===(null==(r=a.offset)?void 0:r.placement)&&null!=(n=a.arrow)&&n.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}};function di(e){return pi(e)?(e.nodeName||"").toLowerCase():"#document"}function hi(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function fi(e){var t;return null==(t=(pi(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function pi(e){return e instanceof Node||e instanceof hi(e).Node}function gi(e){return e instanceof Element||e instanceof hi(e).Element}function mi(e){return e instanceof HTMLElement||e instanceof hi(e).HTMLElement}function vi(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof hi(e).ShadowRoot)}function bi(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=xi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(o)}function yi(e){return["table","td","th"].includes(di(e))}function wi(e){const t=_i(),r=xi(e);return"none"!==r.transform||"none"!==r.perspective||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","perspective","filter"].some((e=>(r.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(r.contain||"").includes(e)))}function _i(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function ki(e){return["html","body","#document"].includes(di(e))}function xi(e){return hi(e).getComputedStyle(e)}function Si(e){return gi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Ei(e){if("html"===di(e))return e;const t=e.assignedSlot||e.parentNode||vi(e)&&e.host||fi(e);return vi(t)?t.host:t}function Ci(e){const t=Ei(e);return ki(t)?e.ownerDocument?e.ownerDocument.body:e.body:mi(t)&&bi(t)?t:Ci(t)}function Ti(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);const o=Ci(e),i=o===(null==(n=e.ownerDocument)?void 0:n.body),s=hi(o);return i?t.concat(s,s.visualViewport||[],bi(o)?o:[],s.frameElement&&r?Ti(s.frameElement):[]):t.concat(o,Ti(o,[],r))}function Ii(e){const t=xi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=mi(e),i=o?e.offsetWidth:r,s=o?e.offsetHeight:n,a=Ho(r)!==i||Ho(n)!==s;return a&&(r=i,n=s),{width:r,height:n,$:a}}function Ni(e){return gi(e)?e:e.contextElement}function Ri(e){const t=Ni(e);if(!mi(t))return Wo(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:i}=Ii(t);let s=(i?Ho(r.width):r.width)/n,a=(i?Ho(r.height):r.height)/o;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const Di=Wo(0);function Pi(e){const t=hi(e);return _i()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Di}function zi(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);const o=e.getBoundingClientRect(),i=Ni(e);let s=Wo(1);t&&(n?gi(n)&&(s=Ri(n)):s=Ri(e));const a=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==hi(e))&&t}(i,r,n)?Pi(i):Wo(0);let l=(o.left+a.x)/s.x,c=(o.top+a.y)/s.y,u=o.width/s.x,d=o.height/s.y;if(i){const e=hi(i),t=n&&gi(n)?hi(n):n;let r=e,o=r.frameElement;for(;o&&n&&t!==r;){const e=Ri(o),t=o.getBoundingClientRect(),n=xi(o),i=t.left+(o.clientLeft+parseFloat(n.paddingLeft))*e.x,s=t.top+(o.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=i,c+=s,r=hi(o),o=r.frameElement}}return ii({width:u,height:d,x:l,y:c})}const Bi=[":popover-open",":modal"];function Oi(e){return Bi.some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function Ai(e){return zi(fi(e)).left+Si(e).scrollLeft}function Fi(e,t,r){let n;if("viewport"===t)n=function(e,t){const r=hi(e),n=fi(e),o=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const e=_i();(!e||e&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a,y:l}}(e,r);else if("document"===t)n=function(e){const t=fi(e),r=Si(e),n=e.ownerDocument.body,o=Vo(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Vo(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+Ai(e);const a=-r.scrollTop;return"rtl"===xi(n).direction&&(s+=Vo(t.clientWidth,n.clientWidth)-o),{width:o,height:i,x:s,y:a}}(fi(e));else if(gi(t))n=function(e,t){const r=zi(e,!0,"fixed"===t),n=r.top+e.clientTop,o=r.left+e.clientLeft,i=mi(e)?Ri(e):Wo(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:o*i.x,y:n*i.y}}(t,r);else{const r=Pi(e);n={...t,x:t.x-r.x,y:t.y-r.y}}return ii(n)}function Mi(e,t){const r=Ei(e);return!(r===t||!gi(r)||ki(r))&&("fixed"===xi(r).position||Mi(r,t))}function ji(e,t,r){const n=mi(t),o=fi(t),i="fixed"===r,s=zi(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=Wo(0);if(n||!n&&!i)if(("body"!==di(t)||bi(o))&&(a=Si(t)),n){const e=zi(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else o&&(l.x=Ai(o));return{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Li(e,t){return mi(e)&&"fixed"!==xi(e).position?t?t(e):e.offsetParent:null}function qi(e,t){const r=hi(e);if(!mi(e)||Oi(e))return r;let n=Li(e,t);for(;n&&yi(n)&&"static"===xi(n).position;)n=Li(n,t);return n&&("html"===di(n)||"body"===di(n)&&"static"===xi(n).position&&!wi(n))?r:n||function(e){let t=Ei(e);for(;mi(t)&&!ki(t);){if(wi(t))return t;t=Ei(t)}return null}(e)||r}const Ui={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const i="fixed"===o,s=fi(n),a=!!t&&Oi(t.floating);if(n===s||a&&i)return r;let l={scrollLeft:0,scrollTop:0},c=Wo(1);const u=Wo(0),d=mi(n);if((d||!d&&!i)&&(("body"!==di(n)||bi(s))&&(l=Si(n)),mi(n))){const e=zi(n);c=Ri(n),u.x=e.x+n.clientLeft,u.y=e.y+n.clientTop}return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x,y:r.y*c.y-l.scrollTop*c.y+u.y}},getDocumentElement:fi,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const i="clippingAncestors"===r?function(e,t){const r=t.get(e);if(r)return r;let n=Ti(e,[],!1).filter((e=>gi(e)&&"body"!==di(e))),o=null;const i="fixed"===xi(e).position;let s=i?Ei(e):e;for(;gi(s)&&!ki(s);){const t=xi(s),r=wi(s);r||"fixed"!==t.position||(o=null),(i?!r&&!o:!r&&"static"===t.position&&o&&["absolute","fixed"].includes(o.position)||bi(s)&&!r&&Mi(e,s))?n=n.filter((e=>e!==s)):o=t,s=Ei(s)}return t.set(e,n),n}(t,this._c):[].concat(r),s=[...i,n],a=s[0],l=s.reduce(((e,r)=>{const n=Fi(t,r,o);return e.top=Vo(n.top,e.top),e.right=Uo(n.right,e.right),e.bottom=Uo(n.bottom,e.bottom),e.left=Vo(n.left,e.left),e}),Fi(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:qi,getElementRects:async function(e){const t=this.getOffsetParent||qi,r=this.getDimensions;return{reference:ji(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await r(e.floating)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:r}=Ii(e);return{width:t,height:r}},getScale:Ri,isElement:gi,isRTL:function(e){return"rtl"===xi(e).direction}},Vi=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...l}=Qo(e,t),c={x:r,y:n},u=await ai(t,l),d=ei(Xo(o)),h=Jo(d);let f=c[h],p=c[d];if(i){const e="y"===h?"bottom":"right";f=Go(f+u["y"===h?"top":"left"],f,f-u[e])}if(s){const e="y"===d?"bottom":"right";p=Go(p+u["y"===d?"top":"left"],p,p-u[e])}const g=a.fn({...t,[h]:f,[d]:p});return{...g,data:{x:g.x-r,y:g.y-n}}}}},Hi=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=Qo(e,t);if(null!=(r=i.arrow)&&r.alignmentOffset)return{};const v=Xo(o),b=Xo(a)===a,y=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=h||(b||!g?[ni(a)]:function(e){const t=ni(e);return[ri(e),t,ri(t)]}(a));h||"none"===p||w.push(...function(e,t,r,n){const o=Yo(e);let i=function(e,t,r){const n=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return r?t?o:n:t?n:o;case"left":case"right":return t?i:s;default:return[]}}(Xo(e),"start"===r,n);return o&&(i=i.map((e=>e+"-"+o)),t&&(i=i.concat(i.map(ri)))),i}(a,g,p,y));const _=[a,...w],k=await ai(t,m),x=[];let S=(null==(n=i.flip)?void 0:n.overflows)||[];if(u&&x.push(k[v]),d){const e=function(e,t,r){void 0===r&&(r=!1);const n=Yo(e),o=ti(e),i=Zo(o);let s="x"===o?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=ni(s)),[s,ni(s)]}(o,s,y);x.push(k[e[0]],k[e[1]])}if(S=[...S,{placement:o,overflows:x}],!x.every((e=>e<=0))){var E,C;const e=((null==(E=i.flip)?void 0:E.index)||0)+1,t=_[e];if(t)return{data:{index:e,overflows:S},reset:{placement:t}};let r=null==(C=S.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:C.placement;if(!r)switch(f){case"bestFit":{var T;const e=null==(T=S.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:T[0];e&&(r=e);break}case"initialPlacement":r=a}if(o!==r)return{reset:{placement:r}}}return{}}}},Wi=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:r,rects:n,platform:o,elements:i}=t,{apply:s=(()=>{}),...a}=Qo(e,t),l=await ai(t,a),c=Xo(r),u=Yo(r),d="y"===ei(r),{width:h,height:f}=n.floating;let p,g;"top"===c||"bottom"===c?(p=c,g=u===(await(null==o.isRTL?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(g=c,p="end"===u?"top":"bottom");const m=f-l[p],v=h-l[g],b=!t.middlewareData.shift;let y=m,w=v;if(d){const e=h-l.left-l.right;w=u||b?Uo(v,e):e}else{const e=f-l.top-l.bottom;y=u||b?Uo(m,e):e}if(b&&!u){const e=Vo(l.left,0),t=Vo(l.right,0),r=Vo(l.top,0),n=Vo(l.bottom,0);d?w=h-2*(0!==e||0!==t?e+t:Vo(l.left,l.right)):y=f-2*(0!==r||0!==n?r+n:Vo(l.top,l.bottom))}await s({...t,availableWidth:w,availableHeight:y});const _=await o.getDimensions(i.floating);return h!==_.width||f!==_.height?{reset:{rects:!0}}:{}}}},$i=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...o}=Qo(e,t);switch(n){case"referenceHidden":{const e=li(await ai(t,{...o,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:ci(e)}}}case"escaped":{const e=li(await ai(t,{...o,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:ci(e)}}}default:return{}}}}},Ki=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:i,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Qo(e,t)||{};if(null==c)return{};const d=oi(u),h={x:r,y:n},f=ti(o),p=Zo(f),g=await s.getDimensions(c),m="y"===f,v=m?"top":"left",b=m?"bottom":"right",y=m?"clientHeight":"clientWidth",w=i.reference[p]+i.reference[f]-h[f]-i.floating[p],_=h[f]-i.reference[f],k=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c));let x=k?k[y]:0;x&&await(null==s.isElement?void 0:s.isElement(k))||(x=a.floating[y]||i.floating[p]);const S=w/2-_/2,E=x/2-g[p]/2-1,C=Uo(d[v],E),T=Uo(d[b],E),I=C,N=x-g[p]-T,R=x/2-g[p]/2+S,D=Go(I,R,N),P=!l.arrow&&null!=Yo(o)&&R!==D&&i.reference[p]/2-(R<I?C:T)-g[p]/2<0,z=P?R<I?R-I:R-N:0;return{[f]:h[f]+z,data:{[f]:D,centerOffset:R-D-z,...P&&{alignmentOffset:z}},reset:P}}}),Gi=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:i,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Qo(e,t),u={x:r,y:n},d=ei(o),h=Jo(d);let f=u[h],p=u[d];const g=Qo(a,t),m="number"==typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const e="y"===h?"height":"width",t=i.reference[h]-i.floating[e]+m.mainAxis,r=i.reference[h]+i.reference[e]-m.mainAxis;f<t?f=t:f>r&&(f=r)}if(c){var v,b;const e="y"===h?"width":"height",t=["top","left"].includes(Xo(o)),r=i.reference[d]-i.floating[e]+(t&&(null==(v=s.offset)?void 0:v[d])||0)+(t?0:m.crossAxis),n=i.reference[d]+i.reference[e]+(t?0:(null==(b=s.offset)?void 0:b[d])||0)-(t?m.crossAxis:0);p<r?p=r:p>n&&(p=n)}return{[h]:f,[d]:p}}}},Qi=(e,t,r)=>{const n=new Map,o={platform:Ui,...r},i={...o.platform,_c:n};return(async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:i=[],platform:s}=r,a=i.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:d}=si(c,n,l),h=n,f={},p=0;for(let r=0;r<a.length;r++){const{name:i,fn:g}=a[r],{x:m,y:v,data:b,reset:y}=await g({x:u,y:d,initialPlacement:n,placement:h,strategy:o,middlewareData:f,rects:c,platform:s,elements:{reference:e,floating:t}});u=null!=m?m:u,d=null!=v?v:d,f={...f,[i]:{...f[i],...b}},y&&p<=50&&(p++,"object"==typeof y&&(y.placement&&(h=y.placement),y.rects&&(c=!0===y.rects?await s.getElementRects({reference:e,floating:t,strategy:o}):y.rects),({x:u,y:d}=si(c,h,l))),r=-1)}return{x:u,y:d,placement:h,strategy:o,middlewareData:f}})(e,t,{...o,platform:i})},Xi=t=>{const r=e.useRef((()=>{throw new Error("Cannot call an event handler while rendering")}));return Ae((()=>{r.current=t}),[t]),e.useCallback(((...e)=>(0,r.current)(...e)),[r])};function Yi(t,r,n){const o=e.useRef(!0),[i]=e.useState((()=>({value:t,callback:r,facade:{get current(){return i.value},set current(e){const t=i.value;if(t!==e){if(i.value=e,n&&o.current)return;i.callback(e,t)}}}})));return Ae((()=>{o.current=!1}),[]),i.callback=r,i.facade}const Ji=e=>{const t=e&&(e=>"HTML"===e.nodeName?e:e.parentNode||e.host)(e);if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}const{overflow:r,overflowX:n,overflowY:o}=(e=>{var t;return 1!==e.nodeType?{}:(null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView).getComputedStyle(e,null)})(t);return/(auto|scroll|overlay)/.test(r+o+n)?t:Ji(t)},Zi=(e,t,r)=>{const n=((e,t)=>{const r="above"===e||"below"===e,n="top"===t||"bottom"===t;return r&&n||!r&&!n})(t,e)?"center":e,o=t&&(e=>({above:"top",below:"bottom",before:e?"right":"left",after:e?"left":"right"}))(r)[t],i=n&&{start:"start",end:"end",top:"start",bottom:"end",center:void 0}[n];return o&&i?`${o}-${i}`:o};function es(e,t){if("window"===t)return null==e?void 0:e.ownerDocument.documentElement;if("clippingParents"===t)return"clippingAncestors";if("scrollParent"===t){let t=Ji(e);return"BODY"===t.nodeName&&(t=null==e?void 0:e.ownerDocument.documentElement),t}return t}const ts=e=>({name:"resetMaxSize",fn({middlewareData:t,elements:r}){var n;if(null===(n=t.resetMaxSize)||void 0===n?void 0:n.maxSizeAlreadyReset)return{};const{applyMaxWidth:o,applyMaxHeight:i}=e;return o&&(r.floating.style.removeProperty("box-sizing"),r.floating.style.removeProperty("max-width"),r.floating.style.removeProperty("width")),i&&(r.floating.style.removeProperty("box-sizing"),r.floating.style.removeProperty("max-height"),r.floating.style.removeProperty("height")),{data:{maxSizeAlreadyReset:!0},reset:{rects:!0}}}});function rs(e,t){const{container:r,overflowBoundary:n}=t;return Wi({...n&&{altBoundary:!0,boundary:es(r,n)},apply({availableHeight:t,availableWidth:r,elements:n,rects:o}){const i=(e,t,r)=>{if(e&&(n.floating.style.setProperty("box-sizing","border-box"),n.floating.style.setProperty(`max-${t}`,`${r}px`),o.floating[t]>r)){n.floating.style.setProperty(t,`${r}px`);const e="width"===t?"x":"y";n.floating.style.getPropertyValue(`overflow-${e}`)||n.floating.style.setProperty(`overflow-${e}`,"auto")}},{applyMaxWidth:s,applyMaxHeight:a}=e;i(s,"width",r),i(a,"height",t)}})}const ns="--fui-match-target-size";function os(e){const t=e.split("-");return{side:t[0],alignment:t[1]}}const is=e=>{const{side:t,alignment:r}=os(e),n={top:"above",bottom:"below",right:"after",left:"before"}[t],o=r&&(e=>"above"===e||"below"===e?{start:"start",end:"end"}:{start:"top",end:"bottom"})(n)[r];return{position:n,alignment:o}};function ss(e){const t=(r=e)?"number"==typeof r||"object"==typeof r?r:({rects:{floating:e,reference:t},placement:n})=>{const{position:o,alignment:i}=is(n);return r({positionedRect:e,targetRect:t,position:o,alignment:i})}:r;var r;return ui(t)}function as(e){const{hasScrollableElement:t,flipBoundary:r,container:n,fallbackPositions:o=[],isRtl:i}=e,s=o.reduce(((e,t)=>{const{position:r,align:n}=Lo(t),o=Zi(n,r,i);return o&&e.push(o),e}),[]);return Hi({...t&&{boundary:"clippingAncestors"},...r&&{altBoundary:!0,boundary:es(n,r)},fallbackStrategy:"bestFit",...s.length&&{fallbackPlacements:s}})}function ls(e,t){if("number"==typeof e)return e;const{start:r,end:n,...o}=e,i=o,s=t?"end":"start",a=t?"start":"end";return e[s]&&(i.left=e[s]),e[a]&&(i.right=e[a]),i}function cs(e){const{hasScrollableElement:t,disableTether:r,overflowBoundary:n,container:o,overflowBoundaryPadding:i,isRtl:s}=e;return Vi({...t&&{boundary:"clippingAncestors"},...r&&{crossAxis:"all"===r,limiter:Gi({crossAxis:"all"!==r,mainAxis:!1})},...i&&{padding:ls(i,s)},...n&&{altBoundary:!0,boundary:es(o,n)}})}const us="data-popper-is-intersecting",ds="data-popper-escaped",hs="data-popper-reference-hidden",fs="data-popper-placement",ps="fui-positioningend";var gs=o(64583).Promise;function ms(e){const t=[];let r=e;for(;r;){const n=Ji(r);if(e.ownerDocument.body===n){t.push(n);break}if("BODY"===n.nodeName&&n!==e.ownerDocument.body)break;t.push(n),r=n}return t}function vs(e){let t=!1;const{container:r,target:n,arrow:o,strategy:i,middleware:s,placement:a,useTransform:l=!0,disableUpdateOnResize:c=!1}=e,u=r.ownerDocument.defaultView;if(!n||!r||!u)return{updatePosition:()=>{},dispose:()=>{}};const d=c?null:function(e,t){return new e.ResizeObserver((e=>{e.every((e=>e.contentRect.width>0&&e.contentRect.height>0))&&p()}))}(u);let h=!0;const f=new Set;Object.assign(r.style,{position:"fixed",left:0,top:0,margin:0});const p=function(e){let c;return()=>(c||(c=new gs((e=>{gs.resolve().then((()=>{c=void 0,e(void(t||(h&&(ms(r).forEach((e=>f.add(e))),Z(n)&&ms(n).forEach((e=>f.add(e))),f.forEach((e=>{e.addEventListener("scroll",p,{passive:!0})})),null==d||d.observe(r),Z(n)&&(null==d||d.observe(n)),h=!1),Object.assign(r.style,{position:i}),Qi(n,r,{placement:a,middleware:s,strategy:i}).then((({x:e,y:n,middlewareData:s,placement:a})=>{t||(function(e){const{arrow:t,middlewareData:r}=e;if(!r.arrow||!t)return;const{x:n,y:o}=r.arrow;Object.assign(t.style,{left:`${n}px`,top:`${o}px`})}({arrow:o,middlewareData:s}),function(e){var t,r,n;const{container:o,placement:i,middlewareData:s,strategy:a,lowPPI:l,coordinates:c,useTransform:u=!0}=e;if(!o)return;o.setAttribute(fs,i),o.removeAttribute(us),s.intersectionObserver.intersecting&&o.setAttribute(us,""),o.removeAttribute(ds),(null===(t=s.hide)||void 0===t?void 0:t.escaped)&&o.setAttribute(ds,""),o.removeAttribute(hs),(null===(r=s.hide)||void 0===r?void 0:r.referenceHidden)&&o.setAttribute(hs,"");const d=(null===(n=o.ownerDocument.defaultView)||void 0===n?void 0:n.devicePixelRatio)||1,h=Math.round(c.x*d)/d,f=Math.round(c.y*d)/d;Object.assign(o.style,{position:a}),u?Object.assign(o.style,{transform:l?`translate(${h}px, ${f}px)`:`translate3d(${h}px, ${f}px, 0)`}):Object.assign(o.style,{left:`${h}px`,top:`${f}px`})}({container:r,middlewareData:s,placement:a,coordinates:{x:e,y:n},lowPPI:((null==u?void 0:u.devicePixelRatio)||1)<=1,strategy:i,useTransform:l}),r.dispatchEvent(new CustomEvent(ps)))})).catch((e=>{})))))}))}))),c)}();return u&&(u.addEventListener("scroll",p,{passive:!0}),u.addEventListener("resize",p)),p(),{updatePosition:p,dispose:()=>{t=!0,u&&(u.removeEventListener("scroll",p),u.removeEventListener("resize",p)),f.forEach((e=>{e.removeEventListener("scroll",p)})),f.clear(),null==d||d.disconnect()}}}function bs(t){const r=e.useRef(null),n=e.useRef(null),o=e.useRef(null),i=e.useRef(null),s=e.useRef(null),{enabled:a=!0}=t,l=function(t){const{align:r,arrowPadding:n,autoSize:o,coverTarget:i,flipBoundary:s,offset:a,overflowBoundary:l,pinned:c,position:u,unstable_disableTether:d,positionFixed:h,strategy:f,overflowBoundaryPadding:p,fallbackPositions:g,useTransform:m,matchTargetSize:v,disableUpdateOnResize:b=!1}=t,{dir:w,targetDocument:_}=y(),k="rtl"===w,x=(null!=f?f:h)?"fixed":"absolute",S=(e=>{switch(e){case"always":case!0:return{applyMaxWidth:!0,applyMaxHeight:!0};case"width-always":case"width":return{applyMaxWidth:!0,applyMaxHeight:!1};case"height-always":case"height":return{applyMaxWidth:!1,applyMaxHeight:!0};default:return!1}})(o);return e.useCallback(((e,t)=>{const o=(e=>{var t;const r=Ji(e);return!!r&&r!==(null===(t=r.ownerDocument)||void 0===t?void 0:t.body)})(e),h=[S&&ts(S),v&&{name:"matchTargetSize",fn:async e=>{const{rects:{reference:t,floating:r},elements:{floating:n},middlewareData:{matchTargetSize:{matchTargetSizeAttempt:o=!1}={}}}=e;if(t.width===r.width||o)return{};const{width:i}=t;return n.style.setProperty(ns,`${i}px`),n.style.width||(n.style.width=`var(${ns})`),{data:{matchTargetSizeAttempt:!0},reset:{rects:!0}}}},a&&ss(a),i&&{name:"coverTarget",fn:e=>{const{placement:t,rects:r,x:n,y:o}=e,i={x:n,y:o};switch(os(t).side){case"bottom":i.y-=r.reference.height;break;case"top":i.y+=r.reference.height;break;case"left":i.x+=r.reference.width;break;case"right":i.x-=r.reference.width}return i}},!c&&as({container:e,flipBoundary:s,hasScrollableElement:o,isRtl:k,fallbackPositions:g}),cs({container:e,hasScrollableElement:o,overflowBoundary:l,disableTether:d,overflowBoundaryPadding:p,isRtl:k}),S&&rs(S,{container:e,overflowBoundary:l}),{name:"intersectionObserver",fn:async e=>{const t=e.rects.floating,r=await ai(e,{altBoundary:!0}),n=r.top<t.height&&r.top>0,o=r.bottom<t.height&&r.bottom>0;return{data:{intersecting:n||o}}}},t&&Ki({element:t,padding:n}),$i({strategy:"referenceHidden"}),$i({strategy:"escaped"}),!1].filter(Boolean);return{placement:Zi(r,u,k),middleware:h,strategy:x,useTransform:m,disableUpdateOnResize:b}}),[r,n,S,i,d,s,k,a,l,c,u,x,p,g,m,v,_,b])}(t),c=e.useCallback((()=>{var e;r.current&&r.current.dispose(),r.current=null;const t=null!==(e=o.current)&&void 0!==e?e:n.current;a&&h()&&t&&i.current&&(r.current=vs({container:i.current,target:t,arrow:s.current,...l(i.current,s.current)}))}),[a,l]),u=Xi((e=>{o.current=e,c()}));e.useImperativeHandle(t.positioningRef,(()=>({updatePosition:()=>{var e;return null===(e=r.current)||void 0===e?void 0:e.updatePosition()},setTarget:e=>{t.target,u(e)}})),[t.target,u]),Ae((()=>{var e;u(null!==(e=t.target)&&void 0!==e?e:null)}),[t.target,u]),Ae((()=>{c()}),[c]);const d=Yi(null,(e=>{n.current!==e&&(n.current=e,c())})),f=Xi((()=>{var e;return null===(e=t.onPositioningEnd)||void 0===e?void 0:e.call(t)}));return{targetRef:d,containerRef:Yi(null,(e=>{var t;i.current!==e&&(null===(t=i.current)||void 0===t||t.removeEventListener(ps,f),null==e||e.addEventListener(ps,f),i.current=e,c())})),arrowRef:Yi(null,(e=>{s.current!==e&&(s.current=e,c())}))}}const ys=t=>{const[r,n]=e.useState((()=>void 0===t.defaultState?t.initialState:"function"==typeof t.defaultState?t.defaultState():t.defaultState)),o=e.useRef(t.state);e.useEffect((()=>{o.current=t.state}),[t.state]);const i=e.useCallback((e=>{(function(e){return"function"==typeof e})(e)&&e(o.current)}),[]);return ws(t.state)?[t.state,i]:[r,n]},ws=t=>{const[r]=e.useState((()=>void 0!==t));return r},_s=(e,t)=>!!(null==e?void 0:e.contains(t)),ks=t=>{const{targetDocument:r}=y(),n=null==r?void 0:r.defaultView,{refs:o,callback:i,element:s,disabled:a,disabledFocusOnIframe:l,contains:c=_s}=t,u=e.useRef(void 0);Es({element:s,disabled:l||a,callback:i,refs:o,contains:c});const d=e.useRef(!1),h=Xi((e=>{if(d.current)return void(d.current=!1);const t=e.composedPath()[0];o.every((e=>!c(e.current||null,t)))&&!a&&i(e)})),f=Xi((e=>{d.current=o.some((t=>c(t.current||null,e.target)))}));e.useEffect((()=>{if(a)return;let e=xs(n);const t=t=>{t!==e?h(t):e=void 0};return null==s||s.addEventListener("click",t,!0),null==s||s.addEventListener("touchstart",t,!0),null==s||s.addEventListener("contextmenu",t,!0),null==s||s.addEventListener("mousedown",f,!0),u.current=null==n?void 0:n.setTimeout((()=>{e=void 0}),1),()=>{null==s||s.removeEventListener("click",t,!0),null==s||s.removeEventListener("touchstart",t,!0),null==s||s.removeEventListener("contextmenu",t,!0),null==s||s.removeEventListener("mousedown",f,!0),null==n||n.clearTimeout(u.current),e=void 0}}),[h,s,a,f,n])},xs=e=>{var t,r,n;if(e)return"object"==typeof e.window&&e.window===e?e.event:null!==(n=null===(r=e.ownerDocument)||void 0===r||null===(t=r.defaultView)||void 0===t?void 0:t.event)&&void 0!==n?n:void 0},Ss="fuiframefocus",Es=t=>{const{disabled:r,element:n,callback:o,contains:i=_s,pollDuration:s=1e3,refs:a}=t,l=e.useRef(),c=Xi((e=>{a.every((t=>!i(t.current||null,e.target)))&&!r&&o(e)}));e.useEffect((()=>{if(!r)return null==n||n.addEventListener(Ss,c,!0),()=>{null==n||n.removeEventListener(Ss,c,!0)}}),[n,r,c]),e.useEffect((()=>{var e;if(!r)return l.current=null==n||null===(e=n.defaultView)||void 0===e?void 0:e.setInterval((()=>{const e=null==n?void 0:n.activeElement;if("IFRAME"===(null==e?void 0:e.tagName)||"WEBVIEW"===(null==e?void 0:e.tagName)){const t=new CustomEvent(Ss,{bubbles:!0});e.dispatchEvent(t)}}),s),()=>{var e;null==n||null===(e=n.defaultView)||void 0===e||e.clearTimeout(l.current)}}),[n,r,s])};function Cs(e,t={}){if(!e)return null;if(!t.skipVirtual){const t=function(e){return(t=e)&&t._virtual&&e._virtual.parent||null;var t}(e);if(t)return t}const r=e.parentNode;return r&&r.nodeType===Node.DOCUMENT_FRAGMENT_NODE?r.host:r}function Ts(e,t){if(!e||!t)return!1;if(e===t)return!0;{const r=new WeakSet;for(;t;){const n=Cs(t,{skipVirtual:r.has(t)});if(r.add(t),n===e)return!0;t=n}}return!1}const Is=t=>{const{refs:r,callback:n,element:o,disabled:i,contains:s}=t,a=Xi((e=>{const t=s||((e,t)=>!!(null==e?void 0:e.contains(t))),o=e.composedPath()[0];r.every((e=>!t(e.current||null,o)))&&!i&&n(e)}));e.useEffect((()=>{if(!i)return null==o||o.addEventListener("wheel",a),null==o||o.addEventListener("touchmove",a),()=>{null==o||o.removeEventListener("wheel",a),null==o||o.removeEventListener("touchmove",a)}}),[a,o,i])},Ns="data-tabster",Rs="data-tabster-dummy",Ds="tabster:modalizer:active",Ps="tabster:modalizer:inactive",zs="tabster:mover",Bs="tabster:focusin",Os="tabster:focusout",As="tabster:movefocus",Fs="tabster:mover:movefocus",Ms="tabster:mover:memorized-element",js=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","*[tabindex]","*[contenteditable]"].join(", "),Ls={Invisible:0,PartiallyVisible:1,Visible:2},qs={Source:0,Target:1},Us={Both:0,Vertical:1,Horizontal:2,Grid:3,GridLinear:4},Vs={ArrowUp:1,ArrowDown:2,ArrowLeft:3,ArrowRight:4,PageUp:5,PageDown:6,Home:7,End:8},Hs={Auto:0,Inside:1,Outside:2};var Ws=Object.freeze({__proto__:null,TabsterAttributeName:Ns,TabsterDummyInputAttributeName:Rs,DeloserEventName:"tabster:deloser",ModalizerActiveEventName:Ds,ModalizerInactiveEventName:Ps,ModalizerFocusInEventName:"tabster:modalizer:focusin",ModalizerFocusOutEventName:"tabster:modalizer:focusout",ModalizerBeforeFocusOutEventName:"tabster:modalizer:beforefocusout",MoverEventName:zs,FocusInEventName:Bs,FocusOutEventName:Os,MoveFocusEventName:As,MoverMoveFocusEventName:Fs,GroupperMoveFocusEventName:"tabster:groupper:movefocus",MoverMemorizedElementEventName:Ms,FocusableSelector:js,GroupperMoveFocusActions:{Enter:1,Escape:2},ObservedElementAccesibilities:{Any:0,Accessible:1,Focusable:2},RestoreFocusOrders:{History:0,DeloserDefault:1,RootDefault:2,DeloserFirst:3,RootFirst:4},Visibilities:Ls,RestorerTypes:qs,MoverDirections:Us,MoverKeys:Vs,GroupperTabbabilities:{Unlimited:0,Limited:1,LimitedTrapFocus:2},SysDummyInputsPositions:Hs});function $s(e,t){var r;return null===(r=e.storageEntry(t))||void 0===r?void 0:r.tabster}function Ks(e,t,r){var n,o;const i=r||e._noop?void 0:t.getAttribute(Ns);let s,a=e.storageEntry(t);if(i){if(i===(null===(n=null==a?void 0:a.attr)||void 0===n?void 0:n.string))return;try{const e=JSON.parse(i);if("object"!=typeof e)throw new Error(`Value is not a JSON object, got '${i}'.`);s={string:i,object:e}}catch(e){}}else if(!a)return;a||(a=e.storageEntry(t,!0)),a.tabster||(a.tabster={});const l=a.tabster||{},c=(null===(o=a.attr)||void 0===o?void 0:o.object)||{},u=(null==s?void 0:s.object)||{};for(const r of Object.keys(c))if(!u[r]){if("root"===r){const t=l[r];t&&e.root.onRoot(t,!0)}switch(r){case"deloser":case"root":case"groupper":case"modalizer":case"restorer":case"mover":const n=l[r];n&&(n.dispose(),delete l[r]);break;case"observed":delete l[r],e.observedElement&&e.observedElement.onObservedElementUpdate(t);break;case"focusable":case"outline":case"uncontrolled":case"sys":delete l[r]}}for(const r of Object.keys(u)){const n=u.sys;switch(r){case"deloser":l.deloser?l.deloser.setProps(u.deloser):e.deloser&&(l.deloser=e.deloser.createDeloser(t,u.deloser));break;case"root":l.root?l.root.setProps(u.root):l.root=e.root.createRoot(t,u.root,n),e.root.onRoot(l.root);break;case"modalizer":l.modalizer?l.modalizer.setProps(u.modalizer):e.modalizer&&(l.modalizer=e.modalizer.createModalizer(t,u.modalizer,n));break;case"restorer":l.restorer?l.restorer.setProps(u.restorer):e.restorer&&u.restorer&&(l.restorer=e.restorer.createRestorer(t,u.restorer));break;case"focusable":l.focusable=u.focusable;break;case"groupper":l.groupper?l.groupper.setProps(u.groupper):e.groupper&&(l.groupper=e.groupper.createGroupper(t,u.groupper,n));break;case"mover":l.mover?l.mover.setProps(u.mover):e.mover&&(l.mover=e.mover.createMover(t,u.mover,n));break;case"observed":e.observedElement&&(l.observed=u.observed,e.observedElement.onObservedElementUpdate(t));break;case"uncontrolled":l.uncontrolled=u.uncontrolled;break;case"outline":e.outline&&(l.outline=u.outline);break;case"sys":l.sys=u.sys;break;default:console.error(`Unknown key '${r}' in data-tabster attribute value.`)}}s?a.attr=s:(0===Object.keys(l).length&&(delete a.tabster,delete a.attr),e.storageEntry(t,!1))}const Gs={createMutationObserver:e=>new MutationObserver(e),createTreeWalker:(e,t,r,n)=>e.createTreeWalker(t,r,n),getParentNode:e=>e?e.parentNode:null,getParentElement:e=>e?e.parentElement:null,nodeContains:(e,t)=>!(!t||!(null==e?void 0:e.contains(t))),getActiveElement:e=>e.activeElement,querySelector:(e,t)=>e.querySelector(t),querySelectorAll:(e,t)=>Array.prototype.slice.call(e.querySelectorAll(t),0),getElementById:(e,t)=>e.getElementById(t),getFirstChild:e=>(null==e?void 0:e.firstChild)||null,getLastChild:e=>(null==e?void 0:e.lastChild)||null,getNextSibling:e=>(null==e?void 0:e.nextSibling)||null,getPreviousSibling:e=>(null==e?void 0:e.previousSibling)||null,getFirstElementChild:e=>(null==e?void 0:e.firstElementChild)||null,getLastElementChild:e=>(null==e?void 0:e.lastElementChild)||null,getNextElementSibling:e=>(null==e?void 0:e.nextElementSibling)||null,getPreviousElementSibling:e=>(null==e?void 0:e.previousElementSibling)||null,appendChild:(e,t)=>e.appendChild(t),insertBefore:(e,t,r)=>e.insertBefore(t,r),getSelection:e=>{var t;return(null===(t=e.ownerDocument)||void 0===t?void 0:t.getSelection())||null}};let Qs;const Xs="undefined"!=typeof DOMRect?DOMRect:class{constructor(e,t,r,n){this.left=e||0,this.top=t||0,this.right=(e||0)+(r||0),this.bottom=(t||0)+(n||0)}};let Ys=0;try{document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT),Qs=!1}catch(e){Qs=!0}function Js(e){const t=e();let r=t.__tabsterInstanceContext;return r||(r={elementByUId:{},basics:{Promise:t.Promise||void 0,WeakRef:t.WeakRef||void 0},containerBoundingRectCache:{},lastContainerBoundingRectCacheId:0,fakeWeakRefs:[],fakeWeakRefsStarted:!1},t.__tabsterInstanceContext=r),r}class Zs{constructor(e){this._target=e}deref(){return this._target}static cleanup(e,t){return!e._target||!(!t&&ua(e._target.ownerDocument,e._target))&&(delete e._target,!0)}}class ea{constructor(e,t,r){const n=Js(e);let o;n.WeakRef?o=new n.WeakRef(t):(o=new Zs(t),n.fakeWeakRefs.push(o)),this._ref=o,this._data=r}get(){const e=this._ref;let t;return e&&(t=e.deref(),t||delete this._ref),t}getData(){return this._data}}function ta(e,t){const r=Js(e);r.fakeWeakRefs=r.fakeWeakRefs.filter((e=>!Zs.cleanup(e,t)))}function ra(e){const t=Js(e);t.fakeWeakRefsStarted||(t.fakeWeakRefsStarted=!0,t.WeakRef=function(e){return e.basics.WeakRef}(t)),t.fakeWeakRefsTimer||(t.fakeWeakRefsTimer=e().setTimeout((()=>{t.fakeWeakRefsTimer=void 0,ta(e),ra(e)}),12e4))}function na(e,t,r){if(t.nodeType!==Node.ELEMENT_NODE)return;const n=Qs?r:{acceptNode:r};return Gs.createTreeWalker(e,t,NodeFilter.SHOW_ELEMENT,n,!1)}function oa(e,t){let r=t.__tabsterCacheId;const n=Js(e),o=r?n.containerBoundingRectCache[r]:void 0;if(o)return o.rect;const i=t.ownerDocument&&t.ownerDocument.documentElement;if(!i)return new Xs;let s=0,a=0,l=i.clientWidth,c=i.clientHeight;if(t!==i){const e=t.getBoundingClientRect();s=Math.max(s,e.left),a=Math.max(a,e.top),l=Math.min(l,e.right),c=Math.min(c,e.bottom)}const u=new Xs(s<l?s:-1,a<c?a:-1,s<l?l-s:0,a<c?c-a:0);return r||(r="r-"+ ++n.lastContainerBoundingRectCacheId,t.__tabsterCacheId=r),n.containerBoundingRectCache[r]={rect:u,element:t},n.containerBoundingRectCacheTimer||(n.containerBoundingRectCacheTimer=window.setTimeout((()=>{n.containerBoundingRectCacheTimer=void 0;for(const e of Object.keys(n.containerBoundingRectCache))delete n.containerBoundingRectCache[e].element.__tabsterCacheId;n.containerBoundingRectCache={}}),50)),u}function ia(e,t,r){const n=sa(t);if(!n)return!1;const o=oa(e,n),i=t.getBoundingClientRect(),s=i.height*(1-r),a=Math.max(0,o.top-i.top)+Math.max(0,i.bottom-o.bottom);return 0===a||a<=s}function sa(e){const t=e.ownerDocument;if(t){for(let t=Gs.getParentElement(e);t;t=Gs.getParentElement(t))if(t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)return t;return t.documentElement}return null}function aa(e){return!!e.__shouldIgnoreFocus}function la(e,t){const r=Js(e);let n=t.__tabsterElementUID;return n||(n=t.__tabsterElementUID=function(e){const t=new Uint32Array(4);if(e.crypto&&e.crypto.getRandomValues)e.crypto.getRandomValues(t);else if(e.msCrypto&&e.msCrypto.getRandomValues)e.msCrypto.getRandomValues(t);else for(let e=0;e<t.length;e++)t[e]=4294967295*Math.random();const r=[];for(let e=0;e<t.length;e++)r.push(t[e].toString(36));return r.push("|"),r.push((++Ys).toString(36)),r.push("|"),r.push(Date.now().toString(36)),r.join("")}(e())),!r.elementByUId[n]&&ua(t.ownerDocument,t)&&(r.elementByUId[n]=new ea(e,t)),n}function ca(e,t){const r=Js(e);for(const e of Object.keys(r.elementByUId)){const n=r.elementByUId[e],o=n&&n.get();o&&t&&!Gs.nodeContains(t,o)||delete r.elementByUId[e]}}function ua(e,t){return Gs.nodeContains(null==e?void 0:e.body,t)}function da(e,t){const r=e.matches||e.matchesSelector||e.msMatchesSelector||e.webkitMatchesSelector;return r&&r.call(e,t)}let ha=0;class fa{constructor(e,t,r){const n=e.getWindow;this._tabster=e,this._element=new ea(n,t),this._props={...r},this.id="i"+ ++ha}getElement(){return this._element.get()}getProps(){return this._props}setProps(e){this._props={...e}}}class pa{constructor(e,t,r,n,o){var i;this._focusIn=e=>{if(this._fixedTarget){const e=this._fixedTarget.get();return void(e&&ie(e))}const t=this.input;if(this.onFocusIn&&t){const r=e.relatedTarget;this.onFocusIn(this,this._isBackward(!0,t,r),r)}},this._focusOut=e=>{if(this._fixedTarget)return;this.useDefaultAction=!1;const t=this.input;if(this.onFocusOut&&t){const r=e.relatedTarget;this.onFocusOut(this,this._isBackward(!1,t,r),r)}};const s=e(),a=s.document.createElement("i");a.tabIndex=0,a.setAttribute("role","none"),a.setAttribute(Rs,""),a.setAttribute("aria-hidden","true");const l=a.style;l.position="fixed",l.width=l.height="1px",l.opacity="0.001",l.zIndex="-1",l.setProperty("content-visibility","hidden"),function(e){e.__shouldIgnoreFocus=!0}(a),this.input=a,this.isFirst=r.isFirst,this.isOutside=t,this._isPhantom=null!==(i=r.isPhantom)&&void 0!==i&&i,this._fixedTarget=o,a.addEventListener("focusin",this._focusIn),a.addEventListener("focusout",this._focusOut),a.__tabsterDummyContainer=n,this._isPhantom&&(this._disposeTimer=s.setTimeout((()=>{delete this._disposeTimer,this.dispose()}),0),this._clearDisposeTimeout=()=>{this._disposeTimer&&(s.clearTimeout(this._disposeTimer),delete this._disposeTimer),delete this._clearDisposeTimeout})}dispose(){var e;this._clearDisposeTimeout&&this._clearDisposeTimeout();const t=this.input;t&&(delete this._fixedTarget,delete this.onFocusIn,delete this.onFocusOut,delete this.input,t.removeEventListener("focusin",this._focusIn),t.removeEventListener("focusout",this._focusOut),delete t.__tabsterDummyContainer,null===(e=Gs.getParentNode(t))||void 0===e||e.removeChild(t))}setTopLeft(e,t){var r;const n=null===(r=this.input)||void 0===r?void 0:r.style;n&&(n.top=`${e}px`,n.left=`${t}px`)}_isBackward(e,t,r){return e&&!r?!this.isFirst:!!(r&&t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_FOLLOWING)}}class ga{constructor(e,t,r,n,o,i){this._element=t,this._instance=new va(e,t,this,r,n,o,i)}_setHandlers(e,t){this._onFocusIn=e,this._onFocusOut=t}moveOut(e){var t;null===(t=this._instance)||void 0===t||t.moveOut(e)}moveOutWithDefaultAction(e,t){var r;null===(r=this._instance)||void 0===r||r.moveOutWithDefaultAction(e,t)}getHandler(e){return e?this._onFocusIn:this._onFocusOut}setTabbable(e){var t;null===(t=this._instance)||void 0===t||t.setTabbable(this,e)}dispose(){this._instance&&(this._instance.dispose(this),delete this._instance),delete this._onFocusIn,delete this._onFocusOut}static moveWithPhantomDummy(e,t,r,n,o){var i;const s=new pa(e.getWindow,!0,{isPhantom:!0,isFirst:!0}).input;if(s){let a,l;if("BODY"===t.tagName)a=t,l=r&&n||!r&&!n?Gs.getFirstElementChild(t):null;else{let o,s;r&&(!n||n&&!e.focusable.isFocusable(t,!1,!0,!0))?(a=t,l=n?t.firstElementChild:null):(a=Gs.getParentElement(t),l=r&&n||!r&&!n?t:Gs.getNextElementSibling(t));do{o=r&&n||!r&&!n?Gs.getPreviousElementSibling(l):l,s=null===(i=null==o?void 0:o.__tabsterDummyContainer)||void 0===i?void 0:i.get(),s===t?l=r&&n||!r&&!n?o:Gs.getNextElementSibling(o):s=void 0}while(s)}a&&wa({by:"root",owner:a,next:null,relatedEvent:o})&&(Gs.insertBefore(a,s,l),ie(s))}}static addPhantomDummyWithTarget(e,t,r,n){const o=new pa(e.getWindow,!0,{isPhantom:!0,isFirst:!0},void 0,new ea(e.getWindow,n)).input;if(o){let e,n;t.querySelector(js)&&!r?(e=t,n=Gs.getFirstElementChild(t)):(e=Gs.getParentElement(t),n=r?t:Gs.getNextElementSibling(t)),e&&Gs.insertBefore(e,o,n)}}}class ma{constructor(e){this._updateQueue=new Set,this._lastUpdateQueueTime=0,this._changedParents=new WeakSet,this._dummyElements=[],this._dummyCallbacks=new WeakMap,this._domChanged=e=>{var t;this._changedParents.has(e)||(this._changedParents.add(e),this._updateDummyInputsTimer||(this._updateDummyInputsTimer=null===(t=this._win)||void 0===t?void 0:t.call(this).setTimeout((()=>{delete this._updateDummyInputsTimer;for(const e of this._dummyElements){const t=e.get();if(t){const e=this._dummyCallbacks.get(t);if(e){const r=Gs.getParentNode(t);r&&!this._changedParents.has(r)||e()}}}this._changedParents=new WeakSet}),100)))},this._win=e}add(e,t){!this._dummyCallbacks.has(e)&&this._win&&(this._dummyElements.push(new ea(this._win,e)),this._dummyCallbacks.set(e,t),this.domChanged=this._domChanged)}remove(e){this._dummyElements=this._dummyElements.filter((t=>{const r=t.get();return r&&r!==e})),this._dummyCallbacks.delete(e),0===this._dummyElements.length&&delete this.domChanged}dispose(){var e;const t=null===(e=this._win)||void 0===e?void 0:e.call(this);this._updateTimer&&(null==t||t.clearTimeout(this._updateTimer),delete this._updateTimer),this._updateDummyInputsTimer&&(null==t||t.clearTimeout(this._updateDummyInputsTimer),delete this._updateDummyInputsTimer),this._changedParents=new WeakSet,this._dummyCallbacks=new WeakMap,this._dummyElements=[],this._updateQueue.clear(),delete this.domChanged,delete this._win}updatePositions(e){this._win&&(this._updateQueue.add(e),this._lastUpdateQueueTime=Date.now(),this._scheduledUpdatePositions())}_scheduledUpdatePositions(){var e;this._updateTimer||(this._updateTimer=null===(e=this._win)||void 0===e?void 0:e.call(this).setTimeout((()=>{if(delete this._updateTimer,this._lastUpdateQueueTime+100<=Date.now()){const e=new Map,t=[];for(const r of this._updateQueue)t.push(r(e));this._updateQueue.clear();for(const e of t)e();e.clear()}else this._scheduledUpdatePositions()}),100))}}class va{constructor(e,t,r,n,o,i,s){this._wrappers=[],this._isOutside=!1,this._transformElements=new Set,this._onFocusIn=(e,t,r)=>{this._onFocus(!0,e,t,r)},this._onFocusOut=(e,t,r)=>{this._onFocus(!1,e,t,r)},this.moveOut=e=>{var t;const r=this._firstDummy,n=this._lastDummy;if(r&&n){this._ensurePosition();const o=r.input,i=n.input,s=null===(t=this._element)||void 0===t?void 0:t.get();if(o&&i&&s){let t;e?(o.tabIndex=0,t=o):(i.tabIndex=0,t=i),t&&ie(t)}}},this.moveOutWithDefaultAction=(e,t)=>{var r;const n=this._firstDummy,o=this._lastDummy;if(n&&o){this._ensurePosition();const i=n.input,s=o.input,a=null===(r=this._element)||void 0===r?void 0:r.get();if(i&&s&&a){let r;e?!n.isOutside&&this._tabster.focusable.isFocusable(a,!0,!0,!0)?r=a:(n.useDefaultAction=!0,i.tabIndex=0,r=i):(o.useDefaultAction=!0,s.tabIndex=0,r=s),r&&wa({by:"root",owner:a,next:null,relatedEvent:t})&&ie(r)}}},this.setTabbable=(e,t)=>{var r,n;for(const r of this._wrappers)if(r.manager===e){r.tabbable=t;break}const o=this._getCurrent();if(o){const e=o.tabbable?0:-1;let t=null===(r=this._firstDummy)||void 0===r?void 0:r.input;t&&(t.tabIndex=e),t=null===(n=this._lastDummy)||void 0===n?void 0:n.input,t&&(t.tabIndex=e)}},this._addDummyInputs=()=>{this._addTimer||(this._addTimer=this._getWindow().setTimeout((()=>{delete this._addTimer,this._ensurePosition(),this._addTransformOffsets()}),0))},this._addTransformOffsets=()=>{this._tabster._dummyObserver.updatePositions(this._computeTransformOffsets)},this._computeTransformOffsets=e=>{var t,r;const n=(null===(t=this._firstDummy)||void 0===t?void 0:t.input)||(null===(r=this._lastDummy)||void 0===r?void 0:r.input),o=this._transformElements,i=new Set;let s=0,a=0;const l=this._getWindow();for(let t=n;t&&t.nodeType===Node.ELEMENT_NODE;t=Gs.getParentElement(t)){let r=e.get(t);if(void 0===r){const n=l.getComputedStyle(t).transform;n&&"none"!==n&&(r={scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),e.set(t,r||null)}r&&(i.add(t),o.has(t)||t.addEventListener("scroll",this._addTransformOffsets),s+=r.scrollTop,a+=r.scrollLeft)}for(const e of o)i.has(e)||e.removeEventListener("scroll",this._addTransformOffsets);return this._transformElements=i,()=>{var e,t;null===(e=this._firstDummy)||void 0===e||e.setTopLeft(s,a),null===(t=this._lastDummy)||void 0===t||t.setTopLeft(s,a)}};const a=t.get();if(!a)throw new Error("No element");this._tabster=e,this._getWindow=e.getWindow,this._callForDefaultAction=s;const l=a.__tabsterDummy;if((l||this)._wrappers.push({manager:r,priority:n,tabbable:!0}),l)return l;a.__tabsterDummy=this;const c=null==o?void 0:o.dummyInputsPosition,u=a.tagName;this._isOutside=c?c===Hs.Outside:(i||"UL"===u||"OL"===u||"TABLE"===u)&&!("LI"===u||"TD"===u||"TH"===u),this._firstDummy=new pa(this._getWindow,this._isOutside,{isFirst:!0},t),this._lastDummy=new pa(this._getWindow,this._isOutside,{isFirst:!1},t);const d=this._firstDummy.input;d&&e._dummyObserver.add(d,this._addDummyInputs),this._firstDummy.onFocusIn=this._onFocusIn,this._firstDummy.onFocusOut=this._onFocusOut,this._lastDummy.onFocusIn=this._onFocusIn,this._lastDummy.onFocusOut=this._onFocusOut,this._element=t,this._addDummyInputs()}dispose(e,t){var r,n,o,i;const s=this._wrappers=this._wrappers.filter((r=>r.manager!==e&&!t));if(0===s.length){delete(null===(r=this._element)||void 0===r?void 0:r.get()).__tabsterDummy;for(const e of this._transformElements)e.removeEventListener("scroll",this._addTransformOffsets);this._transformElements.clear();const e=this._getWindow();this._addTimer&&(e.clearTimeout(this._addTimer),delete this._addTimer);const t=null===(n=this._firstDummy)||void 0===n?void 0:n.input;t&&this._tabster._dummyObserver.remove(t),null===(o=this._firstDummy)||void 0===o||o.dispose(),null===(i=this._lastDummy)||void 0===i||i.dispose()}}_onFocus(e,t,r,n){var o;const i=this._getCurrent();!i||t.useDefaultAction&&!this._callForDefaultAction||null===(o=i.manager.getHandler(e))||void 0===o||o(t,r,n)}_getCurrent(){return this._wrappers.sort(((e,t)=>e.tabbable!==t.tabbable?e.tabbable?-1:1:e.priority-t.priority)),this._wrappers[0]}_ensurePosition(){var e,t,r;const n=null===(e=this._element)||void 0===e?void 0:e.get(),o=null===(t=this._firstDummy)||void 0===t?void 0:t.input,i=null===(r=this._lastDummy)||void 0===r?void 0:r.input;if(n&&o&&i)if(this._isOutside){const e=Gs.getParentNode(n);if(e){const t=Gs.getNextSibling(n);t!==i&&Gs.insertBefore(e,i,t),Gs.getPreviousElementSibling(n)!==o&&Gs.insertBefore(e,o,n)}}else{Gs.getLastElementChild(n)!==i&&Gs.appendChild(n,i);const e=Gs.getFirstElementChild(n);e&&e!==o&&e.parentNode&&Gs.insertBefore(e.parentNode,o,e)}}}function ba(e){let t=null;for(let r=Gs.getLastElementChild(e);r;r=Gs.getLastElementChild(r))t=r;return t||void 0}function ya(e,t,r){const n=new CustomEvent(t,{bubbles:!0,cancelable:!0,composed:!0,detail:r});return n.details=r,e.dispatchEvent(n),!n.defaultPrevented}function wa(e){return ya(e.owner,As,e)}function _a(e,t,r,n){const o=e.storageEntry(t,!0);let i=!1;if(!o.aug){if(void 0===n)return i;o.aug={}}if(void 0===n){if(r in o.aug){const e=o.aug[r];delete o.aug[r],null===e?t.removeAttribute(r):t.setAttribute(r,e),i=!0}}else{let e;r in o.aug||(e=t.getAttribute(r)),void 0!==e&&e!==n&&(o.aug[r]=e,null===n?t.removeAttribute(r):t.setAttribute(r,n),i=!0)}return void 0===n&&0===Object.keys(o.aug).length&&(delete o.aug,e.storageEntry(t,!1)),i}function ka(e,t){const r=JSON.stringify(e);return!0===t?r:{[Ns]:r}}class xa extends ga{constructor(e,t,r,n){super(e,t,1,n,void 0,!0),this._onDummyInputFocus=e=>{var t;if(e.useDefaultAction)this._setFocused(!1);else{this._tabster.keyboardNavigation.setNavigatingWithKeyboard(!0);const r=this._element.get();if(r){this._setFocused(!0);const t=this._tabster.focusedElement.getFirstOrLastTabbable(e.isFirst,{container:r,ignoreAccessibility:!0});if(t)return void ie(t)}null===(t=e.input)||void 0===t||t.blur()}},this._setHandlers(this._onDummyInputFocus),this._tabster=e,this._setFocused=r}}class Sa extends fa{constructor(e,t,r,n,o){super(e,t,n),this._isFocused=!1,this._setFocused=e=>{var t;if(this._setFocusedTimer&&(this._tabster.getWindow().clearTimeout(this._setFocusedTimer),delete this._setFocusedTimer),this._isFocused===e)return;const r=this._element.get();r&&(e?(this._isFocused=!0,null===(t=this._dummyManager)||void 0===t||t.setTabbable(!1),ya(this._tabster.root.eventTarget,"focus",{element:r})):this._setFocusedTimer=this._tabster.getWindow().setTimeout((()=>{var e;delete this._setFocusedTimer,this._isFocused=!1,null===(e=this._dummyManager)||void 0===e||e.setTabbable(!0),ya(this._tabster.root.eventTarget,"blur",{element:r})}),0))},this._onFocusIn=e=>{const t=this._tabster.getParent,r=this._element.get();let n=e.composedPath()[0];do{if(n===r)return void this._setFocused(!0);n=n&&t(n)}while(n)},this._onFocusOut=()=>{this._setFocused(!1)},this._onDispose=r;const i=e.getWindow;this.uid=la(i,t),this._sys=o,(e.controlTab||e.rootDummyInputs)&&this.addDummyInputs();const s=i().document;s.addEventListener(re,this._onFocusIn),s.addEventListener(ne,this._onFocusOut),this._add()}addDummyInputs(){this._dummyManager||(this._dummyManager=new xa(this._tabster,this._element,this._setFocused,this._sys))}dispose(){var e;this._onDispose(this);const t=this._tabster.getWindow(),r=t.document;r.removeEventListener(re,this._onFocusIn),r.removeEventListener(ne,this._onFocusOut),this._setFocusedTimer&&(t.clearTimeout(this._setFocusedTimer),delete this._setFocusedTimer),null===(e=this._dummyManager)||void 0===e||e.dispose(),this._remove()}moveOutWithDefaultAction(e,t){const r=this._dummyManager;if(r)r.moveOutWithDefaultAction(e,t);else{const r=this.getElement();r&&xa.moveWithPhantomDummy(this._tabster,r,!0,e,t)}}_add(){}_remove(){}}class Ea{constructor(e,t){this._autoRootWaiting=!1,this._roots={},this._forceDummy=!1,this.rootById={},this._autoRootCreate=()=>{var e;const t=this._win().document,r=t.body;if(r){this._autoRootUnwait(t);const n=this._autoRoot;if(n)return function(e,t,r){let n;if(r){const t=e.getAttribute(Ns);if(t)try{n=JSON.parse(t)}catch(e){}}n||(n={}),function(e,t){for(const r of Object.keys(t)){const n=t[r];n?e[r]=n:delete e[r]}}(n,t),Object.keys(n).length>0?e.setAttribute(Ns,ka(n,!0)):e.removeAttribute(Ns)}(r,{root:n},!0),Ks(this._tabster,r),null===(e=$s(this._tabster,r))||void 0===e?void 0:e.root}else this._autoRootWaiting||(this._autoRootWaiting=!0,t.addEventListener("readystatechange",this._autoRootCreate))},this._onRootDispose=e=>{delete this._roots[e.id]},this._tabster=e,this._win=e.getWindow,this._autoRoot=t,this.eventTarget=function(e){const t=e();try{if(t.EventTarget)return new t.EventTarget}catch(e){if(!(e instanceof TypeError))throw e}return t.document.createElement("div")}(this._win),e.queueInit((()=>{this._autoRoot&&this._autoRootCreate()}))}_autoRootUnwait(e){e.removeEventListener("readystatechange",this._autoRootCreate),this._autoRootWaiting=!1}dispose(){const e=this._win();this._autoRootUnwait(e.document),delete this._autoRoot,Object.keys(this._roots).forEach((e=>{this._roots[e]&&(this._roots[e].dispose(),delete this._roots[e])})),this.rootById={}}createRoot(e,t,r){const n=new Sa(this._tabster,e,this._onRootDispose,t,r);return this._roots[n.id]=n,this._forceDummy&&n.addDummyInputs(),n}addDummyInputs(){this._forceDummy=!0;const e=this._roots;for(const t of Object.keys(e))e[t].addDummyInputs()}static getRootByUId(e,t){const r=e().__tabsterInstance;return r&&r.root.rootById[t]}static getTabsterContext(e,t,r){var n,o,i,s;if(void 0===r&&(r={}),!t.ownerDocument)return;const{checkRtl:a,referenceElement:l}=r,c=e.getParent;let u,d,h,f;e.drainInitQueue();let p,g,m,v,b=!1,y=l||t;const w={};for(;y&&(!u||a);){const r=$s(e,y);if(a&&void 0===m){const e=y.dir;e&&(m="rtl"===e.toLowerCase())}if(!r){y=c(y);continue}const s=y.tagName;(r.uncontrolled||"IFRAME"===s||"WEBVIEW"===s)&&(v=y),f||!(null===(n=r.focusable)||void 0===n?void 0:n.excludeFromMover)||h||(b=!0);const l=r.modalizer,_=r.groupper,k=r.mover;!d&&l&&(d=l),h||!_||d&&!l||(d?(!_.isActive()&&_.getProps().tabbability&&d.userId!==(null===(o=e.modalizer)||void 0===o?void 0:o.activeId)&&(d=void 0,h=_),g=_):h=_),f||!k||d&&!l||_&&y===t||(f=k,p=!!h&&h!==_),r.root&&(u=r.root),(null===(i=r.focusable)||void 0===i?void 0:i.ignoreKeydown)&&Object.assign(w,r.focusable.ignoreKeydown),y=c(y)}if(!u){const r=e.root;r._autoRoot&&(null===(s=t.ownerDocument)||void 0===s?void 0:s.body)&&(u=r._autoRootCreate())}return h&&!f&&(p=!0),u?{root:u,modalizer:d,groupper:h,mover:f,groupperBeforeMover:p,modalizerInGroupper:g,rtl:a?!!m:void 0,uncontrolled:v,excludedFromMover:b,ignoreKeydown:e=>!!w[e.key]}:void 0}static getRoot(e,t){var r;const n=e.getParent;for(let o=t;o;o=n(o)){const t=null===(r=$s(e,o))||void 0===r?void 0:r.root;if(t)return t}}onRoot(e,t){t?delete this.rootById[e.uid]:this.rootById[e.uid]=e}}class Ca{constructor(){this._callbacks=[]}dispose(){this._callbacks=[],delete this._val}subscribe(e){const t=this._callbacks;t.indexOf(e)<0&&t.push(e)}subscribeFirst(e){const t=this._callbacks,r=t.indexOf(e);r>=0&&t.splice(r,1),t.unshift(e)}unsubscribe(e){const t=this._callbacks.indexOf(e);t>=0&&this._callbacks.splice(t,1)}setVal(e,t){this._val!==e&&(this._val=e,this._callCallbacks(e,t))}getVal(){return this._val}trigger(e,t){this._callCallbacks(e,t)}_callCallbacks(e,t){this._callbacks.forEach((r=>r(e,t)))}}class Ta{constructor(e){this._tabster=e}dispose(){}getProps(e){const t=$s(this._tabster,e);return t&&t.focusable||{}}isFocusable(e,t,r,n){return!(!da(e,js)||!t&&-1===e.tabIndex)&&(r||this.isVisible(e))&&(n||this.isAccessible(e))}isVisible(e){if(!e.ownerDocument||e.nodeType!==Node.ELEMENT_NODE)return!1;if(null===e.offsetParent&&e.ownerDocument.body!==e)return!1;const t=e.ownerDocument.defaultView;if(!t)return!1;const r=e.ownerDocument.body.getBoundingClientRect();return(0!==r.width||0!==r.height)&&"hidden"!==t.getComputedStyle(e).visibility}isAccessible(e){var t;for(let r=e;r;r=Gs.getParentElement(r)){const e=$s(this._tabster,r);if(this._isHidden(r))return!1;if(!(null===(t=null==e?void 0:e.focusable)||void 0===t?void 0:t.ignoreAriaDisabled)&&this._isDisabled(r))return!1}return!0}_isDisabled(e){return e.hasAttribute("disabled")}_isHidden(e){var t;const r=e.getAttribute("aria-hidden");return!(!r||"true"!==r.toLowerCase()||(null===(t=this._tabster.modalizer)||void 0===t?void 0:t.isAugmented(e)))}findFirst(e,t){return this.findElement({...e},t)}findLast(e,t){return this.findElement({isBackward:!0,...e},t)}findNext(e,t){return this.findElement({...e},t)}findPrev(e,t){return this.findElement({...e,isBackward:!0},t)}findDefault(e,t){return this.findElement({...e,acceptCondition:t=>this.isFocusable(t,e.includeProgrammaticallyFocusable)&&!!this.getProps(t).isDefault},t)||null}findAll(e){return this._findElements(!0,e)||[]}findElement(e,t){const r=this._findElements(!1,e,t);return r?r[0]:r}_findElements(e,t,r){var n,o,i;const{container:s,currentElement:a=null,includeProgrammaticallyFocusable:l,useActiveModalizer:c,ignoreAccessibility:u,modalizerId:d,isBackward:h,onElement:f}=t;r||(r={});const p=[];let{acceptCondition:g}=t;const m=!!g;if(!s)return null;g||(g=e=>this.isFocusable(e,l,!1,u));const v={container:s,modalizerUserId:void 0===d&&c?null===(n=this._tabster.modalizer)||void 0===n?void 0:n.activeId:d||(null===(i=null===(o=Ea.getTabsterContext(this._tabster,s))||void 0===o?void 0:o.modalizer)||void 0===i?void 0:i.userId),from:a||s,isBackward:h,acceptCondition:g,hasCustomCondition:m,includeProgrammaticallyFocusable:l,ignoreAccessibility:u,cachedGrouppers:{}},b=na(s.ownerDocument,s,(e=>this._acceptElement(e,v)));if(!b)return null;const y=t=>{var n,o;const i=null!==(n=v.foundElement)&&void 0!==n?n:v.foundBackward;return i&&p.push(i),e?!(i&&(v.found=!1,delete v.foundElement,delete v.foundBackward,delete v.fromCtx,v.from=i,f&&!f(i))||!i&&!t):(i&&r&&(r.uncontrolled=null===(o=Ea.getTabsterContext(this._tabster,i))||void 0===o?void 0:o.uncontrolled),!(!t||i))};if(a||(r.outOfDOMOrder=!0),a&&Gs.nodeContains(s,a))b.currentNode=a;else if(h){const e=ba(s);if(!e)return null;if(this._acceptElement(e,v)===NodeFilter.FILTER_ACCEPT&&!y(!0))return v.skippedFocusable&&(r.outOfDOMOrder=!0),p;b.currentNode=e}do{h?b.previousNode():b.nextNode()}while(y());return v.skippedFocusable&&(r.outOfDOMOrder=!0),p.length?p:null}_acceptElement(e,t){var r,n,o;if(t.found)return NodeFilter.FILTER_ACCEPT;const i=t.foundBackward;if(i&&(e===i||!Gs.nodeContains(i,e)))return t.found=!0,t.foundElement=i,NodeFilter.FILTER_ACCEPT;const s=t.container;if(e===s)return NodeFilter.FILTER_SKIP;if(!Gs.nodeContains(s,e))return NodeFilter.FILTER_REJECT;if(e.__tabsterDummyContainer)return NodeFilter.FILTER_REJECT;if(Gs.nodeContains(t.rejectElementsFrom,e))return NodeFilter.FILTER_REJECT;const a=t.currentCtx=Ea.getTabsterContext(this._tabster,e);if(!a)return NodeFilter.FILTER_SKIP;if(aa(e))return this.isFocusable(e,void 0,!0,!0)&&(t.skippedFocusable=!0),NodeFilter.FILTER_SKIP;if(!t.hasCustomCondition&&("IFRAME"===e.tagName||"WEBVIEW"===e.tagName))return(null===(r=a.modalizer)||void 0===r?void 0:r.userId)===(null===(n=this._tabster.modalizer)||void 0===n?void 0:n.activeId)?(t.found=!0,t.rejectElementsFrom=t.foundElement=e,NodeFilter.FILTER_ACCEPT):NodeFilter.FILTER_REJECT;if(!t.ignoreAccessibility&&!this.isAccessible(e))return this.isFocusable(e,!1,!0,!0)&&(t.skippedFocusable=!0),NodeFilter.FILTER_REJECT;let l,c=t.fromCtx;c||(c=t.fromCtx=Ea.getTabsterContext(this._tabster,t.from));const u=null==c?void 0:c.mover;let d=a.groupper,h=a.mover;if(l=null===(o=this._tabster.modalizer)||void 0===o?void 0:o.acceptElement(e,t),void 0!==l&&(t.skippedFocusable=!0),void 0===l&&(d||h||u)){const r=null==d?void 0:d.getElement(),n=null==u?void 0:u.getElement();let o=null==h?void 0:h.getElement();o&&Gs.nodeContains(n,o)&&Gs.nodeContains(s,n)&&(!r||!h||Gs.nodeContains(n,r))&&(h=u,o=n),!r||r!==s&&Gs.nodeContains(s,r)||(d=void 0),o&&!Gs.nodeContains(s,o)&&(h=void 0),d&&h&&(o&&r&&!Gs.nodeContains(r,o)?h=void 0:d=void 0),d&&(l=d.acceptElement(e,t)),h&&(l=h.acceptElement(e,t))}return void 0===l&&(l=t.acceptCondition(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP,l===NodeFilter.FILTER_SKIP&&this.isFocusable(e,!1,!0,!0)&&(t.skippedFocusable=!0)),l!==NodeFilter.FILTER_ACCEPT||t.found||(t.isBackward?(t.foundBackward=e,l=NodeFilter.FILTER_SKIP):(t.found=!0,t.foundElement=e)),l}}class Ia extends Ca{constructor(e,t){super(),this._init=()=>{const e=this._win(),t=e.document;t.addEventListener(re,this._onFocusIn,!0),t.addEventListener(ne,this._onFocusOut,!0),e.addEventListener("keydown",this._onKeyDown,!0);const r=Gs.getActiveElement(t);r&&r!==t.body&&this._setFocusedElement(r),this.subscribe(this._onChanged)},this._onFocusIn=e=>{const t=e.composedPath()[0];t&&this._setFocusedElement(t,e.detail.relatedTarget,e.detail.isFocusedProgrammatically)},this._onFocusOut=e=>{var t;this._setFocusedElement(void 0,null===(t=e.detail)||void 0===t?void 0:t.originalEvent.relatedTarget)},this._validateFocusedElement=e=>{},this._onKeyDown=e=>{if(9!==e.keyCode||e.ctrlKey)return;const t=this.getVal();if(!t||!t.ownerDocument||"true"===t.contentEditable)return;const r=this._tabster,n=r.controlTab,o=Ea.getTabsterContext(r,t);if(!o||o.ignoreKeydown(e))return;const i=e.shiftKey,s=Ia.findNextTabbable(r,o,void 0,t,void 0,i,!0),a=o.root.getElement();if(!a)return;const l=null==s?void 0:s.element,c=function(e,t){var r;const n=e.getParent;let o=t;do{const t=null===(r=$s(e,o))||void 0===r?void 0:r.uncontrolled;if(t&&e.uncontrolled.isUncontrolledCompletely(o,!!t.completely))return o;o=n(o)}while(o)}(r,t);if(l){const u=s.uncontrolled;if(o.uncontrolled||Gs.nodeContains(u,t)){if(!s.outOfDOMOrder&&u===o.uncontrolled||c&&!Gs.nodeContains(c,l))return;return void ga.addPhantomDummyWithTarget(r,t,i,l)}if(u||"IFRAME"===l.tagName)return void(wa({by:"root",owner:a,next:l,relatedEvent:e})&&ga.moveWithPhantomDummy(this._tabster,null!=u?u:l,!1,i,e));(n||(null==s?void 0:s.outOfDOMOrder))&&wa({by:"root",owner:a,next:l,relatedEvent:e})&&(e.preventDefault(),e.stopImmediatePropagation(),ie(l))}else!c&&wa({by:"root",owner:a,next:null,relatedEvent:e})&&o.root.moveOutWithDefaultAction(i,e)},this._onChanged=(e,t)=>{var r,n;if(e)ya(e,Bs,t);else{const e=null===(r=this._lastVal)||void 0===r?void 0:r.get();if(e){const r={...t},o=Ea.getTabsterContext(this._tabster,e),i=null===(n=null==o?void 0:o.modalizer)||void 0===n?void 0:n.userId;i&&(r.modalizerId=i),ya(e,Os,r)}}},this._tabster=e,this._win=t,e.queueInit(this._init)}dispose(){super.dispose();const e=this._win(),t=e.document;t.removeEventListener(re,this._onFocusIn,!0),t.removeEventListener(ne,this._onFocusOut,!0),e.removeEventListener("keydown",this._onKeyDown,!0),this.unsubscribe(this._onChanged),delete Ia._lastResetElement,delete this._nextVal,delete this._lastVal}static forgetMemorized(e,t){var r,n;let o=Ia._lastResetElement,i=o&&o.get();i&&Gs.nodeContains(t,i)&&delete Ia._lastResetElement,i=null===(n=null===(r=e._nextVal)||void 0===r?void 0:r.element)||void 0===n?void 0:n.get(),i&&Gs.nodeContains(t,i)&&delete e._nextVal,o=e._lastVal,i=o&&o.get(),i&&Gs.nodeContains(t,i)&&delete e._lastVal}getFocusedElement(){return this.getVal()}getLastFocusedElement(){var e;let t=null===(e=this._lastVal)||void 0===e?void 0:e.get();return(!t||t&&!ua(t.ownerDocument,t))&&(this._lastVal=t=void 0),t}focus(e,t,r){return!!this._tabster.focusable.isFocusable(e,t,!1,r)&&(e.focus(),!0)}focusDefault(e){const t=this._tabster.focusable.findDefault({container:e});return!!t&&(this._tabster.focusedElement.focus(t),!0)}getFirstOrLastTabbable(e,t){var r;const{container:n,ignoreAccessibility:o}=t;let i;if(n){const t=Ea.getTabsterContext(this._tabster,n);t&&(i=null===(r=Ia.findNextTabbable(this._tabster,t,n,void 0,void 0,!e,o))||void 0===r?void 0:r.element)}return i&&!Gs.nodeContains(n,i)&&(i=void 0),i||void 0}_focusFirstOrLast(e,t){const r=this.getFirstOrLastTabbable(e,t);return!!r&&(this.focus(r,!1,!0),!0)}focusFirst(e){return this._focusFirstOrLast(!0,e)}focusLast(e){return this._focusFirstOrLast(!1,e)}resetFocus(e){if(!this._tabster.focusable.isVisible(e))return!1;if(this._tabster.focusable.isFocusable(e,!0,!0,!0))this.focus(e);else{const t=e.getAttribute("tabindex"),r=e.getAttribute("aria-hidden");e.tabIndex=-1,e.setAttribute("aria-hidden","true"),Ia._lastResetElement=new ea(this._win,e),this.focus(e,!0,!0),this._setOrRemoveAttribute(e,"tabindex",t),this._setOrRemoveAttribute(e,"aria-hidden",r)}return!0}_setOrRemoveAttribute(e,t,r){null===r?e.removeAttribute(t):e.setAttribute(t,r)}_setFocusedElement(e,t,r){var n,o;if(this._tabster._noop)return;const i={relatedTarget:t};if(e){const t=null===(n=Ia._lastResetElement)||void 0===n?void 0:n.get();if(Ia._lastResetElement=void 0,t===e||aa(e))return;i.isFocusedProgrammatically=r;const s=Ea.getTabsterContext(this._tabster,e),a=null===(o=null==s?void 0:s.modalizer)||void 0===o?void 0:o.userId;a&&(i.modalizerId=a)}const s=this._nextVal={element:e?new ea(this._win,e):void 0,details:i};e&&e!==this._val&&this._validateFocusedElement(e),this._nextVal===s&&this.setVal(e,i),this._nextVal=void 0}setVal(e,t){super.setVal(e,t),e&&(this._lastVal=new ea(this._win,e))}static findNextTabbable(e,t,r,n,o,i,s){const a=r||t.root.getElement();if(!a)return null;let l=null;const c=Ia._isTabbingTimer,u=e.getWindow();c&&u.clearTimeout(c),Ia.isTabbing=!0,Ia._isTabbingTimer=u.setTimeout((()=>{delete Ia._isTabbingTimer,Ia.isTabbing=!1}),0);const d=t.modalizer,h=t.groupper,f=t.mover,p=t=>{if(l=t.findNextTabbable(n,o,i,s),n&&!(null==l?void 0:l.element)){const o=t!==d&&Gs.getParentElement(t.getElement());if(o){const a=Ea.getTabsterContext(e,n,{referenceElement:o});if(a){const n=t.getElement(),c=i?n:n&&ba(n)||n;c&&(l=Ia.findNextTabbable(e,a,r,c,o,i,s),l&&(l.outOfDOMOrder=!0))}}}};if(h&&f)p(t.groupperBeforeMover?h:f);else if(h)p(h);else if(f)p(f);else if(d)p(d);else{const t={container:a,currentElement:n,referenceElement:o,ignoreAccessibility:s,useActiveModalizer:!0},r={},c=e.focusable[i?"findPrev":"findNext"](t,r);l={element:c,outOfDOMOrder:r.outOfDOMOrder,uncontrolled:r.uncontrolled}}return l}}Ia.isTabbing=!1;class Na extends Ca{constructor(e){super(),this._onChange=e=>{this.setVal(e,void 0)},this._keyborg=ce(e()),this._keyborg.subscribe(this._onChange)}dispose(){super.dispose(),this._keyborg&&(this._keyborg.unsubscribe(this._onChange),ue(this._keyborg),delete this._keyborg)}setNavigatingWithKeyboard(e){var t;null===(t=this._keyborg)||void 0===t||t.setVal(e)}isNavigatingWithKeyboard(){var e;return!!(null===(e=this._keyborg)||void 0===e?void 0:e.isNavigatingWithKeyboard())}}let Ra=0;const Da="aria-hidden";class Pa extends ga{constructor(e,t,r){super(t,e,2,r),this._setHandlers(((r,n)=>{var o,i,s;const a=e.get(),l=a&&(null===(o=Ea.getRoot(t,a))||void 0===o?void 0:o.getElement()),c=r.input;let u;if(l&&c){const e=null===(i=c.__tabsterDummyContainer)||void 0===i?void 0:i.get(),r=Ea.getTabsterContext(t,e||c);r&&(u=null===(s=Ia.findNextTabbable(t,r,l,c,void 0,n,!0))||void 0===s?void 0:s.element),u&&ie(u)}}))}}class za extends fa{constructor(e,t,r,n,o,i){super(e,t,n),this._wasFocused=0,this.userId=n.id,this._onDispose=r,this._activeElements=i,e.controlTab||(this.dummyManager=new Pa(this._element,e,o))}makeActive(e){if(this._isActive!==e){this._isActive=e;const t=this.getElement();if(t){const r=this._activeElements,n=r.map((e=>e.get())).indexOf(t);e?n<0&&r.push(new ea(this._tabster.getWindow,t)):n>=0&&r.splice(n,1)}this.triggerFocusEvent(e?Ds:Ps)}}focused(e){return e||(this._wasFocused=++Ra),this._wasFocused}setProps(e){e.id&&(this.userId=e.id),this._props={...e}}dispose(){var e;this.makeActive(!1),this._onDispose(this),null===(e=this.dummyManager)||void 0===e||e.dispose(),delete this.dummyManager,this._activeElements=[],this._remove()}isActive(){return!!this._isActive}contains(e){return Gs.nodeContains(this.getElement(),e)}findNextTabbable(e,t,r,n){var o,i;if(!this.getElement())return null;const s=this._tabster;let a,l=null,c=!1;const u=e&&(null===(o=Ea.getRoot(s,e))||void 0===o?void 0:o.getElement());if(u){const o={container:u,currentElement:e,referenceElement:t,ignoreAccessibility:n,useActiveModalizer:!0},d={};l=s.focusable[r?"findPrev":"findNext"](o,d),!l&&this._props.isTrapped&&(null===(i=s.modalizer)||void 0===i?void 0:i.activeId)?(l=s.focusable[r?"findLast":"findFirst"]({container:u,ignoreAccessibility:n,useActiveModalizer:!0},d),c=!0):c=!!d.outOfDOMOrder,a=d.uncontrolled}return{element:l,uncontrolled:a,outOfDOMOrder:c}}triggerFocusEvent(e,t){const r=this.getElement();let n=!1;if(r){const o=t?this._activeElements.map((e=>e.get())):[r];for(const t of o)t&&!ya(t,e,{id:this.userId,element:r,eventName:e})&&(n=!0)}return n}_remove(){}}class Ba{constructor(e,t,r){this._onModalizerDispose=e=>{const t=e.id,r=e.userId,n=this._parts[r];delete this._modalizers[t],n&&(delete n[t],0===Object.keys(n).length&&(delete this._parts[r],this.activeId===r&&this.setActive(void 0)))},this._onKeyDown=e=>{var t;if(27!==e.keyCode)return;const r=this._tabster,n=r.focusedElement.getFocusedElement();if(n){const o=Ea.getTabsterContext(r,n),i=null==o?void 0:o.modalizer;if(o&&!o.groupper&&(null==i?void 0:i.isActive())&&!o.ignoreKeydown(e)){const n=i.userId;if(n){const o=this._parts[n];if(o){const n=Object.keys(o).map((e=>{var t;const r=o[e],n=r.getElement();let i;return n&&(i=null===(t=$s(this._tabster,n))||void 0===t?void 0:t.groupper),r&&n&&i?{el:n,focusedSince:r.focused(!0)}:{focusedSince:0}})).filter((e=>e.focusedSince>0)).sort(((e,t)=>e.focusedSince>t.focusedSince?-1:e.focusedSince<t.focusedSince?1:0));if(n.length){const o=n[0].el;o&&(null===(t=r.groupper)||void 0===t||t.handleKeyPress(o,e,!0))}}}}}},this._onFocus=(e,t)=>{var r,n;const o=e&&Ea.getTabsterContext(this._tabster,e);if(!o||!e)return;const i=this._augMap;for(let t=e;t;t=Gs.getParentElement(t))i.has(t)&&(i.delete(t),_a(this._tabster,t,Da));const s=o.modalizer;if(null===(n=s||(null===(r=$s(this._tabster,e))||void 0===r?void 0:r.modalizer))||void 0===n||n.focused(),(null==s?void 0:s.userId)!==this.activeId)if(t.isFocusedProgrammatically||this.currentIsOthersAccessible||(null==s?void 0:s.getProps().isAlwaysAccessible))this.setActive(s);else{const t=this._win();t.clearTimeout(this._restoreModalizerFocusTimer),this._restoreModalizerFocusTimer=t.setTimeout((()=>this._restoreModalizerFocus(e)),100)}else this.currentIsOthersAccessible=null==s?void 0:s.getProps().isOthersAccessible},this._tabster=e,this._win=e.getWindow,this._modalizers={},this._parts={},this._augMap=new WeakMap,this._aug=[],this._alwaysAccessibleSelector=t,this._accessibleCheck=r,this.activeElements=[],e.controlTab||e.root.addDummyInputs(),this._win().addEventListener("keydown",this._onKeyDown,!0),e.queueInit((()=>{this._tabster.focusedElement.subscribe(this._onFocus)}))}dispose(){const e=this._win();e.removeEventListener("keydown",this._onKeyDown,!0),Object.keys(this._modalizers).forEach((e=>{this._modalizers[e]&&(this._modalizers[e].dispose(),delete this._modalizers[e])})),e.clearTimeout(this._restoreModalizerFocusTimer),e.clearTimeout(this._hiddenUpdateTimer),this._parts={},delete this.activeId,this.activeElements=[],this._augMap=new WeakMap,this._aug=[],this._tabster.focusedElement.unsubscribe(this._onFocus)}createModalizer(e,t,r){var n;const o=new za(this._tabster,e,this._onModalizerDispose,t,r,this.activeElements),i=o.id,s=t.id;this._modalizers[i]=o;let a=this._parts[s];return a||(a=this._parts[s]={}),a[i]=o,Gs.nodeContains(e,null!==(n=this._tabster.focusedElement.getFocusedElement())&&void 0!==n?n:null)&&(s!==this.activeId?this.setActive(o):o.makeActive(!0)),o}isAugmented(e){return this._augMap.has(e)}hiddenUpdate(){this._hiddenUpdateTimer||(this._hiddenUpdateTimer=this._win().setTimeout((()=>{delete this._hiddenUpdateTimer,this._hiddenUpdate()}),250))}setActive(e){const t=null==e?void 0:e.userId,r=this.activeId;if(r!==t){if(this.activeId=t,r){const e=this._parts[r];if(e)for(const t of Object.keys(e))e[t].makeActive(!1)}if(t){const e=this._parts[t];if(e)for(const t of Object.keys(e))e[t].makeActive(!0)}this.currentIsOthersAccessible=null==e?void 0:e.getProps().isOthersAccessible,this.hiddenUpdate()}}focus(e,t,r){const n=Ea.getTabsterContext(this._tabster,e),o=null==n?void 0:n.modalizer;if(o){this.setActive(o);const e=o.getProps(),n=o.getElement();if(n){if(void 0===t&&(t=e.isNoFocusFirst),!t&&this._tabster.keyboardNavigation.isNavigatingWithKeyboard()&&this._tabster.focusedElement.focusFirst({container:n}))return!0;if(void 0===r&&(r=e.isNoFocusDefault),!r&&this._tabster.focusedElement.focusDefault(n))return!0;this._tabster.focusedElement.resetFocus(n)}}return!1}acceptElement(e,t){var r;const n=t.modalizerUserId,o=null===(r=t.currentCtx)||void 0===r?void 0:r.modalizer;if(n)for(const t of this.activeElements){const r=t.get();if(r&&(Gs.nodeContains(e,r)||r===e))return NodeFilter.FILTER_SKIP}const i=n===(null==o?void 0:o.userId)||!n&&(null==o?void 0:o.getProps().isAlwaysAccessible)?void 0:NodeFilter.FILTER_SKIP;return void 0!==i&&(t.skippedFocusable=!0),i}_hiddenUpdate(){var e;const t=this._tabster,r=t.getWindow().document.body,n=this.activeId,o=this._parts,i=[],s=[],a=this._alwaysAccessibleSelector,l=a?Array.from(Gs.querySelectorAll(r,a)):[],c=[];for(const e of Object.keys(o)){const t=o[e];for(const r of Object.keys(t)){const o=t[r],a=o.getElement(),u=o.getProps().isAlwaysAccessible;a&&(e===n?(c.push(a),this.currentIsOthersAccessible||i.push(a)):u?l.push(a):s.push(a))}}const u=this._augMap,d=i.length>0?[...i,...l]:void 0,h=[],f=new WeakMap,p=(e,r)=>{var n;const o=e.tagName;if("SCRIPT"===o||"STYLE"===o)return;let i=!1;u.has(e)?r?i=!0:(u.delete(e),_a(t,e,Da)):r&&!(null===(n=this._accessibleCheck)||void 0===n?void 0:n.call(this,e,c))&&_a(t,e,Da,"true")&&(u.set(e,!0),i=!0),i&&(h.push(new ea(t.getWindow,e)),f.set(e,!0))},g=e=>{for(let r=Gs.getFirstElementChild(e);r;r=Gs.getNextElementSibling(r)){let e=!1,n=!1,o=!1;if(d){const i=t.getParent(r);for(const t of d){if(r===t){e=!0;break}if(Gs.nodeContains(r,t)){n=!0;break}Gs.nodeContains(t,i)&&(o=!0)}n?g(r):e||o||p(r,!0)}else p(r,!1)}};d||l.forEach((e=>p(e,!1))),s.forEach((e=>p(e,!0))),r&&g(r),null===(e=this._aug)||void 0===e||e.map((e=>e.get())).forEach((e=>{e&&!f.get(e)&&p(e,!1)})),this._aug=h,this._augMap=f}_restoreModalizerFocus(e){const t=null==e?void 0:e.ownerDocument;if(!e||!t)return;const r=Ea.getTabsterContext(this._tabster,e),n=null==r?void 0:r.modalizer,o=this.activeId;if(!n&&!o||n&&o===n.userId)return;const i=null==r?void 0:r.root.getElement();if(i){let t=this._tabster.focusable.findFirst({container:i,useActiveModalizer:!0});if(t){if(e.compareDocumentPosition(t)&document.DOCUMENT_POSITION_PRECEDING&&(t=this._tabster.focusable.findLast({container:i,useActiveModalizer:!0}),!t))throw new Error("Something went wrong.");return void this._tabster.focusedElement.focus(t)}}e.blur()}}const Oa=["input","textarea","*[contenteditable]"].join(", ");class Aa extends ga{constructor(e,t,r,n){super(t,e,3,n),this._onFocusDummyInput=e=>{var t,r;const n=this._element.get(),o=e.input;if(n&&o){const i=Ea.getTabsterContext(this._tabster,n);let s;i&&(s=null===(t=Ia.findNextTabbable(this._tabster,i,void 0,o,void 0,!e.isFirst,!0))||void 0===t?void 0:t.element);const a=null===(r=this._getMemorized())||void 0===r?void 0:r.get();a&&(s=a),s&&ie(s)}},this._tabster=t,this._getMemorized=r,this._setHandlers(this._onFocusDummyInput)}}class Fa extends fa{constructor(e,t,r,n,o){var i;super(e,t,n),this._visible={},this._onIntersection=e=>{for(const t of e){const e=t.target,r=la(this._win,e);let n,o=this._fullyVisible;if(t.intersectionRatio>=.25?(n=t.intersectionRatio>=.75?Ls.Visible:Ls.PartiallyVisible,n===Ls.Visible&&(o=r)):n=Ls.Invisible,this._visible[r]!==n){void 0===n?(delete this._visible[r],o===r&&delete this._fullyVisible):(this._visible[r]=n,this._fullyVisible=o);const t=this.getState(e);t&&ya(e,zs,t)}}},this._win=e.getWindow,this.visibilityTolerance=null!==(i=n.visibilityTolerance)&&void 0!==i?i:.8,(this._props.trackState||this._props.visibilityAware)&&(this._intersectionObserver=new IntersectionObserver(this._onIntersection,{threshold:[0,.25,.5,.75,1]}),this._observeState()),this._onDispose=r;e.controlTab||(this.dummyManager=new Aa(this._element,e,(()=>n.memorizeCurrent?this._current:void 0),o))}dispose(){var e;this._onDispose(this),this._intersectionObserver&&(this._intersectionObserver.disconnect(),delete this._intersectionObserver),delete this._current,delete this._fullyVisible,delete this._allElements,delete this._updateQueue,this._unobserve&&(this._unobserve(),delete this._unobserve);const t=this._win();this._setCurrentTimer&&(t.clearTimeout(this._setCurrentTimer),delete this._setCurrentTimer),this._updateTimer&&(t.clearTimeout(this._updateTimer),delete this._updateTimer),null===(e=this.dummyManager)||void 0===e||e.dispose(),delete this.dummyManager}setCurrent(e){this._current=e?new ea(this._win,e):void 0,!this._props.trackState&&!this._props.visibilityAware||this._setCurrentTimer||(this._setCurrentTimer=this._win().setTimeout((()=>{var e;delete this._setCurrentTimer;const t=[];this._current!==this._prevCurrent&&(t.push(this._current),t.push(this._prevCurrent),this._prevCurrent=this._current);for(const r of t){const t=null==r?void 0:r.get();if(t&&(null===(e=this._allElements)||void 0===e?void 0:e.get(t))===this){const e=this._props;if(t&&(void 0!==e.visibilityAware||e.trackState)){const e=this.getState(t);e&&ya(t,zs,e)}}}})))}getCurrent(){var e;return(null===(e=this._current)||void 0===e?void 0:e.get())||null}findNextTabbable(e,t,r,n){var o;const i=this.getElement(),s=i&&(null===(o=null==e?void 0:e.__tabsterDummyContainer)||void 0===o?void 0:o.get())===i;if(!i)return null;let a,l=null,c=!1;if(this._props.tabbable||s||e&&!Gs.nodeContains(i,e)){const o={currentElement:e,referenceElement:t,container:i,ignoreAccessibility:n,useActiveModalizer:!0},s={};l=this._tabster.focusable[r?"findPrev":"findNext"](o,s),c=!!s.outOfDOMOrder,a=s.uncontrolled}return{element:l,uncontrolled:a,outOfDOMOrder:c}}acceptElement(e,t){var r,n,o;if(!Ia.isTabbing)return(null===(r=t.currentCtx)||void 0===r?void 0:r.excludedFromMover)?NodeFilter.FILTER_REJECT:void 0;const{memorizeCurrent:i,visibilityAware:s,hasDefault:a=!0}=this._props,l=this.getElement();if(l&&(i||s||a)&&(!Gs.nodeContains(l,t.from)||(null===(n=t.from.__tabsterDummyContainer)||void 0===n?void 0:n.get())===l)){let e;if(i){const r=null===(o=this._current)||void 0===o?void 0:o.get();r&&t.acceptCondition(r)&&(e=r)}if(!e&&a&&(e=this._tabster.focusable.findDefault({container:l,useActiveModalizer:!0})),!e&&s&&(e=this._tabster.focusable.findElement({container:l,useActiveModalizer:!0,isBackward:t.isBackward,acceptCondition:e=>{var r;const n=la(this._win,e),o=this._visible[n];return l!==e&&!!(null===(r=this._allElements)||void 0===r?void 0:r.get(e))&&t.acceptCondition(e)&&(o===Ls.Visible||o===Ls.PartiallyVisible&&(s===Ls.PartiallyVisible||!this._fullyVisible))}})),e)return t.found=!0,t.foundElement=e,t.rejectElementsFrom=l,t.skippedFocusable=!0,NodeFilter.FILTER_ACCEPT}}_observeState(){const e=this.getElement();if(this._unobserve||!e||"undefined"==typeof MutationObserver)return;const t=this._win(),r=this._allElements=new WeakMap,n=this._tabster.focusable;let o=this._updateQueue=[];const i=Gs.createMutationObserver((e=>{for(const t of e){const e=t.target,r=t.removedNodes,n=t.addedNodes;if("attributes"===t.type)"tabindex"===t.attributeName&&o.push({element:e,type:2});else{for(let e=0;e<r.length;e++)o.push({element:r[e],type:3});for(let e=0;e<n.length;e++)o.push({element:n[e],type:1})}}u()})),s=(e,t)=>{var n,o;const i=r.get(e);i&&t&&(null===(n=this._intersectionObserver)||void 0===n||n.unobserve(e),r.delete(e)),i||t||(r.set(e,this),null===(o=this._intersectionObserver)||void 0===o||o.observe(e))},a=e=>{const t=n.isFocusable(e);r.get(e)?t||s(e,!0):t&&s(e)},l=e=>{const{mover:r}=d(e);if(r&&r!==this){if(r.getElement()!==e||!n.isFocusable(e))return;s(e)}const o=na(t.document,e,(e=>{const{mover:t,groupper:r}=d(e);if(t&&t!==this)return NodeFilter.FILTER_REJECT;const o=null==r?void 0:r.getFirst(!0);return r&&r.getElement()!==e&&o&&o!==e?NodeFilter.FILTER_REJECT:(n.isFocusable(e)&&s(e),NodeFilter.FILTER_SKIP)}));if(o)for(o.currentNode=e;o.nextNode(););},c=e=>{r.get(e)&&s(e,!0);for(let t=Gs.getFirstElementChild(e);t;t=Gs.getNextElementSibling(t))c(t)},u=()=>{!this._updateTimer&&o.length&&(this._updateTimer=t.setTimeout((()=>{delete this._updateTimer;for(const{element:e,type:t}of o)switch(t){case 2:a(e);break;case 1:l(e);break;case 3:c(e)}o=this._updateQueue=[]}),0))},d=e=>{const t={};for(let r=e;r;r=Gs.getParentElement(r)){const e=$s(this._tabster,r);if(e&&(e.groupper&&!t.groupper&&(t.groupper=e.groupper),e.mover)){t.mover=e.mover;break}}return t};o.push({element:e,type:1}),u(),i.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["tabindex"]}),this._unobserve=()=>{i.disconnect()}}getState(e){const t=la(this._win,e);if(t in this._visible){const r=this._visible[t]||Ls.Invisible;return{isCurrent:this._current?this._current.get()===e:void 0,visibility:r}}}}class Ma{constructor(e,t){this._init=()=>{const e=this._win();e.addEventListener("keydown",this._onKeyDown,!0),e.addEventListener(Fs,this._onMoveFocus),e.addEventListener(Ms,this._onMemorizedElement),this._tabster.focusedElement.subscribe(this._onFocus)},this._onMoverDispose=e=>{delete this._movers[e.id]},this._onFocus=e=>{var t;let r=e,n=e;for(let o=Gs.getParentElement(e);o;o=Gs.getParentElement(o)){const e=null===(t=$s(this._tabster,o))||void 0===t?void 0:t.mover;e&&(e.setCurrent(n),r=void 0),!r&&this._tabster.focusable.isFocusable(o)&&(r=n=o)}},this._onKeyDown=async e=>{var t;if(this._ignoredInputTimer&&(this._win().clearTimeout(this._ignoredInputTimer),delete this._ignoredInputTimer),null===(t=this._ignoredInputResolve)||void 0===t||t.call(this,!1),e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)return;const r=e.keyCode;let n;if(40===r?n=Vs.ArrowDown:39===r?n=Vs.ArrowRight:38===r?n=Vs.ArrowUp:37===r?n=Vs.ArrowLeft:34===r?n=Vs.PageDown:33===r?n=Vs.PageUp:36===r?n=Vs.Home:35===r&&(n=Vs.End),!n)return;const o=this._tabster.focusedElement.getFocusedElement();o&&!await this._isIgnoredInput(o,r)&&this._moveFocus(o,n,e)},this._onMoveFocus=e=>{var t;const r=e.composedPath()[0],n=null===(t=e.detail)||void 0===t?void 0:t.key;r&&void 0!==n&&!e.defaultPrevented&&(this._moveFocus(r,n),e.stopImmediatePropagation())},this._onMemorizedElement=e=>{var t;const r=e.composedPath()[0];let n=null===(t=e.detail)||void 0===t?void 0:t.memorizedElement;if(r){const t=Ea.getTabsterContext(this._tabster,r),o=null==t?void 0:t.mover;o&&(n&&!Gs.nodeContains(o.getElement(),n)&&(n=void 0),o.setCurrent(n),e.stopImmediatePropagation())}},this._tabster=e,this._win=t,this._movers={},e.queueInit(this._init)}dispose(){var e;const t=this._win();this._tabster.focusedElement.unsubscribe(this._onFocus),null===(e=this._ignoredInputResolve)||void 0===e||e.call(this,!1),this._ignoredInputTimer&&(t.clearTimeout(this._ignoredInputTimer),delete this._ignoredInputTimer),t.removeEventListener("keydown",this._onKeyDown,!0),t.removeEventListener(Fs,this._onMoveFocus),t.removeEventListener(Ms,this._onMemorizedElement),Object.keys(this._movers).forEach((e=>{this._movers[e]&&(this._movers[e].dispose(),delete this._movers[e])}))}createMover(e,t,r){const n=new Fa(this._tabster,e,this._onMoverDispose,t,r);return this._movers[n.id]=n,n}moveFocus(e,t){return this._moveFocus(e,t)}_moveFocus(e,t,r){var n,o;const i=this._tabster,s=Ea.getTabsterContext(i,e,{checkRtl:!0});if(!s||!s.mover||s.excludedFromMover||r&&s.ignoreKeydown(r))return null;const a=s.mover,l=a.getElement();if(s.groupperBeforeMover){const e=s.groupper;if(!e||e.isActive(!0))return null;for(let t=Gs.getParentElement(e.getElement());t&&t!==l;t=Gs.getParentElement(t))if(null===(o=null===(n=$s(i,t))||void 0===n?void 0:n.groupper)||void 0===o?void 0:o.isActive(!0))return null}if(!l)return null;const c=i.focusable,u=a.getProps(),d=u.direction||Us.Both,h=d===Us.Both,f=h||d===Us.Vertical,p=h||d===Us.Horizontal,g=d===Us.GridLinear,m=g||d===Us.Grid,v=u.cyclic;let b,y,w,_=0,k=0;if(m&&(w=e.getBoundingClientRect(),_=Math.ceil(w.left),k=Math.floor(w.right)),s.rtl&&(t===Vs.ArrowRight?t=Vs.ArrowLeft:t===Vs.ArrowLeft&&(t=Vs.ArrowRight)),t===Vs.ArrowDown&&f||t===Vs.ArrowRight&&(p||m))if(b=c.findNext({currentElement:e,container:l,useActiveModalizer:!0}),b&&m){const e=Math.ceil(b.getBoundingClientRect().left);!g&&k>e&&(b=void 0)}else!b&&v&&(b=c.findFirst({container:l,useActiveModalizer:!0}));else if(t===Vs.ArrowUp&&f||t===Vs.ArrowLeft&&(p||m))if(b=c.findPrev({currentElement:e,container:l,useActiveModalizer:!0}),b&&m){const e=Math.floor(b.getBoundingClientRect().right);!g&&e>_&&(b=void 0)}else!b&&v&&(b=c.findLast({container:l,useActiveModalizer:!0}));else if(t===Vs.Home)m?c.findElement({container:l,currentElement:e,useActiveModalizer:!0,isBackward:!0,acceptCondition:t=>{var r;if(!c.isFocusable(t))return!1;const n=Math.ceil(null!==(r=t.getBoundingClientRect().left)&&void 0!==r?r:0);return t!==e&&_<=n||(b=t,!1)}}):b=c.findFirst({container:l,useActiveModalizer:!0});else if(t===Vs.End)m?c.findElement({container:l,currentElement:e,useActiveModalizer:!0,acceptCondition:t=>{var r;if(!c.isFocusable(t))return!1;const n=Math.ceil(null!==(r=t.getBoundingClientRect().left)&&void 0!==r?r:0);return t!==e&&_>=n||(b=t,!1)}}):b=c.findLast({container:l,useActiveModalizer:!0});else if(t===Vs.PageUp){if(c.findElement({currentElement:e,container:l,useActiveModalizer:!0,isBackward:!0,acceptCondition:e=>!(!c.isFocusable(e)||ia(this._win,e,a.visibilityTolerance)&&(b=e,1))}),m&&b){const e=Math.ceil(b.getBoundingClientRect().left);c.findElement({currentElement:b,container:l,useActiveModalizer:!0,acceptCondition:t=>{if(!c.isFocusable(t))return!1;const r=Math.ceil(t.getBoundingClientRect().left);return _<r||e>=r||(b=t,!1)}})}y=!1}else if(t===Vs.PageDown){if(c.findElement({currentElement:e,container:l,useActiveModalizer:!0,acceptCondition:e=>!(!c.isFocusable(e)||ia(this._win,e,a.visibilityTolerance)&&(b=e,1))}),m&&b){const e=Math.ceil(b.getBoundingClientRect().left);c.findElement({currentElement:b,container:l,useActiveModalizer:!0,isBackward:!0,acceptCondition:t=>{if(!c.isFocusable(t))return!1;const r=Math.ceil(t.getBoundingClientRect().left);return _>r||e<=r||(b=t,!1)}})}y=!0}else if(m){const r=t===Vs.ArrowUp,n=_,o=Math.ceil(w.top),i=k,s=Math.floor(w.bottom);let a,u,d=0;c.findAll({container:l,currentElement:e,isBackward:r,onElement:e=>{const t=e.getBoundingClientRect(),l=Math.ceil(t.left),c=Math.ceil(t.top),h=Math.floor(t.right),f=Math.floor(t.bottom);if(r&&o<f||!r&&s>c)return!0;const p=Math.ceil(Math.min(i,h))-Math.floor(Math.max(n,l)),g=Math.ceil(Math.min(i-n,h-l));if(p>0&&g>=p){const t=p/g;t>d&&(a=e,d=t)}else if(0===d){const t=function(e,t,r,n,o,i,s,a){const l=r<o?o-r:s<e?e-s:0,c=n<i?i-n:a<t?t-a:0;return 0===l?c:0===c?l:Math.sqrt(l*l+c*c)}(n,o,i,s,l,c,h,f);(void 0===u||t<u)&&(u=t,a=e)}else if(d>0)return!1;return!0}}),b=a}return b&&(!r||r&&wa({by:"mover",owner:l,next:b,relatedEvent:r}))?(void 0!==y&&function(e,t,r){const n=sa(t);if(n){const o=oa(e,n),i=t.getBoundingClientRect();n.scrollTop+=r?i.top-o.top:i.bottom-o.bottom}}(this._win,b,y),r&&(r.preventDefault(),r.stopImmediatePropagation()),ie(b),b):null}async _isIgnoredInput(e,t){if("true"===e.getAttribute("aria-expanded")&&e.hasAttribute("aria-activedescendant"))return!0;if(da(e,Oa)){let r,n=0,o=0,i=0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName){const r=e.type,s=e.value;if(i=(s||"").length,"email"===r||"number"===r){if(i){const r=Gs.getSelection(e);if(r){const e=r.toString().length,n=37===t||38===t;if(r.modify("extend",n?"backward":"forward","character"),e!==r.toString().length)return r.modify("extend",n?"forward":"backward","character"),!0;i=0}}}else{const t=e.selectionStart;if(null===t)return"hidden"===r;n=t||0,o=e.selectionEnd||0}}else"true"===e.contentEditable&&(r=new(function(e){const t=Js(e);if(t.basics.Promise)return t.basics.Promise;throw new Error("No Promise defined.")}(this._win))((t=>{this._ignoredInputResolve=e=>{delete this._ignoredInputResolve,t(e)};const r=this._win();this._ignoredInputTimer&&r.clearTimeout(this._ignoredInputTimer);const{anchorNode:s,focusNode:a,anchorOffset:l,focusOffset:c}=Gs.getSelection(e)||{};this._ignoredInputTimer=r.setTimeout((()=>{var t,r,u;delete this._ignoredInputTimer;const{anchorNode:d,focusNode:h,anchorOffset:f,focusOffset:p}=Gs.getSelection(e)||{};if(d===s&&h===a&&f===l&&p===c){if(n=f||0,o=p||0,i=(null===(r=e.textContent)||void 0===r?void 0:r.length)||0,d&&h&&Gs.nodeContains(e,d)&&Gs.nodeContains(e,h)&&d!==e){let t=!1;const r=e=>{if(e===d)t=!0;else if(e===h)return!0;const i=e.textContent;if(i&&!Gs.getFirstChild(e)){const e=i.length;t?h!==d&&(o+=e):(n+=e,o+=e)}let s=!1;for(let t=Gs.getFirstChild(e);t&&!s;t=t.nextSibling)s=r(t);return s};r(e)}null===(u=this._ignoredInputResolve)||void 0===u||u.call(this,!0)}else null===(t=this._ignoredInputResolve)||void 0===t||t.call(this,!1)}),0)})));if(r&&!await r)return!0;if(n!==o)return!0;if(n>0&&(37===t||38===t||36===t))return!0;if(n<i&&(39===t||40===t||35===t))return!0}return!1}}class ja{constructor(e){this._isUncontrolledCompletely=e}isUncontrolledCompletely(e,t){var r;const n=null===(r=this._isUncontrolledCompletely)||void 0===r?void 0:r.call(this,e,t);return void 0===n?t:n}}const La="restorer:restorefocus";class qa extends fa{constructor(e,t,r){var n;if(super(e,t,r),this._hasFocus=!1,this._onFocusOut=e=>{var t;const r=null===(t=this._element)||void 0===t?void 0:t.get();r&&null===e.relatedTarget&&ya(r,La),r&&!Gs.nodeContains(r,e.relatedTarget)&&(this._hasFocus=!1)},this._onFocusIn=()=>{this._hasFocus=!0},this._props.type===qs.Source){const e=null===(n=this._element)||void 0===n?void 0:n.get();null==e||e.addEventListener("focusout",this._onFocusOut),null==e||e.addEventListener("focusin",this._onFocusIn),this._hasFocus=Gs.nodeContains(e,e&&Gs.getActiveElement(e.ownerDocument))}}dispose(){var e;if(this._props.type===qs.Source){const t=null===(e=this._element)||void 0===e?void 0:e.get();null==t||t.removeEventListener("focusout",this._onFocusOut),null==t||t.removeEventListener("focusin",this._onFocusIn),this._hasFocus&&ya(this._tabster.getWindow().document.body,La)}}}class Ua{constructor(e){this._history=[],this._restoreFocusTimeout=0,this._onRestoreFocus=e=>{const t=this._getWindow();this._restoreFocusTimeout&&(t.clearTimeout(this._restoreFocusTimeout),this._restoreFocusTimeout=0);const r=e.composedPath()[0];r&&(this._restoreFocusTimeout=t.setTimeout((()=>this._restoreFocus(r))))},this._onFocusIn=e=>{var t;if(!e)return;const r=$s(this._tabster,e);(null===(t=null==r?void 0:r.restorer)||void 0===t?void 0:t.getProps().type)===qs.Target&&this._addToHistory(e)},this._restoreFocus=e=>{var t;const r=this._getWindow().document;if(Gs.getActiveElement(r)!==r.body)return;if(!this._keyboardNavState.isNavigatingWithKeyboard()&&Gs.nodeContains(r.body,e))return;let n=this._history.pop();for(;n&&!Gs.nodeContains(r.body,Gs.getParentElement(n.get()));)n=this._history.pop();null===(t=null==n?void 0:n.get())||void 0===t||t.focus()},this._tabster=e,this._getWindow=e.getWindow,this._getWindow().addEventListener(La,this._onRestoreFocus),this._keyboardNavState=e.keyboardNavigation,this._focusedElementState=e.focusedElement,this._focusedElementState.subscribe(this._onFocusIn)}dispose(){const e=this._getWindow();this._focusedElementState.unsubscribe(this._onFocusIn),e.removeEventListener(La,this._onRestoreFocus),this._restoreFocusTimeout&&e.clearTimeout(this._restoreFocusTimeout)}_addToHistory(e){var t;(null===(t=this._history[this._history.length-1])||void 0===t?void 0:t.get())!==e&&(this._history.length>10&&this._history.shift(),this._history.push(new ea(this._getWindow,e)))}createRestorer(e,t){const r=new qa(this._tabster,e,t);return t.type===qs.Target&&Gs.getActiveElement(e.ownerDocument)===e&&this._addToHistory(e),r}}class Va{static _overrideAttachShadow(e){const t=e.Element.prototype.attachShadow;t.__origAttachShadow||(Element.prototype.attachShadow=function(e){const r=t.call(this,e);for(const e of Va._shadowObservers)e._addSubObserver(r);return r},Element.prototype.attachShadow.__origAttachShadow=t)}constructor(e){this._isObserving=!1,this._callbackWrapper=(e,t)=>{for(const t of e)if("childList"===t.type){const e=t.removedNodes,r=t.addedNodes;for(let t=0;t<e.length;t++)this._walkShadows(e[t],!0);for(let e=0;e<r.length;e++)this._walkShadows(r[e])}this._callback(e,t)},this._callback=e,this._observer=new MutationObserver(this._callbackWrapper),this._subObservers=new Map}_addSubObserver(e){if(this._options&&this._callback&&!this._subObservers.has(e)&&this._options.subtree&&function(e,t){var r,n;if(!e||!t)return!1;let o=t;for(;o;){if(o===e)return!0;o="function"!=typeof o.assignedElements&&(null===(r=o.assignedSlot)||void 0===r?void 0:r.parentNode)?null===(n=o.assignedSlot)||void 0===n?void 0:n.parentNode:o.nodeType===document.DOCUMENT_FRAGMENT_NODE?o.host:o.parentNode}return!1}(this._root,e)){const t=new MutationObserver(this._callbackWrapper);this._subObservers.set(e,t),this._isObserving&&t.observe(e,this._options),this._walkShadows(e)}}disconnect(){this._isObserving=!1,delete this._options,Va._shadowObservers.delete(this);for(const e of this._subObservers.values())e.disconnect();this._subObservers.clear(),this._observer.disconnect()}observe(e,t){const r=e.nodeType===Node.DOCUMENT_NODE?e:e.ownerDocument,n=null==r?void 0:r.defaultView;r&&n&&(Va._overrideAttachShadow(n),Va._shadowObservers.add(this),this._root=e,this._options=t,this._isObserving=!0,this._observer.observe(e,t),this._walkShadows(e))}_walkShadows(e,t){const r=e.nodeType===Node.DOCUMENT_NODE?e:e.ownerDocument;if(!r)return;if(e===r)e=r.body;else{const t=e.shadowRoot;if(t)return void this._addSubObserver(t)}const n=r.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{if(e.nodeType===Node.ELEMENT_NODE)if(t){const t=this._subObservers.get(e);t&&(t.disconnect(),this._subObservers.delete(e))}else{const t=e.shadowRoot;t&&this._addSubObserver(t)}return NodeFilter.FILTER_SKIP}});n.nextNode()}takeRecords(){const e=this._observer.takeRecords();for(const t of this._subObservers.values())e.push(...t.takeRecords());return e}}Va._shadowObservers=new Set;class Ha{constructor(e){this.keyboardNavigation=e.keyboardNavigation,this.focusedElement=e.focusedElement,this.focusable=e.focusable,this.root=e.root,this.uncontrolled=e.uncontrolled,this.core=e}}class Wa{constructor(e,t){var r,n;this._forgetMemorizedElements=[],this._wrappers=new Set,this._initQueue=[],this._version="6.1.0",this._noop=!1,this.getWindow=()=>{if(!this._win)throw new Error("Using disposed Tabster.");return this._win},this._storage=function(e){const t=e.__tabsterInstanceContext;return new((null==t?void 0:t.basics.WeakMap)||WeakMap)}(e),this._win=e;const o=this.getWindow;(null==t?void 0:t.DOMAPI)&&function(e){for(const t of Object.keys(e))Gs[t]=e[t]}({...t.DOMAPI}),this.keyboardNavigation=new Na(o),this.focusedElement=new Ia(this,o),this.focusable=new Ta(this),this.root=new Ea(this,null==t?void 0:t.autoRoot),this.uncontrolled=new ja((null==t?void 0:t.checkUncontrolledCompletely)||(null==t?void 0:t.checkUncontrolledTrappingFocus)),this.controlTab=null===(r=null==t?void 0:t.controlTab)||void 0===r||r,this.rootDummyInputs=!!(null==t?void 0:t.rootDummyInputs),this._dummyObserver=new ma(o),this.getParent=null!==(n=null==t?void 0:t.getParent)&&void 0!==n?n:Gs.getParentNode,this.internal={stopObserver:()=>{this._unobserve&&(this._unobserve(),delete this._unobserve)},resumeObserver:e=>{if(!this._unobserve){const t=o().document;this._unobserve=function(e,t,r,n){if("undefined"==typeof MutationObserver)return()=>{};const o=t.getWindow;let i;function s(t,r){i||(i=Js(o).elementByUId),a(t,r);const n=na(e,t,(e=>a(e,r)));if(n)for(;n.nextNode(););}function a(e,n){var s;if(!e.getAttribute)return NodeFilter.FILTER_SKIP;const a=e.__tabsterElementUID;return a&&i&&(n?delete i[a]:null!==(s=i[a])&&void 0!==s||(i[a]=new ea(o,e))),($s(t,e)||e.hasAttribute(Ns))&&r(t,e,n),NodeFilter.FILTER_SKIP}const l=Gs.createMutationObserver((e=>{var n,o,i,a,l;for(const l of e){const e=l.target,c=l.removedNodes,u=l.addedNodes;if("attributes"===l.type)l.attributeName===Ns&&r(t,e);else{for(let r=0;r<c.length;r++)s(c[r],!0),null===(o=(n=t._dummyObserver).domChanged)||void 0===o||o.call(n,e);for(let r=0;r<u.length;r++)s(u[r]),null===(a=(i=t._dummyObserver).domChanged)||void 0===a||a.call(i,e)}}null===(l=t.modalizer)||void 0===l||l.hiddenUpdate()}));return n&&s(o().document.body),l.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[Ns]}),()=>{l.disconnect()}}(t,this,Ks,e)}}},ra(o),this.queueInit((()=>{this.internal.resumeObserver(!0)}))}_mergeProps(e){var t;e&&(this.getParent=null!==(t=e.getParent)&&void 0!==t?t:this.getParent)}createTabster(e,t){const r=new Ha(this);return e||this._wrappers.add(r),this._mergeProps(t),r}disposeTabster(e,t){t?this._wrappers.clear():this._wrappers.delete(e),0===this._wrappers.size&&this.dispose()}dispose(){var e,t,r,n,o,i,s,a;this.internal.stopObserver();const l=this._win;null==l||l.clearTimeout(this._initTimer),delete this._initTimer,this._initQueue=[],this._forgetMemorizedElements=[],l&&this._forgetMemorizedTimer&&(l.clearTimeout(this._forgetMemorizedTimer),delete this._forgetMemorizedTimer),null===(e=this.outline)||void 0===e||e.dispose(),null===(t=this.crossOrigin)||void 0===t||t.dispose(),null===(r=this.deloser)||void 0===r||r.dispose(),null===(n=this.groupper)||void 0===n||n.dispose(),null===(o=this.mover)||void 0===o||o.dispose(),null===(i=this.modalizer)||void 0===i||i.dispose(),null===(s=this.observedElement)||void 0===s||s.dispose(),null===(a=this.restorer)||void 0===a||a.dispose(),this.keyboardNavigation.dispose(),this.focusable.dispose(),this.focusedElement.dispose(),this.root.dispose(),this._dummyObserver.dispose(),function(e){const t=Js(e);t.fakeWeakRefsStarted=!1,t.fakeWeakRefsTimer&&(e().clearTimeout(t.fakeWeakRefsTimer),t.fakeWeakRefsTimer=void 0,t.fakeWeakRefs=[])}(this.getWindow),ca(this.getWindow),this._storage=new WeakMap,this._wrappers.clear(),l&&(function(e){const t=e.__tabsterInstanceContext;t&&(t.elementByUId={},delete t.WeakRef,t.containerBoundingRectCache={},t.containerBoundingRectCacheTimer&&e.clearTimeout(t.containerBoundingRectCacheTimer),t.fakeWeakRefsTimer&&e.clearTimeout(t.fakeWeakRefsTimer),t.fakeWeakRefs=[],delete e.__tabsterInstanceContext)}(l),delete l.__tabsterInstance,delete this._win)}storageEntry(e,t){const r=this._storage;let n=r.get(e);return n?!1===t&&0===Object.keys(n).length&&r.delete(e):!0===t&&(n={},r.set(e,n)),n}forceCleanup(){this._win&&(this._forgetMemorizedElements.push(this._win.document.body),this._forgetMemorizedTimer||(this._forgetMemorizedTimer=this._win.setTimeout((()=>{delete this._forgetMemorizedTimer;for(let e=this._forgetMemorizedElements.shift();e;e=this._forgetMemorizedElements.shift())ca(this.getWindow,e),Ia.forgetMemorized(this.focusedElement,e)}),0),ta(this.getWindow,!0)))}queueInit(e){var t;this._win&&(this._initQueue.push(e),this._initTimer||(this._initTimer=null===(t=this._win)||void 0===t?void 0:t.setTimeout((()=>{delete this._initTimer,this.drainInitQueue()}),0)))}drainInitQueue(){if(!this._win)return;const e=this._initQueue;this._initQueue=[],e.forEach((e=>e()))}}function $a(e){const t=e.core;return t.restorer||(t.restorer=new Ua(t)),t.restorer}const Ka=()=>{const{targetDocument:t}=y(),r=(null==t?void 0:t.defaultView)||void 0,n=null==r?void 0:r.__tabsterShadowDOMAPI,o=e.useMemo((()=>r?function(e,t){let r=function(e){return e.__tabsterInstance}(e);return r?r.createTabster(!1,t):(r=new Wa(e,t),e.__tabsterInstance=r,r.createTabster())}(r,{autoRoot:{},controlTab:!1,getParent:Cs,checkUncontrolledTrappingFocus:e=>{var t;return!!(null===(t=e.firstElementChild)||void 0===t?void 0:t.hasAttribute("data-is-focus-trap-zone-bumper"))},DOMAPI:n}):null),[r,n]);return Ae((()=>()=>{o&&function(e,t){e.core.disposeTabster(e,void 0)}(o)}),[o]),o},Ga=()=>{const t=Ka(),{targetDocument:r}=y();return{findAllFocusable:e.useCallback(((e,r)=>(null==t?void 0:t.focusable.findAll({container:e,acceptCondition:r}))||[]),[t]),findFirstFocusable:e.useCallback((e=>null==t?void 0:t.focusable.findFirst({container:e})),[t]),findLastFocusable:e.useCallback((e=>null==t?void 0:t.focusable.findLast({container:e})),[t]),findNextFocusable:e.useCallback(((e,n={})=>{if(!t||!r)return null;const{container:o=r.body}=n;return t.focusable.findNext({currentElement:e,container:o})}),[t,r]),findPrevFocusable:e.useCallback(((e,n={})=>{if(!t||!r)return null;const{container:o=r.body}=n;return t.focusable.findPrev({currentElement:e,container:o})}),[t,r])}};var Qa=o(69982);const Xa=t=>{const r=e.createContext({value:{current:t},version:{current:-1},listeners:[]});var n;return r.Provider=(n=r.Provider,t=>{const r=e.useRef(t.value),o=e.useRef(0),i=e.useRef();return i.current||(i.current={value:r,version:o,listeners:[]}),Ae((()=>{r.current=t.value,o.current+=1,(0,Qa.unstable_runWithPriority)(Qa.unstable_NormalPriority,(()=>{i.current.listeners.forEach((e=>{e([o.current,t.value])}))}))}),[t.value]),e.createElement(n,{value:i.current},t.children)}),delete r.Consumer,r},Ya=(t,r)=>{const n=e.useContext(t),{value:{current:o},version:{current:i},listeners:s}=n,a=r(o),[l,c]=e.useReducer(((e,t)=>{if(!t)return[o,a];if(t[0]<=i)return Ja(e[1],a)?e:[o,a];try{if(Ja(e[0],t[1]))return e;const n=r(t[1]);return Ja(e[1],n)?e:[t[1],n]}catch(e){}return[e[0],e[1]]}),[o,a]);return Ja(l[1],a)||c(void 0),Ae((()=>(s.push(c),()=>{const e=s.indexOf(c);s.splice(e,1)})),[s]),l[1]},Ja="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Za=Xa(void 0),el={open:!1,setOpen:()=>!1,checkedValues:{},onCheckedValueChange:()=>null,isSubmenu:!1,triggerRef:{current:null},menuPopoverRef:{current:null},mountNode:null,triggerId:"",openOnContext:!1,openOnHover:!1,hasIcons:!1,hasCheckmarks:!1,inline:!1,persistOnItemClick:!1},tl=Za.Provider,rl=e=>Ya(Za,((t=el)=>e(t))),nl="fuimenuenter";function ol(t){const r=e.useContext(t);return!!r.version&&-1!==r.version.current}const il=Xa(void 0),sl={checkedValues:{},setFocusByFirstCharacter:()=>null,toggleCheckbox:()=>null,selectRadio:()=>null,hasIcons:!1,hasCheckmarks:!1},al=il.Provider,ll=e=>Ya(il,((t=sl)=>e(t)));function cl(){const e=rl((e=>e.isSubmenu)),t=ol(il);return e||t}const ul=["after","after-bottom","before-top","before","before-bottom","above"],dl=t=>{const r=(t=>{const r=cl(),{hoverDelay:n=500,inline:o=!1,hasCheckmarks:i=!1,hasIcons:s=!1,closeOnScroll:a=!1,openOnContext:l=!1,persistOnItemClick:c=!1,openOnHover:u=r,defaultCheckedValues:d,mountNode:h=null}=t,f=Le("menu"),[p,g]=Mo(),m={position:r?"after":"below",align:r?"top":"start",target:t.openOnContext?p:void 0,fallbackPositions:r?ul:void 0,...Lo(t.positioning)},v=e.Children.toArray(t.children);let b,w;2===v.length?(b=v[0],w=v[1]):1===v.length&&(w=v[0]);const{targetRef:_,containerRef:k}=bs(m),[x,S]=(t=>{const{targetDocument:r}=y(),n=rl((e=>e.setOpen)),o=Xi(((e,r)=>{var n;return null===(n=t.onOpenChange)||void 0===n?void 0:n.call(t,e,r)})),i=e.useRef(0),s=e.useRef(!1),[a,l]=ys({state:t.open,defaultState:t.defaultOpen,initialState:!1}),c=Xi(((e,r)=>{const i=e instanceof CustomEvent&&e.type===nl?e.detail.nativeEvent:e;null==o||o(i,{...r}),r.open&&"contextmenu"===e.type&&t.setContextTarget(e),r.open||t.setContextTarget(void 0),r.bubble&&n(e,{...r}),l(r.open)})),u=Xi(((e,r)=>{var n;clearTimeout(i.current),e instanceof Event||!e.persist||e.persist(),"mouseleave"===e.type||"mouseenter"===e.type||"mousemove"===e.type||e.type===nl?((null===(n=t.triggerRef.current)||void 0===n?void 0:n.contains(e.target))&&(s.current="mouseenter"===e.type||"mousemove"===e.type),i.current=setTimeout((()=>c(e,r)),t.hoverDelay)):c(e,r)}));ks({contains:Ts,disabled:!a,element:r,refs:[t.menuPopoverRef,!t.openOnContext&&t.triggerRef].filter(Boolean),callback:e=>u(e,{open:!1,type:"clickOutside",event:e})});const d=t.openOnContext||t.closeOnScroll;Is({contains:Ts,element:r,callback:e=>u(e,{open:!1,type:"scrollOutside",event:e}),refs:[t.menuPopoverRef,!t.openOnContext&&t.triggerRef].filter(Boolean),disabled:!a||!d}),(t=>{const{refs:r,callback:n,element:o,disabled:i}=t,s=Xi((e=>{const t=r[0],o=e.target;var s;!Ts(null!==(s=t.current)&&void 0!==s?s:null,o)&&!i&&n(e)}));e.useEffect((()=>{if(null!=o)return i||o.addEventListener(nl,s),()=>{o.removeEventListener(nl,s)}}),[s,o,i])})({element:r,callback:e=>{s.current||u(e,{open:!1,type:"menuMouseEnter",event:e})},disabled:!a,refs:[t.menuPopoverRef]}),e.useEffect((()=>()=>{clearTimeout(i.current)}),[]);const{findFirstFocusable:h}=Ga(),f=e.useCallback((()=>{const e=h(t.menuPopoverRef.current);null==e||e.focus()}),[h,t.menuPopoverRef]);return e.useEffect((()=>{a&&f()}),[a,f]),[a,u]})({hoverDelay:n,isSubmenu:r,setContextTarget:g,closeOnScroll:a,menuPopoverRef:k,triggerRef:_,open:t.open,defaultOpen:t.defaultOpen,onOpenChange:t.onOpenChange,openOnContext:l}),[E,C]=(e=>{const[t,r]=ys({state:e.checkedValues,defaultState:e.defaultCheckedValues,initialState:{}});return[t,Xi(((t,{name:n,checkedItems:o})=>{var i;null===(i=e.onCheckedValueChange)||void 0===i||i.call(e,t,{name:n,checkedItems:o}),r((e=>({...e,[n]:o})))}))]})({checkedValues:t.checkedValues,defaultCheckedValues:d,onCheckedValueChange:t.onCheckedValueChange});return{inline:o,hoverDelay:n,triggerId:f,isSubmenu:r,openOnHover:u,contextTarget:p,setContextTarget:g,hasCheckmarks:i,hasIcons:s,closeOnScroll:a,menuTrigger:b,menuPopover:w,mountNode:h,triggerRef:_,menuPopoverRef:k,components:{},openOnContext:l,open:x,setOpen:S,checkedValues:E,onCheckedValueChange:C,persistOnItemClick:c}})(t),n=function(e){const{checkedValues:t,hasCheckmarks:r,hasIcons:n,inline:o,isSubmenu:i,menuPopoverRef:s,mountNode:a,onCheckedValueChange:l,open:c,openOnContext:u,openOnHover:d,persistOnItemClick:h,setOpen:f,triggerId:p,triggerRef:g}=e;return{menu:{checkedValues:t,hasCheckmarks:r,hasIcons:n,inline:o,isSubmenu:i,menuPopoverRef:s,mountNode:a,onCheckedValueChange:l,open:c,openOnContext:u,openOnHover:d,persistOnItemClick:h,setOpen:f,triggerId:p,triggerRef:g}}}(r);return((t,r)=>e.createElement(tl,{value:r.menu},t.menuTrigger,t.open&&t.menuPopover))(r,n)};dl.displayName="Menu";const hl="Enter",fl=" ",pl="Tab",gl="ArrowDown",ml="ArrowLeft",vl="ArrowRight",bl="ArrowUp",yl="End",wl="Home",_l="PageDown",kl="PageUp",xl="Escape";function Sl(e){return Boolean(e.type.isFluentTriggerComponent)}function El(t){return e.isValidElement(t)?Sl(t)?El(t.props.children):t:null}function Cl(e,t){return(...r)=>{null==e||e(...r),null==t||t(...r)}}function Tl(e,t){return"function"==typeof e?e(t):e?Il(e,t):e||null}function Il(t,r){if(!e.isValidElement(t)||t.type===e.Fragment)throw new Error("A trigger element must be a single element for this component. Please ensure that you're not using React Fragments.");if(Sl(t)){const n=Il(t.props.children,r);return e.cloneElement(t,void 0,n)}return e.cloneElement(t,r)}function Nl(e,t){const{disabled:r,disabledFocusable:n=!1,"aria-disabled":o,onClick:i,onKeyDown:s,onKeyUp:a,...l}=null!=t?t:{},c="string"==typeof o?"true"===o:o,u=r||n||c,d=Xi((e=>{u?(e.preventDefault(),e.stopPropagation()):null==i||i(e)})),h=Xi((e=>{if(null==s||s(e),e.isDefaultPrevented())return;const t=e.key;if(u&&(t===hl||t===fl))return e.preventDefault(),void e.stopPropagation();t!==fl?t===hl&&(e.preventDefault(),e.currentTarget.click()):e.preventDefault()})),f=Xi((e=>{if(null==a||a(e),e.isDefaultPrevented())return;const t=e.key;if(u&&(t===hl||t===fl))return e.preventDefault(),void e.stopPropagation();t===fl&&(e.preventDefault(),e.currentTarget.click())}));if("button"===e||void 0===e)return{...l,disabled:r&&!n,"aria-disabled":!!n||c,onClick:n?void 0:d,onKeyUp:n?void 0:a,onKeyDown:n?void 0:s};{const t={role:"button",tabIndex:r&&!n?void 0:0,...l,onClick:d,onKeyUp:f,onKeyDown:h,"aria-disabled":r||n||c};return"a"===e&&u&&(t.href=void 0),t}}const Rl=e=>{const t=e=>e.hasAttribute("disabled")||e.hasAttribute("aria-disabled")&&"true"===e.getAttribute("aria-disabled");return!(!Z(e.target)||!t(e.target))||Z(e.currentTarget)&&t(e.currentTarget)},Dl=e.createContext(void 0),Pl=Dl.Provider,zl=t=>{return r=(t=>{const{children:r,disableButtonEnhancement:n=!1}=t,o=rl((e=>e.triggerRef)),i=rl((e=>e.menuPopoverRef)),s=rl((e=>e.setOpen)),a=rl((e=>e.open)),l=rl((e=>e.triggerId)),c=rl((e=>e.openOnHover)),u=rl((e=>e.openOnContext)),d=function(){const e=Ka();return e&&$a(e),ka({restorer:{type:Ws.RestorerTypes.Target}})}(),h=cl(),{findFirstFocusable:f}=Ga(),p=e.useCallback((()=>{const e=f(i.current);null==e||e.focus()}),[f,i]),g=e.useRef(!1),m=e.useRef(!1),{dir:v}=y(),b="ltr"===v?vl:ml,w=El(r),_={id:l,...d,...null==w?void 0:w.props,ref:Oe(o,null==w?void 0:w.ref),onMouseEnter:Xi(Cl(null==w?void 0:w.props.onMouseEnter,(e=>{Rl(e)||c&&m.current&&s(e,{open:!0,keyboard:!1,type:"menuTriggerMouseEnter",event:e})}))),onMouseLeave:Xi(Cl(null==w?void 0:w.props.onMouseLeave,(e=>{Rl(e)||c&&s(e,{open:!1,keyboard:!1,type:"menuTriggerMouseLeave",event:e})}))),onContextMenu:Xi(Cl(null==w?void 0:w.props.onContextMenu,(e=>{Rl(e)||e.isDefaultPrevented()||u&&(e.preventDefault(),s(e,{open:!0,keyboard:!1,type:"menuTriggerContextMenu",event:e}))}))),onMouseMove:Xi(Cl(null==w?void 0:w.props.onMouseMove,(e=>{Rl(e)||c&&!m.current&&(s(e,{open:!0,keyboard:!1,type:"menuTriggerMouseMove",event:e}),m.current=!0)})))},k={"aria-haspopup":"menu","aria-expanded":a||h?a:void 0,..._,onClick:Xi(Cl(null==w?void 0:w.props.onClick,(e=>{Rl(e)||u||(s(e,{open:!a,keyboard:g.current,type:"menuTriggerClick",event:e}),g.current=!1)}))),onKeyDown:Xi(Cl(null==w?void 0:w.props.onKeyDown,(e=>{if(Rl(e))return;const t=e.key;!u&&(h&&t===b||!h&&t===gl)&&s(e,{open:!0,keyboard:!0,type:"menuTriggerKeyDown",event:e}),t!==xl||h||s(e,{open:!1,keyboard:!0,type:"menuTriggerKeyDown",event:e}),a&&t===b&&h&&p()})))},x=Nl("button"===(null==w?void 0:w.type)||"a"===(null==w?void 0:w.type)?w.type:"div",k);return{isSubmenu:h,children:Tl(r,u?_:n?k:x)}})(t),e.createElement(Pl,{value:r.isSubmenu},r.children);var r};zl.displayName="MenuTrigger",zl.isFluentTriggerComponent=!0;const Bl=e.createContext(void 0),Ol={},Al=(Bl.Provider,(t,r)=>{const{size:n}=null!==(o=e.useContext(Bl))&&void 0!==o?o:Ol;var o;const{appearance:i="secondary",as:s="button",disabled:a=!1,disabledFocusable:l=!1,icon:c,iconPosition:u="before",shape:d="rounded",size:h=(null!=n?n:"medium")}=t,f=ve(c,{elementType:"span"});return{appearance:i,disabled:a,disabledFocusable:l,iconPosition:u,shape:d,size:h,iconOnly:Boolean((null==f?void 0:f.children)&&!t.children),components:{root:"button",icon:"span"},root:me(Be(s,Nl(t.as,t)),{elementType:"button",defaultProps:{ref:r,type:"button"}}),icon:f}}),Fl=mo("r1alrhcs",null,{r:[".r1alrhcs{align-items:center;box-sizing:border-box;display:inline-flex;justify-content:center;text-decoration-line:none;vertical-align:middle;margin:0;overflow:hidden;background-color:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);font-family:var(--fontFamilyBase);outline-style:none;padding:5px var(--spacingHorizontalM);min-width:96px;border-radius:var(--borderRadiusMedium);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold);line-height:var(--lineHeightBase300);transition-duration:var(--durationFaster);transition-property:background,border,color;transition-timing-function:var(--curveEasyEase);}",".r1alrhcs:hover{background-color:var(--colorNeutralBackground1Hover);border-color:var(--colorNeutralStroke1Hover);color:var(--colorNeutralForeground1Hover);cursor:pointer;}",".r1alrhcs:hover:active{background-color:var(--colorNeutralBackground1Pressed);border-color:var(--colorNeutralStroke1Pressed);color:var(--colorNeutralForeground1Pressed);outline-style:none;}",".r1alrhcs[data-fui-focus-visible]{border-color:var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);border-width:1px;outline:var(--strokeWidthThick) solid var(--colorTransparentStroke);box-shadow:0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset;z-index:1;}"],s:["@media screen and (prefers-reduced-motion: reduce){.r1alrhcs{transition-duration:0.01ms;}}","@media (forced-colors: active){.r1alrhcs:focus{border-color:ButtonText;}.r1alrhcs:hover{background-color:HighlightText;border-color:Highlight;color:Highlight;forced-color-adjust:none;}.r1alrhcs:hover:active{background-color:HighlightText;border-color:Highlight;color:Highlight;forced-color-adjust:none;}}","@supports (-moz-appearance:button){.r1alrhcs[data-fui-focus-visible]{box-shadow:0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset;}}"]}),Ml=mo("rywnvv2",null,[".rywnvv2{align-items:center;display:inline-flex;justify-content:center;font-size:20px;height:20px;width:20px;--fui-Button__icon--spacing:var(--spacingHorizontalSNudge);}"]),jl=Un({outline:{De3pzq:"f1c21dwh",Jwef8y:"fjxutwb",iro3zm:"fwiml72"},primary:{De3pzq:"ffp7eso",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],sj55zd:"f1phragk",Jwef8y:"f15wkkf3",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bi91k9c:"f1rq72xc",iro3zm:"fnp9lpt",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"],B2d53fq:"f1d6v5y2",Bsw6fvg:"f1rirnrt",Bjwas2f:"f1uu00uk",Bn1d65q:["fkvaka8","f9a0qzu"],Bxeuatn:"f1ux7til",n51gp8:["f9a0qzu","fkvaka8"],Bbusuzp:"f1lkg8j3",ycbfsm:"fkc42ay",Bqrx1nm:"fq7113v",pgvf35:"ff1wgvm",Bh7lczh:["fiob0tu","f1x4h75k"],dpv3f4:"f1j6scgf",Bpnjhaq:["f1x4h75k","fiob0tu"],ze5xyy:"f4xjyn1",g2kj27:"fbgcvur",Bf756sw:"f1ks1yx8",Bow2dr7:["f1o6qegi","fmxjhhp"],Bvhedfk:"fcnxywj",Gye4lf:["fmxjhhp","f1o6qegi"],pc6evw:"f9ddjv3"},secondary:{},subtle:{De3pzq:"fhovq9v",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],sj55zd:"fkfq4zb",Jwef8y:"f1t94bn6",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bi91k9c:"fnwyq0v",Bk3fhr4:"ft1hn21",Bmfj8id:"fuxngvv",Bbdnnc7:"fy5bs14",iro3zm:"fsv2rcd",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"],B2d53fq:"f1omzyqd",em6i61:"f1dfjoow",vm6p8p:"f1j98vj9",x3br3k:"fj8yq94",ze5xyy:"f4xjyn1",Bx3q9su:"f1et0tmh",pc6evw:"f9ddjv3",xd2cci:"f1wi8ngl"},transparent:{De3pzq:"f1c21dwh",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],sj55zd:"fkfq4zb",Jwef8y:"fjxutwb",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bi91k9c:"f139oj5f",Bk3fhr4:"ft1hn21",Bmfj8id:"fuxngvv",iro3zm:"fwiml72",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"],B2d53fq:"f1fg1p5m",em6i61:"f1dfjoow",vm6p8p:"f1j98vj9",Bqrx1nm:"f1tme0vf",ze5xyy:"f4xjyn1",g2kj27:"f18onu3q",pc6evw:"f9ddjv3"},circular:{Bbmb7ep:["f8fbkgy","f1nfllo7"],Beyfa6y:["f1nfllo7","f8fbkgy"],B7oj6ja:["f1djnp8u","f1s8kh49"],Btl43ni:["f1s8kh49","f1djnp8u"]},rounded:{},square:{Bbmb7ep:["fzi6hpg","fyowgf4"],Beyfa6y:["fyowgf4","fzi6hpg"],B7oj6ja:["f3fg2lr","f13av6d4"],Btl43ni:["f13av6d4","f3fg2lr"]},small:{Bf4jedk:"fh7ncta",z8tnut:"f1khb0e9",z189sj:["f1vdfbxk","f1f5gg8d"],Byoj8tv:"f1jnq6q7",uwmqm3:["f1f5gg8d","f1vdfbxk"],Bbmb7ep:["f1aa9q02","f16jpd5f"],Beyfa6y:["f16jpd5f","f1aa9q02"],B7oj6ja:["f1jar5jt","fyu767a"],Btl43ni:["fyu767a","f1jar5jt"],Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"},smallWithIcon:{Byoj8tv:"f1brlhvm",z8tnut:"f1sl3k7w"},medium:{},large:{Bf4jedk:"f14es27b",z8tnut:"fp9bwmr",z189sj:["fjodcmx","fhx4nu"],Byoj8tv:"f150uoa4",uwmqm3:["fhx4nu","fjodcmx"],Bbmb7ep:["f1aa9q02","f16jpd5f"],Beyfa6y:["f16jpd5f","f1aa9q02"],B7oj6ja:["f1jar5jt","fyu767a"],Btl43ni:["fyu767a","f1jar5jt"],Be2twd7:"fod5ikn",Bhrd7zp:"fl43uef",Bg96gwp:"faaz57k"},largeWithIcon:{Byoj8tv:"fy7v416",z8tnut:"f1a1bwwz"}},{d:[".f1c21dwh{background-color:var(--colorTransparentBackground);}",".ffp7eso{background-color:var(--colorBrandBackground);}",".f1p3nwhy{border-top-color:transparent;}",".f11589ue{border-right-color:transparent;}",".f1pdflbu{border-left-color:transparent;}",".f1q5o8ev{border-bottom-color:transparent;}",".f1phragk{color:var(--colorNeutralForegroundOnBrand);}",".fhovq9v{background-color:var(--colorSubtleBackground);}",".fkfq4zb{color:var(--colorNeutralForeground2);}",".f8fbkgy{border-bottom-right-radius:var(--borderRadiusCircular);}",".f1nfllo7{border-bottom-left-radius:var(--borderRadiusCircular);}",".f1djnp8u{border-top-right-radius:var(--borderRadiusCircular);}",".f1s8kh49{border-top-left-radius:var(--borderRadiusCircular);}",".fzi6hpg{border-bottom-right-radius:var(--borderRadiusNone);}",".fyowgf4{border-bottom-left-radius:var(--borderRadiusNone);}",".f3fg2lr{border-top-right-radius:var(--borderRadiusNone);}",".f13av6d4{border-top-left-radius:var(--borderRadiusNone);}",".fh7ncta{min-width:64px;}",".f1khb0e9{padding-top:3px;}",".f1vdfbxk{padding-right:var(--spacingHorizontalS);}",".f1f5gg8d{padding-left:var(--spacingHorizontalS);}",".f1jnq6q7{padding-bottom:3px;}",".f1aa9q02{border-bottom-right-radius:var(--borderRadiusMedium);}",".f16jpd5f{border-bottom-left-radius:var(--borderRadiusMedium);}",".f1jar5jt{border-top-right-radius:var(--borderRadiusMedium);}",".fyu767a{border-top-left-radius:var(--borderRadiusMedium);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".f1brlhvm{padding-bottom:1px;}",".f1sl3k7w{padding-top:1px;}",".f14es27b{min-width:96px;}",".fp9bwmr{padding-top:8px;}",".fjodcmx{padding-right:var(--spacingHorizontalL);}",".fhx4nu{padding-left:var(--spacingHorizontalL);}",".f150uoa4{padding-bottom:8px;}",".fod5ikn{font-size:var(--fontSizeBase400);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".faaz57k{line-height:var(--lineHeightBase400);}",".fy7v416{padding-bottom:7px;}",".f1a1bwwz{padding-top:7px;}"],h:[".fjxutwb:hover{background-color:var(--colorTransparentBackgroundHover);}",".fwiml72:hover:active{background-color:var(--colorTransparentBackgroundPressed);}",".f15wkkf3:hover{background-color:var(--colorBrandBackgroundHover);}",".f1s2uweq:hover{border-top-color:transparent;}",".fr80ssc:hover{border-right-color:transparent;}",".fecsdlb:hover{border-left-color:transparent;}",".f1ukrpxl:hover{border-bottom-color:transparent;}",".f1rq72xc:hover{color:var(--colorNeutralForegroundOnBrand);}",".fnp9lpt:hover:active{background-color:var(--colorBrandBackgroundPressed);}",".f1h0usnq:hover:active{border-top-color:transparent;}",".fs4ktlq:hover:active{border-right-color:transparent;}",".fx2bmrt:hover:active{border-left-color:transparent;}",".f16h9ulv:hover:active{border-bottom-color:transparent;}",".f1d6v5y2:hover:active{color:var(--colorNeutralForegroundOnBrand);}",".f1t94bn6:hover{background-color:var(--colorSubtleBackgroundHover);}",".fnwyq0v:hover{color:var(--colorNeutralForeground2Hover);}",".ft1hn21:hover .fui-Icon-filled{display:inline;}",".fuxngvv:hover .fui-Icon-regular{display:none;}",".fy5bs14:hover .fui-Button__icon{color:var(--colorNeutralForeground2BrandHover);}",".fsv2rcd:hover:active{background-color:var(--colorSubtleBackgroundPressed);}",".f1omzyqd:hover:active{color:var(--colorNeutralForeground2Pressed);}",".f1dfjoow:hover:active .fui-Icon-filled{display:inline;}",".f1j98vj9:hover:active .fui-Icon-regular{display:none;}",".fj8yq94:hover:active .fui-Button__icon{color:var(--colorNeutralForeground2BrandPressed);}",".f139oj5f:hover{color:var(--colorNeutralForeground2BrandHover);}",".f1fg1p5m:hover:active{color:var(--colorNeutralForeground2BrandPressed);}"],m:[["@media (forced-colors: active){.f1rirnrt{background-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1uu00uk{border-top-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f9a0qzu{border-left-color:HighlightText;}.fkvaka8{border-right-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ux7til{border-bottom-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1lkg8j3{color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fkc42ay{forced-color-adjust:none;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fq7113v:hover{background-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.ff1wgvm:hover{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1x4h75k:hover{border-left-color:Highlight;}.fiob0tu:hover{border-right-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1j6scgf:hover{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f4xjyn1:hover{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fbgcvur:hover:active{background-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ks1yx8:hover:active{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1o6qegi:hover:active{border-right-color:Highlight;}.fmxjhhp:hover:active{border-left-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fcnxywj:hover:active{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f9ddjv3:hover:active{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1et0tmh:hover .fui-Button__icon{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1wi8ngl:hover:active .fui-Button__icon{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1tme0vf:hover{background-color:var(--colorTransparentBackground);}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f18onu3q:hover:active{background-color:var(--colorTransparentBackground);}}",{m:"(forced-colors: active)"}]]}),Ll=Un({base:{De3pzq:"f1bg9a2p",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],sj55zd:"f1s2aq7o",Bceei9c:"fdrzuqr",Bfinmwp:"f15x8b5r",Jwef8y:"f1falr9n",Bgoe8wy:"f12mpcsy",Bwzppfd:["f1gwvigk","f18rmfxp"],oetu4i:"f1jnshp0",gg5e9n:["f18rmfxp","f1gwvigk"],Bi91k9c:"fvgxktp",eoavqd:"fphbwmw",Bk3fhr4:"f19vpps7",Bmfj8id:"fv5swzo",Bbdnnc7:"f1al02dq",iro3zm:"f1t6o4dc",b661bw:"f10ztigi",Bk6r4ia:["f1ft5sdu","f1gzf82w"],B9zn80p:"f12zbtn2",Bpld233:["f1gzf82w","f1ft5sdu"],B2d53fq:"fcvwxyo",c3iz72:"f8w4c43",em6i61:"f1ol4fw6",vm6p8p:"f1q1lw4e",x3br3k:"f1dwjv2g"},highContrast:{Bsw6fvg:"f4lkoma",Bjwas2f:"fg455y9",Bn1d65q:["f1rvyvqg","f14g86mu"],Bxeuatn:"f1cwzwz",n51gp8:["f14g86mu","f1rvyvqg"],Bbusuzp:"f1dcs8yz",G867l3:"fjwq6ea",gdbnj:["f1lr3nhc","f1mbxvi6"],mxns5l:"fn5gmvv",o3nasb:["f1mbxvi6","f1lr3nhc"],Bqrx1nm:"f1vmkb5g",pgvf35:"f53ppgq",Bh7lczh:["f1663y11","f80fkiy"],dpv3f4:"f18v5270",Bpnjhaq:["f80fkiy","f1663y11"],ze5xyy:"f1kc2mi9",g2kj27:"f1y0svfh",Bf756sw:"fihuait",Bow2dr7:["fnxhupq","fyd6l6x"],Bvhedfk:"fx507ft",Gye4lf:["fyd6l6x","fnxhupq"],pc6evw:"fb3rf2x"},outline:{De3pzq:"f1c21dwh",Jwef8y:"f9ql6rf",iro3zm:"f3h1zc4"},primary:{g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"]},secondary:{},subtle:{De3pzq:"f1c21dwh",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],Jwef8y:"f9ql6rf",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],iro3zm:"f3h1zc4",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"]},transparent:{De3pzq:"f1c21dwh",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],Jwef8y:"f9ql6rf",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],iro3zm:"f3h1zc4",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"]}},{d:[".f1bg9a2p{background-color:var(--colorNeutralBackgroundDisabled);}",".f1jj8ep1{border-top-color:var(--colorNeutralStrokeDisabled);}",".f15xbau{border-right-color:var(--colorNeutralStrokeDisabled);}",".fy0fskl{border-left-color:var(--colorNeutralStrokeDisabled);}",".f4ikngz{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fdrzuqr{cursor:not-allowed;}",".f15x8b5r .fui-Button__icon{color:var(--colorNeutralForegroundDisabled);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".f1p3nwhy{border-top-color:transparent;}",".f11589ue{border-right-color:transparent;}",".f1pdflbu{border-left-color:transparent;}",".f1q5o8ev{border-bottom-color:transparent;}"],h:[".f1falr9n:hover{background-color:var(--colorNeutralBackgroundDisabled);}",".f12mpcsy:hover{border-top-color:var(--colorNeutralStrokeDisabled);}",".f1gwvigk:hover{border-right-color:var(--colorNeutralStrokeDisabled);}",".f18rmfxp:hover{border-left-color:var(--colorNeutralStrokeDisabled);}",".f1jnshp0:hover{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".fvgxktp:hover{color:var(--colorNeutralForegroundDisabled);}",".fphbwmw:hover{cursor:not-allowed;}",".f19vpps7:hover .fui-Icon-filled{display:none;}",".fv5swzo:hover .fui-Icon-regular{display:inline;}",".f1al02dq:hover .fui-Button__icon{color:var(--colorNeutralForegroundDisabled);}",".f1t6o4dc:hover:active{background-color:var(--colorNeutralBackgroundDisabled);}",".f10ztigi:hover:active{border-top-color:var(--colorNeutralStrokeDisabled);}",".f1ft5sdu:hover:active{border-right-color:var(--colorNeutralStrokeDisabled);}",".f1gzf82w:hover:active{border-left-color:var(--colorNeutralStrokeDisabled);}",".f12zbtn2:hover:active{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".fcvwxyo:hover:active{color:var(--colorNeutralForegroundDisabled);}",".f8w4c43:hover:active{cursor:not-allowed;}",".f1ol4fw6:hover:active .fui-Icon-filled{display:none;}",".f1q1lw4e:hover:active .fui-Icon-regular{display:inline;}",".f1dwjv2g:hover:active .fui-Button__icon{color:var(--colorNeutralForegroundDisabled);}",".f9ql6rf:hover{background-color:var(--colorTransparentBackground);}",".f3h1zc4:hover:active{background-color:var(--colorTransparentBackground);}",".f1s2uweq:hover{border-top-color:transparent;}",".fr80ssc:hover{border-right-color:transparent;}",".fecsdlb:hover{border-left-color:transparent;}",".f1ukrpxl:hover{border-bottom-color:transparent;}",".f1h0usnq:hover:active{border-top-color:transparent;}",".fs4ktlq:hover:active{border-right-color:transparent;}",".fx2bmrt:hover:active{border-left-color:transparent;}",".f16h9ulv:hover:active{border-bottom-color:transparent;}"],m:[["@media (forced-colors: active){.f4lkoma{background-color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fg455y9{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f14g86mu{border-left-color:GrayText;}.f1rvyvqg{border-right-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1cwzwz{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1dcs8yz{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fjwq6ea:focus{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1lr3nhc:focus{border-right-color:GrayText;}.f1mbxvi6:focus{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fn5gmvv:focus{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1vmkb5g:hover{background-color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f53ppgq:hover{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1663y11:hover{border-right-color:GrayText;}.f80fkiy:hover{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f18v5270:hover{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1kc2mi9:hover{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1y0svfh:hover:active{background-color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fihuait:hover:active{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fnxhupq:hover:active{border-right-color:GrayText;}.fyd6l6x:hover:active{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fx507ft:hover:active{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fb3rf2x:hover:active{color:GrayText;}}",{m:"(forced-colors: active)"}]]}),ql=Un({circular:{kdpuga:["fanj13w","f1gou5sz"],Bw81rd7:["f1gou5sz","fanj13w"],B6xbmo0:["fulf6x3","foeb2x"],dm238s:["foeb2x","fulf6x3"]},rounded:{},square:{kdpuga:["f1ndz5i7","f1co4qro"],Bw81rd7:["f1co4qro","f1ndz5i7"],B6xbmo0:["f146y5a9","f1k2ftg"],dm238s:["f1k2ftg","f146y5a9"]},primary:{B8q5s1w:"f17t0x8g",Bci5o5g:["f194v5ow","fk7jm04"],n8qw10:"f1qgg65p",Bdrgwmp:["fk7jm04","f194v5ow"],j6ew2k:["fhgccpy","fjo7pq6"],he4mth:"f32wu9k",Byr4aka:"fu5nqqq",lks7q5:["f13prjl2","f1nl83rv"],Bnan3qt:"f1czftr5",k1dn9:["f1nl83rv","f13prjl2"],Boium3a:["f12k37oa","fdnykm2"],tm8e47:"fr96u23"},small:{kdpuga:["fg3gtdo","fwii5mg"],Bw81rd7:["fwii5mg","fg3gtdo"],B6xbmo0:["f1palphq","f12nxie7"],dm238s:["f12nxie7","f1palphq"]},medium:{},large:{kdpuga:["ft3lys4","f1la4x2g"],Bw81rd7:["f1la4x2g","ft3lys4"],B6xbmo0:["f156y0zm","fakimq4"],dm238s:["fakimq4","f156y0zm"]}},{d:[".fanj13w[data-fui-focus-visible]{border-bottom-right-radius:var(--borderRadiusCircular);}",".f1gou5sz[data-fui-focus-visible]{border-bottom-left-radius:var(--borderRadiusCircular);}",".fulf6x3[data-fui-focus-visible]{border-top-right-radius:var(--borderRadiusCircular);}",".foeb2x[data-fui-focus-visible]{border-top-left-radius:var(--borderRadiusCircular);}",".f1ndz5i7[data-fui-focus-visible]{border-bottom-right-radius:var(--borderRadiusNone);}",".f1co4qro[data-fui-focus-visible]{border-bottom-left-radius:var(--borderRadiusNone);}",".f146y5a9[data-fui-focus-visible]{border-top-right-radius:var(--borderRadiusNone);}",".f1k2ftg[data-fui-focus-visible]{border-top-left-radius:var(--borderRadiusNone);}",".f17t0x8g[data-fui-focus-visible]{border-top-color:var(--colorStrokeFocus2);}",".f194v5ow[data-fui-focus-visible]{border-right-color:var(--colorStrokeFocus2);}",".fk7jm04[data-fui-focus-visible]{border-left-color:var(--colorStrokeFocus2);}",".f1qgg65p[data-fui-focus-visible]{border-bottom-color:var(--colorStrokeFocus2);}",".fhgccpy[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}",".fjo7pq6[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}",".f32wu9k[data-fui-focus-visible]:hover{box-shadow:var(--shadow2),0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset;}",".fu5nqqq[data-fui-focus-visible]:hover{border-top-color:var(--colorStrokeFocus2);}",".f13prjl2[data-fui-focus-visible]:hover{border-right-color:var(--colorStrokeFocus2);}",".f1nl83rv[data-fui-focus-visible]:hover{border-left-color:var(--colorStrokeFocus2);}",".f1czftr5[data-fui-focus-visible]:hover{border-bottom-color:var(--colorStrokeFocus2);}",".fg3gtdo[data-fui-focus-visible]{border-bottom-right-radius:var(--borderRadiusSmall);}",".fwii5mg[data-fui-focus-visible]{border-bottom-left-radius:var(--borderRadiusSmall);}",".f1palphq[data-fui-focus-visible]{border-top-right-radius:var(--borderRadiusSmall);}",".f12nxie7[data-fui-focus-visible]{border-top-left-radius:var(--borderRadiusSmall);}",".ft3lys4[data-fui-focus-visible]{border-bottom-right-radius:var(--borderRadiusLarge);}",".f1la4x2g[data-fui-focus-visible]{border-bottom-left-radius:var(--borderRadiusLarge);}",".f156y0zm[data-fui-focus-visible]{border-top-right-radius:var(--borderRadiusLarge);}",".fakimq4[data-fui-focus-visible]{border-top-left-radius:var(--borderRadiusLarge);}"],t:["@supports (-moz-appearance:button){.f12k37oa[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}.fdnykm2[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}}","@supports (-moz-appearance:button){.fr96u23[data-fui-focus-visible]:hover{box-shadow:var(--shadow2),0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset;}}"]}),Ul=Un({small:{z8tnut:"f1sl3k7w",z189sj:["f136y8j8","f10xn8zz"],Byoj8tv:"f1brlhvm",uwmqm3:["f10xn8zz","f136y8j8"],Bf4jedk:"f17fgpbq",B2u0y6b:"f1jt17bm"},medium:{z8tnut:"f1sbtcvk",z189sj:["fwiuce9","f15vdbe4"],Byoj8tv:"fdghr9",uwmqm3:["f15vdbe4","fwiuce9"],Bf4jedk:"fwbmr0d",B2u0y6b:"f44c6la"},large:{z8tnut:"f1a1bwwz",z189sj:["f18k1jr3","f1rtp3s9"],Byoj8tv:"fy7v416",uwmqm3:["f1rtp3s9","f18k1jr3"],Bf4jedk:"f12clzc2",B2u0y6b:"fjy1crr"}},{d:[".f1sl3k7w{padding-top:1px;}",".f136y8j8{padding-right:1px;}",".f10xn8zz{padding-left:1px;}",".f1brlhvm{padding-bottom:1px;}",".f17fgpbq{min-width:24px;}",".f1jt17bm{max-width:24px;}",".f1sbtcvk{padding-top:5px;}",".fwiuce9{padding-right:5px;}",".f15vdbe4{padding-left:5px;}",".fdghr9{padding-bottom:5px;}",".fwbmr0d{min-width:32px;}",".f44c6la{max-width:32px;}",".f1a1bwwz{padding-top:7px;}",".f18k1jr3{padding-right:7px;}",".f1rtp3s9{padding-left:7px;}",".fy7v416{padding-bottom:7px;}",".f12clzc2{min-width:40px;}",".fjy1crr{max-width:40px;}"]}),Vl=Un({small:{Be2twd7:"fe5j1ua",Bqenvij:"fjamq6b",a9b677:"f64fuq3",Bqrlyyl:"fbaiahx"},medium:{},large:{Be2twd7:"f1rt2boy",Bqenvij:"frvgh55",a9b677:"fq4mcun",Bqrlyyl:"f1exjqw5"},before:{t21cq0:["f1nizpg2","f1a695kz"]},after:{Frg6f3:["f1a695kz","f1nizpg2"]}},{d:[".fe5j1ua{font-size:20px;}",".fjamq6b{height:20px;}",".f64fuq3{width:20px;}",".fbaiahx{--fui-Button__icon--spacing:var(--spacingHorizontalXS);}",".f1rt2boy{font-size:24px;}",".frvgh55{height:24px;}",".fq4mcun{width:24px;}",".f1exjqw5{--fui-Button__icon--spacing:var(--spacingHorizontalSNudge);}",".f1nizpg2{margin-right:var(--fui-Button__icon--spacing);}",".f1a695kz{margin-left:var(--fui-Button__icon--spacing);}"]}),Hl=e.forwardRef(((e,t)=>{const r=Al(e,t);return(e=>{const t=Fl(),r=Ml(),n=jl(),o=Ll(),i=ql(),s=Ul(),a=Vl(),{appearance:l,disabled:c,disabledFocusable:u,icon:d,iconOnly:h,iconPosition:f,shape:p,size:g}=e;e.root.className=Ge("fui-Button",t,l&&n[l],n[g],d&&"small"===g&&n.smallWithIcon,d&&"large"===g&&n.largeWithIcon,n[p],(c||u)&&o.base,(c||u)&&o.highContrast,l&&(c||u)&&o[l],"primary"===l&&i.primary,i[g],i[p],h&&s[g],e.root.className),e.icon&&(e.icon.className=Ge("fui-Button__icon",r,!!e.root.children&&a[f],a[g],e.icon.className))})(r),T("useButtonStyles_unstable")(r),(e=>{const{iconOnly:t,iconPosition:r}=e;return d(e.root,{children:["after"!==r&&e.icon&&u(e.icon,{}),!t&&e.root.children,"after"===r&&e.icon&&u(e.icon,{})]})})(r)}));Hl.displayName="Button";const Wl=Un({root:{Bbmb7ep:["f1aa9q02","f16jpd5f"],Beyfa6y:["f16jpd5f","f1aa9q02"],B7oj6ja:["f1jar5jt","fyu767a"],Btl43ni:["fyu767a","f1jar5jt"],De3pzq:"fxugw4r",sj55zd:"f19n0e5",B7ck84d:"f1ewtqcl",Bf4jedk:"fl8fusi",B2u0y6b:"f1kaai3v",B68tc82:"f1p9o1ba",a9b677:"f1ahpp82",E5pizo:"f1hg901r",z8tnut:"f10ra9hq",z189sj:["f8wuabp","fycuoez"],Byoj8tv:"f1y2xyjm",uwmqm3:["fycuoez","f8wuabp"],B4j52fo:"f5ogflp",Bekrc4i:["f1hqa2wf","finvdd3"],Bn0qgzm:"f1f09k3d",ibv6hh:["finvdd3","f1hqa2wf"],icvyot:"fzkkow9",vrafjx:["fcdblym","fjik90z"],oivjwe:"fg706s2",wvpqe5:["fjik90z","fcdblym"],g2u3we:"fghlq4f",h3c5rm:["f1gn591s","fjscplz"],B9xav0g:"fb073pr",zhjwy3:["fjscplz","f1gn591s"],Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi",B93otf3:"f18k4bn6",vin17d:"fo1kyvf",Ezkn3b:"fetxo7e",nyiy2g:"f8x1vz1",swvrvq:"f8g0anz",Bkovbt3:"fezwn9i",hgjdhn:"fz5efge",fsy9dk:"f1ydixl4",B3ogreh:"f8dgqj5",jv49x5:"fnyfnr8",Bk7o48c:"fgw77r4",Bv12yb3:"ftje0s4",z0t1cu:"fi19xcv",Bks05zx:"f1mzajhk",Bvtglag:"fjp4h9y"}},{d:[".f1aa9q02{border-bottom-right-radius:var(--borderRadiusMedium);}",".f16jpd5f{border-bottom-left-radius:var(--borderRadiusMedium);}",".f1jar5jt{border-top-right-radius:var(--borderRadiusMedium);}",".fyu767a{border-top-left-radius:var(--borderRadiusMedium);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",".f19n0e5{color:var(--colorNeutralForeground1);}",".f1ewtqcl{box-sizing:border-box;}",".fl8fusi{min-width:138px;}",".f1kaai3v{max-width:300px;}",".f1p9o1ba{overflow-x:hidden;}",".f1ahpp82{width:max-content;}",".f1hg901r{box-shadow:var(--shadow16);}",".f10ra9hq{padding-top:4px;}",".f8wuabp{padding-right:4px;}",".fycuoez{padding-left:4px;}",".f1y2xyjm{padding-bottom:4px;}",".f5ogflp{border-top-width:1px;}",".f1hqa2wf{border-right-width:1px;}",".finvdd3{border-left-width:1px;}",".f1f09k3d{border-bottom-width:1px;}",".fzkkow9{border-top-style:solid;}",".fcdblym{border-right-style:solid;}",".fjik90z{border-left-style:solid;}",".fg706s2{border-bottom-style:solid;}",".fghlq4f{border-top-color:var(--colorTransparentStroke);}",".f1gn591s{border-right-color:var(--colorTransparentStroke);}",".fjscplz{border-left-color:var(--colorTransparentStroke);}",".fb073pr{border-bottom-color:var(--colorTransparentStroke);}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".f18k4bn6{animation-composition:accumulate;}",".fo1kyvf{animation-duration:var(--durationSlower);}",".fetxo7e{animation-timing-function:var(--curveDecelerateMid);}",".f8x1vz1{--fui-positioning-slide-distance-x:0px;}",".f8g0anz{--fui-positioning-slide-distance-y:10px;}",".fezwn9i[data-popper-placement^=right]{--fui-positioning-slide-distance-x:-10px;}",".fz5efge[data-popper-placement^=right]{--fui-positioning-slide-distance-y:0px;}",".f1ydixl4[data-popper-placement^=bottom]{--fui-positioning-slide-distance-x:0px;}",".f8dgqj5[data-popper-placement^=bottom]{--fui-positioning-slide-distance-y:-10px;}",".fnyfnr8[data-popper-placement^=left]{--fui-positioning-slide-distance-x:10px;}",".fgw77r4[data-popper-placement^=left]{--fui-positioning-slide-distance-y:0px;}",".ftje0s4{animation-name:f5j8bii,f79suad;}"],k:["@keyframes f5j8bii{from{opacity:0;}to{opacity:1;}}","@keyframes f79suad{from{transform:translate(var(--fui-positioning-slide-distance-x), var(--fui-positioning-slide-distance-y));}}"],m:[["@media (prefers-reduced-motion){.fi19xcv[data-popper-placement]{animation-duration:1ms;}}",{m:"(prefers-reduced-motion)"}],["@media (prefers-reduced-motion){.f1mzajhk[data-popper-placement]{animation-name:f5j8bii;}}",{m:"(prefers-reduced-motion)"}]],t:["@supports not (animation-composition: accumulate){.fjp4h9y[data-popper-placement]{animation-name:f5j8bii;}}"]});function $l(e,t){if(!e)return;const r=e;r._virtual||(r._virtual={}),r._virtual.parent=t}const Kl=e.createContext(void 0);Kl.Provider;const Gl=Un({root:{qhf8xq:"f1euv43f",Bhzewxz:"f15twtuk",oyh7mz:["f1vgc2s3","f1e31b4d"],j35jbq:["f1e31b4d","f1vgc2s3"],Bj3rh1h:"f494woh"}},{d:[".f1euv43f{position:absolute;}",".f15twtuk{top:0;}",".f1vgc2s3{left:0;}",".f1e31b4d{right:0;}",".f494woh{z-index:1000000;}"]}),Ql=t.useInsertionEffect,Xl=t=>{const{targetDocument:r,dir:n}=y(),o=e.useContext(Kl),i=ge(),s=Gl();var a;const l=Ge(null!==(a=e.useContext(k))&&void 0!==a?a:"",s.root,t.className),c=null!=o?o:null==r?void 0:r.body,u=function(r,n){var o;const i=e.useMemo,s=e.useEffect,[a,l]=null!=(o=i((()=>(()=>{if(void 0===c||t.disabled)return[null,()=>null];const e=c.ownerDocument.createElement("div");return c.appendChild(e),[e,()=>e.remove()]})()),n))?o:[null,()=>null];return s((()=>l),n),a}(0,[c]);return Ql?Ql((()=>{if(!u)return;const e=l.split(" ").filter(Boolean);return u.classList.add(...e),u.setAttribute("dir",n),i.current=u,()=>{u.classList.remove(...e),u.removeAttribute("dir")}}),[l,n,u,i]):e.useMemo((()=>{u&&(u.className=l,u.setAttribute("dir",n),i.current=u)}),[l,n,u,i]),u};var Yl=o(40961);const Jl=t=>{return r=(t=>{const{element:r,className:n}=function(e){return Z(e)?{element:e}:"object"==typeof e?null===e?{element:null}:e:{}}(t.mountNode),o=e.useRef(null),i=Xl({disabled:!!r,className:n}),s=null!=r?r:i,a={children:t.children,mountNode:s,virtualParentRootRef:o};return e.useEffect((()=>{if(!s)return;const e=o.current,t=s.contains(e);return e&&!t?($l(s,e),()=>{$l(s,void 0)}):void 0}),[o,s]),a})(t),e.createElement("span",{hidden:!0,ref:r.virtualParentRootRef},r.mountNode&&Yl.createPortal(r.children,r.mountNode));var r};Jl.displayName="Portal";const Zl=e.forwardRef(((t,r)=>{const n=((t,r)=>{const n=rl((e=>e.menuPopoverRef)),o=rl((e=>e.setOpen)),i=rl((e=>e.open)),s=rl((e=>e.openOnHover)),a=rl((e=>e.triggerRef)),l=cl(),c=e.useRef(!0),u=e.useRef(0),d=function(){const e=Ka();return e&&$a(e),ka({restorer:{type:Ws.RestorerTypes.Source}})}(),{dir:h}=y(),f="ltr"===h?ml:vl,p=e.useCallback((e=>{e&&e.addEventListener("mouseover",(e=>{var t;c.current&&(c.current=!1,t=e,n.current.dispatchEvent(new CustomEvent(nl,{bubbles:!0,detail:{nativeEvent:t}})),u.current=setTimeout((()=>c.current=!0),250))}))}),[n,u]);var g;e.useEffect((()=>{}),[]);const m=null!==(g=rl((e=>e.inline)))&&void 0!==g&&g,v=rl((e=>e.mountNode)),b=me(Be("div",{role:"presentation",...d,...t,ref:Oe(r,n,p)}),{elementType:"div"}),{onMouseEnter:w,onKeyDown:_}=b;return b.onMouseEnter=Xi((e=>{(s||l)&&o(e,{open:!0,keyboard:!1,type:"menuPopoverMouseEnter",event:e}),null==w||w(e)})),b.onKeyDown=Xi((e=>{const t=e.key;var r,s;(t===xl||l&&t===f)&&i&&(null===(r=n.current)||void 0===r?void 0:r.contains(e.target))&&!e.isDefaultPrevented()&&(o(e,{open:!1,keyboard:!0,type:"menuPopoverKeyDown",event:e}),e.preventDefault()),t===pl&&(o(e,{open:!1,keyboard:!0,type:"menuPopoverKeyDown",event:e}),l||null===(s=a.current)||void 0===s||s.focus()),null==_||_(e)})),{inline:m,mountNode:v,components:{root:"div"},root:b}})(t,r);return(e=>{const t=Wl();e.root.className=Ge("fui-MenuPopover",t.root,e.root.className)})(n),T("useMenuPopoverStyles_unstable")(n),(e=>e.inline?u(e.root,{}):u(Jl,{mountNode:e.mountNode,children:u(e.root,{})}))(n)}));Zl.displayName="MenuPopover";const ec=t=>{Ka();const r=ka(t,!0);return e.useMemo((()=>({[Ws.TabsterAttributeName]:r})),[r])};function tc(e){switch(e){case"horizontal":return Ws.MoverDirections.Horizontal;case"grid":return Ws.MoverDirections.Grid;case"grid-linear":return Ws.MoverDirections.GridLinear;case"both":return Ws.MoverDirections.Both;default:return Ws.MoverDirections.Vertical}}const rc=(t,r)=>{const{findAllFocusable:n}=Ga(),o=nc(),i=ol(Za),s=((e={})=>{const{circular:t,axis:r,memorizeCurrent:n=!0,tabbable:o,ignoreDefaultKeydown:i,unstable_hasDefault:s}=e,a=Ka();return a&&function(e){const t=e.core;t.mover||(t.mover=new Ma(t,t.getWindow)),t.mover}(a),ec({mover:{cyclic:!!t,direction:tc(null!=r?r:"vertical"),memorizeCurrent:n,tabbable:o,hasDefault:s},...i&&{focusable:{ignoreKeydown:i}}})})({circular:!0,ignoreDefaultKeydown:{Tab:i}});oc(t,o,i)&&console.warn("You are using both MenuList and Menu props, we recommend you to use Menu props when available");const a=e.useRef(null),l=e.useCallback(((e,t)=>{const r=["menuitem","menuitemcheckbox","menuitemradio"];if(!a.current)return;const o=n(a.current,(e=>e.hasAttribute("role")&&-1!==r.indexOf(e.getAttribute("role"))));let i=o.indexOf(t)+1;i===o.length&&(i=0);const s=o.map((e=>{var t;return null===(t=e.textContent)||void 0===t?void 0:t.charAt(0).toLowerCase()})),l=e.key.toLowerCase(),c=(e,t)=>{for(let t=e;t<s.length;t++)if(l===s[t])return t;return-1};let u=c(i);-1===u&&(u=c(0)),u>-1&&o[u].focus()}),[n]);var c;const[u,d]=ys({state:null!==(c=t.checkedValues)&&void 0!==c?c:i?o.checkedValues:void 0,defaultState:t.defaultCheckedValues,initialState:{}});var h;const f=null!==(h=t.onCheckedValueChange)&&void 0!==h?h:i?o.onCheckedValueChange:void 0,p=Xi(((e,t,r,n)=>{const o=[...(null==u?void 0:u[t])||[]];n?o.splice(o.indexOf(r),1):o.push(r),null==f||f(e,{name:t,checkedItems:o}),d((e=>({...e,[t]:o})))})),g=Xi(((e,t,r)=>{const n=[r];d((e=>({...e,[t]:n}))),null==f||f(e,{name:t,checkedItems:n})}));return{components:{root:"div"},root:me(Be("div",{ref:Oe(r,a),role:"menu","aria-labelledby":o.triggerId,...s,...t}),{elementType:"div"}),hasIcons:o.hasIcons||!1,hasCheckmarks:o.hasCheckmarks||!1,checkedValues:u,hasMenuContext:i,setFocusByFirstCharacter:l,selectRadio:g,toggleCheckbox:p}},nc=()=>({checkedValues:rl((e=>e.checkedValues)),onCheckedValueChange:rl((e=>e.onCheckedValueChange)),triggerId:rl((e=>e.triggerId)),hasIcons:rl((e=>e.hasIcons)),hasCheckmarks:rl((e=>e.hasCheckmarks))}),oc=(e,t,r)=>{let n=!1;for(const r in t)e[r]&&(n=!0);return r&&n},ic=Un({root:{mc9l5x:"f22iagw",Beiy3e4:"f1vx9l62",i8kkvl:"f16mnhsx",Belr9w4:"fbi42co"},hasMenuContext:{Bqenvij:"f1l02sjl"}},{d:[".f22iagw{display:flex;}",".f1vx9l62{flex-direction:column;}",".f16mnhsx{column-gap:2px;}",".fbi42co{row-gap:2px;}",".f1l02sjl{height:100%;}"]}),sc=e.forwardRef(((e,t)=>{const r=rc(e,t),n=function(e){const{checkedValues:t,hasCheckmarks:r,hasIcons:n,selectRadio:o,setFocusByFirstCharacter:i,toggleCheckbox:s}=e;return{menuList:{checkedValues:t,hasCheckmarks:r,hasIcons:n,selectRadio:o,setFocusByFirstCharacter:i,toggleCheckbox:s}}}(r);return(e=>{const t=ic();e.root.className=Ge("fui-MenuList",t.root,e.hasMenuContext&&t.hasMenuContext,e.root.className)})(r),T("useMenuListStyles_unstable")(r),((e,t)=>u(al,{value:t.menuList,children:u(e.root,{})}))(r,n)}));sc.displayName="MenuList";const ac=Un({root:{mc9l5x:"fjseox"},visible:{mc9l5x:"f1w7gpdv"}},{d:[".fjseox{display:none;}",".f1w7gpdv{display:inline;}"]});var lc=(t,r)=>{const n=n=>{const{className:o,filled:i,...s}=n,a=ac();return e.createElement(e.Fragment,null,e.createElement(t,Object.assign({},s,{className:Ge(a.root,i&&a.visible,"fui-Icon-filled",o)})),e.createElement(r,Object.assign({},s,{className:Ge(a.root,!i&&a.visible,"fui-Icon-regular",o)})))};return n.displayName="CompoundIcon",n};const cc=lc(no,oo),uc=lc(to,ro),dc=Un({root:{a9b677:"fjw5fx7",Bqenvij:"fd461yt",Bcdw1i0:"fd7fpy0"},rootChecked:{Bcdw1i0:"f1022m68"}},{d:[".fjw5fx7{width:16px;}",".fd461yt{height:16px;}",".fd7fpy0{visibility:hidden;}",".f1022m68{visibility:visible;}"]}),hc=mo("rszfvis","ruxd6yz",{r:[".rszfvis{border-radius:var(--borderRadiusMedium);position:relative;color:var(--colorNeutralForeground2);background-color:var(--colorNeutralBackground1);padding-right:var(--spacingVerticalSNudge);padding-left:var(--spacingVerticalSNudge);padding-top:var(--spacingVerticalSNudge);padding-bottom:var(--spacingVerticalSNudge);box-sizing:border-box;max-width:290px;min-height:32px;flex-shrink:0;display:flex;align-items:start;font-size:var(--fontSizeBase300);cursor:pointer;gap:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}",".rszfvis:hover{background-color:var(--colorNeutralBackground1Hover);color:var(--colorNeutralForeground2Hover);}",".rszfvis:hover .fui-Icon-filled{display:inline;}",".rszfvis:hover .fui-Icon-regular{display:none;}",".rszfvis:hover .fui-MenuItem__icon{color:var(--colorNeutralForeground2BrandSelected);}",".rszfvis:hover:active{background-color:var(--colorNeutralBackground1Pressed);color:var(--colorNeutralForeground2Pressed);}",".rszfvis:focus{outline-style:none;}",".rszfvis:focus-visible{outline-style:none;}",".rszfvis[data-fui-focus-visible]{border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;}",'.rszfvis[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-left-style:solid;border-top-width:2px;border-right-width:2px;border-bottom-width:2px;border-left-width:2px;border-bottom-right-radius:var(--borderRadiusMedium);border-bottom-left-radius:var(--borderRadiusMedium);border-top-right-radius:var(--borderRadiusMedium);border-top-left-radius:var(--borderRadiusMedium);border-top-color:var(--colorStrokeFocus2);border-right-color:var(--colorStrokeFocus2);border-bottom-color:var(--colorStrokeFocus2);border-left-color:var(--colorStrokeFocus2);top:calc(2px * -1);right:calc(2px * -1);bottom:calc(2px * -1);left:calc(2px * -1);}',".ruxd6yz{border-radius:var(--borderRadiusMedium);position:relative;color:var(--colorNeutralForeground2);background-color:var(--colorNeutralBackground1);padding-left:var(--spacingVerticalSNudge);padding-right:var(--spacingVerticalSNudge);padding-top:var(--spacingVerticalSNudge);padding-bottom:var(--spacingVerticalSNudge);box-sizing:border-box;max-width:290px;min-height:32px;flex-shrink:0;display:flex;align-items:start;font-size:var(--fontSizeBase300);cursor:pointer;gap:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}",".ruxd6yz:hover{background-color:var(--colorNeutralBackground1Hover);color:var(--colorNeutralForeground2Hover);}",".ruxd6yz:hover .fui-Icon-filled{display:inline;}",".ruxd6yz:hover .fui-Icon-regular{display:none;}",".ruxd6yz:hover .fui-MenuItem__icon{color:var(--colorNeutralForeground2BrandSelected);}",".ruxd6yz:hover:active{background-color:var(--colorNeutralBackground1Pressed);color:var(--colorNeutralForeground2Pressed);}",".ruxd6yz:focus{outline-style:none;}",".ruxd6yz:focus-visible{outline-style:none;}",".ruxd6yz[data-fui-focus-visible]{border-top-color:transparent;border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;}",'.ruxd6yz[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border-top-style:solid;border-left-style:solid;border-bottom-style:solid;border-right-style:solid;border-top-width:2px;border-left-width:2px;border-bottom-width:2px;border-right-width:2px;border-bottom-left-radius:var(--borderRadiusMedium);border-bottom-right-radius:var(--borderRadiusMedium);border-top-left-radius:var(--borderRadiusMedium);border-top-right-radius:var(--borderRadiusMedium);border-top-color:var(--colorStrokeFocus2);border-left-color:var(--colorStrokeFocus2);border-bottom-color:var(--colorStrokeFocus2);border-right-color:var(--colorStrokeFocus2);top:calc(2px * -1);left:calc(2px * -1);bottom:calc(2px * -1);right:calc(2px * -1);}'],s:['@media (forced-colors: active){.rszfvis:hover{background-color:Canvas;border-color:Highlight;color:Highlight;}.rszfvis:focus{outline-style:none;}.rszfvis:focus-visible{outline-style:none;}.rszfvis[data-fui-focus-visible]{border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;}@media (forced-colors: active){.rszfvis[data-fui-focus-visible]::after{border-top-color:Highlight;border-right-color:Highlight;border-bottom-color:Highlight;border-left-color:Highlight;}}.rszfvis[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-left-style:solid;border-top-width:2px;border-right-width:2px;border-bottom-width:2px;border-left-width:2px;border-bottom-right-radius:var(--borderRadiusMedium);border-bottom-left-radius:var(--borderRadiusMedium);border-top-right-radius:var(--borderRadiusMedium);border-top-left-radius:var(--borderRadiusMedium);border-top-color:Highlight;border-right-color:Highlight;border-bottom-color:Highlight;border-left-color:Highlight;top:calc(2px * -1);right:calc(2px * -1);bottom:calc(2px * -1);left:calc(2px * -1);}}',"@media (forced-colors: active){.rszfvis[data-fui-focus-visible]::after{border-top-color:Highlight;border-right-color:Highlight;border-bottom-color:Highlight;border-left-color:Highlight;}}",'@media (forced-colors: active){.ruxd6yz:hover{background-color:Canvas;border-color:Highlight;color:Highlight;}.ruxd6yz:focus{outline-style:none;}.ruxd6yz:focus-visible{outline-style:none;}.ruxd6yz[data-fui-focus-visible]{border-top-color:transparent;border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;}@media (forced-colors: active){.ruxd6yz[data-fui-focus-visible]::after{border-top-color:Highlight;border-left-color:Highlight;border-bottom-color:Highlight;border-right-color:Highlight;}}.ruxd6yz[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border-top-style:solid;border-left-style:solid;border-bottom-style:solid;border-right-style:solid;border-top-width:2px;border-left-width:2px;border-bottom-width:2px;border-right-width:2px;border-bottom-left-radius:var(--borderRadiusMedium);border-bottom-right-radius:var(--borderRadiusMedium);border-top-left-radius:var(--borderRadiusMedium);border-top-right-radius:var(--borderRadiusMedium);border-top-color:Highlight;border-left-color:Highlight;border-bottom-color:Highlight;border-right-color:Highlight;top:calc(2px * -1);left:calc(2px * -1);bottom:calc(2px * -1);right:calc(2px * -1);}}',"@media (forced-colors: active){.ruxd6yz[data-fui-focus-visible]::after{border-top-color:Highlight;border-left-color:Highlight;border-bottom-color:Highlight;border-right-color:Highlight;}}"]}),fc=mo("r1ls86vo","rpbc5dr",[".r1ls86vo{padding-left:2px;padding-right:2px;background-color:transparent;flex-grow:1;}",".rpbc5dr{padding-right:2px;padding-left:2px;background-color:transparent;flex-grow:1;}"]),pc=mo("r12mwwux","r1ewgu5j",[".r12mwwux{padding-left:2px;padding-right:2px;font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase200);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);color:var(--colorNeutralForeground3);}",".r12mwwux:hover{color:var(--colorNeutralForeground3Hover);}",".r12mwwux:focus{color:var(--colorNeutralForeground3Hover);}",".r1ewgu5j{padding-right:2px;padding-left:2px;font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase200);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);color:var(--colorNeutralForeground3);}",".r1ewgu5j:hover{color:var(--colorNeutralForeground3Hover);}",".r1ewgu5j:focus{color:var(--colorNeutralForeground3Hover);}"]),gc=mo("r9c34qo",null,[".r9c34qo{width:20px;height:20px;font-size:20px;line-height:0;align-items:center;display:inline-flex;justify-content:center;}"]),mc=mo("r9c34qo",null,[".r9c34qo{width:20px;height:20px;font-size:20px;line-height:0;align-items:center;display:inline-flex;justify-content:center;}"]),vc=Un({checkmark:{B6of3ja:"fmnzpld"},splitItemMain:{Bh6795r:"fqerorx"},splitItemTrigger:{Btl43ni:["f1ozlkrg","f10ostut"],Beyfa6y:["f1deotkl","f1krrbdw"],uwmqm3:["f1cnd47f","fhxju0i"],Ftih45:"f1wl9k8s",Ccq8qp:"f1yn80uh",Baz25je:"f68mna0",cmx5o7:"f1p5zmk"},disabled:{sj55zd:"f1s2aq7o",Bi91k9c:"fvgxktp",Jwef8y:"f1ijtazh",eoavqd:"fphbwmw",Bk3fhr4:"f19vpps7",Bmfj8id:"fv5swzo",Bg7n49j:"f1q1x1ba",B2d53fq:"fcvwxyo",iro3zm:"f1to34ca",t0hwav:"ft33916",Bbusuzp:"f1dcs8yz",ze5xyy:"f1kc2mi9",Bqrx1nm:"fkavljg",Bctn1xl:"fk56vqo",h5esng:"ff3wi9b",Bh6z0a4:"f1ikwg0d",Bh953qp:"f10l1t5h"}},{d:[".fmnzpld{margin-top:2px;}",".fqerorx{flex-grow:1;}",".f1ozlkrg{border-top-left-radius:0;}",".f10ostut{border-top-right-radius:0;}",".f1deotkl{border-bottom-left-radius:0;}",".f1krrbdw{border-bottom-right-radius:0;}",".f1cnd47f{padding-left:0;}",".fhxju0i{padding-right:0;}",'.f1wl9k8s::before{content:"";}',".f1yn80uh::before{width:var(--strokeWidthThin);}",".f68mna0::before{height:24px;}",".f1p5zmk::before{background-color:var(--colorNeutralStroke1);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}"],h:[".fvgxktp:hover{color:var(--colorNeutralForegroundDisabled);}",".f1ijtazh:hover{background-color:var(--colorNeutralBackground1);}",".fphbwmw:hover{cursor:not-allowed;}",".f19vpps7:hover .fui-Icon-filled{display:none;}",".fv5swzo:hover .fui-Icon-regular{display:inline;}",".f1q1x1ba:hover .fui-MenuItem__icon{color:var(--colorNeutralForegroundDisabled);}",".fcvwxyo:hover:active{color:var(--colorNeutralForegroundDisabled);}",".f1to34ca:hover:active{background-color:var(--colorNeutralBackground1);}"],f:[".ft33916:focus{color:var(--colorNeutralForegroundDisabled);}"],m:[["@media (forced-colors: active){.f1dcs8yz{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1kc2mi9:hover{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fkavljg:hover{background-color:Canvas;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fk56vqo:hover .fui-MenuItem__icon{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.ff3wi9b:hover .fui-MenuItem__icon{background-color:Canvas;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ikwg0d:focus{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f10l1t5h:focus{background-color:Canvas;}}",{m:"(forced-colors: active)"}]]}),bc=Un({resetLink:{w71qe1:"f1iuv45f",Bkioxbp:"f9pkogg",I8pafv:"foe20s3",dvvfom:"f1kn6jj"}},{d:[".f1iuv45f{text-decoration-line:none;}",".f9pkogg{text-decoration-thickness:initial;}",".foe20s3{text-decoration-style:initial;}",".f1kn6jj{text-decoration-color:initial;}"]}),yc=e.forwardRef(((t,r)=>{const n=((t,r)=>{const n=((t,r)=>{const n=null!==(o=e.useContext(Dl))&&void 0!==o&&o;var o;const i=rl((e=>e.persistOnItemClick)),{as:s="div",disabled:a=!1,hasSubmenu:l=n,persistOnClick:c=i}=t,u=ll((e=>e.hasIcons)),d=ll((e=>e.hasCheckmarks)),h=rl((e=>e.setOpen)),{dir:f}=y(),p=e.useRef(null),g=e.useRef(!1),m={hasSubmenu:l,disabled:a,persistOnClick:c,components:{root:"div",icon:"span",checkmark:"span",submenuIndicator:"span",content:"span",secondaryContent:"span"},root:me(Be(s,Nl(s,{role:"menuitem",...t,disabled:!1,disabledFocusable:a,ref:Oe(r,p),onKeyDown:Xi((e=>{var r;null===(r=t.onKeyDown)||void 0===r||r.call(t,e),e.isDefaultPrevented()||e.key!==fl&&e.key!==hl||(g.current=!0)})),onMouseEnter:Xi((e=>{var r,n;null===(r=p.current)||void 0===r||r.focus(),null===(n=t.onMouseEnter)||void 0===n||n.call(t,e)})),onClick:Xi((e=>{var r;l||c||(h(e,{open:!1,keyboard:g.current,bubble:!0,type:"menuItemClick",event:e}),g.current=!1),null===(r=t.onClick)||void 0===r||r.call(t,e)}))})),{elementType:"div"}),icon:ve(t.icon,{renderByDefault:u,elementType:"span"}),checkmark:ve(t.checkmark,{renderByDefault:d,elementType:"span"}),submenuIndicator:ve(t.submenuIndicator,{renderByDefault:l,defaultProps:{children:"ltr"===f?e.createElement(cc,null):e.createElement(uc,null)},elementType:"span"}),content:ve(t.content,{renderByDefault:!!t.children,defaultProps:{children:t.children},elementType:"span"}),secondaryContent:ve(t.secondaryContent,{elementType:"span"})};return((e,t)=>{const r=ll((e=>e.setFocusByFirstCharacter)),{onKeyDown:n}=e.root;e.root.onKeyDown=e=>{var o;null==n||n(e),(null===(o=e.key)||void 0===o?void 0:o.length)>1||t.current&&(null==r||r(e,t.current))}})(m,p),m})(t,null),o={...t,...n.root,ref:r,tabIndex:t.tabIndex};return{...n,components:{...n.components,root:"a"},root:me(Be("a",{role:"menuitem",...o}),{elementType:"a"})}})(t,r);return(e=>{(e=>{const t=vc(),r=hc(),n=fc(),o=pc(),i=gc(),s=mc();e.root.className=Ge("fui-MenuItem",r,e.disabled&&t.disabled,e.root.className),e.content&&(e.content.className=Ge("fui-MenuItem__content",n,e.content.className)),e.checkmark&&(e.checkmark.className=Ge("fui-MenuItem__checkmark",t.checkmark,e.checkmark.className)),e.secondaryContent&&(e.secondaryContent.className=Ge("fui-MenuItem__secondaryContent",!e.disabled&&o,e.secondaryContent.className)),e.icon&&(e.icon.className=Ge("fui-MenuItem__icon",i,e.icon.className)),e.submenuIndicator&&(e.submenuIndicator.className=Ge("fui-MenuItem__submenuIndicator",s,e.submenuIndicator.className)),(e=>{const t=dc();e.checkmark&&(e.checkmark.className=Ge(t.root,e.checked&&t.rootChecked,e.checkmark.className))})(e)})(e);const t=bc();e.root.className=Ge("fui-MenuItemLink",t.resetLink,e.root.className),e.icon&&(e.icon.className=Ge("fui-MenuItemLink__icon",e.icon.className)),e.content&&(e.content.className=Ge("fui-MenuItemLink__content",e.content.className)),e.secondaryContent&&(e.secondaryContent.className=Ge("fui-MenuItemLink__secondaryContent",e.secondaryContent.className)),e.checkmark&&(e.checkmark.className=Ge("fui-MenuItemLink__checkmark",e.checkmark.className))})(n),(e=>d(e.root,{children:[e.checkmark&&u(e.checkmark,{}),e.icon&&u(e.icon,{}),e.content&&u(e.content,{}),e.secondaryContent&&u(e.secondaryContent,{})]}))(n)}));yc.displayName="MenuItemLink";const wc=Xn("MoreVertical24Filled","24",["M12 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4Zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4Zm-2 4a2 2 0 1 0 4 0 2 2 0 0 0-4 0Z"]);var _c="https://dashboard.mailmeteor.com",kc="https://auth.mailmeteor.com",xc="https://us-central1-mailmeteor-prod.cloudfunctions.net/extensions/microsoft-excel",Sc=qn({welcome__header:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingBottom:"4px",paddingTop:"4px",paddingLeft:"16px",paddingRight:"10px",backgroundColor:"var(--colorNeutralBackground1)"},message:{fontSize:Ro,fontWeight:Po,fontColor:"var(--colorNeutralBackgroundStatic)",marginBottom:"0px",marginTop:"0px"}}),Ec=function(t){var r=t.message,n=Sc();return e.createElement("section",{className:n.welcome__header},e.createElement("h1",{className:n.message},r),e.createElement(dl,null,e.createElement(zl,{disableButtonEnhancement:!0},e.createElement(Hl,{appearance:"transparent",icon:e.createElement(wc,null)})),e.createElement(Zl,null,e.createElement(sc,null,e.createElement(yc,{target:"_blank",href:"".concat(_c,"/account")},"My account"),e.createElement($n,null),e.createElement(yc,{target:"_blank",href:"https://support.mailmeteor.com/excel/tutorial"},"Getting started"),e.createElement(yc,{target:"_blank",href:"https://www.youtube.com/@mailmeteor"},"Video tutorial"),e.createElement($n,null),e.createElement(yc,{target:"_blank",href:" https://mailmeteor.com"},"About"),e.createElement(yc,{target:"_blank",href:" https://mailmeteor.com/support"},"Help")))))};const Cc=["Top","Right","Bottom","Left"];function Tc(e,t,...r){const[n,o=n,i=n,s=o]=r,a=[n,o,i,s],l={};for(let r=0;r<a.length;r+=1)(a[r]||0===a[r])&&(l[e+Cc[r]+t]=a[r]);return l}function Ic(...e){return Tc("border","Width",...e)}function Nc(...e){return Tc("border","Style",...e)}function Rc(...e){return Tc("border","Color",...e)}const Dc=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function Pc(e){return Dc.includes(e)}const zc=["dashed","dotted","double","solid","wavy"],Bc=function(...e){return Pc(e[0])?Object.assign({},Nc(e[0]),e[1]&&Ic(e[1]),e[2]&&Rc(e[2])):Object.assign({},Ic(e[0]),e[1]&&Nc(e[1]),e[2]&&Rc(e[2]))},Oc=function(e,t=e){return{columnGap:e,rowGap:t}},Ac=function(...e){return Tc("padding","",...e)},Fc=function(e,...t){if(0===t.length)return function(e){return zc.includes(e)}(e)?{textDecorationStyle:e}:{textDecorationLine:e};const[r,n,o]=t;return Object.assign({textDecorationLine:e},r&&{textDecorationStyle:r},n&&{textDecorationColor:n},o&&{textDecorationThickness:o})},Mc={body1:{fontFamily:Co,fontSize:No,fontWeight:Do,lineHeight:Ao},body1Strong:{fontFamily:Co,fontSize:No,fontWeight:Po,lineHeight:Ao},body1Stronger:{fontFamily:Co,fontSize:No,fontWeight:zo,lineHeight:Ao},body2:{fontFamily:Co,fontSize:Ro,fontWeight:Do,lineHeight:Fo},caption1:{fontFamily:Co,fontSize:Io,fontWeight:Do,lineHeight:Oo},caption1Strong:{fontFamily:Co,fontSize:Io,fontWeight:Po,lineHeight:Oo},caption1Stronger:{fontFamily:Co,fontSize:Io,fontWeight:zo,lineHeight:Oo},caption2:{fontFamily:Co,fontSize:To,fontWeight:Do,lineHeight:Bo},caption2Strong:{fontFamily:Co,fontSize:To,fontWeight:Po,lineHeight:Bo},subtitle1:{fontFamily:Co,fontSize:"var(--fontSizeBase500)",fontWeight:Po,lineHeight:"var(--lineHeightBase500)"},subtitle2:{fontFamily:Co,fontSize:Ro,fontWeight:Po,lineHeight:Fo},subtitle2Stronger:{fontFamily:Co,fontSize:Ro,fontWeight:zo,lineHeight:Fo},title1:{fontFamily:Co,fontSize:"var(--fontSizeHero800)",fontWeight:Po,lineHeight:"var(--lineHeightHero800)"},title2:{fontFamily:Co,fontSize:"var(--fontSizeHero700)",fontWeight:Po,lineHeight:"var(--lineHeightHero700)"},title3:{fontFamily:Co,fontSize:"var(--fontSizeBase600)",fontWeight:Po,lineHeight:"var(--lineHeightBase600)"},largeTitle:{fontFamily:Co,fontSize:"var(--fontSizeHero900)",fontWeight:Po,lineHeight:"var(--lineHeightHero900)"},display:{fontFamily:Co,fontSize:"var(--fontSizeHero1000)",fontWeight:Po,lineHeight:"var(--lineHeightHero1000)"}},jc=Un({root:{Bahqtrf:"fk6fouc",sj55zd:"f19n0e5"},disabled:{sj55zd:"f1s2aq7o",Bbusuzp:"f1dcs8yz"},required:{sj55zd:"f1whyuy6",uwmqm3:["fruq291","f7x41pl"]},small:{Be2twd7:"fy9rknc",Bg96gwp:"fwrc4pm"},medium:{Be2twd7:"fkhj508",Bg96gwp:"f1i3iumi"},large:{Be2twd7:"fod5ikn",Bg96gwp:"faaz57k",Bhrd7zp:"fl43uef"},semibold:{Bhrd7zp:"fl43uef"}},{d:[".fk6fouc{font-family:var(--fontFamilyBase);}",".f19n0e5{color:var(--colorNeutralForeground1);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f1whyuy6{color:var(--colorPaletteRedForeground3);}",".fruq291{padding-left:var(--spacingHorizontalXS);}",".f7x41pl{padding-right:var(--spacingHorizontalXS);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",".fl43uef{font-weight:var(--fontWeightSemibold);}"],m:[["@media (forced-colors: active){.f1dcs8yz{color:GrayText;}}",{m:"(forced-colors: active)"}]]}),Lc=e.forwardRef(((e,t)=>{const r=((e,t)=>{const{disabled:r=!1,required:n=!1,weight:o="regular",size:i="medium"}=e;return{disabled:r,required:ve(!0===n?"*":n||void 0,{defaultProps:{"aria-hidden":"true"},elementType:"span"}),weight:o,size:i,components:{root:"label",required:"span"},root:me(Be("label",{ref:t,...e}),{elementType:"label"})}})(e,t);return(e=>{const t=jc();e.root.className=Ge("fui-Label",t.root,e.disabled&&t.disabled,t[e.size],"semibold"===e.weight&&t.semibold,e.root.className),e.required&&(e.required.className=Ge("fui-Label__required",t.required,e.disabled&&t.disabled,e.required.className))})(r),T("useLabelStyles_unstable")(r),(e=>d(e.root,{children:[e.root.children,e.required&&u(e.required,{})]}))(r)}));Lc.displayName="Label";const qc=(e={})=>{const{trapFocus:t,alwaysFocusable:r,legacyTrapFocus:n}=e,o=Ka();o&&(function(e,t,r){const n=e.core;n.modalizer||(n.modalizer=new Ba(n,t,r)),n.modalizer}(o),$a(o));const i=Le("modal-",e.id);return{modalAttributes:ec({restorer:{type:Ws.RestorerTypes.Source},...t&&{modalizer:{id:i,isOthersAccessible:!t,isAlwaysAccessible:r,isTrapped:n&&t}}}),triggerAttributes:ec({restorer:{type:Ws.RestorerTypes.Target}})}},Uc=Xa(void 0),Vc={open:!1,setOpen:()=>null,toggleOpen:()=>null,triggerRef:{current:null},contentRef:{current:null},arrowRef:{current:null},openOnContext:!1,openOnHover:!1,size:"medium",trapFocus:!1,inline:!1},Hc=(Uc.Provider,e=>Ya(Uc,((t=Vc)=>e(t)))),Wc=e=>{const t=(e=>{const{children:t,disableButtonEnhancement:r=!1}=e,n=El(t),o=Hc((e=>e.open)),i=Hc((e=>e.setOpen)),s=Hc((e=>e.toggleOpen)),a=Hc((e=>e.triggerRef)),l=Hc((e=>e.openOnHover)),c=Hc((e=>e.openOnContext)),{triggerAttributes:u}=qc(),d={...u,"aria-expanded":`${o}`,...null==n?void 0:n.props,onMouseEnter:Xi(Cl(null==n?void 0:n.props.onMouseEnter,(e=>{l&&i(e,!0)}))),onMouseLeave:Xi(Cl(null==n?void 0:n.props.onMouseLeave,(e=>{l&&i(e,!1)}))),onContextMenu:Xi(Cl(null==n?void 0:n.props.onContextMenu,(e=>{c&&(e.preventDefault(),i(e,!0))}))),ref:Oe(a,null==n?void 0:n.ref)},h={...d,onClick:Xi(Cl(null==n?void 0:n.props.onClick,(e=>{c||s(e)}))),onKeyDown:Xi(Cl(null==n?void 0:n.props.onKeyDown,(e=>{e.key===xl&&o&&!e.isDefaultPrevented()&&(i(e,!1),e.preventDefault())})))},f=Nl("button"===(null==n?void 0:n.type)||"a"===(null==n?void 0:n.type)?n.type:"div",h);return{children:Tl(e.children,Nl("button"===(null==n?void 0:n.type)||"a"===(null==n?void 0:n.type)?n.type:"div",c?d:r?h:f))}})(e);return(e=>e.children)(t)};Wc.displayName="PopoverTrigger",Wc.isFluentTriggerComponent=!0;const $c=Xn("Info12Filled","12",["M11 6A5 5 0 1 1 1 6a5 5 0 0 1 10 0Zm-5.5.5V8a.5.5 0 0 0 1 0V6.5a.5.5 0 0 0-1 0ZM6 3.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"]),Kc=Xn("Info12Regular","12",["M5.5 6.5a.5.5 0 0 1 1 0V8a.5.5 0 0 1-1 0V6.5ZM6 3.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM1 6a5 5 0 1 1 10 0A5 5 0 0 1 1 6Zm5-4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Z"]),Gc=Xn("Info16Filled","16",["M8 1a7 7 0 1 1 0 14A7 7 0 0 1 8 1Zm0 5.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm.5 1.25a.5.5 0 0 0-1 0v3a.5.5 0 0 0 1 0v-3Z"]),Qc=Xn("Info16Regular","16",["M8.5 7.5a.5.5 0 1 0-1 0v3a.5.5 0 0 0 1 0v-3Zm.25-2a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1ZM2 8a6 6 0 1 1 12 0A6 6 0 0 1 2 8Z"]),Xc=Xn("Info20Filled","20",["M18 10a8 8 0 1 0-16 0 8 8 0 0 0 16 0ZM9.5 8.91a.5.5 0 0 1 1 0V13.6a.5.5 0 0 1-1 0V8.9Zm-.25-2.16a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0Z"]),Yc=Xn("Info20Regular","20",["M10.5 8.91a.5.5 0 0 0-1 .09v4.6a.5.5 0 0 0 1-.1V8.91Zm.3-2.16a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0ZM18 10a8 8 0 1 0-16 0 8 8 0 0 0 16 0ZM3 10a7 7 0 1 1 14 0 7 7 0 0 1-14 0Z"]),Jc=lc($c,Kc),Zc=lc(Gc,Qc),eu=lc(Xc,Yc),tu=(e,t)=>{return"number"==typeof e?{mainAxis:e+t}:{...e,mainAxis:(null!==(r=e.mainAxis)&&void 0!==r?r:0)+t};var r},ru={small:6,medium:8,large:8},nu=Un({root:{sj55zd:"f19n0e5",De3pzq:"fxugw4r",E5pizo:"f1hg901r",Bbmb7ep:["f1aa9q02","f16jpd5f"],Beyfa6y:["f16jpd5f","f1aa9q02"],B7oj6ja:["f1jar5jt","fyu767a"],Btl43ni:["fyu767a","f1jar5jt"],B4j52fo:"f5ogflp",Bekrc4i:["f1hqa2wf","finvdd3"],Bn0qgzm:"f1f09k3d",ibv6hh:["finvdd3","f1hqa2wf"],icvyot:"fzkkow9",vrafjx:["fcdblym","fjik90z"],oivjwe:"fg706s2",wvpqe5:["fjik90z","fcdblym"],g2u3we:"fghlq4f",h3c5rm:["f1gn591s","fjscplz"],B9xav0g:"fb073pr",zhjwy3:["fjscplz","f1gn591s"],Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi",B93otf3:"f18k4bn6",vin17d:"fo1kyvf",Ezkn3b:"fetxo7e",nyiy2g:"f8x1vz1",swvrvq:"f8g0anz",Bkovbt3:"fezwn9i",hgjdhn:"fz5efge",fsy9dk:"f1ydixl4",B3ogreh:"f8dgqj5",jv49x5:"fnyfnr8",Bk7o48c:"fgw77r4",Bv12yb3:"ftje0s4",z0t1cu:"fi19xcv",Bks05zx:"f1mzajhk",Bvtglag:"fjp4h9y"},inline:{Bj3rh1h:"f19g0ac"},inverted:{De3pzq:"fg3r6xk",sj55zd:"fonrgv7"},brand:{De3pzq:"ffp7eso",sj55zd:"f1phragk"},smallPadding:{z8tnut:"f1kcqot9",z189sj:["f11qrl6u","fjlbh76"],Byoj8tv:"fpe6lb7",uwmqm3:["fjlbh76","f11qrl6u"]},mediumPadding:{z8tnut:"fqag9an",z189sj:["f1gbmcue","f1rh9g5y"],Byoj8tv:"fp67ikv",uwmqm3:["f1rh9g5y","f1gbmcue"]},largePadding:{z8tnut:"fc7z3ec",z189sj:["fat0sn4","fekwl8i"],Byoj8tv:"fe2my4m",uwmqm3:["fekwl8i","fat0sn4"]},smallArrow:{a9b677:"f1ekdpwm",Bqenvij:"f83vc9z"},mediumLargeArrow:{a9b677:"f1kmc0fn",Bqenvij:"fb6lvc5"},arrow:{qhf8xq:"f1euv43f",De3pzq:"f1u2r49w",Bcdw1i0:"fd7fpy0",Bj3rh1h:"f1bsuimh",Ftih45:"f1wl9k8s",B1puzpu:"f1wkw4r9",Brfgrao:"f1j7ml58",Bcvre1j:"fyl8oag",Ccq8qp:"frdoeuz",Baz25je:"fb81m9q",cmx5o7:"f1ljr5q2",B4f6apu:"fyfemzf",m598lv:"focyt6c",Bk5zm6e:"fnhxbxj",y0oebl:"fdw6hkg",qa3bma:"f11yjt3y",Bqjgrrk:"f1172wan",Budzafs:["f9e5op9","f112wvtl"],Hv9wc6:"f16cagkn",hl6cv3:"f1773hnp",c8svkw:"fw7o64x",yayu3t:"f1v7783n",nr3p0k:"f1f0d6v",rhl9o9:"fh2hsk5",wiz9v7:"f1gj3y7g",B6q6orb:"f11yvu4",ndpsmx:"f17lejdj"}},{d:[".f19n0e5{color:var(--colorNeutralForeground1);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",".f1hg901r{box-shadow:var(--shadow16);}",".f1aa9q02{border-bottom-right-radius:var(--borderRadiusMedium);}",".f16jpd5f{border-bottom-left-radius:var(--borderRadiusMedium);}",".f1jar5jt{border-top-right-radius:var(--borderRadiusMedium);}",".fyu767a{border-top-left-radius:var(--borderRadiusMedium);}",".f5ogflp{border-top-width:1px;}",".f1hqa2wf{border-right-width:1px;}",".finvdd3{border-left-width:1px;}",".f1f09k3d{border-bottom-width:1px;}",".fzkkow9{border-top-style:solid;}",".fcdblym{border-right-style:solid;}",".fjik90z{border-left-style:solid;}",".fg706s2{border-bottom-style:solid;}",".fghlq4f{border-top-color:var(--colorTransparentStroke);}",".f1gn591s{border-right-color:var(--colorTransparentStroke);}",".fjscplz{border-left-color:var(--colorTransparentStroke);}",".fb073pr{border-bottom-color:var(--colorTransparentStroke);}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".f18k4bn6{animation-composition:accumulate;}",".fo1kyvf{animation-duration:var(--durationSlower);}",".fetxo7e{animation-timing-function:var(--curveDecelerateMid);}",".f8x1vz1{--fui-positioning-slide-distance-x:0px;}",".f8g0anz{--fui-positioning-slide-distance-y:10px;}",".fezwn9i[data-popper-placement^=right]{--fui-positioning-slide-distance-x:-10px;}",".fz5efge[data-popper-placement^=right]{--fui-positioning-slide-distance-y:0px;}",".f1ydixl4[data-popper-placement^=bottom]{--fui-positioning-slide-distance-x:0px;}",".f8dgqj5[data-popper-placement^=bottom]{--fui-positioning-slide-distance-y:-10px;}",".fnyfnr8[data-popper-placement^=left]{--fui-positioning-slide-distance-x:10px;}",".fgw77r4[data-popper-placement^=left]{--fui-positioning-slide-distance-y:0px;}",".ftje0s4{animation-name:f5j8bii,f79suad;}",".f19g0ac{z-index:1;}",".fg3r6xk{background-color:var(--colorNeutralBackgroundStatic);}",".fonrgv7{color:var(--colorNeutralForegroundStaticInverted);}",".ffp7eso{background-color:var(--colorBrandBackground);}",".f1phragk{color:var(--colorNeutralForegroundOnBrand);}",".f1kcqot9{padding-top:12px;}",".f11qrl6u{padding-right:12px;}",".fjlbh76{padding-left:12px;}",".fpe6lb7{padding-bottom:12px;}",".fqag9an{padding-top:16px;}",".f1gbmcue{padding-right:16px;}",".f1rh9g5y{padding-left:16px;}",".fp67ikv{padding-bottom:16px;}",".fc7z3ec{padding-top:20px;}",".fat0sn4{padding-right:20px;}",".fekwl8i{padding-left:20px;}",".fe2my4m{padding-bottom:20px;}",".f1ekdpwm{width:8.484px;}",".f83vc9z{height:8.484px;}",".f1kmc0fn{width:11.312px;}",".fb6lvc5{height:11.312px;}",".f1euv43f{position:absolute;}",".f1u2r49w{background-color:inherit;}",".fd7fpy0{visibility:hidden;}",".f1bsuimh{z-index:-1;}",'.f1wl9k8s::before{content:"";}',".f1wkw4r9::before{visibility:visible;}",".f1j7ml58::before{position:absolute;}",".fyl8oag::before{box-sizing:border-box;}",".frdoeuz::before{width:inherit;}",".fb81m9q::before{height:inherit;}",".f1ljr5q2::before{background-color:inherit;}",".fyfemzf::before{border-right-width:1px;}",".focyt6c::before{border-right-style:solid;}",".fnhxbxj::before{border-right-color:var(--colorTransparentStroke);}",".fdw6hkg::before{border-bottom-width:1px;}",".f11yjt3y::before{border-bottom-style:solid;}",".f1172wan::before{border-bottom-color:var(--colorTransparentStroke);}",".f9e5op9::before{border-bottom-right-radius:var(--borderRadiusSmall);}",".f112wvtl::before{border-bottom-left-radius:var(--borderRadiusSmall);}",".f16cagkn::before{transform:rotate(var(--fui-positioning-angle)) translate(0, 50%) rotate(45deg);}",'[data-popper-placement^="top"] .f1773hnp{bottom:-1px;}','[data-popper-placement^="top"] .fw7o64x{--fui-positioning-angle:0;}','[data-popper-placement^="right"] .f1v7783n{left:-1px;}','[data-popper-placement^="right"] .f1f0d6v{--fui-positioning-angle:90deg;}','[data-popper-placement^="bottom"] .fh2hsk5{top:-1px;}','[data-popper-placement^="bottom"] .f1gj3y7g{--fui-positioning-angle:180deg;}','[data-popper-placement^="left"] .f11yvu4{right:-1px;}','[data-popper-placement^="left"] .f17lejdj{--fui-positioning-angle:270deg;}'],k:["@keyframes f5j8bii{from{opacity:0;}to{opacity:1;}}","@keyframes f79suad{from{transform:translate(var(--fui-positioning-slide-distance-x), var(--fui-positioning-slide-distance-y));}}"],m:[["@media (prefers-reduced-motion){.fi19xcv[data-popper-placement]{animation-duration:1ms;}}",{m:"(prefers-reduced-motion)"}],["@media (prefers-reduced-motion){.f1mzajhk[data-popper-placement]{animation-name:f5j8bii;}}",{m:"(prefers-reduced-motion)"}]],t:["@supports not (animation-composition: accumulate){.fjp4h9y[data-popper-placement]{animation-name:f5j8bii;}}"]}),ou=t=>(t=>{const{appearance:r,arrowRef:n,contentRef:o,inline:i,mountNode:s,open:a,openOnContext:l,openOnHover:c,setOpen:u,size:d,toggleOpen:h,trapFocus:f,triggerRef:p,withArrow:g,inertTrapFocus:m}=t;return e.createElement(Uc.Provider,{value:{appearance:r,arrowRef:n,contentRef:o,inline:i,mountNode:s,open:a,openOnContext:l,openOnHover:c,setOpen:u,toggleOpen:h,triggerRef:p,size:d,trapFocus:f,inertTrapFocus:m,withArrow:g}},t.popoverTrigger,t.open&&t.popoverSurface)})((t=>{const[r,n]=Mo(),o={size:"medium",contextTarget:r,setContextTarget:n,...t},i=e.Children.toArray(t.children);let s,a;2===i.length?(s=i[0],a=i[1]):1===i.length&&(a=i[0]);const[l,c]=function(t){const r=Xi(((e,r)=>{var n;return null===(n=t.onOpenChange)||void 0===n?void 0:n.call(t,e,r)})),[n,o]=ys({state:t.open,defaultState:t.defaultOpen,initialState:!1});t.open=void 0!==n?n:t.open;const i=t.setContextTarget;return[n,e.useCallback(((e,t)=>{t&&"contextmenu"===e.type&&i(e),t||i(void 0),o(t),null==r||r(e,{open:t})}),[o,r,i])]}(o),u=e.useRef(0),d=Xi(((e,r)=>{var n;clearTimeout(u.current),e instanceof Event||!e.persist||e.persist(),"mouseleave"===e.type?u.current=setTimeout((()=>{c(e,r)}),null!==(n=t.mouseLeaveDelay)&&void 0!==n?n:500):c(e,r)}));e.useEffect((()=>()=>{clearTimeout(u.current)}),[]);const h=e.useCallback((e=>{d(e,!l)}),[d,l]),f=function(e){const t={position:"above",align:"center",arrowPadding:8,target:e.openOnContext?e.contextTarget:void 0,...Lo(e.positioning)};var r,n;t.coverTarget&&(e.withArrow=!1),e.withArrow&&(t.offset=(r=t.offset,n=ru[e.size],"number"==typeof r||"object"==typeof r&&null!==r?tu(r,n):"function"==typeof r?e=>{const t=r(e);return tu(t,n)}:{mainAxis:n}));const{targetRef:o,containerRef:i,arrowRef:s}=bs(t);return{triggerRef:o,contentRef:i,arrowRef:s}}(o),{targetDocument:p}=y();var g;ks({contains:Ts,element:p,callback:e=>d(e,!1),refs:[f.triggerRef,f.contentRef],disabled:!l,disabledFocusOnIframe:!(null===(g=t.closeOnIframeFocus)||void 0===g||g)});const m=o.openOnContext||o.closeOnScroll;Is({contains:Ts,element:p,callback:e=>d(e,!1),refs:[f.triggerRef,f.contentRef],disabled:!l||!m});const{findFirstFocusable:v}=Ga();var b,w;return e.useEffect((()=>{if(!t.unstable_disableAutoFocus&&l&&f.contentRef.current){var e;const t=null!==(e=f.contentRef.current.getAttribute("tabIndex"))&&void 0!==e?e:void 0,r=isNaN(t)?v(f.contentRef.current):f.contentRef.current;null==r||r.focus()}}),[v,l,f.contentRef,t.unstable_disableAutoFocus]),{...o,...f,inertTrapFocus:null!==(b=t.inertTrapFocus)&&void 0!==b?b:void 0!==t.legacyTrapFocus&&!t.legacyTrapFocus,popoverTrigger:s,popoverSurface:a,open:l,setOpen:d,toggleOpen:h,setContextTarget:n,contextTarget:r,inline:null!==(w=t.inline)&&void 0!==w&&w}})(t));ou.displayName="Popover";const iu=e.forwardRef(((e,t)=>{const r=((e,t)=>{const r=Hc((e=>e.contentRef)),n=Hc((e=>e.openOnHover)),o=Hc((e=>e.setOpen)),i=Hc((e=>e.mountNode)),s=Hc((e=>e.arrowRef)),a=Hc((e=>e.size)),l=Hc((e=>e.withArrow)),c=Hc((e=>e.appearance)),u=Hc((e=>e.trapFocus)),d=Hc((e=>e.inertTrapFocus)),h=Hc((e=>e.inline)),{modalAttributes:f}=qc({trapFocus:u,legacyTrapFocus:!d,alwaysFocusable:!u}),p={inline:h,appearance:c,withArrow:l,size:a,arrowRef:s,mountNode:i,components:{root:"div"},root:me(Be("div",{ref:Oe(t,r),role:u?"dialog":"group","aria-modal":!!u||void 0,...f,...e}),{elementType:"div"})},{onMouseEnter:g,onMouseLeave:m,onKeyDown:v}=p.root;return p.root.onMouseEnter=e=>{n&&o(e,!0),null==g||g(e)},p.root.onMouseLeave=e=>{n&&o(e,!1),null==m||m(e)},p.root.onKeyDown=e=>{var t;"Escape"===e.key&&(null===(t=r.current)||void 0===t?void 0:t.contains(e.target))&&(e.preventDefault(),o(e,!1)),null==v||v(e)},p})(e,t);return(e=>{const t=nu();e.root.className=Ge("fui-PopoverSurface",t.root,e.inline&&t.inline,"small"===e.size&&t.smallPadding,"medium"===e.size&&t.mediumPadding,"large"===e.size&&t.largePadding,"inverted"===e.appearance&&t.inverted,"brand"===e.appearance&&t.brand,e.root.className),e.arrowClassName=Ge(t.arrow,"small"===e.size?t.smallArrow:t.mediumLargeArrow)})(r),T("usePopoverSurfaceStyles_unstable")(r),(e=>{const t=d(e.root,{children:[e.withArrow&&u("div",{ref:e.arrowRef,className:e.arrowClassName}),e.root.children]});return e.inline?t:u(Jl,{mountNode:e.mountNode,children:t})})(r)}));iu.displayName="PopoverSurface";const su={small:e.createElement(Jc,null),medium:e.createElement(Zc,null),large:e.createElement(eu,null)},au={small:"small",medium:"small",large:"medium"},lu=Un({base:{Bt984gj:"f122n59",B7ck84d:"f1ewtqcl",mc9l5x:"ftuwxu6",Brf1p80:"f4d9j23",w71qe1:"f1iuv45f",ha4doy:"fmrv4ls",qhf8xq:"f10pi13n",De3pzq:"f1c21dwh",sj55zd:"fkfq4zb",icvyot:"f1ern45e",vrafjx:["f1n71otn","f1deefiw"],oivjwe:"f1h8hb77",wvpqe5:["f1deefiw","f1n71otn"],Bbmb7ep:["f1aa9q02","f16jpd5f"],Beyfa6y:["f16jpd5f","f1aa9q02"],B7oj6ja:["f1jar5jt","fyu767a"],Btl43ni:["fyu767a","f1jar5jt"],B6of3ja:"f1hu3pq6",t21cq0:["f11qmguv","f1tyq0we"],jrapky:"f19f4twv",Frg6f3:["f1tyq0we","f11qmguv"],z8tnut:"f1ywm7hm",z189sj:["f7x41pl","fruq291"],Byoj8tv:"f14wxoun",uwmqm3:["fruq291","f7x41pl"],D0sxk3:"f16u1re",t6yez3:"f1rw4040",Jwef8y:"fjxutwb",Bi91k9c:"f139oj5f",eoavqd:"f8491dx",Bk3fhr4:"f1jpd6y0",Bmfj8id:"fuxngvv",iro3zm:"fwiml72",B2d53fq:"f1fg1p5m"},selected:{De3pzq:"f1q9pm1r",sj55zd:"f1qj7y59",D0sxk3:"fgzdkf0",t6yez3:"f15q0o9g",Bsw6fvg:"f1rirnrt",Bbusuzp:"f1cg6951"},highContrast:{Bbusuzp:"fn0tkbb",Bs6v0vm:"f1rp3av6",B46dtvo:"f1u7gwqv",gh1jta:"fl6kagl"},focusIndicator:{Brovlpu:"ftqa4ok",B486eqv:"f2hkw1w",B8q5s1w:"f8hki3x",Bci5o5g:["f1d2448m","ffh67wi"],n8qw10:"f1bjia2o",Bdrgwmp:["ffh67wi","f1d2448m"],Bb7d1vk:"f226i61",zhwhgb:["f13kzufm","fsx75g8"],dhy2o1:"flujwa2",Gfyso:["fsx75g8","f13kzufm"],Bm4h7ae:"f15bsgw9",B7ys5i9:"f14e48fq",Busjfv9:"f18yb2kv",Bhk32uz:"fd6o370",Bf4ptjt:"fh1cnn4",kclons:["fy7oxxb","f184ne2d"],Bhdgwq3:"fpukqih",Blkhhs4:["f184ne2d","fy7oxxb"],Bqtpl0w:"frrh606",clg4pj:["f1v5zibi","fo2hd23"],hgwjuy:"ful5kiu",Bonggc9:["fo2hd23","f1v5zibi"],B1tsrr9:["f1jqcqds","ftffrms"],Dah5zi:["ftffrms","f1jqcqds"],Bkh64rk:["f2e7qr6","fsr1zz6"],qqdqy8:["fsr1zz6","f2e7qr6"],B6dhp37:"f1dvezut",i03rao:["fd0oaoj","f1cwg4i8"],Boxcth7:"fjvm52t",Bsom6fd:["f1cwg4i8","fd0oaoj"],J0r882:"f57olzd",Bule8hv:["f4stah7","fs1por5"],Bjwuhne:"f480a47",Ghsupd:["fs1por5","f4stah7"]},large:{z8tnut:"fclwglc",z189sj:["f1w3695s","f1b0r8ql"],Byoj8tv:"fywfov9",uwmqm3:["f1b0r8ql","f1w3695s"]}},{d:[".f122n59{align-items:center;}",".f1ewtqcl{box-sizing:border-box;}",".ftuwxu6{display:inline-flex;}",".f4d9j23{justify-content:center;}",".f1iuv45f{text-decoration-line:none;}",".fmrv4ls{vertical-align:middle;}",".f10pi13n{position:relative;}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".fkfq4zb{color:var(--colorNeutralForeground2);}",".f1ern45e{border-top-style:none;}",".f1n71otn{border-right-style:none;}",".f1deefiw{border-left-style:none;}",".f1h8hb77{border-bottom-style:none;}",".f1aa9q02{border-bottom-right-radius:var(--borderRadiusMedium);}",".f16jpd5f{border-bottom-left-radius:var(--borderRadiusMedium);}",".f1jar5jt{border-top-right-radius:var(--borderRadiusMedium);}",".fyu767a{border-top-left-radius:var(--borderRadiusMedium);}",".f1hu3pq6{margin-top:0;}",".f11qmguv{margin-right:0;}",".f1tyq0we{margin-left:0;}",".f19f4twv{margin-bottom:0;}",".f1ywm7hm{padding-top:var(--spacingVerticalXS);}",".f7x41pl{padding-right:var(--spacingHorizontalXS);}",".fruq291{padding-left:var(--spacingHorizontalXS);}",".f14wxoun{padding-bottom:var(--spacingVerticalXS);}",".f16u1re .fui-Icon-filled{display:none;}",".f1rw4040 .fui-Icon-regular{display:inline-flex;}",".f1q9pm1r{background-color:var(--colorTransparentBackgroundSelected);}",".f1qj7y59{color:var(--colorNeutralForeground2BrandSelected);}",".fgzdkf0 .fui-Icon-filled{display:inline-flex;}",".f15q0o9g .fui-Icon-regular{display:none;}",".f8hki3x[data-fui-focus-visible]{border-top-color:transparent;}",".f1d2448m[data-fui-focus-visible]{border-right-color:transparent;}",".ffh67wi[data-fui-focus-visible]{border-left-color:transparent;}",".f1bjia2o[data-fui-focus-visible]{border-bottom-color:transparent;}",'.f15bsgw9[data-fui-focus-visible]::after{content:"";}',".f14e48fq[data-fui-focus-visible]::after{position:absolute;}",".f18yb2kv[data-fui-focus-visible]::after{pointer-events:none;}",".fd6o370[data-fui-focus-visible]::after{z-index:1;}",".fh1cnn4[data-fui-focus-visible]::after{border-top-style:solid;}",".fy7oxxb[data-fui-focus-visible]::after{border-right-style:solid;}",".f184ne2d[data-fui-focus-visible]::after{border-left-style:solid;}",".fpukqih[data-fui-focus-visible]::after{border-bottom-style:solid;}",".frrh606[data-fui-focus-visible]::after{border-top-width:2px;}",".f1v5zibi[data-fui-focus-visible]::after{border-right-width:2px;}",".fo2hd23[data-fui-focus-visible]::after{border-left-width:2px;}",".ful5kiu[data-fui-focus-visible]::after{border-bottom-width:2px;}",".f1jqcqds[data-fui-focus-visible]::after{border-bottom-right-radius:var(--borderRadiusMedium);}",".ftffrms[data-fui-focus-visible]::after{border-bottom-left-radius:var(--borderRadiusMedium);}",".f2e7qr6[data-fui-focus-visible]::after{border-top-right-radius:var(--borderRadiusMedium);}",".fsr1zz6[data-fui-focus-visible]::after{border-top-left-radius:var(--borderRadiusMedium);}",".f1dvezut[data-fui-focus-visible]::after{border-top-color:var(--colorStrokeFocus2);}",".fd0oaoj[data-fui-focus-visible]::after{border-right-color:var(--colorStrokeFocus2);}",".f1cwg4i8[data-fui-focus-visible]::after{border-left-color:var(--colorStrokeFocus2);}",".fjvm52t[data-fui-focus-visible]::after{border-bottom-color:var(--colorStrokeFocus2);}",".f57olzd[data-fui-focus-visible]::after{top:calc(2px * -1);}",".f4stah7[data-fui-focus-visible]::after{right:calc(2px * -1);}",".fs1por5[data-fui-focus-visible]::after{left:calc(2px * -1);}",".f480a47[data-fui-focus-visible]::after{bottom:calc(2px * -1);}",".fclwglc{padding-top:var(--spacingVerticalXXS);}",".f1w3695s{padding-right:var(--spacingVerticalXXS);}",".f1b0r8ql{padding-left:var(--spacingVerticalXXS);}",".fywfov9{padding-bottom:var(--spacingVerticalXXS);}"],h:[".fjxutwb:hover{background-color:var(--colorTransparentBackgroundHover);}",".f139oj5f:hover{color:var(--colorNeutralForeground2BrandHover);}",".f8491dx:hover{cursor:pointer;}",".f1jpd6y0:hover .fui-Icon-filled{display:inline-flex;}",".fuxngvv:hover .fui-Icon-regular{display:none;}",".fwiml72:hover:active{background-color:var(--colorTransparentBackgroundPressed);}",".f1fg1p5m:hover:active{color:var(--colorNeutralForeground2BrandPressed);}"],m:[["@media (forced-colors: active){.f1rirnrt{background-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1cg6951{color:Canvas;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fn0tkbb{color:CanvasText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1rp3av6:hover,.f1rp3av6:hover:active{forced-color-adjust:none;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1u7gwqv:hover,.f1u7gwqv:hover:active{background-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fl6kagl:hover,.fl6kagl:hover:active{color:Canvas;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f226i61[data-fui-focus-visible]::after{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f13kzufm[data-fui-focus-visible]::after{border-right-color:Highlight;}.fsx75g8[data-fui-focus-visible]::after{border-left-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.flujwa2[data-fui-focus-visible]::after{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}]],f:[".ftqa4ok:focus{outline-style:none;}"],i:[".f2hkw1w:focus-visible{outline-style:none;}"]}),cu=Un({smallMedium:{Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"},large:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"}},{d:[".fk6fouc{font-family:var(--fontFamilyBase);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}"]}),uu=e.forwardRef(((e,t)=>{const r=((e,t)=>{const{size:r="medium",inline:n=!0}=e,o=Oe(t),i={inline:n,size:r,components:{root:"button",popover:ou,info:iu},root:me(Be("button",{children:su[r],type:"button","aria-label":"information",...e,ref:o}),{elementType:"button"}),popover:me(e.popover,{defaultProps:{inline:n,positioning:"above-start",size:au[r],withArrow:!0},elementType:ou}),info:me(e.info,{defaultProps:{role:"note",tabIndex:-1},elementType:iu})},[s,a]=ys({state:i.popover.open,defaultState:i.popover.defaultOpen,initialState:!1});i.popover.open=s,i.popover.onOpenChange=Cl(i.popover.onOpenChange,((e,t)=>a(t.open)));const l=Oe(i.info.ref);i.info.ref=l;const c=e=>{const t=e.relatedTarget;o.current===t||Ts(l.current,t)||a(!1)};return i.root.onBlur=Xi(Cl(i.root.onBlur,c)),i.info.onBlurCapture=Xi(Cl(i.info.onBlurCapture,c)),i})(e,t);return(e=>{const{size:t}=e,{open:r}=e.popover,n=lu(),o=cu();e.info.className=Ge("fui-InfoButton__info","large"===t?o.large:o.smallMedium,e.info.className),e.root.className=Ge("fui-InfoButton",n.base,n.highContrast,n.focusIndicator,r&&n.selected,"large"===t&&n.large,e.root.className)})(r),(e=>d(e.popover,{children:[u(Wc,{children:u(e.root,{})}),u(e.info,{})]}))(r)}));uu.displayName="InfoButton";const du=Un({base:{ha4doy:"f12kltsn",Bceei9c:"fpo1scq",sj55zd:"f1ym3bx4"}},{d:[".f12kltsn{vertical-align:top;}",".fpo1scq{cursor:inherit;}",".f1ym3bx4{color:inherit;}"]}),hu=Un({base:{ha4doy:"f12kltsn",B6of3ja:"f1bmzb36",jrapky:"f1nyzk09"},large:{B6of3ja:"fkrn0sh",jrapky:"fmxx68s"}},{d:[".f12kltsn{vertical-align:top;}",".f1bmzb36{margin-top:calc(0px - var(--spacingVerticalXXS));}",".f1nyzk09{margin-bottom:calc(0px - var(--spacingVerticalXXS));}",".fkrn0sh{margin-top:-1px;}",".fmxx68s{margin-bottom:-1px;}"]}),fu=e.forwardRef(((t,r)=>{const n=((t,r)=>{const{root:n,label:o,infoButton:i,info:s,size:a,className:l,style:c,...u}=t,d=Le("infolabel-"),[h,f]=e.useState(!1),p=me(n,{defaultProps:{className:l,style:c},elementType:"span"}),g=me(o,{defaultProps:{id:d+"__label",ref:r,size:a,...u},elementType:Lc}),m=ve(i,{renderByDefault:!!s,defaultProps:{id:d+"__infoButton",size:a,info:s},elementType:uu}),v=me(null==m?void 0:m.popover,{elementType:"div"});if(v.onOpenChange=Xi(Cl(v.onOpenChange,((e,t)=>{f(t.open)}))),m){var b;m.popover=v;const e=d+"__info";var y,w,_,k;m.info=ve(null==m?void 0:m.info,{defaultProps:{id:e,"aria-labelledby":e},elementType:"div"}),null!==(y=(b=m)["aria-labelledby"])&&void 0!==y||(b["aria-labelledby"]=`${g.id} ${m.id}`),h&&(null!==(k=(_=p)["aria-owns"])&&void 0!==k||(_["aria-owns"]=null===(w=m.info)||void 0===w?void 0:w.id))}return{size:a,components:{root:"span",label:Lc,infoButton:uu},root:p,label:g,infoButton:m}})(t,r);return(e=>{e.root.className=Ge("fui-InfoLabel",e.root.className);const t=du();e.label.className=Ge("fui-InfoLabel__label",t.base,e.label.className);const r=hu();e.infoButton&&(e.infoButton.className=Ge("fui-InfoLabel__infoButton",r.base,"large"===e.size&&r.large,e.infoButton.className))})(n),(e=>d(e.root,{children:[u(e.label,{}),e.infoButton&&u(e.infoButton,{})]}))(n)}));fu.displayName="InfoLabel";const pu=e.createContext(void 0);pu.Provider;const gu=Un({focusIndicator:{Bttzg6e:"fhgqx19",B3uz8dt:"f1olyrje",B6ihwck:"f1p93eir",g9k6zt:"f1nev41a"},root:{B486eqv:"f2hkw1w",De3pzq:"f3rmtva",B7ck84d:"f1ewtqcl",sj55zd:"fyind8e",Bceei9c:"f1k6fduh",mc9l5x:"f1w7gpdv",Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",B6of3ja:"f1hu3pq6",t21cq0:["f11qmguv","f1tyq0we"],jrapky:"f19f4twv",Frg6f3:["f1tyq0we","f11qmguv"],z8tnut:"f1g0x7ka",z189sj:["fhxju0i","f1cnd47f"],Byoj8tv:"f1qch9an",uwmqm3:["f1cnd47f","fhxju0i"],B68tc82:"fqv5qza",Bmxbyg5:"f1vmzxwi",fsow6f:["f1o700av","fes3tcz"],w71qe1:"f1iuv45f",Bkioxbp:"f1cmlufx",ygn44y:"f9n3di6",famaaq:"f1ids18y",Bde5pd6:"f1tx3yz7",Bi91k9c:"f1deo86v",i089h6:"f1eh06m1",lj723h:"f1iescvh"},button:{icvyot:"f1ern45e",vrafjx:["f1n71otn","f1deefiw"],oivjwe:"f1h8hb77",wvpqe5:["f1deefiw","f1n71otn"]},href:{Be2twd7:"fjoy568"},subtle:{sj55zd:"fkfq4zb",Bde5pd6:"f1tx3yz7",Bi91k9c:"fnwyq0v",i089h6:"f1eh06m1",lj723h:"flvvhsy"},inline:{w71qe1:"f13mvf36"},disabled:{w71qe1:"f1iuv45f",sj55zd:"f1s2aq7o",Bceei9c:"fdrzuqr",Bde5pd6:"fbnuktb",Bi91k9c:"fvgxktp",i089h6:"fljg2da",lj723h:"f19wldhg"},inverted:{sj55zd:"f1qz2gb0",Bi91k9c:"f1mlt8il",lj723h:"f1hsd4st"}},{d:[".fhgqx19[data-fui-focus-visible]{text-decoration-color:var(--colorStrokeFocus2);}",".f1olyrje[data-fui-focus-visible]{text-decoration-line:underline;}",".f1p93eir[data-fui-focus-visible]{text-decoration-style:double;}",".f1nev41a[data-fui-focus-visible]{outline-style:none;}",".f3rmtva{background-color:transparent;}",".f1ewtqcl{box-sizing:border-box;}",".fyind8e{color:var(--colorBrandForegroundLink);}",".f1k6fduh{cursor:pointer;}",".f1w7gpdv{display:inline;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1hu3pq6{margin-top:0;}",".f11qmguv{margin-right:0;}",".f1tyq0we{margin-left:0;}",".f19f4twv{margin-bottom:0;}",".f1g0x7ka{padding-top:0;}",".fhxju0i{padding-right:0;}",".f1cnd47f{padding-left:0;}",".f1qch9an{padding-bottom:0;}",".fqv5qza{overflow-x:inherit;}",".f1vmzxwi{overflow-y:inherit;}",".f1o700av{text-align:left;}",".fes3tcz{text-align:right;}",".f1iuv45f{text-decoration-line:none;}",".f1cmlufx{text-decoration-thickness:var(--strokeWidthThin);}",".f9n3di6{text-overflow:inherit;}",".f1ids18y{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;}",".f1ern45e{border-top-style:none;}",".f1n71otn{border-right-style:none;}",".f1deefiw{border-left-style:none;}",".f1h8hb77{border-bottom-style:none;}",".fjoy568{font-size:inherit;}",".fkfq4zb{color:var(--colorNeutralForeground2);}",".f13mvf36{text-decoration-line:underline;}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fdrzuqr{cursor:not-allowed;}",".f1qz2gb0{color:var(--colorBrandForegroundInverted);}"],i:[".f2hkw1w:focus-visible{outline-style:none;}"],h:[".f1tx3yz7:hover{text-decoration-line:underline;}",".f1deo86v:hover{color:var(--colorBrandForegroundLinkHover);}",".fnwyq0v:hover{color:var(--colorNeutralForeground2Hover);}",".fbnuktb:hover{text-decoration-line:none;}",".fvgxktp:hover{color:var(--colorNeutralForegroundDisabled);}",".f1mlt8il:hover{color:var(--colorBrandForegroundInvertedHover);}"],a:[".f1eh06m1:active{text-decoration-line:underline;}",".f1iescvh:active{color:var(--colorBrandForegroundLinkPressed);}",".flvvhsy:active{color:var(--colorNeutralForeground2Pressed);}",".fljg2da:active{text-decoration-line:none;}",".f19wldhg:active{color:var(--colorNeutralForegroundDisabled);}",".f1hsd4st:active{color:var(--colorBrandForegroundInvertedPressed);}"]}),mu=e.forwardRef(((t,r)=>{const n=((t,r)=>{const n=e.useContext(pu),{appearance:o="default",disabled:i=!1,disabledFocusable:s=!1,inline:a=!1}=t,l=t.as||(t.href?"a":"button"),c={role:"span"===l?"button":void 0,type:"button"===l?"button":void 0,...t,as:l},u={appearance:o,disabled:i,disabledFocusable:s,inline:a,components:{root:l},root:me(Be(l,{ref:r,...c}),{elementType:l}),backgroundAppearance:n};return(e=>{const{disabled:t,disabledFocusable:r}=e,{onClick:n,onKeyDown:o,role:i,tabIndex:s}=e.root;"a"===e.root.as&&(e.root.href=t?void 0:e.root.href,(t||r)&&(e.root.role=i||"link")),"a"!==e.root.as&&"span"!==e.root.as||(e.root.tabIndex=null!=s?s:t&&!r?void 0:0),e.root.onClick=e=>{t||r?e.preventDefault():null==n||n(e)},e.root.onKeyDown=e=>{!t&&!r||e.key!==hl&&e.key!==fl?null==o||o(e):(e.preventDefault(),e.stopPropagation())},e.disabled=t||r,e.root["aria-disabled"]=t||r||void 0,"button"===e.root.as&&(e.root.disabled=t&&!r)})(u),u})(t,r);return(e=>{const t=gu(),{appearance:r,disabled:n,inline:o,root:i,backgroundAppearance:s}=e;e.root.className=Ge("fui-Link",t.root,t.focusIndicator,"a"===i.as&&i.href&&t.href,"button"===i.as&&t.button,"subtle"===r&&t.subtle,"inverted"===s&&t.inverted,o&&t.inline,n&&t.disabled,e.root.className)})(n),(e=>u(e.root,{}))(n)}));mu.displayName="Link";const vu=e.createContext(void 0),bu=vu.Provider,yu=()=>e.useContext(vu);function wu(e,t){return _u(yu(),e,t)}function _u(e,t,r){if(!e)return t;t={...t};const{generatedControlId:n,hintId:o,labelFor:i,labelId:s,required:a,validationMessageId:l,validationState:c}=e;var u,d,h,f,p,g,m,v,b,y,w,_;return n&&(null!==(d=(u=t).id)&&void 0!==d||(u.id=n)),!s||(null==r?void 0:r.supportsLabelFor)&&i===t.id||null!==(f=(h=t)["aria-labelledby"])&&void 0!==f||(h["aria-labelledby"]=s),(l||o)&&(t["aria-describedby"]=[l,o,null==t?void 0:t["aria-describedby"]].filter(Boolean).join(" ")),"error"===c&&(null!==(g=(p=t)["aria-invalid"])&&void 0!==g||(p["aria-invalid"]=!0)),a&&((null==r?void 0:r.supportsRequired)?null!==(v=(m=t).required)&&void 0!==v||(m.required=!0):null!==(y=(b=t)["aria-required"])&&void 0!==y||(b["aria-required"]=!0)),(null==r?void 0:r.supportsSize)&&(null!==(_=(w=t).size)&&void 0!==_||(w.size=e.size)),t}const ku=Xn("ErrorCircle12Filled","12",["M6 11A5 5 0 1 0 6 1a5 5 0 0 0 0 10Zm-.75-2.75a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0Zm.26-4.84a.5.5 0 0 1 .98 0l.01.09v2.59a.5.5 0 0 1-1 0V3.41Z"]),xu=Xn("Warning12Filled","12",["M5.21 1.46a.9.9 0 0 1 1.58 0l4.09 7.17a.92.92 0 0 1-.79 1.37H1.91a.92.92 0 0 1-.79-1.37l4.1-7.17ZM5.5 4.5v1a.5.5 0 0 0 1 0v-1a.5.5 0 0 0-1 0ZM6 6.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"]),Su=Xn("Checkmark12Filled","12",["M9.76 3.2c.3.29.32.76.04 1.06l-4.25 4.5a.75.75 0 0 1-1.08.02L2.22 6.53a.75.75 0 0 1 1.06-1.06l1.7 1.7L8.7 3.24a.75.75 0 0 1 1.06-.04Z"]),Eu=Xn("CheckmarkCircle12Filled","12",["M1 6a5 5 0 1 1 10 0A5 5 0 0 1 1 6Zm7.35-.9a.5.5 0 1 0-.7-.7L5.5 6.54 4.35 5.4a.5.5 0 1 0-.7.7l1.5 1.5c.2.2.5.2.7 0l2.5-2.5Z"]),Cu={error:e.createElement(ku,null),warning:e.createElement(xu,null),success:e.createElement(Eu,null),none:void 0},Tu="fui-Field",Iu="fui-Field__label",Nu="fui-Field__validationMessage",Ru="fui-Field__validationMessageIcon",Du="fui-Field__hint",Pu=Un({base:{mc9l5x:"f13qh94s"},horizontal:{Budl1dq:"f2wwaib",wkccdc:"f1645dqt"},horizontalNoLabel:{uwmqm3:["f15jqgz8","fggqkej"],Budl1dq:"f1c2z91y"}},{d:[".f13qh94s{display:grid;}",".f2wwaib{grid-template-columns:33% 1fr;}",".f1645dqt{grid-template-rows:auto auto auto 1fr;}",".f15jqgz8{padding-left:33%;}",".fggqkej{padding-right:33%;}",".f1c2z91y{grid-template-columns:1fr;}"]}),zu=Un({vertical:{z8tnut:"fclwglc",Byoj8tv:"fywfov9",jrapky:"fyacil5"},verticalLarge:{z8tnut:"f1sl3k7w",Byoj8tv:"f1brlhvm",jrapky:"f8l5zjj"},horizontal:{z8tnut:"fp2oml8",Byoj8tv:"f1tdddsa",t21cq0:["fkujibs","f199hnxi"],Ijaq50:"f16hsg94",nk6f5a:"f1nzqi2z"},horizontalSmall:{z8tnut:"f1ywm7hm",Byoj8tv:"f14wxoun"},horizontalLarge:{z8tnut:"f1hqyr95",Byoj8tv:"fm4hlj0"}},{d:[".fclwglc{padding-top:var(--spacingVerticalXXS);}",".fywfov9{padding-bottom:var(--spacingVerticalXXS);}",".fyacil5{margin-bottom:var(--spacingVerticalXXS);}",".f1sl3k7w{padding-top:1px;}",".f1brlhvm{padding-bottom:1px;}",".f8l5zjj{margin-bottom:var(--spacingVerticalXS);}",".fp2oml8{padding-top:var(--spacingVerticalSNudge);}",".f1tdddsa{padding-bottom:var(--spacingVerticalSNudge);}",".fkujibs{margin-right:var(--spacingHorizontalM);}",".f199hnxi{margin-left:var(--spacingHorizontalM);}",".f16hsg94{grid-row-start:1;}",".f1nzqi2z{grid-row-end:-1;}",".f1ywm7hm{padding-top:var(--spacingVerticalXS);}",".f14wxoun{padding-bottom:var(--spacingVerticalXS);}",".f1hqyr95{padding-top:9px;}",".fm4hlj0{padding-bottom:9px;}"]}),Bu=mo("r5c4z9l",null,[".r5c4z9l{margin-top:var(--spacingVerticalXXS);color:var(--colorNeutralForeground3);font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase200);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase200);}"]),Ou=Un({error:{sj55zd:"f1hcrxcs"},withIcon:{uwmqm3:["frawy03","fg4c52"]}},{d:[".f1hcrxcs{color:var(--colorPaletteRedForeground1);}",".frawy03{padding-left:calc(12px + var(--spacingHorizontalXS));}",".fg4c52{padding-right:calc(12px + var(--spacingHorizontalXS));}"]}),Au=mo("ra7h1uk","r1rh6bd7",[".ra7h1uk{display:inline-block;font-size:12px;margin-left:calc(-12px - var(--spacingHorizontalXS));margin-right:var(--spacingHorizontalXS);line-height:0;vertical-align:-1px;}",".r1rh6bd7{display:inline-block;font-size:12px;margin-right:calc(-12px - var(--spacingHorizontalXS));margin-left:var(--spacingHorizontalXS);line-height:0;vertical-align:-1px;}"]),Fu=Un({error:{sj55zd:"f1hcrxcs"},warning:{sj55zd:"f1k5f75o"},success:{sj55zd:"ffmvakt"}},{d:[".f1hcrxcs{color:var(--colorPaletteRedForeground1);}",".f1k5f75o{color:var(--colorPaletteDarkOrangeForeground1);}",".ffmvakt{color:var(--colorPaletteGreenForeground1);}"]}),Mu=e.forwardRef(((t,r)=>{const n=((e,t)=>{const{children:r,orientation:n="vertical",required:o=!1,validationState:i=(e.validationMessage?"error":"none"),size:s="medium"}=e,a=Le("field-"),l=a+"__control",c=me(Be("div",{...e,ref:t},["children"]),{elementType:"div"}),u=ve(e.label,{defaultProps:{htmlFor:l,id:a+"__label",required:o,size:s},elementType:Lc}),d=ve(e.validationMessage,{defaultProps:{id:a+"__validationMessage",role:"error"===i?"alert":void 0},elementType:"div"}),h=ve(e.hint,{defaultProps:{id:a+"__hint"},elementType:"div"}),f=Cu[i],p=ve(e.validationMessageIcon,{renderByDefault:!!f,defaultProps:{children:f},elementType:"span"});return{children:r,generatedControlId:l,orientation:n,required:o,size:s,validationState:i,components:{root:"div",label:Lc,validationMessage:"div",validationMessageIcon:"span",hint:"div"},root:c,label:u,validationMessageIcon:p,validationMessage:d,hint:h}})(t,r);(e=>{const{validationState:t,size:r}=e,n="horizontal"===e.orientation,o=Pu();e.root.className=Ge(Tu,o.base,n&&o.horizontal,n&&!e.label&&o.horizontalNoLabel,e.root.className);const i=zu();e.label&&(e.label.className=Ge(Iu,n&&i.horizontal,n&&"small"===r&&i.horizontalSmall,n&&"large"===r&&i.horizontalLarge,!n&&i.vertical,!n&&"large"===r&&i.verticalLarge,e.label.className));const s=Au(),a=Fu();e.validationMessageIcon&&(e.validationMessageIcon.className=Ge(Ru,s,"none"!==t&&a[t],e.validationMessageIcon.className));const l=Bu(),c=Ou();e.validationMessage&&(e.validationMessage.className=Ge(Nu,l,"error"===t&&c.error,!!e.validationMessageIcon&&c.withIcon,e.validationMessage.className)),e.hint&&(e.hint.className=Ge(Du,l,e.hint.className))})(n);const o=(t=>{var r,n,o,i;const{generatedControlId:s,orientation:a,required:l,size:c,validationState:u}=t,d=null===(r=t.label)||void 0===r?void 0:r.htmlFor,h=null===(n=t.label)||void 0===n?void 0:n.id,f=null===(o=t.validationMessage)||void 0===o?void 0:o.id,p=null===(i=t.hint)||void 0===i?void 0:i.id;return{field:e.useMemo((()=>({generatedControlId:s,hintId:p,labelFor:d,labelId:h,orientation:a,required:l,size:c,validationMessageId:f,validationState:u})),[s,p,d,h,a,l,c,f,u])}})(n);return((e,t)=>{let{children:r}=e;return"function"==typeof r&&(r=r(_u(t.field)||{})),u(bu,{value:null==t?void 0:t.field,children:d(e.root,{children:[e.label&&u(e.label,{}),r,e.validationMessage&&d(e.validationMessage,{children:[e.validationMessageIcon&&u(e.validationMessageIcon,{}),e.validationMessage.children]}),e.hint&&u(e.hint,{})]})})})(n,o)}));Mu.displayName="Field";const ju=mo("r1qp7m7v","r1e50w0p",{r:[".r1qp7m7v{display:inline-flex;align-items:center;flex-wrap:nowrap;gap:var(--spacingHorizontalXXS);border-radius:var(--borderRadiusMedium);position:relative;box-sizing:border-box;min-height:32px;font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);background-color:var(--colorNeutralBackground1);border:1px solid var(--colorNeutralStroke1);border-bottom-color:var(--colorNeutralStrokeAccessible);}",'.r1qp7m7v::after{box-sizing:border-box;content:"";position:absolute;left:-1px;bottom:-1px;right:-1px;height:max(2px, var(--borderRadiusMedium));border-bottom-left-radius:var(--borderRadiusMedium);border-bottom-right-radius:var(--borderRadiusMedium);border-bottom:2px solid var(--colorCompoundBrandStroke);clip-path:inset(calc(100% - 2px) 0 0 0);transform:scaleX(0);transition-property:transform;transition-duration:var(--durationUltraFast);transition-delay:var(--curveAccelerateMid);}',".r1qp7m7v:focus-within::after{transform:scaleX(1);transition-property:transform;transition-duration:var(--durationNormal);transition-delay:var(--curveDecelerateMid);}",".r1qp7m7v:focus-within:active::after{border-bottom-color:var(--colorCompoundBrandStrokePressed);}",".r1qp7m7v:focus-within{outline:2px solid transparent;}",".r1e50w0p{display:inline-flex;align-items:center;flex-wrap:nowrap;gap:var(--spacingHorizontalXXS);border-radius:var(--borderRadiusMedium);position:relative;box-sizing:border-box;min-height:32px;font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);background-color:var(--colorNeutralBackground1);border:1px solid var(--colorNeutralStroke1);border-bottom-color:var(--colorNeutralStrokeAccessible);}",'.r1e50w0p::after{box-sizing:border-box;content:"";position:absolute;right:-1px;bottom:-1px;left:-1px;height:max(2px, var(--borderRadiusMedium));border-bottom-right-radius:var(--borderRadiusMedium);border-bottom-left-radius:var(--borderRadiusMedium);border-bottom:2px solid var(--colorCompoundBrandStroke);clip-path:inset(calc(100% - 2px) 0 0 0);transform:scaleX(0);transition-property:transform;transition-duration:var(--durationUltraFast);transition-delay:var(--curveAccelerateMid);}',".r1e50w0p:focus-within::after{transform:scaleX(1);transition-property:transform;transition-duration:var(--durationNormal);transition-delay:var(--curveDecelerateMid);}",".r1e50w0p:focus-within:active::after{border-bottom-color:var(--colorCompoundBrandStrokePressed);}",".r1e50w0p:focus-within{outline:2px solid transparent;}"],s:["@media screen and (prefers-reduced-motion: reduce){.r1qp7m7v::after{transition-duration:0.01ms;transition-delay:0.01ms;}}","@media screen and (prefers-reduced-motion: reduce){.r1qp7m7v:focus-within::after{transition-duration:0.01ms;transition-delay:0.01ms;}}","@media screen and (prefers-reduced-motion: reduce){.r1e50w0p::after{transition-duration:0.01ms;transition-delay:0.01ms;}}","@media screen and (prefers-reduced-motion: reduce){.r1e50w0p:focus-within::after{transition-duration:0.01ms;transition-delay:0.01ms;}}"]}),Lu=Un({small:{sshi5w:"f1pha7fy",Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"},medium:{},large:{sshi5w:"f1w5jphr",Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"figsok6",Bg96gwp:"faaz57k",i8kkvl:"f1rjii52",Belr9w4:"f1r7g2jn"},outline:{},outlineInteractive:{Bgoe8wy:"fvcxoqz",Bwzppfd:["f1ub3y4t","f1m52nbi"],oetu4i:"f1l4zc64",gg5e9n:["f1m52nbi","f1ub3y4t"],Drbcw7:"f8vnjqi",udz0bu:["fz1etlk","f1hc16gm"],Be8ivqh:"f1klwx88",ofdepl:["f1hc16gm","fz1etlk"]},underline:{De3pzq:"f1c21dwh",Bbmb7ep:["f1krrbdw","f1deotkl"],Beyfa6y:["f1deotkl","f1krrbdw"],B7oj6ja:["f10ostut","f1ozlkrg"],Btl43ni:["f1ozlkrg","f10ostut"],icvyot:"f1ern45e",vrafjx:["f1n71otn","f1deefiw"],wvpqe5:["f1deefiw","f1n71otn"],Eqx8gd:["f1n6gb5g","f15yvnhg"],B1piin3:["f15yvnhg","f1n6gb5g"]},underlineInteractive:{oetu4i:"f1l4zc64",Be8ivqh:"f1klwx88",B3778ie:["f1nf3wye","feulmo5"],d9w3h3:["feulmo5","f1nf3wye"],Bl18szs:["f18vqdqu","f53nyzz"],B4j8arr:["f53nyzz","f18vqdqu"]},filled:{g2u3we:"fghlq4f",h3c5rm:["f1gn591s","fjscplz"],B9xav0g:"fb073pr",zhjwy3:["fjscplz","f1gn591s"]},filledInteractive:{q7v0qe:"ftmjh5b",kmh5ft:["f17blpuu","fsrcdbj"],nagaa4:"f1tpwn32",B1yhkcb:["fsrcdbj","f17blpuu"]},invalid:{tvckwq:"fs4k3qj",gk2u95:["fcee079","fmyw78r"],hhx65j:"f1fgmyf4",Bxowmz0:["fmyw78r","fcee079"]},"filled-darker":{De3pzq:"f16xq7d1"},"filled-lighter":{De3pzq:"fxugw4r"},"filled-darker-shadow":{De3pzq:"f16xq7d1",E5pizo:"fyed02w"},"filled-lighter-shadow":{De3pzq:"fxugw4r",E5pizo:"fyed02w"},disabled:{Bceei9c:"fdrzuqr",De3pzq:"f1c21dwh",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],Bjwas2f:"fg455y9",Bn1d65q:["f1rvyvqg","f14g86mu"],Bxeuatn:"f1cwzwz",n51gp8:["f14g86mu","f1rvyvqg"],Bsft5z2:"fhr9occ",Bduesf4:"f99w1ws"},smallWithContentBefore:{uwmqm3:["fk8j09s","fdw0yi8"]},smallWithContentAfter:{z189sj:["fdw0yi8","fk8j09s"]},mediumWithContentBefore:{uwmqm3:["f1ng84yb","f11gcy0p"]},mediumWithContentAfter:{z189sj:["f11gcy0p","f1ng84yb"]},largeWithContentBefore:{uwmqm3:["f1uw59to","fw5db7e"]},largeWithContentAfter:{z189sj:["fw5db7e","f1uw59to"]}},{d:[".f1pha7fy{min-height:24px;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".f1w5jphr{min-height:40px;}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",".f1rjii52{column-gap:var(--spacingHorizontalSNudge);}",".f1r7g2jn{row-gap:var(--spacingHorizontalSNudge);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".f1krrbdw{border-bottom-right-radius:0;}",".f1deotkl{border-bottom-left-radius:0;}",".f10ostut{border-top-right-radius:0;}",".f1ozlkrg{border-top-left-radius:0;}",".f1ern45e{border-top-style:none;}",".f1n71otn{border-right-style:none;}",".f1deefiw{border-left-style:none;}",".f1n6gb5g::after{left:0;}",".f15yvnhg::after{right:0;}",".f1nf3wye::after{border-bottom-right-radius:0;}",".feulmo5::after{border-bottom-left-radius:0;}",".f18vqdqu::after{border-top-right-radius:0;}",".f53nyzz::after{border-top-left-radius:0;}",".fghlq4f{border-top-color:var(--colorTransparentStroke);}",".f1gn591s{border-right-color:var(--colorTransparentStroke);}",".fjscplz{border-left-color:var(--colorTransparentStroke);}",".fb073pr{border-bottom-color:var(--colorTransparentStroke);}",".fs4k3qj:not(:focus-within),.fs4k3qj:hover:not(:focus-within){border-top-color:var(--colorPaletteRedBorder2);}",".fcee079:not(:focus-within),.fcee079:hover:not(:focus-within){border-right-color:var(--colorPaletteRedBorder2);}",".fmyw78r:not(:focus-within),.fmyw78r:hover:not(:focus-within){border-left-color:var(--colorPaletteRedBorder2);}",".f1fgmyf4:not(:focus-within),.f1fgmyf4:hover:not(:focus-within){border-bottom-color:var(--colorPaletteRedBorder2);}",".f16xq7d1{background-color:var(--colorNeutralBackground3);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",".fyed02w{box-shadow:var(--shadow2);}",".fdrzuqr{cursor:not-allowed;}",".f1jj8ep1{border-top-color:var(--colorNeutralStrokeDisabled);}",".f15xbau{border-right-color:var(--colorNeutralStrokeDisabled);}",".fy0fskl{border-left-color:var(--colorNeutralStrokeDisabled);}",".f4ikngz{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".fhr9occ::after{content:unset;}",".fk8j09s{padding-left:var(--spacingHorizontalSNudge);}",".fdw0yi8{padding-right:var(--spacingHorizontalSNudge);}",".f1ng84yb{padding-left:var(--spacingHorizontalMNudge);}",".f11gcy0p{padding-right:var(--spacingHorizontalMNudge);}",".f1uw59to{padding-left:var(--spacingHorizontalM);}",".fw5db7e{padding-right:var(--spacingHorizontalM);}"],h:[".fvcxoqz:hover{border-top-color:var(--colorNeutralStroke1Hover);}",".f1ub3y4t:hover{border-right-color:var(--colorNeutralStroke1Hover);}",".f1m52nbi:hover{border-left-color:var(--colorNeutralStroke1Hover);}",".f1l4zc64:hover{border-bottom-color:var(--colorNeutralStrokeAccessibleHover);}",".ftmjh5b:hover,.ftmjh5b:focus-within{border-top-color:var(--colorTransparentStrokeInteractive);}",".f17blpuu:hover,.f17blpuu:focus-within{border-right-color:var(--colorTransparentStrokeInteractive);}",".fsrcdbj:hover,.fsrcdbj:focus-within{border-left-color:var(--colorTransparentStrokeInteractive);}",".f1tpwn32:hover,.f1tpwn32:focus-within{border-bottom-color:var(--colorTransparentStrokeInteractive);}"],a:[".f8vnjqi:active,.f8vnjqi:focus-within{border-top-color:var(--colorNeutralStroke1Pressed);}",".fz1etlk:active,.fz1etlk:focus-within{border-right-color:var(--colorNeutralStroke1Pressed);}",".f1hc16gm:active,.f1hc16gm:focus-within{border-left-color:var(--colorNeutralStroke1Pressed);}",".f1klwx88:active,.f1klwx88:focus-within{border-bottom-color:var(--colorNeutralStrokeAccessiblePressed);}"],m:[["@media (forced-colors: active){.fg455y9{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f14g86mu{border-left-color:GrayText;}.f1rvyvqg{border-right-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1cwzwz{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}]],w:[".f99w1ws:focus-within{outline-style:none;}"]}),qu=mo("r12stul0",null,[".r12stul0{align-self:stretch;box-sizing:border-box;flex-grow:1;min-width:0;border-style:none;padding:0 var(--spacingHorizontalM);color:var(--colorNeutralForeground1);background-color:transparent;outline-style:none;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;}",".r12stul0::-webkit-input-placeholder{color:var(--colorNeutralForeground4);opacity:1;}",".r12stul0::-moz-placeholder{color:var(--colorNeutralForeground4);opacity:1;}",".r12stul0:-ms-input-placeholder{color:var(--colorNeutralForeground4);opacity:1;}",".r12stul0::placeholder{color:var(--colorNeutralForeground4);opacity:1;}"]),Uu=Un({small:{uwmqm3:["f1f5gg8d","f1vdfbxk"],z189sj:["f1vdfbxk","f1f5gg8d"]},medium:{},large:{uwmqm3:["fnphzt9","flt1dlf"],z189sj:["flt1dlf","fnphzt9"]},smallWithContentBefore:{uwmqm3:["fgiv446","ffczdla"]},smallWithContentAfter:{z189sj:["ffczdla","fgiv446"]},mediumWithContentBefore:{uwmqm3:["fgiv446","ffczdla"]},mediumWithContentAfter:{z189sj:["ffczdla","fgiv446"]},largeWithContentBefore:{uwmqm3:["fk8j09s","fdw0yi8"]},largeWithContentAfter:{z189sj:["fdw0yi8","fk8j09s"]},disabled:{sj55zd:"f1s2aq7o",De3pzq:"f1c21dwh",Bceei9c:"fdrzuqr",yvdlaj:"fahhnxm"}},{d:[".f1f5gg8d{padding-left:var(--spacingHorizontalS);}",".f1vdfbxk{padding-right:var(--spacingHorizontalS);}",".fnphzt9{padding-left:calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge));}",".flt1dlf{padding-right:calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge));}",".fgiv446{padding-left:var(--spacingHorizontalXXS);}",".ffczdla{padding-right:var(--spacingHorizontalXXS);}",".fk8j09s{padding-left:var(--spacingHorizontalSNudge);}",".fdw0yi8{padding-right:var(--spacingHorizontalSNudge);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".fdrzuqr{cursor:not-allowed;}",".fahhnxm::-webkit-input-placeholder{color:var(--colorNeutralForegroundDisabled);}",".fahhnxm::-moz-placeholder{color:var(--colorNeutralForegroundDisabled);}"]}),Vu=mo("r1572tok",null,[".r1572tok{box-sizing:border-box;color:var(--colorNeutralForeground3);display:flex;}",".r1572tok>svg{font-size:20px;}"]),Hu=Un({disabled:{sj55zd:"f1s2aq7o"},small:{kwki1k:"f3u2cy0"},medium:{},large:{kwki1k:"fa420co"}},{d:[".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f3u2cy0>svg{font-size:16px;}",".fa420co>svg{font-size:24px;}"]}),Wu=e.forwardRef(((e,t)=>{const r=((e,t)=>{e=wu(e,{supportsLabelFor:!0,supportsRequired:!0,supportsSize:!0});const r=D();var n;const{size:o="medium",appearance:i=(null!==(n=r.inputDefaultAppearance)&&void 0!==n?n:"outline"),onChange:s}=e,[a,l]=ys({state:e.value,defaultState:e.defaultValue,initialState:""}),c=ze({props:e,primarySlotTagName:"input",excludedPropNames:["size","onChange","value","defaultValue"]}),u={size:o,appearance:i,components:{root:"span",input:"input",contentBefore:"span",contentAfter:"span"},input:me(e.input,{defaultProps:{type:"text",ref:t,...c.primary},elementType:"input"}),contentAfter:ve(e.contentAfter,{elementType:"span"}),contentBefore:ve(e.contentBefore,{elementType:"span"}),root:me(e.root,{defaultProps:c.root,elementType:"span"})};return u.input.value=a,u.input.onChange=Xi((e=>{const t=e.target.value;null==s||s(e,{value:t}),l(t)})),u})(e,t);return(e=>{const{size:t,appearance:r}=e,n=e.input.disabled,o="true"==`${e.input["aria-invalid"]}`,i=r.startsWith("filled"),s=Lu(),a=Uu(),l=Hu();e.root.className=Ge("fui-Input",ju(),s[t],e.contentBefore&&s[`${t}WithContentBefore`],e.contentAfter&&s[`${t}WithContentAfter`],s[r],!n&&"outline"===r&&s.outlineInteractive,!n&&"underline"===r&&s.underlineInteractive,!n&&i&&s.filledInteractive,i&&s.filled,!n&&o&&s.invalid,n&&s.disabled,e.root.className),e.input.className=Ge("fui-Input__input",qu(),a[t],e.contentBefore&&a[`${t}WithContentBefore`],e.contentAfter&&a[`${t}WithContentAfter`],n&&a.disabled,e.input.className);const c=[Vu(),n&&l.disabled,l[t]];e.contentBefore&&(e.contentBefore.className=Ge("fui-Input__contentBefore",...c,e.contentBefore.className)),e.contentAfter&&(e.contentAfter.className=Ge("fui-Input__contentAfter",...c,e.contentAfter.className))})(r),T("useInputStyles_unstable")(r),(e=>d(e.root,{children:[e.contentBefore&&u(e.contentBefore,{}),u(e.input,{}),e.contentAfter&&u(e.contentAfter,{})]}))(r)}));function $u(e){e.removeAttribute(he)}function Ku(e){return!!e&&Boolean(e&&"object"==typeof e&&"classList"in e&&"contains"in e)}function Gu(){const{targetDocument:t}=y(),r=e.useRef(null);return e.useEffect((()=>{if((null==t?void 0:t.defaultView)&&r.current)return function(e,t){const r=ce(t);r.subscribe((t=>{t||$u(e)}));const n=t=>{r.isNavigatingWithKeyboard()&&Ku(t.target)&&e.setAttribute(he,"")},o=t=>{(!t.relatedTarget||Ku(t.relatedTarget)&&!e.contains(t.relatedTarget))&&$u(e)};return e.addEventListener(re,n),e.addEventListener("focusout",o),()=>{e.removeEventListener(re,n),e.removeEventListener("focusout",o),ue(r)}}(r.current,t.defaultView)}),[r,t]),r}Wu.displayName="Input";const Qu=mo("r1i56xw0","rk4yt03",{r:[".r1i56xw0{align-items:flex-start;box-sizing:border-box;display:inline-flex;position:relative;}",".r1i56xw0:focus{outline-style:none;}",".r1i56xw0:focus-visible{outline-style:none;}",".r1i56xw0[data-fui-focus-within]:focus-within{border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;}",'.r1i56xw0[data-fui-focus-within]:focus-within::after{content:"";position:absolute;pointer-events:none;z-index:1;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-left-style:solid;border-top-width:2px;border-right-width:2px;border-bottom-width:2px;border-left-width:2px;border-bottom-right-radius:var(--borderRadiusMedium);border-bottom-left-radius:var(--borderRadiusMedium);border-top-right-radius:var(--borderRadiusMedium);border-top-left-radius:var(--borderRadiusMedium);border-top-color:var(--colorStrokeFocus2);border-right-color:var(--colorStrokeFocus2);border-bottom-color:var(--colorStrokeFocus2);border-left-color:var(--colorStrokeFocus2);top:calc(2px * -1);right:calc(2px * -1);bottom:calc(2px * -1);left:calc(2px * -1);}',".rk4yt03{align-items:flex-start;box-sizing:border-box;display:inline-flex;position:relative;}",".rk4yt03:focus{outline-style:none;}",".rk4yt03:focus-visible{outline-style:none;}",".rk4yt03[data-fui-focus-within]:focus-within{border-top-color:transparent;border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;}",'.rk4yt03[data-fui-focus-within]:focus-within::after{content:"";position:absolute;pointer-events:none;z-index:1;border-top-style:solid;border-left-style:solid;border-bottom-style:solid;border-right-style:solid;border-top-width:2px;border-left-width:2px;border-bottom-width:2px;border-right-width:2px;border-bottom-left-radius:var(--borderRadiusMedium);border-bottom-right-radius:var(--borderRadiusMedium);border-top-left-radius:var(--borderRadiusMedium);border-top-right-radius:var(--borderRadiusMedium);border-top-color:var(--colorStrokeFocus2);border-left-color:var(--colorStrokeFocus2);border-bottom-color:var(--colorStrokeFocus2);border-right-color:var(--colorStrokeFocus2);top:calc(2px * -1);left:calc(2px * -1);bottom:calc(2px * -1);right:calc(2px * -1);}'],s:["@media (forced-colors: active){.r1i56xw0[data-fui-focus-within]:focus-within::after{border-top-color:Highlight;border-right-color:Highlight;border-bottom-color:Highlight;border-left-color:Highlight;}}","@media (forced-colors: active){.rk4yt03[data-fui-focus-within]:focus-within::after{border-top-color:Highlight;border-left-color:Highlight;border-bottom-color:Highlight;border-right-color:Highlight;}}"]}),Xu=Un({vertical:{Beiy3e4:"f1vx9l62"}},{d:[".f1vx9l62{flex-direction:column;}"]}),Yu=mo("r13wlxb8",null,{r:[".r13wlxb8{border-radius:var(--borderRadiusCircular);border:1px solid;line-height:0;box-sizing:border-box;fill:currentColor;flex-shrink:0;font-size:18px;height:20px;margin:var(--spacingVerticalS) var(--spacingHorizontalS);pointer-events:none;transition-duration:var(--durationNormal);transition-timing-function:var(--curveEasyEase);transition-property:background,border,color;width:40px;}",".r13wlxb8>*{transition-duration:var(--durationNormal);transition-timing-function:var(--curveEasyEase);transition-property:transform;}"],s:["@media screen and (prefers-reduced-motion: reduce){.r13wlxb8{transition-duration:0.01ms;}}","@media screen and (prefers-reduced-motion: reduce){.r13wlxb8>*{transition-duration:0.01ms;}}"]}),Ju=Un({labelAbove:{B6of3ja:"f1hu3pq6"}},{d:[".f1hu3pq6{margin-top:0;}"]}),Zu=mo("rw4brat","r1f4bxyr",{r:[".rw4brat{box-sizing:border-box;cursor:pointer;height:100%;margin:0;opacity:0;position:absolute;width:calc(40px + 2 * var(--spacingHorizontalS));}",".rw4brat:checked~.fui-Switch__indicator>*{transform:translateX(20px);}",".rw4brat:disabled{cursor:default;}",".rw4brat:disabled~.fui-Switch__indicator{color:var(--colorNeutralForegroundDisabled);}",".rw4brat:disabled~.fui-Switch__label{cursor:default;color:var(--colorNeutralForegroundDisabled);}",".rw4brat:enabled:not(:checked)~.fui-Switch__indicator{color:var(--colorNeutralStrokeAccessible);border-color:var(--colorNeutralStrokeAccessible);}",".rw4brat:enabled:not(:checked)~.fui-Switch__label{color:var(--colorNeutralForeground1);}",".rw4brat:enabled:not(:checked):hover~.fui-Switch__indicator{color:var(--colorNeutralStrokeAccessibleHover);border-color:var(--colorNeutralStrokeAccessibleHover);}",".rw4brat:enabled:not(:checked):hover:active~.fui-Switch__indicator{color:var(--colorNeutralStrokeAccessiblePressed);border-color:var(--colorNeutralStrokeAccessiblePressed);}",".rw4brat:enabled:checked~.fui-Switch__indicator{background-color:var(--colorCompoundBrandBackground);color:var(--colorNeutralForegroundInverted);border-color:var(--colorTransparentStroke);}",".rw4brat:enabled:checked:hover~.fui-Switch__indicator{background-color:var(--colorCompoundBrandBackgroundHover);border-color:var(--colorTransparentStrokeInteractive);}",".rw4brat:enabled:checked:hover:active~.fui-Switch__indicator{background-color:var(--colorCompoundBrandBackgroundPressed);border-color:var(--colorTransparentStrokeInteractive);}",".rw4brat:disabled:not(:checked)~.fui-Switch__indicator{border-color:var(--colorNeutralStrokeDisabled);}",".rw4brat:disabled:checked~.fui-Switch__indicator{background-color:var(--colorNeutralBackgroundDisabled);border-color:var(--colorTransparentStrokeDisabled);}",".r1f4bxyr{box-sizing:border-box;cursor:pointer;height:100%;margin:0;opacity:0;position:absolute;width:calc(40px + 2 * var(--spacingHorizontalS));}",".r1f4bxyr:checked~.fui-Switch__indicator>*{transform:translateX(-20px);}",".r1f4bxyr:disabled{cursor:default;}",".r1f4bxyr:disabled~.fui-Switch__indicator{color:var(--colorNeutralForegroundDisabled);}",".r1f4bxyr:disabled~.fui-Switch__label{cursor:default;color:var(--colorNeutralForegroundDisabled);}",".r1f4bxyr:enabled:not(:checked)~.fui-Switch__indicator{color:var(--colorNeutralStrokeAccessible);border-color:var(--colorNeutralStrokeAccessible);}",".r1f4bxyr:enabled:not(:checked)~.fui-Switch__label{color:var(--colorNeutralForeground1);}",".r1f4bxyr:enabled:not(:checked):hover~.fui-Switch__indicator{color:var(--colorNeutralStrokeAccessibleHover);border-color:var(--colorNeutralStrokeAccessibleHover);}",".r1f4bxyr:enabled:not(:checked):hover:active~.fui-Switch__indicator{color:var(--colorNeutralStrokeAccessiblePressed);border-color:var(--colorNeutralStrokeAccessiblePressed);}",".r1f4bxyr:enabled:checked~.fui-Switch__indicator{background-color:var(--colorCompoundBrandBackground);color:var(--colorNeutralForegroundInverted);border-color:var(--colorTransparentStroke);}",".r1f4bxyr:enabled:checked:hover~.fui-Switch__indicator{background-color:var(--colorCompoundBrandBackgroundHover);border-color:var(--colorTransparentStrokeInteractive);}",".r1f4bxyr:enabled:checked:hover:active~.fui-Switch__indicator{background-color:var(--colorCompoundBrandBackgroundPressed);border-color:var(--colorTransparentStrokeInteractive);}",".r1f4bxyr:disabled:not(:checked)~.fui-Switch__indicator{border-color:var(--colorNeutralStrokeDisabled);}",".r1f4bxyr:disabled:checked~.fui-Switch__indicator{background-color:var(--colorNeutralBackgroundDisabled);border-color:var(--colorTransparentStrokeDisabled);}"],s:["@media (forced-colors: active){.rw4brat:disabled~.fui-Switch__indicator{color:GrayText;border-color:GrayText;}.rw4brat:disabled~.fui-Switch__label{color:GrayText;}.rw4brat:enabled:checked:hover~.fui-Switch__indicator{background-color:Highlight;color:Canvas;}.rw4brat:enabled:checked~.fui-Switch__indicator{background-color:Highlight;color:Canvas;}}","@media (forced-colors: active){.r1f4bxyr:disabled~.fui-Switch__indicator{color:GrayText;border-color:GrayText;}.r1f4bxyr:disabled~.fui-Switch__label{color:GrayText;}.r1f4bxyr:enabled:checked:hover~.fui-Switch__indicator{background-color:Highlight;color:Canvas;}.r1f4bxyr:enabled:checked~.fui-Switch__indicator{background-color:Highlight;color:Canvas;}}"]}),ed=Un({before:{j35jbq:["f1e31b4d","f1vgc2s3"],Bhzewxz:"f15twtuk"},after:{oyh7mz:["f1vgc2s3","f1e31b4d"],Bhzewxz:"f15twtuk"},above:{B5kzvoi:"f1yab3r1",Bqenvij:"f1aar7gd",a9b677:"fly5x3f"}},{d:[".f1e31b4d{right:0;}",".f1vgc2s3{left:0;}",".f15twtuk{top:0;}",".f1yab3r1{bottom:0;}",".f1aar7gd{height:calc(20px + var(--spacingVerticalS));}",".fly5x3f{width:100%;}"]}),td=Un({base:{Bceei9c:"f1k6fduh",jrapky:"f49ad5g",B6of3ja:"f1xlvstr",z8tnut:"f1kwiid1",z189sj:["f1vdfbxk","f1f5gg8d"],Byoj8tv:"f5b47ha",uwmqm3:["f1f5gg8d","f1vdfbxk"]},above:{z8tnut:"f1ywm7hm",Byoj8tv:"f14wxoun",a9b677:"fly5x3f"},after:{uwmqm3:["fruq291","f7x41pl"]},before:{z189sj:["f7x41pl","fruq291"]}},{d:[".f1k6fduh{cursor:pointer;}",".f49ad5g{margin-bottom:calc((20px - var(--lineHeightBase300)) / 2);}",".f1xlvstr{margin-top:calc((20px - var(--lineHeightBase300)) / 2);}",".f1kwiid1{padding-top:var(--spacingVerticalS);}",".f1vdfbxk{padding-right:var(--spacingHorizontalS);}",".f1f5gg8d{padding-left:var(--spacingHorizontalS);}",".f5b47ha{padding-bottom:var(--spacingVerticalS);}",".f1ywm7hm{padding-top:var(--spacingVerticalXS);}",".f14wxoun{padding-bottom:var(--spacingVerticalXS);}",".fly5x3f{width:100%;}",".fruq291{padding-left:var(--spacingHorizontalXS);}",".f7x41pl{padding-right:var(--spacingHorizontalXS);}"]}),rd=e.forwardRef(((t,r)=>{const n=((t,r)=>{t=wu(t,{supportsLabelFor:!0,supportsRequired:!0});const{checked:n,defaultChecked:o,disabled:i,labelPosition:s="after",onChange:a,required:l}=t,c=ze({props:t,primarySlotTagName:"input",excludedPropNames:["checked","defaultChecked","onChange"]}),u=Le("switch-",c.primary.id),d=me(t.root,{defaultProps:{ref:Gu(),...c.root},elementType:"div"}),h=me(t.indicator,{defaultProps:{"aria-hidden":!0,children:e.createElement(io,null)},elementType:"div"}),f=me(t.input,{defaultProps:{checked:n,defaultChecked:o,id:u,ref:r,role:"switch",type:"checkbox",...c.primary},elementType:"input"});f.onChange=Cl(f.onChange,(e=>null==a?void 0:a(e,{checked:e.currentTarget.checked})));const p=ve(t.label,{defaultProps:{disabled:i,htmlFor:u,required:l,size:"medium"},elementType:Lc});return{labelPosition:s,components:{root:"div",indicator:"div",input:"input",label:Lc},root:d,indicator:h,input:f,label:p}})(t,r);return(e=>{const t=Qu(),r=Xu(),n=Yu(),o=Ju(),i=Zu(),s=ed(),a=td(),{label:l,labelPosition:c}=e;e.root.className=Ge("fui-Switch",t,"above"===c&&r.vertical,e.root.className),e.indicator.className=Ge("fui-Switch__indicator",n,l&&"above"===c&&o.labelAbove,e.indicator.className),e.input.className=Ge("fui-Switch__input",i,l&&s[c],e.input.className),e.label&&(e.label.className=Ge("fui-Switch__label",a.base,a[c],e.label.className))})(n),T("useSwitchStyles_unstable")(n),(e=>{const{labelPosition:t}=e;return d(e.root,{children:[u(e.input,{}),"after"!==t&&e.label&&u(e.label,{}),u(e.indicator,{}),"after"===t&&e.label&&u(e.label,{})]})})(n)}));rd.displayName="Switch";const nd=e.createContext(void 0),od={},id=(nd.Provider,(t,r)=>{const{size:n}=null!==(o=e.useContext(nd))&&void 0!==o?o:od;var o;const{appearance:i="primary",labelPosition:s="after",size:a=(null!=n?n:"medium"),delay:l=0}=t,c=Le("spinner"),{role:u="progressbar",tabIndex:d,...h}=t,f=me(Be("div",{ref:r,role:u,...h},["size"]),{elementType:"div"}),[p,g]=e.useState(!1),[m,v]=function(t,r){const n=e.useRef(void 0),o=e.useCallback(((e,o)=>(void 0!==n.current&&r(n.current),n.current=t(e,o),n.current)),[r,t]),i=e.useCallback((()=>{void 0!==n.current&&(r(n.current),n.current=void 0)}),[r]);return e.useEffect((()=>i),[i]),[o,i]}(setTimeout,clearTimeout);e.useEffect((()=>{if(!(l<=0))return m((()=>{g(!0)}),l),()=>{v()}}),[m,v,l]);const b=ve(t.label,{defaultProps:{id:c},renderByDefault:!1,elementType:Lc}),y=ve(t.spinner,{renderByDefault:!0,defaultProps:{tabIndex:d},elementType:"span"});return b&&f&&!f["aria-labelledby"]&&(f["aria-labelledby"]=b.id),{appearance:i,delay:l,labelPosition:s,size:a,shouldRenderSpinner:!l||p,components:{root:"div",spinner:"span",spinnerTail:"span",label:Lc},root:f,spinner:y,spinnerTail:me(t.spinnerTail,{elementType:"span"}),label:b}}),sd=mo("r82apo5",null,[".r82apo5{display:flex;align-items:center;justify-content:center;line-height:0;gap:8px;overflow:hidden;}"]),ad=Un({vertical:{Beiy3e4:"f1vx9l62"}},{d:[".f1vx9l62{flex-direction:column;}"]}),ld=mo("rvgcg50","r15nd2jo",{r:[".rvgcg50{position:relative;flex-shrink:0;-webkit-mask-image:radial-gradient(closest-side, transparent calc(100% - var(--fui-Spinner--strokeWidth) - 1px), white calc(100% - var(--fui-Spinner--strokeWidth)) calc(100% - 1px), transparent 100%);mask-image:radial-gradient(closest-side, transparent calc(100% - var(--fui-Spinner--strokeWidth) - 1px), white calc(100% - var(--fui-Spinner--strokeWidth)) calc(100% - 1px), transparent 100%);background-color:var(--colorBrandStroke2Contrast);color:var(--colorBrandStroke1);animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:linear;animation-name:rb7n1on;}","@keyframes rb7n1on{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}",".r15nd2jo{position:relative;flex-shrink:0;-webkit-mask-image:radial-gradient(closest-side, transparent calc(100% - var(--fui-Spinner--strokeWidth) - 1px), white calc(100% - var(--fui-Spinner--strokeWidth)) calc(100% - 1px), transparent 100%);mask-image:radial-gradient(closest-side, transparent calc(100% - var(--fui-Spinner--strokeWidth) - 1px), white calc(100% - var(--fui-Spinner--strokeWidth)) calc(100% - 1px), transparent 100%);background-color:var(--colorBrandStroke2Contrast);color:var(--colorBrandStroke1);animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:linear;animation-name:r1gx3jof;}","@keyframes r1gx3jof{0%{transform:rotate(0deg);}100%{transform:rotate(-360deg);}}"],s:["@media screen and (forced-colors: active){.rvgcg50{background-color:HighlightText;color:Highlight;forced-color-adjust:none;}}","@media screen and (prefers-reduced-motion: reduce){.rvgcg50{animation-duration:1.8s;}}","@media screen and (forced-colors: active){.r15nd2jo{background-color:HighlightText;color:Highlight;forced-color-adjust:none;}}","@media screen and (prefers-reduced-motion: reduce){.r15nd2jo{animation-duration:1.8s;}}"]}),cd=mo("r1lregi5","rxq293c",{r:[".r1lregi5{position:absolute;width:100%;height:100%;-webkit-mask-image:conic-gradient(transparent 105deg, white 105deg);mask-image:conic-gradient(transparent 105deg, white 105deg);animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:var(--curveEasyEase);animation-name:r15mim6k;}",'.r1lregi5::before,.r1lregi5::after{content:"";position:absolute;width:100%;height:100%;animation:inherit;background-image:conic-gradient(currentcolor 135deg, transparent 135deg);}',"@keyframes r15mim6k{0%{transform:rotate(-135deg);}50%{transform:rotate(0deg);}100%{transform:rotate(225deg);}}",".r1lregi5::before{animation-name:r18vhmn8;}","@keyframes r18vhmn8{0%{transform:rotate(0deg);}50%{transform:rotate(105deg);}100%{transform:rotate(0deg);}}",".r1lregi5::after{animation-name:rkgrvoi;}","@keyframes rkgrvoi{0%{transform:rotate(0deg);}50%{transform:rotate(225deg);}100%{transform:rotate(0deg);}}",".rxq293c{position:absolute;width:100%;height:100%;-webkit-mask-image:conic-gradient(transparent 105deg, white 105deg);mask-image:conic-gradient(transparent 105deg, white 105deg);animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:var(--curveEasyEase);animation-name:r109gmi5;}",'.rxq293c::before,.rxq293c::after{content:"";position:absolute;width:100%;height:100%;animation:inherit;background-image:conic-gradient(currentcolor 135deg, transparent 135deg);}',"@keyframes r109gmi5{0%{transform:rotate(135deg);}50%{transform:rotate(0deg);}100%{transform:rotate(-225deg);}}",".rxq293c::before{animation-name:r17whflh;}","@keyframes r17whflh{0%{transform:rotate(0deg);}50%{transform:rotate(-105deg);}100%{transform:rotate(0deg);}}",".rxq293c::after{animation-name:re4odhl;}","@keyframes re4odhl{0%{transform:rotate(0deg);}50%{transform:rotate(-225deg);}100%{transform:rotate(0deg);}}"],s:["@media screen and (prefers-reduced-motion: reduce){.r1lregi5{animation-iteration-count:0;background-image:conic-gradient(transparent 120deg, currentcolor 360deg);}.r1lregi5::before,.r1lregi5::after{content:none;}}","@media screen and (prefers-reduced-motion: reduce){.rxq293c{animation-iteration-count:0;background-image:conic-gradient(transparent 120deg, currentcolor 360deg);}.rxq293c::before,.rxq293c::after{content:none;}}"]}),ud=Un({inverted:{De3pzq:"fr407j0",sj55zd:"f1f7voed"},rtlTail:{btxmck:"f179dep3",gb5jj2:"fbz9ihp",Br2kee7:"f1wkkxo7"},"extra-tiny":{Bqenvij:"fd461yt",a9b677:"fjw5fx7",qmp6fs:"f1v3ph3m"},tiny:{Bqenvij:"fjamq6b",a9b677:"f64fuq3",qmp6fs:"f1v3ph3m"},"extra-small":{Bqenvij:"frvgh55",a9b677:"fq4mcun",qmp6fs:"f1v3ph3m"},small:{Bqenvij:"fxldao9",a9b677:"f1w9dchk",qmp6fs:"f1v3ph3m"},medium:{Bqenvij:"f1d2rq10",a9b677:"f1szoe96",qmp6fs:"fb52u90"},large:{Bqenvij:"f8ljn23",a9b677:"fpdz1er",qmp6fs:"fb52u90"},"extra-large":{Bqenvij:"fbhnoac",a9b677:"feqmc2u",qmp6fs:"fb52u90"},huge:{Bqenvij:"f1ft4266",a9b677:"fksc0bp",qmp6fs:"fa3u9ii"}},{d:[".fr407j0{background-color:var(--colorNeutralStrokeAlpha2);}",".f1f7voed{color:var(--colorNeutralStrokeOnBrand2);}",".f179dep3{-webkit-mask-image:conic-gradient(white 255deg, transparent 255deg);mask-image:conic-gradient(white 255deg, transparent 255deg);}",".fbz9ihp::before,.fbz9ihp::after{background-image:conic-gradient(transparent 225deg, currentcolor 225deg);}",".fd461yt{height:16px;}",".fjw5fx7{width:16px;}",".f1v3ph3m{--fui-Spinner--strokeWidth:var(--strokeWidthThick);}",".fjamq6b{height:20px;}",".f64fuq3{width:20px;}",".frvgh55{height:24px;}",".fq4mcun{width:24px;}",".fxldao9{height:28px;}",".f1w9dchk{width:28px;}",".f1d2rq10{height:32px;}",".f1szoe96{width:32px;}",".fb52u90{--fui-Spinner--strokeWidth:var(--strokeWidthThicker);}",".f8ljn23{height:36px;}",".fpdz1er{width:36px;}",".fbhnoac{height:40px;}",".feqmc2u{width:40px;}",".f1ft4266{height:44px;}",".fksc0bp{width:44px;}",".fa3u9ii{--fui-Spinner--strokeWidth:var(--strokeWidthThickest);}"],m:[["@media screen and (prefers-reduced-motion: reduce){.f1wkkxo7{background-image:conic-gradient(currentcolor 0deg, transparent 240deg);}}",{m:"screen and (prefers-reduced-motion: reduce)"}]]}),dd=Un({inverted:{sj55zd:"fonrgv7"},"extra-tiny":{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},tiny:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},"extra-small":{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},small:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},medium:{Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"fl43uef",Bg96gwp:"faaz57k"},large:{Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"fl43uef",Bg96gwp:"faaz57k"},"extra-large":{Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"fl43uef",Bg96gwp:"faaz57k"},huge:{Bahqtrf:"fk6fouc",Be2twd7:"f1pp30po",Bhrd7zp:"fl43uef",Bg96gwp:"f106mvju"}},{d:[".fonrgv7{color:var(--colorNeutralForegroundStaticInverted);}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".fod5ikn{font-size:var(--fontSizeBase400);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".faaz57k{line-height:var(--lineHeightBase400);}",".f1pp30po{font-size:var(--fontSizeBase500);}",".f106mvju{line-height:var(--lineHeightBase500);}"]}),hd=e.forwardRef(((e,t)=>{const r=id(e,t);return(e=>{const{labelPosition:t,size:r,appearance:n}=e,{dir:o}=y(),i=sd(),s=ad(),a=ld(),l=ud(),c=cd(),u=dd();e.root.className=Ge("fui-Spinner",i,("above"===t||"below"===t)&&s.vertical,e.root.className),e.spinner&&(e.spinner.className=Ge("fui-Spinner__spinner",a,l[r],"inverted"===n&&l.inverted,e.spinner.className)),e.spinnerTail&&(e.spinnerTail.className=Ge("fui-Spinner__spinnerTail",c,"rtl"===o&&l.rtlTail,e.spinnerTail.className)),e.label&&(e.label.className=Ge("fui-Spinner__label",u[r],"inverted"===n&&u.inverted,e.label.className))})(r),T("useSpinnerStyles_unstable")(r),(e=>{const{labelPosition:t,shouldRenderSpinner:r}=e;return d(e.root,{children:[e.label&&r&&("above"===t||"before"===t)&&u(e.label,{}),e.spinner&&r&&u(e.spinner,{children:e.spinnerTail&&u(e.spinnerTail,{})}),e.label&&r&&("below"===t||"after"===t)&&u(e.label,{})]})})(r)}));hd.displayName="Spinner";var fd=o(64583).Promise;const pd=function(e,t){if(!e)throw gd(t)},gd=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},md=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);o<128?t[r++]=o:o<2048?(t[r++]=o>>6|192,t[r++]=63&o|128):55296==(64512&o)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n)),t[r++]=o>>18|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=63&o|128):(t[r++]=o>>12|224,t[r++]=o>>6&63|128,t[r++]=63&o|128)}return t},vd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){const o=e[t],i=t+1<e.length,s=i?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,c=o>>2,u=(3&o)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,i||(d=64)),n.push(r[c],r[u],r[d],r[h])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(md(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let r=0,n=0;for(;r<e.length;){const o=e[r++];if(o<128)t[n++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[r++];t[n++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(i>>10)),t[n++]=String.fromCharCode(56320+(1023&i))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){const o=r[e.charAt(t++)],i=t<e.length?r[e.charAt(t)]:0;++t;const s=t<e.length?r[e.charAt(t)]:64;++t;const a=t<e.length?r[e.charAt(t)]:64;if(++t,null==o||null==i||null==s||null==a)throw new bd;const l=o<<2|i>>4;if(n.push(l),64!==s){const e=i<<4&240|s>>2;if(n.push(e),64!==a){const e=s<<6&192|a;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class bd extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yd=function(e){const t=md(e);return vd.encodeByteArray(t,!0)},wd=function(e){return yd(e).replace(/\./g,"")},_d=function(e){try{return vd.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kd(e){return xd(void 0,e)}function xd(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const r in t)t.hasOwnProperty(r)&&"__proto__"!==r&&(e[r]=xd(e[r],t[r]));return e}const Sd=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==o.g)return o.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process)return;const e="MISSING_ENV_VAR".__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&_d(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},Ed=e=>{var t,r;return null===(r=null===(t=Sd())||void 0===t?void 0:t.emulatorHosts)||void 0===r?void 0:r[e]},Cd=e=>{const t=Ed(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),n]:[t.substring(0,r),n]},Td=()=>{var e;return null===(e=Sd())||void 0===e?void 0:e.config},Id=e=>{var t;return null===(t=Sd())||void 0===t?void 0:t[`_${e}`]};class Nd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new fd(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,r))}}}function Rd(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",n=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:n,exp:n+3600,auth_time:n,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[wd(JSON.stringify({alg:"none",type:"JWT"})),wd(JSON.stringify(i)),""].join(".")}function Dd(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Pd(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dd())}function zd(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Bd(){try{return"object"==typeof indexedDB}catch(e){return!1}}class Od extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Od.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ad.prototype.create)}}class Ad{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},n=`${this.service}/${e}`,o=this.errors[e],i=o?function(e,t){return e.replace(Fd,((e,r)=>{const n=t[r];return null!=n?String(n):`<${r}?>`}))}(o,r):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new Od(n,s,r)}}const Fd=/\{\$([^}]+)}/g;function Md(e){return JSON.parse(e)}function jd(e){return JSON.stringify(e)}const Ld=function(e){let t={},r={},n={},o="";try{const i=e.split(".");t=Md(_d(i[0])||""),r=Md(_d(i[1])||""),o=i[2],n=r.d||{},delete r.d}catch(e){}return{header:t,claims:r,data:n,signature:o}};function qd(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ud(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Vd(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Hd(e,t,r){const n={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=t.call(r,e[o],o,e));return n}function Wd(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const o of r){if(!n.includes(o))return!1;const r=e[o],i=t[o];if($d(r)&&$d(i)){if(!Wd(r,i))return!1}else if(r!==i)return!1}for(const e of n)if(!r.includes(e))return!1;return!0}function $d(e){return null!==e&&"object"==typeof e}function Kd(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach((e=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function Gd(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[r,n]=e.split("=");t[decodeURIComponent(r)]=decodeURIComponent(n)}})),t}function Qd(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}class Xd{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let n=0;n<16;n++)r[n]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let n=0;n<16;n++)r[n]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=r[e-3]^r[e-8]^r[e-14]^r[e-16];r[e]=4294967295&(t<<1|t>>>31)}let n,o,i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(n=l^s&(a^l),o=1518500249):(n=s^a^l,o=1859775393):e<60?(n=s&a|l&(s|a),o=2400959708):(n=s^a^l,o=3395469782);const t=(i<<5|i>>>27)+n+c+o+r[e]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=i,i=t}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let n=0;const o=this.buf_;let i=this.inbuf_;for(;n<t;){if(0===i)for(;n<=r;)this.compress_(e,n),n+=this.blockSize;if("string"==typeof e){for(;n<t;)if(o[i]=e.charCodeAt(n),++i,++n,i===this.blockSize){this.compress_(o),i=0;break}}else for(;n<t;)if(o[i]=e[n],++i,++n,i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let t=0;t<5;t++)for(let n=24;n>=0;n-=8)e[r]=this.chain_[t]>>n&255,++r;return e}}class Yd{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=fd.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,r){let n;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");n=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:r},void 0===n.next&&(n.next=Jd),void 0===n.error&&(n.error=Jd),void 0===n.complete&&(n.complete=Jd);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}})),this.observers.push(n),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Jd(){}function Zd(e,t){return`${e} failed: ${t} argument `}const eh=function(e){let t=0;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);n<128?t++:n<2048?t+=2:n>=55296&&n<=56319?(t+=4,r++):t+=3}return t};function th(e){return e&&e._delegate?e._delegate:e}var rh=o(64583).Promise;class nh{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oh="[DEFAULT]";class ih{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Nd;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(e){if(n)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:oh})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(e){}}}}clearInstance(e=oh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await rh.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=oh){return this.instances.has(e)}getOptions(e=oh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[e,t]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(e)&&t.resolve(n);return n}onInit(e,t){var r;const n=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(n,o);const i=this.instances.get(n);return i&&e(i,n),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const n of r)try{n(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sh(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(e){}return r||null}normalizeInstanceIdentifier(e=oh){return this.component?this.component.multipleInstances?e:oh:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function sh(e){return e===oh?void 0:e}class ah{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ih(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const lh=[];var ch;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ch||(ch={}));const uh={debug:ch.DEBUG,verbose:ch.VERBOSE,info:ch.INFO,warn:ch.WARN,error:ch.ERROR,silent:ch.SILENT},dh=ch.INFO,hh={[ch.DEBUG]:"log",[ch.VERBOSE]:"log",[ch.INFO]:"info",[ch.WARN]:"warn",[ch.ERROR]:"error"},fh=(e,t,...r)=>{if(t<e.logLevel)return;const n=(new Date).toISOString(),o=hh[t];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[o](`[${n}]  ${e.name}:`,...r)};class ph{constructor(e){this.name=e,this._logLevel=dh,this._logHandler=fh,this._userLogHandler=null,lh.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ch))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?uh[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ch.DEBUG,...e),this._logHandler(this,ch.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ch.VERBOSE,...e),this._logHandler(this,ch.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ch.INFO,...e),this._logHandler(this,ch.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ch.WARN,...e),this._logHandler(this,ch.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ch.ERROR,...e),this._logHandler(this,ch.ERROR,...e)}}var gh=o(64583).Promise;const mh=(e,t)=>t.some((t=>e instanceof t));let vh,bh;const yh=new WeakMap,wh=new WeakMap,_h=new WeakMap,kh=new WeakMap,xh=new WeakMap;let Sh={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return wh.get(e);if("objectStoreNames"===t)return e.objectStoreNames||_h.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ch(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Eh(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(bh||(bh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Th(this),e),Ch(yh.get(this))}:function(...e){return Ch(t.apply(Th(this),e))}:function(e,...r){const n=t.call(Th(this),e,...r);return _h.set(n,e.sort?e.sort():[e]),Ch(n)}:(e instanceof IDBTransaction&&function(e){if(wh.has(e))return;const t=new gh(((t,r)=>{const n=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),n()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)}));wh.set(e,t)}(e),mh(e,vh||(vh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Sh):e);var t}function Ch(e){if(e instanceof IDBRequest)return function(e){const t=new gh(((t,r)=>{const n=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(Ch(e.result)),n()},i=()=>{r(e.error),n()};e.addEventListener("success",o),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&yh.set(t,e)})).catch((()=>{})),xh.set(t,e),t}(e);if(kh.has(e))return kh.get(e);const t=Eh(e);return t!==e&&(kh.set(e,t),xh.set(t,e)),t}const Th=e=>xh.get(e);var Ih=o(64583).Promise;const Nh=["get","getKey","getAll","getAllKeys","count"],Rh=["put","add","delete","clear"],Dh=new Map;function Ph(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Dh.get(t))return Dh.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,o=Rh.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!o&&!Nh.includes(r))return;const i=async function(e,...t){const i=this.transaction(e,o?"readwrite":"readonly");let s=i.store;return n&&(s=s.index(t.shift())),(await Ih.all([s[r](...t),o&&i.done]))[0]};return Dh.set(t,i),i}var zh;zh=Sh,Sh={...zh,get:(e,t,r)=>Ph(e,t)||zh.get(e,t,r),has:(e,t)=>!!Ph(e,t)||zh.has(e,t)},o(64583).Promise;class Bh{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Oh="@firebase/app",Ah="0.10.0",Fh=new ph("@firebase/app"),Mh="@firebase/app-compat",jh="@firebase/analytics-compat",Lh="@firebase/analytics",qh="@firebase/app-check-compat",Uh="@firebase/app-check",Vh="@firebase/auth",Hh="@firebase/auth-compat",Wh="@firebase/database",$h="@firebase/database-compat",Kh="@firebase/functions",Gh="@firebase/functions-compat",Qh="@firebase/installations",Xh="@firebase/installations-compat",Yh="@firebase/messaging",Jh="@firebase/messaging-compat",Zh="@firebase/performance",ef="@firebase/performance-compat",tf="@firebase/remote-config",rf="@firebase/remote-config-compat",nf="@firebase/storage",of="@firebase/storage-compat",sf="@firebase/firestore",af="@firebase/firestore-compat",lf="firebase",cf="[DEFAULT]",uf={[Oh]:"fire-core",[Mh]:"fire-core-compat",[Lh]:"fire-analytics",[jh]:"fire-analytics-compat",[Uh]:"fire-app-check",[qh]:"fire-app-check-compat",[Vh]:"fire-auth",[Hh]:"fire-auth-compat",[Wh]:"fire-rtdb",[$h]:"fire-rtdb-compat",[Kh]:"fire-fn",[Gh]:"fire-fn-compat",[Qh]:"fire-iid",[Xh]:"fire-iid-compat",[Yh]:"fire-fcm",[Jh]:"fire-fcm-compat",[Zh]:"fire-perf",[ef]:"fire-perf-compat",[tf]:"fire-rc",[rf]:"fire-rc-compat",[nf]:"fire-gcs",[of]:"fire-gcs-compat",[sf]:"fire-fst",[af]:"fire-fst-compat","fire-js":"fire-js",[lf]:"fire-js-all"},df=new Map,hf=new Map,ff=new Map;function pf(e,t){try{e.container.addComponent(t)}catch(r){Fh.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function gf(e){const t=e.name;if(ff.has(t))return Fh.debug(`There were multiple attempts to register component ${t}.`),!1;ff.set(t,e);for(const t of df.values())pf(t,e);for(const t of hf.values())pf(t,e);return!0}function mf(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function vf(e){return void 0!==e.settings}const bf=new Ad("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class yf{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nh("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bf.create("app-deleted",{appName:this._name})}}const wf="10.10.0";function _f(e,t={}){let r=e;"object"!=typeof t&&(t={name:t});const n=Object.assign({name:cf,automaticDataCollectionEnabled:!1},t),o=n.name;if("string"!=typeof o||!o)throw bf.create("bad-app-name",{appName:String(o)});if(r||(r=Td()),!r)throw bf.create("no-options");const i=df.get(o);if(i){if(Wd(r,i.options)&&Wd(n,i.config))return i;throw bf.create("duplicate-app",{appName:o})}const s=new ah(o);for(const e of ff.values())s.addComponent(e);const a=new yf(r,n,s);return df.set(o,a),a}function kf(e=cf){const t=df.get(e);if(!t&&e===cf&&Td())return _f();if(!t)throw bf.create("no-app",{appName:e});return t}function xf(e,t,r){var n;let o=null!==(n=uf[e])&&void 0!==n?n:e;r&&(o+=`-${r}`);const i=o.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=[`Unable to register library "${o}" with version "${t}":`];return i&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Fh.warn(e.join(" "))}gf(new nh(`${o}-version`,(()=>({library:o,version:t})),"VERSION"))}const Sf="firebase-heartbeat-database",Ef=1,Cf="firebase-heartbeat-store";let Tf=null;function If(){return Tf||(Tf=function(e,t,{blocked:r,upgrade:n,blocking:o,terminated:i}={}){const s=indexedDB.open(e,t),a=Ch(s);return n&&s.addEventListener("upgradeneeded",(e=>{n(Ch(s.result),e.oldVersion,e.newVersion,Ch(s.transaction),e)})),r&&s.addEventListener("blocked",(e=>r(e.oldVersion,e.newVersion,e))),a.then((e=>{i&&e.addEventListener("close",(()=>i())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Sf,Ef,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Cf)}catch(e){console.warn(e)}}}).catch((e=>{throw bf.create("idb-open",{originalErrorMessage:e.message})}))),Tf}async function Nf(e,t){try{const r=(await If()).transaction(Cf,"readwrite"),n=r.objectStore(Cf);await n.put(t,Rf(e)),await r.done}catch(e){if(e instanceof Od)Fh.warn(e.message);else{const t=bf.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});Fh.warn(t.message)}}}function Rf(e){return`${e.name}!${e.options.appId}`}class Df{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zf(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=Pf();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some((e=>e.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Pf(),{heartbeatsToSend:r,unsentEntries:n}=function(e,t=1024){const r=[];let n=e.slice();for(const o of e){const e=r.find((e=>e.agent===o.agent));if(e){if(e.dates.push(o.date),Bf(r)>t){e.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),Bf(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),o=wd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Pf(){return(new Date).toISOString().substring(0,10)}class zf{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Bd()&&new fd(((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await If()).transaction(Cf),r=await t.objectStore(Cf).get(Rf(e));return await t.done,r}catch(e){if(e instanceof Od)Fh.warn(e.message);else{const t=bf.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});Fh.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return Nf(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return Nf(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}}}function Bf(e){return wd(JSON.stringify({version:2,heartbeats:e})).length}function Of(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}gf(new nh("platform-logger",(e=>new Bh(e)),"PRIVATE")),gf(new nh("heartbeat",(e=>new Df(e)),"PRIVATE")),xf(Oh,Ah,""),xf(Oh,Ah,"esm2017"),xf("fire-js",""),xf("firebase","10.10.0","app"),o(64583).Promise,Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var Af=o(64583).Promise;const Ff=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Mf=new Ad("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),jf=new ph("@firebase/auth");function Lf(e,...t){jf.logLevel<=ch.ERROR&&jf.error(`Auth (${wf}): ${e}`,...t)}function qf(e,...t){throw Wf(e,...t)}function Uf(e,...t){return Wf(e,...t)}function Vf(e,t,r){const n=Object.assign(Object.assign({},Ff()),{[t]:r});return new Ad("auth","Firebase",n).create(t,{appName:e.name})}function Hf(e){return Vf(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wf(e,...t){if("string"!=typeof e){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return Mf.create(e,...t)}function $f(e,t,...r){if(!e)throw Wf(t,...r)}function Kf(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Lf(t),new Error(t)}function Gf(e,t){e||Kf(t)}function Qf(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Xf(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Yf(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===Xf()||"https:"===Xf()||function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Jf{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gf(t>e,"Short delay should be less than long delay!"),this.isMobile=Pd()||zd()}get(){return Yf()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zf(e,t){Gf(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}class ep{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void Kf("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void Kf("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void Kf("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tp={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},rp=new Jf(3e4,6e4);function np(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function op(e,t,r,n,o={}){return ip(e,o,(async()=>{let o={},i={};n&&("GET"===t?i=n:o={body:JSON.stringify(n)});const s=Kd(Object.assign({key:e.config.apiKey},i)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),ep.fetch()(ap(e,e.config.apiHost,r,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},o))}))}async function ip(e,t,r){e._canInitEmulator=!1;const n=Object.assign(Object.assign({},tp),t);try{const t=new cp(e),o=await Af.race([r(),t.promise]);t.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw up(e,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const t=o.ok?i.errorMessage:i.error.message,[r,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===r)throw up(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===r)throw up(e,"email-already-in-use",i);if("USER_DISABLED"===r)throw up(e,"user-disabled",i);const a=n[r]||r.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Vf(e,a,s);qf(e,a)}}catch(t){if(t instanceof Od)throw t;qf(e,"network-request-failed",{message:String(t)})}}async function sp(e,t,r,n,o={}){const i=await op(e,t,r,n,o);return"mfaPendingCredential"in i&&qf(e,"multi-factor-auth-required",{_serverResponse:i}),i}function ap(e,t,r,n){const o=`${t}${r}?${n}`;return e.config.emulator?Zf(e.config,o):`${e.config.apiScheme}://${o}`}function lp(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cp{constructor(e){this.auth=e,this.timer=null,this.promise=new Af(((e,t)=>{this.timer=setTimeout((()=>t(Uf(this.auth,"network-request-failed"))),rp.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function up(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const o=Uf(e,t,n);return o.customData._tokenResponse=r,o}function dp(e){return void 0!==e&&void 0!==e.enterprise}class hp{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return lp(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function fp(e,t){return op(e,"POST","/v1/accounts:lookup",t)}function pp(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function gp(e){return 1e3*Number(e)}function mp(e){const[t,r,n]=e.split(".");if(void 0===t||void 0===r||void 0===n)return Lf("JWT malformed, contained fewer than 3 sections"),null;try{const e=_d(r);return e?JSON.parse(e):(Lf("Failed to decode base64 JWT payload"),null)}catch(e){return Lf("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function vp(e){const t=mp(e);return $f(t,"internal-error"),$f(void 0!==t.exp,"internal-error"),$f(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function bp(e,t,r=!1){if(r)return t;try{return await t}catch(t){throw t instanceof Od&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class yp{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class wp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pp(this.lastLoginAt),this.creationTime=pp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _p(e){var t;const r=e.auth,n=await e.getIdToken(),o=await bp(e,fp(r,{idToken:n}));$f(null==o?void 0:o.users.length,r,"internal-error");const i=o.users[0];e._notifyReloadListener(i);const s=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?kp(i.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&i.passwordHash||(null==a?void 0:a.length)),h=!!u&&d,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new wp(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function kp(e){return e.map((e=>{var{providerId:t}=e,r=Of(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}}))}class xp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$f(e.idToken,"internal-error"),$f(void 0!==e.idToken,"internal-error"),$f(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):vp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$f(0!==e.length,"internal-error");const t=vp(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?($f(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:n,expiresIn:o}=await async function(e,t){const r=await ip(e,{},(async()=>{const r=Kd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:o}=e.config,i=ap(e,n,"/v1/token",`key=${o}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",ep.fetch()(i,{method:"POST",headers:s,body:r})}));return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}(e,t);this.updateTokensAndExpiration(r,n,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:n,expirationTime:o}=t,i=new xp;return r&&($f("string"==typeof r,"internal-error",{appName:e}),i.refreshToken=r),n&&($f("string"==typeof n,"internal-error",{appName:e}),i.accessToken=n),o&&($f("number"==typeof o,"internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xp,this.toJSON())}_performRefresh(){return Kf("not implemented")}}function Sp(e,t){$f("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Ep{constructor(e){var{uid:t,auth:r,stsTokenManager:n}=e,o=Of(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await bp(this,this.stsTokenManager.getToken(this.auth,e));return $f(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const r=th(e),n=await r.getIdToken(t),o=mp(n);$f(o&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error");const i="object"==typeof o.firebase?o.firebase:void 0,s=null==i?void 0:i.sign_in_provider;return{claims:o,token:n,authTime:pp(gp(o.auth_time)),issuedAtTime:pp(gp(o.iat)),expirationTime:pp(gp(o.exp)),signInProvider:s||null,signInSecondFactor:(null==i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=th(e);await _p(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&($f(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ep(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$f(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await _p(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vf(this.auth.app))return Af.reject(Hf(this.auth));const e=await this.getIdToken();return await bp(this,async function(e,t){return op(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,n,o,i,s,a,l,c;const u=null!==(r=t.displayName)&&void 0!==r?r:void 0,d=null!==(n=t.email)&&void 0!==n?n:void 0,h=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,f=null!==(i=t.photoURL)&&void 0!==i?i:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:y,isAnonymous:w,providerData:_,stsTokenManager:k}=t;$f(b&&k,e,"internal-error");const x=xp.fromJSON(this.name,k);$f("string"==typeof b,e,"internal-error"),Sp(u,e.name),Sp(d,e.name),$f("boolean"==typeof y,e,"internal-error"),$f("boolean"==typeof w,e,"internal-error"),Sp(h,e.name),Sp(f,e.name),Sp(p,e.name),Sp(g,e.name),Sp(m,e.name),Sp(v,e.name);const S=new Ep({uid:b,auth:e,email:d,emailVerified:y,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:x,createdAt:m,lastLoginAt:v});return _&&Array.isArray(_)&&(S.providerData=_.map((e=>Object.assign({},e)))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(e,t,r=!1){const n=new xp;n.updateFromServerResponse(t);const o=new Ep({uid:t.localId,auth:e,stsTokenManager:n,isAnonymous:r});return await _p(o),o}static async _fromGetAccountInfoResponse(e,t,r){const n=t.users[0];$f(void 0!==n.localId,"internal-error");const o=void 0!==n.providerUserInfo?kp(n.providerUserInfo):[],i=!(n.email&&n.passwordHash||(null==o?void 0:o.length)),s=new xp;s.updateFromIdToken(r);const a=new Ep({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i}),l={uid:n.localId,displayName:n.displayName||null,photoURL:n.photoUrl||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,tenantId:n.tenantId||null,providerData:o,metadata:new wp(n.createdAt,n.lastLoginAt),isAnonymous:!(n.email&&n.passwordHash||(null==o?void 0:o.length))};return Object.assign(a,l),a}}const Cp=new Map;function Tp(e){Gf(e instanceof Function,"Expected a class definition");let t=Cp.get(e);return t?(Gf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Cp.set(e,t),t)}class Ip{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ip.type="NONE";const Np=Ip;function Rp(e,t,r){return`firebase:${e}:${t}:${r}`}class Dp{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:n,name:o}=this.auth;this.fullUserKey=Rp(this.userKey,n.apiKey,o),this.fullPersistenceKey=Rp("persistence",n.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ep._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Dp(Tp(Np),e,r);const n=(await Af.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let o=n[0]||Tp(Np);const i=Rp(r,e.config.apiKey,e.name);let s=null;for(const r of t)try{const t=await r._get(i);if(t){const n=Ep._fromJSON(e,t);r!==o&&(s=n),o=r;break}}catch(e){}const a=n.filter((e=>e._shouldAllowMigration));return o._shouldAllowMigration&&a.length?(o=a[0],s&&await o._set(i,s.toJSON()),await Af.all(t.map((async e=>{if(e!==o)try{await e._remove(i)}catch(e){}}))),new Dp(o,e,r)):new Dp(o,e,r)}}function Pp(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ap(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zp(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Mp(t))return"Blackberry";if(jp(t))return"Webos";if(Bp(t))return"Safari";if((t.includes("chrome/")||Op(t))&&!t.includes("edge/"))return"Chrome";if(Fp(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(t);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function zp(e=Dd()){return/firefox\//i.test(e)}function Bp(e=Dd()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Op(e=Dd()){return/crios\//i.test(e)}function Ap(e=Dd()){return/iemobile/i.test(e)}function Fp(e=Dd()){return/android/i.test(e)}function Mp(e=Dd()){return/blackberry/i.test(e)}function jp(e=Dd()){return/webos/i.test(e)}function Lp(e=Dd()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function qp(e=Dd()){return Lp(e)||Fp(e)||jp(e)||Mp(e)||/windows phone/i.test(e)||Ap(e)}function Up(e,t=[]){let r;switch(e){case"Browser":r=Pp(Dd());break;case"Worker":r=`${Pp(Dd())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${wf}/${n}`}class Vp{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=t=>new Af(((r,n)=>{try{r(e(t))}catch(e){n(e)}}));r.onAbort=t,this.queue.push(r);const n=this.queue.length-1;return()=>{this.queue[n]=()=>Af.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}class Hp{constructor(e){var t,r,n,o;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,n,o,i,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(r=a.meetsMaxPasswordLength)||void 0===r||r),a.isValid&&(a.isValid=null===(n=a.containsLowercaseLetter)||void 0===n||n),a.isValid&&(a.isValid=null===(o=a.containsUppercaseLetter)||void 0===o||o),a.isValid&&(a.isValid=null===(i=a.containsNumericCharacter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),n&&(t.meetsMaxPasswordLength=e.length<=n)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let n=0;n<e.length;n++)r=e.charAt(n),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,n,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Wp{constructor(e,t,r,n){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Af.resolve(),this.authStateSubscription=new Kp(this),this.idTokenSubscription=new Kp(this),this.beforeStateQueue=new Vp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mf,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Tp(t)),this._initializationPromise=this.queue((async()=>{var r,n;if(!this._deleted&&(this.persistenceManager=await Dp.create(this,e),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(n=this.currentUser)||void 0===n?void 0:n.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await fp(this,{idToken:e}),r=await Ep._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(vf(this.app)){const e=this.app.settings.authIdToken;return e?new Af((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==n?void 0:n._redirectEventId,s=await this.tryRedirectSignIn(e);r&&r!==i||!(null==s?void 0:s.user)||(n=s.user,o=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=r,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Af.reject(e)))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return $f(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _p(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vf(this.app))return Af.reject(Hf(this));const t=e?th(e):null;return t&&$f(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$f(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return vf(this.app)?Af.reject(Hf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vf(this.app)?Af.reject(Hf(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Tp(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Af.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return op(e,"GET","/v2/passwordPolicy",np(e,t))}(this),t=new Hp(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ad("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Af(((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged((()=>{r(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return op(e,"POST","/v2/accounts:revokeToken",np(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Tp(e)||this._popupRedirectResolver;$f(t,this,"argument-error"),this.redirectPersistenceManager=await Dp.create(this,[Tp(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,n){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let i=!1;const s=this._isInitialized?Af.resolve():this._initializationPromise;if($f(s,this,"internal-error"),s.then((()=>{i||o(this.currentUser)})),"function"==typeof t){const o=e.addObserver(t,r,n);return()=>{i=!0,o()}}{const r=e.addObserver(t);return()=>{i=!0,r()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $f(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Up(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){jf.logLevel<=ch.WARN&&jf.warn(`Auth (${wf}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function $p(e){return th(e)}class Kp{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const r=new Yd(e,void 0);return r.subscribe.bind(r)}((e=>this.observer=e))}get next(){return $f(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qp(e){return Gp.loadJS(e)}function Xp(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Yp{constructor(e){this.type="recaptcha-enterprise",this.auth=$p(e)}async verify(e="verify",t=!1){function r(t,r,n){const o=window.grecaptcha;dp(o)?o.enterprise.ready((()=>{o.enterprise.execute(t,{action:e}).then((e=>{r(e)})).catch((()=>{r("NO_RECAPTCHA")}))})):n(Error("No reCAPTCHA enterprise script loaded."))}return new Af(((e,n)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Af((async(t,r)=>{(async function(e,t){return op(e,"GET","/v2/recaptchaConfig",np(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((n=>{if(void 0!==n.recaptchaKey){const r=new hp(n);return null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,t(r.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{r(e)}))}))})(this.auth).then((o=>{if(!t&&dp(window.grecaptcha))r(o,e,n);else{if("undefined"==typeof window)return void n(new Error("RecaptchaVerifier is only supported in browser"));let t=Gp.recaptchaEnterpriseScript;0!==t.length&&(t+=o),Qp(t).then((()=>{r(o,e,n)})).catch((e=>{n(e)}))}})).catch((e=>{n(e)}))}))}}async function Jp(e,t,r,n=!1){const o=new Yp(e);let i;try{i=await o.verify(r)}catch(e){i=await o.verify(r,!0)}const s=Object.assign({},t);return n?Object.assign(s,{captchaResp:i}):Object.assign(s,{captchaResponse:i}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Zp(e,t,r,n){var o;if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Jp(e,t,r,"getOobCode"===r);return n(e,o)}return n(e,t).catch((async o=>{if("auth/missing-recaptcha-token"===o.code){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Jp(e,t,r,"getOobCode"===r);return n(e,o)}return Af.reject(o)}))}function eg(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function tg(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class rg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Kf("not implemented")}_getIdTokenResponse(e){return Kf("not implemented")}_linkToIdToken(e,t){return Kf("not implemented")}_getReauthenticationResolver(e){return Kf("not implemented")}}async function ng(e,t){return op(e,"POST","/v1/accounts:signUp",t)}async function og(e,t){return sp(e,"POST","/v1/accounts:signInWithPassword",np(e,t))}class ig extends rg{constructor(e,t,r,n=null){super("password",r),this._email=e,this._password=t,this._tenantId=n}static _fromEmailAndPassword(e,t){return new ig(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ig(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Zp(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",og);case"emailLink":return async function(e,t){return sp(e,"POST","/v1/accounts:signInWithEmailLink",np(e,t))}(e,{email:this._email,oobCode:this._password});default:qf(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Zp(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ng);case"emailLink":return async function(e,t){return sp(e,"POST","/v1/accounts:signInWithEmailLink",np(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:qf(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function sg(e,t){return sp(e,"POST","/v1/accounts:signInWithIdp",np(e,t))}class ag extends rg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ag(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qf("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:n}=t,o=Of(t,["providerId","signInMethod"]);if(!r||!n)return null;const i=new ag(r,n);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){return sg(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,sg(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,sg(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Kd(t)}return e}}const lg={USER_NOT_FOUND:"user-not-found"};class cg extends rg{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new cg({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new cg({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return sp(e,"POST","/v1/accounts:signInWithPhoneNumber",np(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const r=await sp(e,"POST","/v1/accounts:signInWithPhoneNumber",np(e,t));if(r.temporaryProof)throw up(e,"account-exists-with-different-credential",r);return r}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return sp(e,"POST","/v1/accounts:signInWithPhoneNumber",np(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),lg)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:n}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:n}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:n,temporaryProof:o}=e;return r||t||n||o?new cg({verificationId:t,verificationCode:r,phoneNumber:n,temporaryProof:o}):null}}class ug{constructor(e){var t,r,n,o,i,s;const a=Gd(Qd(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(r=a.oobCode)&&void 0!==r?r:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(n=a.mode)&&void 0!==n?n:null);$f(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(o=a.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(i=a.languageCode)&&void 0!==i?i:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Gd(Qd(e)).link,r=t?Gd(Qd(t)).deep_link_id:null,n=Gd(Qd(e)).deep_link_id;return(n?Gd(Qd(n)).link:null)||n||r||t||e}(e);try{return new ug(t)}catch(e){return null}}}class dg{constructor(){this.providerId=dg.PROVIDER_ID}static credential(e,t){return ig._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ug.parseLink(t);return $f(r,"argument-error"),ig._fromEmailAndCode(e,r.code,r.tenantId)}}dg.PROVIDER_ID="password",dg.EMAIL_PASSWORD_SIGN_IN_METHOD="password",dg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class hg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class fg extends hg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pg extends fg{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return $f("providerId"in t&&"signInMethod"in t,"argument-error"),ag._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return $f(e.idToken||e.accessToken,"argument-error"),ag._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return pg.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return pg.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:n,pendingToken:o,nonce:i,providerId:s}=e;if(!(r||n||t||o))return null;if(!s)return null;try{return new pg(s)._credential({idToken:t,accessToken:r,nonce:i,pendingToken:o})}catch(e){return null}}}class gg extends fg{constructor(){super("facebook.com")}static credential(e){return ag._fromParams({providerId:gg.PROVIDER_ID,signInMethod:gg.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gg.credentialFromTaggedObject(e)}static credentialFromError(e){return gg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return gg.credential(e.oauthAccessToken)}catch(e){return null}}}gg.FACEBOOK_SIGN_IN_METHOD="facebook.com",gg.PROVIDER_ID="facebook.com";class mg extends fg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ag._fromParams({providerId:mg.PROVIDER_ID,signInMethod:mg.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return mg.credentialFromTaggedObject(e)}static credentialFromError(e){return mg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return mg.credential(t,r)}catch(e){return null}}}mg.GOOGLE_SIGN_IN_METHOD="google.com",mg.PROVIDER_ID="google.com";class vg extends fg{constructor(){super("github.com")}static credential(e){return ag._fromParams({providerId:vg.PROVIDER_ID,signInMethod:vg.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vg.credentialFromTaggedObject(e)}static credentialFromError(e){return vg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return vg.credential(e.oauthAccessToken)}catch(e){return null}}}vg.GITHUB_SIGN_IN_METHOD="github.com",vg.PROVIDER_ID="github.com";class bg extends fg{constructor(){super("twitter.com")}static credential(e,t){return ag._fromParams({providerId:bg.PROVIDER_ID,signInMethod:bg.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bg.credentialFromTaggedObject(e)}static credentialFromError(e){return bg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return bg.credential(t,r)}catch(e){return null}}}bg.TWITTER_SIGN_IN_METHOD="twitter.com",bg.PROVIDER_ID="twitter.com";class yg{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,n=!1){const o=await Ep._fromIdTokenResponse(e,r,n),i=wg(r);return new yg({user:o,providerId:i,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const n=wg(r);return new yg({user:e,providerId:n,_tokenResponse:r,operationType:t})}}function wg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class _g extends Od{constructor(e,t,r,n){var o;super(t.code,t.message),this.operationType=r,this.user=n,Object.setPrototypeOf(this,_g.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,n){return new _g(e,t,r,n)}}function kg(e,t,r,n){return("reauthenticate"===t?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch((r=>{if("auth/multi-factor-auth-required"===r.code)throw _g._fromErrorAndOperation(e,r,t,n);throw r}))}async function xg(e,t){if(vf(e.app))return Af.reject(Hf(e));const r=$p(e),n=await async function(e,t){return sp(e,"POST","/v1/accounts:signInWithCustomToken",np(e,t))}(r,{token:t,returnSecureToken:!0}),o=await yg._fromIdTokenResponse(r,"signIn",n);return await r._updateCurrentUser(o.user),o}new WeakMap;const Sg="__sak";class Eg{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Sg,"1"),this.storage.removeItem(Sg),Af.resolve(!0)):Af.resolve(!1)}catch(e){return Af.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Af.resolve()}_get(e){const t=this.storage.getItem(e);return Af.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Af.resolve()}get storage(){return this.storageRetriever()}}class Cg extends Eg{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Dd();return Bp(e)||Lp(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=qp(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),n=this.localCache[t];r!==n&&e(t,n,r)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,r)=>{this.notifyListeners(e,r)}));const r=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const n=this.storage.getItem(r);if(e.newValue!==n)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!t)return}const n=()=>{const e=this.storage.getItem(r);(t||this.localCache[r]!==e)&&this.notifyListeners(r,e)},o=this.storage.getItem(r);!function(){const e=Dd();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||10!==document.documentMode||o===e.newValue||e.newValue===e.oldValue?n():setTimeout(n,10)}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const e of Array.from(r))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Cg.type="LOCAL";const Tg=Cg;class Ig extends Eg{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ig.type="SESSION";const Ng=Ig;class Rg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const r=new Rg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:n,data:o}=t.data,i=this.handlersMap[n];if(!(null==i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:n});const s=Array.from(i).map((async e=>e(t.origin,o))),a=await function(e){return Af.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(s);t.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Dg(e="",t=10){let r="";for(let e=0;e<t;e++)r+=Math.floor(10*Math.random());return e+r}Rg.receivers=[];class Pg{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const n="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let o,i;return new Af(((s,a)=>{const l=Dg("",20);n.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),r);i={messageChannel:n,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),o=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),s(t.data.response);break;default:clearTimeout(c),clearTimeout(o),a(new Error("invalid_response"))}}},this.handlers.add(i),n.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[n.port2])})).finally((()=>{i&&this.removeMessageHandler(i)}))}}function zg(){return window}function Bg(){return void 0!==zg().WorkerGlobalScope&&"function"==typeof zg().importScripts}const Og="firebaseLocalStorageDb",Ag="firebaseLocalStorage",Fg="fbase_key";class Mg{constructor(e){this.request=e}toPromise(){return new Af(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function jg(e,t){return e.transaction([Ag],t?"readwrite":"readonly").objectStore(Ag)}function Lg(){const e=indexedDB.open(Og,1);return new Af(((t,r)=>{e.addEventListener("error",(()=>{r(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Ag,{keyPath:Fg})}catch(e){r(e)}})),e.addEventListener("success",(async()=>{const r=e.result;r.objectStoreNames.contains(Ag)?t(r):(r.close(),await function(){const e=indexedDB.deleteDatabase(Og);return new Mg(e).toPromise()}(),t(await Lg()))}))}))}async function qg(e,t,r){const n=jg(e,!0).put({[Fg]:t,value:r});return new Mg(n).toPromise()}function Ug(e,t){const r=jg(e,!0).delete(t);return new Mg(r).toPromise()}class Vg{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Lg()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bg()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rg._getInstance(Bg()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Pg(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&(null===(e=r[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=r[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lg();return await qg(e,Sg,"1"),await Ug(e,Sg),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((r=>qg(r,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const r=jg(e,!1).get(t),n=await new Mg(r).toPromise();return void 0===n?null:n.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ug(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=jg(e,!1).getAll();return new Mg(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],r=new Set;if(0!==e.length)for(const{fbase_key:n,value:o}of e)r.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(o)&&(this.notifyListeners(n,o),t.push(n));for(const e of Object.keys(this.localCache))this.localCache[e]&&!r.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const e of Array.from(r))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Vg.type="LOCAL";const Hg=Vg;Xp("rcb"),new Jf(3e4,6e4);class Wg{constructor(e){this.providerId=Wg.PROVIDER_ID,this.auth=$p(e)}verifyPhoneNumber(e,t){return async function(e,t,r){var n;const o=await r.verify();try{let i;if($f("string"==typeof o,e,"argument-error"),$f("recaptcha"===r.type,e,"argument-error"),i="string"==typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){$f("enroll"===t.type,e,"internal-error");const r=await function(e,t){return op(e,"POST","/v2/accounts/mfaEnrollment:start",np(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:o}});return r.phoneSessionInfo.sessionInfo}{$f("signin"===t.type,e,"internal-error");const r=(null===(n=i.multiFactorHint)||void 0===n?void 0:n.uid)||i.multiFactorUid;$f(r,e,"missing-multi-factor-info");const s=await function(e,t){return op(e,"POST","/v2/accounts/mfaSignIn:start",np(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:r,phoneSignInInfo:{recaptchaToken:o}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return op(e,"POST","/v1/accounts:sendVerificationCode",np(e,t))}(e,{phoneNumber:i.phoneNumber,recaptchaToken:o});return t}}finally{r._reset()}}(this.auth,e,th(t))}static credential(e,t){return cg._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Wg.credentialFromTaggedObject(t)}static credentialFromError(e){return Wg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?cg._fromTokenResponse(t,r):null}}function $g(e,t){return t?Tp(t):($f(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Wg.PROVIDER_ID="phone",Wg.PHONE_SIGN_IN_METHOD="phone";class Kg extends rg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sg(e,this._buildIdpRequest())}_linkToIdToken(e,t){return sg(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return sg(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Gg(e){return async function(e,t,r=!1){if(vf(e.app))return Af.reject(Hf(e));const n="signIn",o=await kg(e,n,t),i=await yg._fromIdTokenResponse(e,n,o);return r||await e._updateCurrentUser(i.user),i}(e.auth,new Kg(e),e.bypassAuthState)}function Qg(e){const{auth:t,user:r}=e;return $f(r,t,"internal-error"),async function(e,t,r=!1){const{auth:n}=e;if(vf(n.app))return Af.reject(Hf(n));const o="reauthenticate";try{const i=await bp(e,kg(n,o,t,e),r);$f(i.idToken,n,"internal-error");const s=mp(i.idToken);$f(s,n,"internal-error");const{sub:a}=s;return $f(e.uid===a,n,"user-mismatch"),yg._forOperation(e,o,i)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&qf(n,"user-mismatch"),e}}(r,new Kg(e),e.bypassAuthState)}async function Xg(e){const{auth:t,user:r}=e;return $f(r,t,"internal-error"),async function(e,t,r=!1){const n=await bp(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return yg._forOperation(e,"link",n)}(r,new Kg(e),e.bypassAuthState)}class Yg{constructor(e,t,r,n,o=!1){this.auth=e,this.resolver=r,this.user=n,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Af((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:n,tenantId:o,error:i,type:s}=e;if(i)return void this.reject(i);const a={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gg;case"linkViaPopup":case"linkViaRedirect":return Xg;case"reauthViaPopup":case"reauthViaRedirect":return Qg;default:qf(this.auth,"internal-error")}}resolve(e){Gf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jg=new Jf(2e3,1e4);class Zg extends Yg{constructor(e,t,r,n,o){super(e,t,n,o),this.provider=r,this.authWindow=null,this.pollId=null,Zg.currentPopupAction&&Zg.currentPopupAction.cancel(),Zg.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $f(e,this.auth,"internal-error"),e}async onExecution(){Gf(1===this.filter.length,"Popup operations only handle one event");const e=Dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Uf(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Uf(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zg.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;(null===(r=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===r?void 0:r.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Uf(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Jg.get())};e()}}Zg.currentPopupAction=null;const em="pendingRedirect",tm=new Map;class rm extends Yg{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=tm.get(this.auth._key());if(!e){try{const t=await async function(e,t){const r=function(e){return Rp(em,e.config.apiKey,e.name)}(t),n=function(e){return Tp(e._redirectPersistence)}(e);if(!await n._isAvailable())return!1;const o="true"===await n._get(r);return await n._remove(r),o}(this.resolver,this.auth)?await super.execute():null;e=()=>Af.resolve(t)}catch(t){e=()=>Af.reject(t)}tm.set(this.auth._key(),e)}return this.bypassAuthState||tm.set(this.auth._key(),(()=>Af.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function nm(e,t){tm.set(e._key(),t)}async function om(e,t,r=!1){if(vf(e.app))return Af.reject(Hf(e));const n=$p(e),o=$g(n,t),i=new rm(n,o,r),s=await i.execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,t)),s}class im{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return am(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!am(e)){const n=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Uf(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sm(e))}saveEventToCache(e){this.cachedEventUids.add(sm(e)),this.lastProcessedEventTime=Date.now()}}function sm(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function am({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const lm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cm=/^https?/;function um(e){const t=Qf(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===n?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&o.hostname===n}if(!cm.test(r))return!1;if(lm.test(e))return n===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(n)}const dm=new Jf(3e4,6e4);function hm(){const e=zg().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}function fm(e){return new Af(((t,r)=>{var n,o,i;function s(){hm(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{hm(),r(Uf(e,"network-request-failed"))},timeout:dm.get()})}if(null===(o=null===(n=zg().gapi)||void 0===n?void 0:n.iframes)||void 0===o?void 0:o.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=zg().gapi)||void 0===i?void 0:i.load)){const t=Xp("iframefcb");return zg()[t]=()=>{gapi.load?s():r(Uf(e,"network-request-failed"))},Qp(`${Gp.gapiScript}?onload=${t}`).catch((e=>r(e)))}s()}})).catch((e=>{throw pm=null,e}))}let pm=null;const gm=new Jf(5e3,15e3),mm="__/auth/iframe",vm="emulator/auth/iframe",bm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ym=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wm(e){const t=e.config;$f(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?Zf(t,vm):`https://${e.config.authDomain}/${mm}`,n={apiKey:t.apiKey,appName:e.name,v:wf},o=ym.get(e.config.apiHost);o&&(n.eid=o);const i=e._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${Kd(n).slice(1)}`}const _m={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class km{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const xm=encodeURIComponent("fac");async function Sm(e,t,r,n,o,i){$f(e.config.authDomain,e,"auth-domain-config-required"),$f(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:wf,eventId:o};if(t instanceof hg){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Vd(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))s[e]=t}if(t instanceof fg){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];const l=await e._getAppCheckToken(),c=l?`#${xm}=${encodeURIComponent(l)}`:"";return`${function({config:e}){return e.emulator?Zf(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${Kd(a).slice(1)}${c}`}const Em="webStorageSupport",Cm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ng,this._completeRedirectFn=om,this._overrideRedirectResult=nm}async _openPopup(e,t,r,n){var o;return Gf(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),function(e,t,r,n=500,o=600){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const l=Object.assign(Object.assign({},_m),{width:n.toString(),height:o.toString(),top:i,left:s}),c=Dd().toLowerCase();r&&(a=Op(c)?"_blank":r),zp(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,[t,r])=>`${e}${t}=${r},`),"");if(function(e=Dd()){var t;return Lp(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==a)return function(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}(t||"",a),new km(null);const d=window.open(t||"",a,u);$f(d,e,"popup-blocked");try{d.focus()}catch(e){}return new km(d)}(e,await Sm(e,t,r,Qf(),n),Dg())}async _openRedirect(e,t,r,n){return await this._originValidation(e),o=await Sm(e,t,r,Qf(),n),zg().location.href=o,new Af((()=>{}));var o}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:r}=this.eventManagers[t];return e?Af.resolve(e):(Gf(r,"If manager is not set, promise should be"),r)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch((()=>{delete this.eventManagers[t]})),r}async initAndGetManager(e){const t=await async function(e){const t=await function(e){return pm=pm||fm(e),pm}(e),r=zg().gapi;return $f(r,e,"internal-error"),t.open({where:document.body,url:wm(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bm,dontclear:!0},(t=>new Af((async(r,n)=>{await t.restyle({setHideOnLeave:!1});const o=Uf(e,"network-request-failed"),i=zg().setTimeout((()=>{n(o)}),gm.get());function s(){zg().clearTimeout(i),r(t)}t.ping(s).then(s,(()=>{n(o)}))}))))}(e),r=new im(e);return t.register("authEvent",(t=>($f(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:r.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Em,{type:Em},(r=>{var n;const o=null===(n=null==r?void 0:r[0])||void 0===n?void 0:n[Em];void 0!==o&&t(!!o),qf(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return op(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(um(e))return}catch(e){}qf(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qp()||Bp()||Lp()}};var Tm="@firebase/auth",Im="1.7.0";class Nm{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$f(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Rm=Id("authIdTokenMaxAge")||300;let Dm=null;var Pm;!function(e){Gp=e}({loadJS(e){return new Af(((t,r)=>{const n=document.createElement("script");var o,i;n.setAttribute("src",e),n.onload=t,n.onerror=e=>{const t=Uf("internal-error");t.customData=e,r(t)},n.type="text/javascript",n.charset="UTF-8",(null!==(i=null===(o=document.getElementsByTagName("head"))||void 0===o?void 0:o[0])&&void 0!==i?i:document).appendChild(n)}))},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Pm="Browser",gf(new nh("auth",((e,{options:t})=>{const r=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:s}=r.options;$f(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const a={apiKey:i,authDomain:s,clientPlatform:Pm,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Up(Pm)},l=new Wp(r,n,o,a);return function(e,t){const r=(null==t?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Tp);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,null==t?void 0:t.popupRedirectResolver)}(l,t),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,r)=>{e.getProvider("auth-internal").initialize()}))),gf(new nh("auth-internal",(e=>{return t=$p(e.getProvider("auth").getImmediate()),new Nm(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),xf(Tm,Im,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Pm)),xf(Tm,Im,"esm2017");var zm=o(64583).Promise;const Bm="type.googleapis.com/google.protobuf.Int64Value",Om="type.googleapis.com/google.protobuf.UInt64Value";function Am(e,t){const r={};for(const n in e)e.hasOwnProperty(n)&&(r[n]=t(e[n]));return r}function Fm(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((e=>Fm(e)));if("function"==typeof e||"object"==typeof e)return Am(e,(e=>Fm(e)));throw new Error("Data cannot be encoded in JSON: "+e)}function Mm(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case Bm:case Om:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((e=>Mm(e))):"function"==typeof e||"object"==typeof e?Am(e,(e=>Mm(e))):e}const jm="functions",Lm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qm extends Od{constructor(e,t,r){super(`${jm}/${e}`,t||""),this.details=r}}class Um{constructor(e,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((e=>this.auth=e),(()=>{})),this.messaging||t.get().then((e=>this.messaging=e),(()=>{})),this.appCheck||r.get().then((e=>this.appCheck=e),(()=>{}))}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null==e?void 0:e.accessToken}catch(e){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(e){return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}const Vm="us-central1";class Hm{constructor(e,t,r,n,o=Vm,i){this.app=e,this.fetchImpl=i,this.emulatorOrigin=null,this.contextProvider=new Um(t,r,n),this.cancelAllRequests=new zm((e=>{this.deleteService=()=>zm.resolve(e())}));try{const e=new URL(o);this.customDomain=e.origin,this.region=Vm}catch(e){this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function Wm(e,t,r){return n=>function(e,t,r,n){const o=e._url(t);return async function(e,t,r,n){const o={data:r=Fm(r)},i={},s=await e.contextProvider.getContext(n.limitedUseAppCheckTokens);s.authToken&&(i.Authorization="Bearer "+s.authToken),s.messagingToken&&(i["Firebase-Instance-ID-Token"]=s.messagingToken),null!==s.appCheckToken&&(i["X-Firebase-AppCheck"]=s.appCheckToken);const a=function(e){let t=null;return{promise:new zm(((r,n)=>{t=setTimeout((()=>{n(new qm("deadline-exceeded","deadline-exceeded"))}),e)})),cancel:()=>{t&&clearTimeout(t)}}}(n.timeout||7e4),l=await zm.race([$m(t,o,i,e.fetchImpl),a.promise,e.cancelAllRequests]);if(a.cancel(),!l)throw new qm("cancelled","Firebase Functions instance was deleted.");const c=function(e,t){let r,n=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),o=n;try{const e=t&&t.error;if(e){const t=e.status;if("string"==typeof t){if(!Lm[t])return new qm("internal","internal");n=Lm[t],o=t}const i=e.message;"string"==typeof i&&(o=i),r=e.details,void 0!==r&&(r=Mm(r))}}catch(e){}return"ok"===n?null:new qm(n,o,r)}(l.status,l.json);if(c)throw c;if(!l.json)throw new qm("internal","Response is not valid JSON object.");let u=l.json.data;if(void 0===u&&(u=l.json.result),void 0===u)throw new qm("internal","Response is missing data field.");return{data:Mm(u)}}(e,o,r,n)}(e,t,n,r||{})}async function $m(e,t,r,n){let o;r["Content-Type"]="application/json";try{o=await n(e,{method:"POST",body:JSON.stringify(t),headers:r})}catch(e){return{status:0,json:null}}let i=null;try{i=await o.json()}catch(e){}return{status:o.status,json:i}}const Km="@firebase/functions",Gm="0.11.3";var Qm;Qm=fetch.bind(self),gf(new nh(jm,((e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),o=e.getProvider("messaging-internal"),i=e.getProvider("app-check-internal");return new Hm(r,n,o,i,t,Qm)}),"PUBLIC").setMultipleInstances(!0)),xf(Km,Gm,void 0),xf(Km,Gm,"esm2017");var Xm=o(64583).Promise;const Ym="@firebase/database",Jm="1.0.4";let Zm="";class ev{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),jd(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Md(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class tv{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return qd(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const rv=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ev(t)}}catch(e){}return new tv},nv=rv("localStorage"),ov=rv("sessionStorage"),iv=new ph("@firebase/database"),sv=function(){let e=1;return function(){return e++}}(),av=function(e){const t=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);if(o>=55296&&o<=56319){const t=o-55296;n++,pd(n<e.length,"Surrogate pair missing trail surrogate."),o=65536+(t<<10)+(e.charCodeAt(n)-56320)}o<128?t[r++]=o:o<2048?(t[r++]=o>>6|192,t[r++]=63&o|128):o<65536?(t[r++]=o>>12|224,t[r++]=o>>6&63|128,t[r++]=63&o|128):(t[r++]=o>>18|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=63&o|128)}return t}(e),r=new Xd;r.update(t);const n=r.digest();return vd.encodeByteArray(n)},lv=function(...e){let t="";for(let r=0;r<e.length;r++){const n=e[r];Array.isArray(n)||n&&"object"==typeof n&&"number"==typeof n.length?t+=lv.apply(null,n):t+="object"==typeof n?jd(n):n,t+=" "}return t};let cv=null,uv=!0;const dv=function(...e){if(!0===uv&&(uv=!1,null===cv&&!0===ov.get("logging_enabled")&&(t=!0,pd(!r||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(iv.logLevel=ch.VERBOSE,cv=iv.log.bind(iv),r&&ov.set("logging_enabled",!0)):"function"==typeof t?cv=t:(cv=null,ov.remove("logging_enabled")))),cv){const t=lv.apply(null,e);cv(t)}var t,r},hv=function(e){return function(...t){dv(e,...t)}},fv=function(...e){const t="FIREBASE INTERNAL ERROR: "+lv(...e);iv.error(t)},pv=function(...e){const t=`FIREBASE FATAL ERROR: ${lv(...e)}`;throw iv.error(t),new Error(t)},gv=function(...e){const t="FIREBASE WARNING: "+lv(...e);iv.warn(t)},mv=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},vv="[MIN_NAME]",bv="[MAX_NAME]",yv=function(e,t){if(e===t)return 0;if(e===vv||t===bv)return-1;if(t===vv||e===bv)return 1;{const r=Tv(e),n=Tv(t);return null!==r?null!==n?r-n==0?e.length-t.length:r-n:-1:null!==n?1:e<t?-1:1}},wv=function(e,t){return e===t?0:e<t?-1:1},_v=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+jd(t))},kv=function(e){if("object"!=typeof e||null===e)return jd(e);const t=[];for(const r in e)t.push(r);t.sort();let r="{";for(let n=0;n<t.length;n++)0!==n&&(r+=","),r+=jd(t[n]),r+=":",r+=kv(e[t[n]]);return r+="}",r},xv=function(e,t){const r=e.length;if(r<=t)return[e];const n=[];for(let o=0;o<r;o+=t)o+t>r?n.push(e.substring(o,r)):n.push(e.substring(o,o+t));return n};function Sv(e,t){for(const r in e)e.hasOwnProperty(r)&&t(r,e[r])}const Ev=function(e){pd(!mv(e),"Invalid JSON number");let t,r,n,o,i;0===e?(r=0,n=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),r=o+1023,n=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,n=Math.round(e/Math.pow(2,-1074))));const s=[];for(i=52;i;i-=1)s.push(n%2?1:0),n=Math.floor(n/2);for(i=11;i;i-=1)s.push(r%2?1:0),r=Math.floor(r/2);s.push(t?1:0),s.reverse();const a=s.join("");let l="";for(i=0;i<64;i+=8){let e=parseInt(a.substr(i,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()},Cv=new RegExp("^-?(0*)\\d{1,10}$"),Tv=function(e){if(Cv.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Iv=function(e){try{e()}catch(e){setTimeout((()=>{const t=e.stack||"";throw gv("Exception was thrown by user callback.",t),e}),Math.floor(0))}},Nv=function(e,t){const r=setTimeout(e,t);return"number"==typeof r&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(r):"object"==typeof r&&r.unref&&r.unref(),r};class Rv{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Xm(((t,r)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,r):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){gv(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Dv{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(dv("Got auth/token-not-initialized error.  Treating as null token."),null):Xm.reject(e))):new Xm(((t,r)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,r):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gv(e)}}class Pv{constructor(e){this.accessToken=e}getToken(e){return Xm.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Pv.OWNER="owner";const zv="5",Bv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ov="ac",Av="websocket",Fv="long_polling";class Mv{constructor(e,t,r,n,o=!1,i="",s=!1,a=!1){this.secure=t,this.namespace=r,this.webSocketOnly=n,this.nodeAdmin=o,this.persistenceKey=i,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=nv.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&nv.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function jv(e,t,r){let n;if(pd("string"==typeof t,"typeof type must == string"),pd("object"==typeof r,"typeof params must == object"),t===Av)n=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Fv)throw new Error("Unknown connection type: "+t);n=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(r.ns=e.namespace);const o=[];return Sv(r,((e,t)=>{o.push(e+"="+t)})),n+o.join("&")}class Lv{constructor(){this.counters_={}}incrementCounter(e,t=1){qd(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return kd(this.counters_)}}const qv={},Uv={};function Vv(e){const t=e.toString();return qv[t]||(qv[t]=new Lv),qv[t]}class Hv{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Iv((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Wv="start";class $v{constructor(e,t,r,n,o,i,s){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=n,this.authToken=o,this.transportSessionId=i,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hv(e),this.stats_=Vv(t),this.urlFn=e=>(this.appCheckToken&&(e[Ov]=this.appCheckToken),jv(t,Fv,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Hv(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const r=function(){document.body?t||(t=!0,e()):setTimeout(r,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&r()})),window.attachEvent("onload",r))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Kv(((...e)=>{const[t,r,n,o,i]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===Wv)this.id=r,this.password=n;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);r?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(r,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,r]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,r)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Wv]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=zv,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Ov]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Bv.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$v.forceAllow_=!0}static forceDisallow(){$v.forceDisallow_=!0}static isAvailable(){return!(!$v.forceAllow_&&($v.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=jd(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=yd(t),n=xv(r,1840);for(let e=0;e<n.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,n.length,n[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=jd(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Kv{constructor(e,t,r,n){this.onDisconnect=r,this.urlFn=n,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=sv(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Kv.createIFrame_();let r="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(r='<script>document.domain="'+document.domain+'";<\/script>');const n="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(n),this.myIFrame.doc.close()}catch(e){dv("frame writing exception"),e.stack&&dv(e.stack),dv(e)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||dv("No IE domain setting required")}catch(t){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",n=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const e=this.pendingSegs.shift();r=r+"&seg"+n+"="+e.seg+"&ts"+n+"="+e.ts+"&d"+n+"="+e.d,n++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},n=setTimeout(r,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(n),r()}))}addTag(e,t){setTimeout((()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{dv("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(e){}}),Math.floor(1))}}let Gv=null;"undefined"!=typeof MozWebSocket?Gv=MozWebSocket:"undefined"!=typeof WebSocket&&(Gv=WebSocket);class Qv{constructor(e,t,r,n,o,i,s){this.connId=e,this.applicationId=r,this.appCheckToken=n,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hv(this.connId),this.stats_=Vv(t),this.connURL=Qv.connectionURL_(t,i,s,n,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,n,o){const i={};return i.v=zv,"undefined"!=typeof location&&location.hostname&&Bv.test(location.hostname)&&(i.r="f"),t&&(i.s=t),r&&(i.ls=r),n&&(i[Ov]=n),o&&(i.p=o),jv(e,Av,i)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,nv.set("previous_websocket_failure",!0);try{let e;0,this.mySock=new Gv(this.connURL,[],e)}catch(e){this.log_("Error instantiating WebSocket.");const t=e.message||e.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Qv.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Gv&&!Qv.forceDisallow_}static previouslyFailed(){return nv.isInMemoryStorage||!0===nv.get("previous_websocket_failure")}markConnectionHealthy(){nv.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Md(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(pd(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=jd(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=xv(t,16384);r.length>1&&this.sendString_(String(r.length));for(let e=0;e<r.length;e++)this.sendString_(r[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Qv.responsesRequiredToBeHealthy=2,Qv.healthyTimeout=3e4;class Xv{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[$v,Qv]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Qv&&Qv.isAvailable();let r=t&&!Qv.previouslyFailed();if(e.webSocketOnly&&(t||gv("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Qv];else{const e=this.transports_=[];for(const t of Xv.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Xv.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Xv.globalTransportInitialized_=!1;class Yv{constructor(e,t,r,n,o,i,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=n,this.authToken_=o,this.onMessage_=i,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hv("c:"+this.id+":"),this.transportManager_=new Xv(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,r)}),Math.floor(0));const n=e.healthyTimeout||0;n>0&&(this.healthyTimeout_=Nv((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(n)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=_v("t",e),r=_v("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=_v("t",e),r=_v("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=_v("t",e);if("d"in e){const r=e.d;if("h"===t){const e=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?fv("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fv("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,n=e.h;this.sessionId=e.s,this.repoInfo_.host=n,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),zv!==r&&gv("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Nv((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Nv((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(nv.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Jv{put(e,t,r,n){}merge(e,t,r,n){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class Zv{constructor(e){this.allowedEvents_=e,this.listeners_={},pd(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let e=0;e<r.length;e++)r[e].callback.apply(r[e].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const n=this.getInitialEvent(e);n&&t.apply(r,n)}off(e,t,r){this.validateEventType_(e);const n=this.listeners_[e]||[];for(let e=0;e<n.length;e++)if(n[e].callback===t&&(!r||r===n[e].context))return void n.splice(e,1)}validateEventType_(e){pd(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class eb extends Zv{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Pd()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new eb}getInitialEvent(e){return pd("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class tb{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function rb(){return new tb("")}function nb(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ob(e){return e.pieces_.length-e.pieceNum_}function ib(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new tb(e.pieces_,t)}function sb(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ab(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function lb(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let r=e.pieceNum_;r<e.pieces_.length-1;r++)t.push(e.pieces_[r]);return new tb(t,0)}function cb(e,t){const r=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)r.push(e.pieces_[t]);if(t instanceof tb)for(let e=t.pieceNum_;e<t.pieces_.length;e++)r.push(t.pieces_[e]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&r.push(e[t])}return new tb(r,0)}function ub(e){return e.pieceNum_>=e.pieces_.length}function db(e,t){const r=nb(e),n=nb(t);if(null===r)return t;if(r===n)return db(ib(e),ib(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function hb(e,t){if(ob(e)!==ob(t))return!1;for(let r=e.pieceNum_,n=t.pieceNum_;r<=e.pieces_.length;r++,n++)if(e.pieces_[r]!==t.pieces_[n])return!1;return!0}function fb(e,t){let r=e.pieceNum_,n=t.pieceNum_;if(ob(e)>ob(t))return!1;for(;r<e.pieces_.length;){if(e.pieces_[r]!==t.pieces_[n])return!1;++r,++n}return!0}class pb{constructor(e,t){this.errorPrefix_=t,this.parts_=ab(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=eh(this.parts_[e]);gb(this)}}function gb(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+mb(e))}function mb(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class vb extends Zv{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new vb}getInitialEvent(e){return pd("visible"===e,"Unknown event type: "+e),[this.visible_]}}const bb=1e3;class yb extends Jv{constructor(e,t,r,n,o,i,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=n,this.onServerInfoUpdate_=o,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=yb.nextPersistentConnectionId_++,this.log_=hv("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bb,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vb.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&eb.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const n=++this.requestNumber_,o={r:n,a:e,b:t};this.log_(jd(o)),pd(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[n]=r)}get(e){this.initConnection_();const t=new Nd,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const r=e.d;"ok"===e.s?t.resolve(r):t.reject(r)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const n=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(n),t.promise}listen(e,t,r,n){this.initConnection_();const o=e._queryIdentifier,i=e._path.toString();this.log_("Listen called for "+i+" "+o),this.listens.has(i)||this.listens.set(i,new Map),pd(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),pd(!this.listens.get(i).has(o),"listen() called twice for same path/queryId.");const s={onComplete:n,hashFn:t,query:e,tag:r};this.listens.get(i).set(o,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)}))}sendListen_(e){const t=e.query,r=t._path.toString(),n=t._queryIdentifier;this.log_("Listen on "+r+" for "+n);const o={p:r};e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(o=>{const i=o.d,s=o.s;yb.warnOnListenWarnings_(i,t),(this.listens.get(r)&&this.listens.get(r).get(n))===e&&(this.log_("listen response",o),"ok"!==s&&this.removeListen_(r,n),e.onComplete&&e.onComplete(s,i))}))}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&qd(e,"w")){const r=Ud(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',r=t._path.toString();gv(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Ld(e).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Ld(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(t,r,(t=>{const r=t.s,n=t.d||"error";this.authToken_===e&&("ok"===r?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,n))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,r=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)}))}unlisten(e,t){const r=e._path.toString(),n=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+n),pd(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,n)&&this.connected_&&this.sendUnlisten_(r,n,e._queryObject,t)}sendUnlisten_(e,t,r,n){this.log_("Unlisten on "+e+" for "+t);const o={p:e};n&&(o.q=r,o.t=n),this.sendRequest("n",o)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,n){const o={p:t,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,(e=>{n&&setTimeout((()=>{n(e.s,e.d)}),Math.floor(0))}))}put(e,t,r,n){this.putInternal("p",e,t,r,n)}merge(e,t,r,n){this.putInternal("m",e,t,r,n)}putInternal(e,t,r,n,o){this.initConnection_();const i={p:t,d:r};void 0!==o&&(i.h=o),this.outstandingPuts_.push({action:e,request:i,onComplete:n}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,n=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,(r=>{this.log_(t+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),n&&n(r.s,r.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+jd(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):fv("Unrecognized action received from server: "+jd(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){pd(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bb,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=bb,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=bb),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),n=this.id+":"+yb.nextConnectionId_++,o=this.lastSessionId;let i=!1,s=null;const a=function(){s?s.close():(i=!0,r())},l=function(e){pd(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Xm.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);i?dv("getToken() completed but was canceled"):(dv("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new Yv(n,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,(e=>{gv(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),o))}catch(e){this.log_("Failed to get token: "+e),i||(this.repoInfo_.nodeAdmin&&gv(e),a())}}}interrupt(e){dv("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dv("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Vd(this.interruptReasons_)&&(this.reconnectDelay_=bb,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;r=t?t.map((e=>kv(e))).join("$"):"default";const n=this.removeListen_(e,r);n&&n.onComplete&&n.onComplete("permission_denied")}removeListen_(e,t){const r=new tb(e).toString();let n;if(this.listens.has(r)){const e=this.listens.get(r);n=e.get(t),e.delete(t),0===e.size&&this.listens.delete(r)}else n=void 0;return n}onAuthRevoked_(e,t){dv("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){dv("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+Zm.replace(/\./g,"-")]=1,Pd()?e["framework.cordova"]=1:zd()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=eb.getInstance().currentlyOnline();return Vd(this.interruptReasons_)&&e}}yb.nextPersistentConnectionId_=0,yb.nextConnectionId_=0;class wb{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new wb(e,t)}}class _b{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new wb(vv,e),n=new wb(vv,t);return 0!==this.compare(r,n)}minPost(){return wb.MIN}}let kb;class xb extends _b{static get __EMPTY_NODE(){return kb}static set __EMPTY_NODE(e){kb=e}compare(e,t){return yv(e.name,t.name)}isDefinedOn(e){throw gd("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return wb.MIN}maxPost(){return new wb(bv,kb)}makePost(e,t){return pd("string"==typeof e,"KeyIndex indexValue must always be a string."),new wb(e,kb)}toString(){return".key"}}const Sb=new xb;class Eb{constructor(e,t,r,n,o=null){this.isReverse_=n,this.resultGenerator_=o,this.nodeStack_=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,n&&(i*=-1),i<0)e=this.isReverse_?e.left:e.right;else{if(0===i){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Cb{constructor(e,t,r,n,o){this.key=e,this.value=t,this.color=null!=r?r:Cb.RED,this.left=null!=n?n:Tb.EMPTY_NODE,this.right=null!=o?o:Tb.EMPTY_NODE}copy(e,t,r,n,o){return new Cb(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let n=this;const o=r(e,n.key);return n=o<0?n.copy(null,null,null,n.left.insert(e,t,r),null):0===o?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,r)),n.fixUp_()}removeMin_(){if(this.left.isEmpty())return Tb.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,n;if(r=this,t(e,r.key)<0)r.left.isEmpty()||r.left.isRed_()||r.left.left.isRed_()||(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),r.right.isEmpty()||r.right.isRed_()||r.right.left.isRed_()||(r=r.moveRedRight_()),0===t(e,r.key)){if(r.right.isEmpty())return Tb.EMPTY_NODE;n=r.right.min_(),r=r.copy(n.key,n.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Cb.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Cb.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Cb.RED=!0,Cb.BLACK=!1;class Tb{constructor(e,t=Tb.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Tb(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Cb.BLACK,null,null))}remove(e){return new Tb(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Cb.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,n=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return n?n.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(n=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Eb(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Eb(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Eb(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Eb(this.root_,null,this.comparator_,!0,e)}}function Ib(e,t){return yv(e.name,t.name)}function Nb(e,t){return yv(e,t)}let Rb;Tb.EMPTY_NODE=new class{copy(e,t,r,n,o){return this}insert(e,t,r){return new Cb(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Db=function(e){return"number"==typeof e?"number:"+Ev(e):"string:"+e},Pb=function(e){if(e.isLeafNode()){const t=e.val();pd("string"==typeof t||"number"==typeof t||"object"==typeof t&&qd(t,".sv"),"Priority must be a string or number.")}else pd(e===Rb||e.isEmpty(),"priority of unexpected type.");pd(e===Rb||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let zb,Bb,Ob;class Ab{constructor(e,t=Ab.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,pd(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Pb(this.priorityNode_)}static set __childrenNodeConstructor(e){zb=e}static get __childrenNodeConstructor(){return zb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ab(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Ab.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ub(e)?this:".priority"===nb(e)?this.priorityNode_:Ab.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Ab.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=nb(e);return null===r?t:t.isEmpty()&&".priority"!==r?this:(pd(".priority"!==r||1===ob(e),".priority must be the last token in a path"),this.updateImmediateChild(r,Ab.__childrenNodeConstructor.EMPTY_NODE.updateChild(ib(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Db(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Ev(this.value_):this.value_,this.lazyHash_=av(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ab.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ab.__childrenNodeConstructor?-1:(pd(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,n=Ab.VALUE_TYPE_ORDER.indexOf(t),o=Ab.VALUE_TYPE_ORDER.indexOf(r);return pd(n>=0,"Unknown leaf type: "+t),pd(o>=0,"Unknown leaf type: "+r),n===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-n}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Ab.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Fb=new class extends _b{compare(e,t){const r=e.node.getPriority(),n=t.node.getPriority(),o=r.compareTo(n);return 0===o?yv(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return wb.MIN}maxPost(){return new wb(bv,new Ab("[PRIORITY-POST]",Ob))}makePost(e,t){const r=Bb(e);return new wb(t,new Ab("[PRIORITY-POST]",r))}toString(){return".priority"}},Mb=Math.log(2);class jb{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Mb,10)),this.current_=this.count-1;const r=(n=this.count,parseInt(Array(n+1).join("1"),2));var n;this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Lb=function(e,t,r,n){e.sort(t);const o=function(t,n){const i=n-t;let s,a;if(0===i)return null;if(1===i)return s=e[t],a=r?r(s):s,new Cb(a,s.node,Cb.BLACK,null,null);{const l=parseInt(i/2,10)+t,c=o(t,l),u=o(l+1,n);return s=e[l],a=r?r(s):s,new Cb(a,s.node,Cb.BLACK,c,u)}},i=function(t){let n=null,i=null,s=e.length;const a=function(t,n){const i=s-t,a=s;s-=t;const c=o(i+1,a),u=e[i],d=r?r(u):u;l(new Cb(d,u.node,n,null,c))},l=function(e){n?(n.left=e,n=e):(i=e,n=e)};for(let e=0;e<t.count;++e){const r=t.nextBitIsOne(),n=Math.pow(2,t.count-(e+1));r?a(n,Cb.BLACK):(a(n,Cb.BLACK),a(n,Cb.RED))}return i}(new jb(e.length));return new Tb(n||t,i)};let qb;const Ub={};class Vb{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return pd(Ub&&Fb,"ChildrenNode.ts has not been loaded"),qb=qb||new Vb({".priority":Ub},{".priority":Fb}),qb}get(e){const t=Ud(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Tb?t:null}hasIndex(e){return qd(this.indexSet_,e.toString())}addIndex(e,t){pd(e!==Sb,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let n=!1;const o=t.getIterator(wb.Wrap);let i,s=o.getNext();for(;s;)n=n||e.isDefinedOn(s.node),r.push(s),s=o.getNext();i=n?Lb(r,e.getCompare()):Ub;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=i,new Vb(c,l)}addToIndexes(e,t){const r=Hd(this.indexes_,((r,n)=>{const o=Ud(this.indexSet_,n);if(pd(o,"Missing index implementation for "+n),r===Ub){if(o.isDefinedOn(e.node)){const r=[],n=t.getIterator(wb.Wrap);let i=n.getNext();for(;i;)i.name!==e.name&&r.push(i),i=n.getNext();return r.push(e),Lb(r,o.getCompare())}return Ub}{const n=t.get(e.name);let o=r;return n&&(o=o.remove(new wb(e.name,n))),o.insert(e,e.node)}}));return new Vb(r,this.indexSet_)}removeFromIndexes(e,t){const r=Hd(this.indexes_,(r=>{if(r===Ub)return r;{const n=t.get(e.name);return n?r.remove(new wb(e.name,n)):r}}));return new Vb(r,this.indexSet_)}}let Hb;class Wb{constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Pb(this.priorityNode_),this.children_.isEmpty()&&pd(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Hb||(Hb=new Wb(new Tb(Nb),null,Vb.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hb}updatePriority(e){return this.children_.isEmpty()?this:new Wb(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Hb:t}}getChild(e){const t=nb(e);return null===t?this:this.getImmediateChild(t).getChild(ib(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(pd(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const r=new wb(e,t);let n,o;t.isEmpty()?(n=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(n=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(r,this.children_));const i=n.isEmpty()?Hb:this.priorityNode_;return new Wb(n,i,o)}}updateChild(e,t){const r=nb(e);if(null===r)return t;{pd(".priority"!==nb(e)||1===ob(e),".priority must be the last token in a path");const n=this.getImmediateChild(r).updateChild(ib(e),t);return this.updateImmediateChild(r,n)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,n=0,o=!0;if(this.forEachChild(Fb,((i,s)=>{t[i]=s.val(e),r++,o&&Wb.INTEGER_REGEXP_.test(i)?n=Math.max(n,Number(i)):o=!1})),!e&&o&&n<2*r){const e=[];for(const r in t)e[r]=t[r];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Db(this.getPriority().val())+":"),this.forEachChild(Fb,((t,r)=>{const n=r.hash();""!==n&&(e+=":"+t+":"+n)})),this.lazyHash_=""===e?"":av(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const n=this.resolveIndex_(r);if(n){const r=n.getPredecessorKey(new wb(e,t));return r?r.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new wb(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new wb(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,(e=>e));{const r=this.children_.getIteratorFrom(e.name,wb.Wrap);let n=r.peek();for(;null!=n&&t.compare(n,e)<0;)r.getNext(),n=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,(e=>e));{const r=this.children_.getReverseIteratorFrom(e.name,wb.Wrap);let n=r.peek();for(;null!=n&&t.compare(n,e)>0;)r.getNext(),n=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$b?-1:0}withIndex(e){if(e===Sb||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Wb(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Sb||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Fb),r=t.getIterator(Fb);let n=e.getNext(),o=r.getNext();for(;n&&o;){if(n.name!==o.name||!n.node.equals(o.node))return!1;n=e.getNext(),o=r.getNext()}return null===n&&null===o}return!1}return!1}}resolveIndex_(e){return e===Sb?null:this.indexMap_.get(e.toString())}}Wb.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const $b=new class extends Wb{constructor(){super(new Tb(Nb),Wb.EMPTY_NODE,Vb.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Wb.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(wb,{MIN:{value:new wb(vv,Wb.EMPTY_NODE)},MAX:{value:new wb(bv,$b)}}),xb.__EMPTY_NODE=Wb.EMPTY_NODE,Ab.__childrenNodeConstructor=Wb,Rb=$b,Ob=$b;const Kb=!0;function Gb(e,t=null){if(null===e)return Wb.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),pd(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Ab(e,Gb(t));if(e instanceof Array||!Kb){let r=Wb.EMPTY_NODE;return Sv(e,((t,n)=>{if(qd(e,t)&&"."!==t.substring(0,1)){const e=Gb(n);!e.isLeafNode()&&e.isEmpty()||(r=r.updateImmediateChild(t,e))}})),r.updatePriority(Gb(t))}{const r=[];let n=!1;if(Sv(e,((e,t)=>{if("."!==e.substring(0,1)){const o=Gb(t);o.isEmpty()||(n=n||!o.getPriority().isEmpty(),r.push(new wb(e,o)))}})),0===r.length)return Wb.EMPTY_NODE;const o=Lb(r,Ib,(e=>e.name),Nb);if(n){const e=Lb(r,Fb.getCompare());return new Wb(o,Gb(t),new Vb({".priority":e},{".priority":Fb}))}return new Wb(o,Gb(t),Vb.Default)}}!function(e){Bb=e}(Gb);class Qb extends _b{constructor(e){super(),this.indexPath_=e,pd(!ub(e)&&".priority"!==nb(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),n=this.extractChild(t.node),o=r.compareTo(n);return 0===o?yv(e.name,t.name):o}makePost(e,t){const r=Gb(e),n=Wb.EMPTY_NODE.updateChild(this.indexPath_,r);return new wb(t,n)}maxPost(){const e=Wb.EMPTY_NODE.updateChild(this.indexPath_,$b);return new wb(bv,e)}toString(){return ab(this.indexPath_,0).join("/")}}const Xb=new class extends _b{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?yv(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return wb.MIN}maxPost(){return wb.MAX}makePost(e,t){const r=Gb(e);return new wb(t,r)}toString(){return".value"}};function Yb(e){return{type:"value",snapshotNode:e}}function Jb(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Zb(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ey(e,t,r){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:r}}class ty{constructor(e){this.index_=e}updateChild(e,t,r,n,o,i){pd(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(n).equals(r.getChild(n))&&s.isEmpty()===r.isEmpty()?e:(null!=i&&(r.isEmpty()?e.hasChild(t)?i.trackChildChange(Zb(t,s)):pd(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?i.trackChildChange(Jb(t,r)):i.trackChildChange(ey(t,r,s))),e.isLeafNode()&&r.isEmpty()?e:e.updateImmediateChild(t,r).withIndex(this.index_))}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(Fb,((e,n)=>{t.hasChild(e)||r.trackChildChange(Zb(e,n))})),t.isLeafNode()||t.forEachChild(Fb,((t,n)=>{if(e.hasChild(t)){const o=e.getImmediateChild(t);o.equals(n)||r.trackChildChange(ey(t,n,o))}else r.trackChildChange(Jb(t,n))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Wb.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ry{constructor(e){this.indexedFilter_=new ty(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ry.getStartPost_(e),this.endPost_=ry.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,n,o,i){return this.matches(new wb(t,r))||(r=Wb.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,n,o,i)}updateFullNode(e,t,r){t.isLeafNode()&&(t=Wb.EMPTY_NODE);let n=t.withIndex(this.index_);n=n.updatePriority(Wb.EMPTY_NODE);const o=this;return t.forEachChild(Fb,((e,t)=>{o.matches(new wb(e,t))||(n=n.updateImmediateChild(e,Wb.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,n,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class ny{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new ry(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,n,o,i){return this.rangedFilter_.matches(new wb(t,r))||(r=Wb.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,n,o,i):this.fullLimitUpdateChild_(e,t,r,o,i)}updateFullNode(e,t,r){let n;if(t.isLeafNode()||t.isEmpty())n=Wb.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;n=Wb.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let r=0;for(;e.hasNext()&&r<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;n=n.updateImmediateChild(t.name,t.node),r++}}}else{let e;n=t.withIndex(this.index_),n=n.updatePriority(Wb.EMPTY_NODE),e=this.reverse_?n.getReverseIterator(this.index_):n.getIterator(this.index_);let r=0;for(;e.hasNext();){const t=e.getNext();r<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?r++:n=n.updateImmediateChild(t.name,Wb.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,n,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,n,o){let i;if(this.reverse_){const e=this.index_.getCompare();i=(t,r)=>e(r,t)}else i=this.index_.getCompare();const s=e;pd(s.numChildren()===this.limit_,"");const a=new wb(t,r),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=n.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=n.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:i(u,a);if(c&&!r.isEmpty()&&d>=0)return null!=o&&o.trackChildChange(ey(t,r,e)),s.updateImmediateChild(t,r);{null!=o&&o.trackChildChange(Zb(t,e));const r=s.updateImmediateChild(t,Wb.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=o&&o.trackChildChange(Jb(u.name,u.node)),r.updateImmediateChild(u.name,u.node)):r}}return r.isEmpty()?e:c&&i(l,a)>=0?(null!=o&&(o.trackChildChange(Zb(l.name,l.node)),o.trackChildChange(Jb(t,r))),s.updateImmediateChild(t,r).updateImmediateChild(l.name,Wb.EMPTY_NODE)):e}}class oy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fb}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return pd(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return pd(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vv}hasEnd(){return this.endSet_}getIndexEndValue(){return pd(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return pd(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bv}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return pd(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fb}copy(){const e=new oy;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function iy(e){const t={};if(e.isDefault())return t;let r;if(e.index_===Fb?r="$priority":e.index_===Xb?r="$value":e.index_===Sb?r="$key":(pd(e.index_ instanceof Qb,"Unrecognized index type!"),r=e.index_.toString()),t.orderBy=jd(r),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=jd(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+jd(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=jd(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+jd(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function sy(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let r=e.viewFrom_;""===r&&(r=e.isViewFromLeft()?"l":"r"),t.vf=r}return e.index_!==Fb&&(t.i=e.index_.toString()),t}class ay extends Jv{constructor(e,t,r,n){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=n,this.log_=hv("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(pd(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,n){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const i=ay.getListenId_(e,r),s={};this.listens_[i]=s;const a=iy(e._queryParams);this.restRequest_(o+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(o,a,!1,r),Ud(this.listens_,i)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",n(t,null)}}))}unlisten(e,t){const r=ay.getListenId_(e,t);delete this.listens_[r]}get(e){const t=iy(e._queryParams),r=e._path.toString(),n=new Nd;return this.restRequest_(r+".json",t,((e,t)=>{let o=t;404===e&&(o=null,e=null),null===e?(this.onDataUpdate_(r,o,!1,null),n.resolve(o)):n.reject(new Error(o))})),n.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Xm.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([n,o])=>{n&&n.accessToken&&(t.auth=n.accessToken),o&&o.token&&(t.ac=o.token);const i=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Kd(t);this.log_("Sending REST request for "+i);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(r&&4===s.readyState){this.log_("REST Response for "+i+" received. status:",s.status,"response:",s.responseText);let e=null;if(s.status>=200&&s.status<300){try{e=Md(s.responseText)}catch(e){gv("Failed to parse JSON response for "+i+": "+s.responseText)}r(null,e)}else 401!==s.status&&404!==s.status&&gv("Got unsuccessful REST response for "+i+" Status: "+s.status),r(s.status);r=null}},s.open("GET",i,!0),s.send()}))}}class ly{constructor(){this.rootNode_=Wb.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function cy(){return{value:null,children:new Map}}function uy(e,t,r){if(ub(t))e.value=r,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,r);else{const n=nb(t);e.children.has(n)||e.children.set(n,cy()),uy(e.children.get(n),t=ib(t),r)}}function dy(e,t,r){null!==e.value?r(t,e.value):function(e,t){e.children.forEach(((e,r)=>{t(r,e)}))}(e,((e,n)=>{dy(n,new tb(t.toString()+"/"+e),r)}))}class hy{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Sv(this.last_,((e,r)=>{t[e]=t[e]-r})),this.last_=e,t}}class fy{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new hy(e);const r=1e4+2e4*Math.random();Nv(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Sv(e,((e,n)=>{n>0&&qd(this.statsToReport_,e)&&(t[e]=n,r=!0)})),r&&this.server_.reportStats(t),Nv(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var py,gy;function my(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}(gy=py||(py={}))[gy.OVERWRITE=0]="OVERWRITE",gy[gy.MERGE=1]="MERGE",gy[gy.ACK_USER_WRITE=2]="ACK_USER_WRITE",gy[gy.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";class vy{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=py.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ub(this.path)){if(null!=this.affectedTree.value)return pd(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new tb(e));return new vy(rb(),t,this.revert)}}return pd(nb(this.path)===e,"operationForChild called for unrelated child."),new vy(ib(this.path),this.affectedTree,this.revert)}}class by{constructor(e,t){this.source=e,this.path=t,this.type=py.LISTEN_COMPLETE}operationForChild(e){return ub(this.path)?new by(this.source,rb()):new by(this.source,ib(this.path))}}class yy{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=py.OVERWRITE}operationForChild(e){return ub(this.path)?new yy(this.source,rb(),this.snap.getImmediateChild(e)):new yy(this.source,ib(this.path),this.snap)}}class wy{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=py.MERGE}operationForChild(e){if(ub(this.path)){const t=this.children.subtree(new tb(e));return t.isEmpty()?null:t.value?new yy(this.source,rb(),t.value):new wy(this.source,rb(),t)}return pd(nb(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new wy(this.source,ib(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class _y{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ub(e))return this.isFullyInitialized()&&!this.filtered_;const t=nb(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class ky{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function xy(e,t,r,n,o,i){const s=n.filter((e=>e.type===r));s.sort(((t,r)=>function(e,t,r){if(null==t.childName||null==r.childName)throw gd("Should only compare child_ events.");const n=new wb(t.childName,t.snapshotNode),o=new wb(r.childName,r.snapshotNode);return e.index_.compare(n,o)}(e,t,r))),s.forEach((r=>{const n=function(e,t,r){return"value"===t.type||"child_removed"===t.type||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,r,i);o.forEach((o=>{o.respondsTo(r.type)&&t.push(o.createEvent(n,e.query_))}))}))}function Sy(e,t){return{eventCache:e,serverCache:t}}function Ey(e,t,r,n){return Sy(new _y(t,r,n),e.serverCache)}function Cy(e,t,r,n){return Sy(e.eventCache,new _y(t,r,n))}function Ty(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Iy(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Ny;class Ry{constructor(e,t=(()=>(Ny||(Ny=new Tb(wv)),Ny))()){this.value=e,this.children=t}static fromObject(e){let t=new Ry(null);return Sv(e,((e,r)=>{t=t.set(new tb(e),r)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:rb(),value:this.value};if(ub(e))return null;{const r=nb(e),n=this.children.get(r);if(null!==n){const o=n.findRootMostMatchingPathAndValue(ib(e),t);return null!=o?{path:cb(new tb(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(ub(e))return this;{const t=nb(e),r=this.children.get(t);return null!==r?r.subtree(ib(e)):new Ry(null)}}set(e,t){if(ub(e))return new Ry(t,this.children);{const r=nb(e),n=(this.children.get(r)||new Ry(null)).set(ib(e),t),o=this.children.insert(r,n);return new Ry(this.value,o)}}remove(e){if(ub(e))return this.children.isEmpty()?new Ry(null):new Ry(null,this.children);{const t=nb(e),r=this.children.get(t);if(r){const n=r.remove(ib(e));let o;return o=n.isEmpty()?this.children.remove(t):this.children.insert(t,n),null===this.value&&o.isEmpty()?new Ry(null):new Ry(this.value,o)}return this}}get(e){if(ub(e))return this.value;{const t=nb(e),r=this.children.get(t);return r?r.get(ib(e)):null}}setTree(e,t){if(ub(e))return t;{const r=nb(e),n=(this.children.get(r)||new Ry(null)).setTree(ib(e),t);let o;return o=n.isEmpty()?this.children.remove(r):this.children.insert(r,n),new Ry(this.value,o)}}fold(e){return this.fold_(rb(),e)}fold_(e,t){const r={};return this.children.inorderTraversal(((n,o)=>{r[n]=o.fold_(cb(e,n),t)})),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,rb(),t)}findOnPath_(e,t,r){const n=!!this.value&&r(t,this.value);if(n)return n;if(ub(e))return null;{const n=nb(e),o=this.children.get(n);return o?o.findOnPath_(ib(e),cb(t,n),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,rb(),t)}foreachOnPath_(e,t,r){if(ub(e))return this;{this.value&&r(t,this.value);const n=nb(e),o=this.children.get(n);return o?o.foreachOnPath_(ib(e),cb(t,n),r):new Ry(null)}}foreach(e){this.foreach_(rb(),e)}foreach_(e,t){this.children.inorderTraversal(((r,n)=>{n.foreach_(cb(e,r),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,r)=>{r.value&&e(t,r.value)}))}}class Dy{constructor(e){this.writeTree_=e}static empty(){return new Dy(new Ry(null))}}function Py(e,t,r){if(ub(t))return new Dy(new Ry(r));{const n=e.writeTree_.findRootMostValueAndPath(t);if(null!=n){const o=n.path;let i=n.value;const s=db(o,t);return i=i.updateChild(s,r),new Dy(e.writeTree_.set(o,i))}{const n=new Ry(r),o=e.writeTree_.setTree(t,n);return new Dy(o)}}}function zy(e,t,r){let n=e;return Sv(r,((e,r)=>{n=Py(n,cb(t,e),r)})),n}function By(e,t){if(ub(t))return Dy.empty();{const r=e.writeTree_.setTree(t,new Ry(null));return new Dy(r)}}function Oy(e,t){return null!=Ay(e,t)}function Ay(e,t){const r=e.writeTree_.findRootMostValueAndPath(t);return null!=r?e.writeTree_.get(r.path).getChild(db(r.path,t)):null}function Fy(e){const t=[],r=e.writeTree_.value;return null!=r?r.isLeafNode()||r.forEachChild(Fb,((e,r)=>{t.push(new wb(e,r))})):e.writeTree_.children.inorderTraversal(((e,r)=>{null!=r.value&&t.push(new wb(e,r.value))})),t}function My(e,t){if(ub(t))return e;{const r=Ay(e,t);return new Dy(null!=r?new Ry(r):e.writeTree_.subtree(t))}}function jy(e){return e.writeTree_.isEmpty()}function Ly(e,t){return qy(rb(),e.writeTree_,t)}function qy(e,t,r){if(null!=t.value)return r.updateChild(e,t.value);{let n=null;return t.children.inorderTraversal(((t,o)=>{".priority"===t?(pd(null!==o.value,"Priority writes must always be leaf nodes"),n=o.value):r=qy(cb(e,t),o,r)})),r.getChild(e).isEmpty()||null===n||(r=r.updateChild(cb(e,".priority"),n)),r}}function Uy(e,t){return Zy(t,e)}function Vy(e,t){if(e.snap)return fb(e.path,t);for(const r in e.children)if(e.children.hasOwnProperty(r)&&fb(cb(e.path,r),t))return!0;return!1}function Hy(e){return e.visible}function Wy(e,t,r){let n=Dy.empty();for(let o=0;o<e.length;++o){const i=e[o];if(t(i)){const e=i.path;let t;if(i.snap)fb(r,e)?(t=db(r,e),n=Py(n,t,i.snap)):fb(e,r)&&(t=db(e,r),n=Py(n,rb(),i.snap.getChild(t)));else{if(!i.children)throw gd("WriteRecord should have .snap or .children");if(fb(r,e))t=db(r,e),n=zy(n,t,i.children);else if(fb(e,r))if(t=db(e,r),ub(t))n=zy(n,rb(),i.children);else{const e=Ud(i.children,nb(t));if(e){const r=e.getChild(ib(t));n=Py(n,rb(),r)}}}}}return n}function $y(e,t,r,n,o){if(n||o){const i=My(e.visibleWrites,t);if(!o&&jy(i))return r;if(o||null!=r||Oy(i,rb())){const i=function(e){return(e.visible||o)&&(!n||!~n.indexOf(e.writeId))&&(fb(e.path,t)||fb(t,e.path))};return Ly(Wy(e.allWrites,i,t),r||Wb.EMPTY_NODE)}return null}{const n=Ay(e.visibleWrites,t);if(null!=n)return n;{const n=My(e.visibleWrites,t);return jy(n)?r:null!=r||Oy(n,rb())?Ly(n,r||Wb.EMPTY_NODE):null}}}function Ky(e,t,r,n){return $y(e.writeTree,e.treePath,t,r,n)}function Gy(e,t){return function(e,t,r){let n=Wb.EMPTY_NODE;const o=Ay(e.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Fb,((e,t)=>{n=n.updateImmediateChild(e,t)})),n;if(r){const o=My(e.visibleWrites,t);return r.forEachChild(Fb,((e,t)=>{const r=Ly(My(o,new tb(e)),t);n=n.updateImmediateChild(e,r)})),Fy(o).forEach((e=>{n=n.updateImmediateChild(e.name,e.node)})),n}return Fy(My(e.visibleWrites,t)).forEach((e=>{n=n.updateImmediateChild(e.name,e.node)})),n}(e.writeTree,e.treePath,t)}function Qy(e,t,r,n){return function(e,t,r,n,o){pd(n||o,"Either existingEventSnap or existingServerSnap must exist");const i=cb(t,r);if(Oy(e.visibleWrites,i))return null;{const t=My(e.visibleWrites,i);return jy(t)?o.getChild(r):Ly(t,o.getChild(r))}}(e.writeTree,e.treePath,t,r,n)}function Xy(e,t){return function(e,t){return Ay(e.visibleWrites,t)}(e.writeTree,cb(e.treePath,t))}function Yy(e,t,r){return function(e,t,r,n){const o=cb(t,r),i=Ay(e.visibleWrites,o);return null!=i?i:n.isCompleteForChild(r)?Ly(My(e.visibleWrites,o),n.getNode().getImmediateChild(r)):null}(e.writeTree,e.treePath,t,r)}function Jy(e,t){return Zy(cb(e.treePath,t),e.writeTree)}function Zy(e,t){return{treePath:e,writeTree:t}}class ew{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;pd("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),pd(".priority"!==r,"Only non-priority child changes can be tracked.");const n=this.changeMap.get(r);if(n){const o=n.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(r,ey(r,e.snapshotNode,n.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(r,Zb(r,n.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(r,Jb(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw gd("Illegal combination of changes: "+e+" occurred after "+n);this.changeMap.set(r,ey(r,e.snapshotNode,n.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const tw=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class rw{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new _y(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Yy(this.writes_,e,t)}}getChildAfterChild(e,t,r){const n=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Iy(this.viewCache_),o=function(e,t,r,n,o,i){return function(e,t,r,n,o,i,s){let a;const l=My(e.visibleWrites,t),c=Ay(l,rb());if(null!=c)a=c;else{if(null==r)return[];a=Ly(l,r)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),r=i?a.getReverseIteratorFrom(n,s):a.getIteratorFrom(n,s);let l=r.getNext();for(;l&&e.length<o;)0!==t(l,n)&&e.push(l),l=r.getNext();return e}}(e.writeTree,e.treePath,t,r,n,o,i)}(this.writes_,n,t,1,r,e);return 0===o.length?null:o[0]}}function nw(e,t,r,n,o,i){const s=t.eventCache;if(null!=Xy(n,r))return t;{let a,l;if(ub(r))if(pd(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const r=Iy(t),o=Gy(n,r instanceof Wb?r:Wb.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),o,i)}else{const r=Ky(n,Iy(t));a=e.filter.updateFullNode(t.eventCache.getNode(),r,i)}else{const c=nb(r);if(".priority"===c){pd(1===ob(r),"Can't have a priority with additional path components");const o=s.getNode();l=t.serverCache.getNode();const i=Qy(n,r,o,l);a=null!=i?e.filter.updatePriority(o,i):s.getNode()}else{const u=ib(r);let d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Qy(n,r,s.getNode(),l);d=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else d=Yy(n,c,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),c,d,u,o,i):s.getNode()}}return Ey(t,a,s.isFullyInitialized()||ub(r),e.filter.filtersNodes())}}function ow(e,t,r,n,o,i,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(ub(r))c=u.updateFullNode(l.getNode(),n,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(r,n);c=u.updateFullNode(l.getNode(),e,null)}else{const e=nb(r);if(!l.isCompleteForPath(r)&&ob(r)>1)return t;const o=ib(r),i=l.getNode().getImmediateChild(e).updateChild(o,n);c=".priority"===e?u.updatePriority(l.getNode(),i):u.updateChild(l.getNode(),e,i,o,tw,null)}const d=Cy(t,c,l.isFullyInitialized()||ub(r),u.filtersNodes());return nw(e,d,r,o,new rw(o,d,i),a)}function iw(e,t,r,n,o,i,s){const a=t.eventCache;let l,c;const u=new rw(o,t,i);if(ub(r))c=e.filter.updateFullNode(t.eventCache.getNode(),n,s),l=Ey(t,c,!0,e.filter.filtersNodes());else{const o=nb(r);if(".priority"===o)c=e.filter.updatePriority(t.eventCache.getNode(),n),l=Ey(t,c,a.isFullyInitialized(),a.isFiltered());else{const i=ib(r),c=a.getNode().getImmediateChild(o);let d;if(ub(i))d=n;else{const e=u.getCompleteChild(o);d=null!=e?".priority"===sb(i)&&e.getChild(lb(i)).isEmpty()?e:e.updateChild(i,n):Wb.EMPTY_NODE}l=c.equals(d)?t:Ey(t,e.filter.updateChild(a.getNode(),o,d,i,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}return l}function sw(e,t){return e.eventCache.isCompleteForChild(t)}function aw(e,t,r){return r.foreach(((e,r)=>{t=t.updateChild(e,r)})),t}function lw(e,t,r,n,o,i,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=ub(r)?n:new Ry(null).setTree(r,n);const u=t.serverCache.getNode();return l.children.inorderTraversal(((r,n)=>{if(u.hasChild(r)){const l=aw(0,t.serverCache.getNode().getImmediateChild(r),n);c=ow(e,c,new tb(r),l,o,i,s,a)}})),l.children.inorderTraversal(((r,n)=>{const l=!t.serverCache.isCompleteForChild(r)&&null===n.value;if(!u.hasChild(r)&&!l){const l=aw(0,t.serverCache.getNode().getImmediateChild(r),n);c=ow(e,c,new tb(r),l,o,i,s,a)}})),c}class cw{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,n=new ty(r.getIndex()),o=(i=r).loadsAllData()?new ty(i.getIndex()):i.hasLimit()?new ny(i):new ry(i);var i;this.processor_=function(e){return{filter:e}}(o);const s=t.serverCache,a=t.eventCache,l=n.updateFullNode(Wb.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(Wb.EMPTY_NODE,a.getNode(),null),u=new _y(l,s.isFullyInitialized(),n.filtersNodes()),d=new _y(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Sy(d,u),this.eventGenerator_=new ky(this.query_)}get query(){return this.query_}}function uw(e,t){const r=Iy(e.viewCache_);return r&&(e.query._queryParams.loadsAllData()||!ub(t)&&!r.getImmediateChild(nb(t)).isEmpty())?r.getChild(t):null}function dw(e){return 0===e.eventRegistrations_.length}function hw(e,t,r){const n=[];if(r){pd(null==t,"A cancel should cancel all event registrations.");const o=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(r,o);t&&n.push(t)}))}if(t){let r=[];for(let n=0;n<e.eventRegistrations_.length;++n){const o=e.eventRegistrations_[n];if(o.matches(t)){if(t.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(n+1));break}}else r.push(o)}e.eventRegistrations_=r}else e.eventRegistrations_=[];return n}function fw(e,t,r,n){t.type===py.MERGE&&null!==t.source.queryId&&(pd(Iy(e.viewCache_),"We should always have a full cache before handling merges"),pd(Ty(e.viewCache_),"Missing event cache, even though we have a server cache"));const o=e.viewCache_,i=function(e,t,r,n,o){const i=new ew;let s,a;if(r.type===py.OVERWRITE){const l=r;l.source.fromUser?s=iw(e,t,l.path,l.snap,n,o,i):(pd(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!ub(l.path),s=ow(e,t,l.path,l.snap,n,o,a,i))}else if(r.type===py.MERGE){const l=r;l.source.fromUser?s=function(e,t,r,n,o,i,s){let a=t;return n.foreach(((n,l)=>{const c=cb(r,n);sw(t,nb(c))&&(a=iw(e,a,c,l,o,i,s))})),n.foreach(((n,l)=>{const c=cb(r,n);sw(t,nb(c))||(a=iw(e,a,c,l,o,i,s))})),a}(e,t,l.path,l.children,n,o,i):(pd(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=lw(e,t,l.path,l.children,n,o,a,i))}else if(r.type===py.ACK_USER_WRITE){const a=r;s=a.revert?function(e,t,r,n,o,i){let s;if(null!=Xy(n,r))return t;{const a=new rw(n,t,o),l=t.eventCache.getNode();let c;if(ub(r)||".priority"===nb(r)){let r;if(t.serverCache.isFullyInitialized())r=Ky(n,Iy(t));else{const e=t.serverCache.getNode();pd(e instanceof Wb,"serverChildren would be complete if leaf node"),r=Gy(n,e)}c=e.filter.updateFullNode(l,r,i)}else{const o=nb(r);let u=Yy(n,o,t.serverCache);null==u&&t.serverCache.isCompleteForChild(o)&&(u=l.getImmediateChild(o)),c=null!=u?e.filter.updateChild(l,o,u,ib(r),a,i):t.eventCache.getNode().hasChild(o)?e.filter.updateChild(l,o,Wb.EMPTY_NODE,ib(r),a,i):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Ky(n,Iy(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,i)))}return s=t.serverCache.isFullyInitialized()||null!=Xy(n,rb()),Ey(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,n,o,i):function(e,t,r,n,o,i,s){if(null!=Xy(o,r))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=n.value){if(ub(r)&&l.isFullyInitialized()||l.isCompleteForPath(r))return ow(e,t,r,l.getNode().getChild(r),o,i,a,s);if(ub(r)){let n=new Ry(null);return l.getNode().forEachChild(Sb,((e,t)=>{n=n.set(new tb(e),t)})),lw(e,t,r,n,o,i,a,s)}return t}{let c=new Ry(null);return n.foreach(((e,t)=>{const n=cb(r,e);l.isCompleteForPath(n)&&(c=c.set(e,l.getNode().getChild(n)))})),lw(e,t,r,c,o,i,a,s)}}(e,t,a.path,a.affectedTree,n,o,i)}else{if(r.type!==py.LISTEN_COMPLETE)throw gd("Unknown operation type: "+r.type);s=function(e,t,r,n,o){const i=t.serverCache;return nw(e,Cy(t,i.getNode(),i.isFullyInitialized()||ub(r),i.isFiltered()),r,n,tw,o)}(e,t,r.path,n,i)}const l=i.getChanges();return function(e,t,r){const n=t.eventCache;if(n.isFullyInitialized()){const o=n.getNode().isLeafNode()||n.getNode().isEmpty(),i=Ty(e);(r.length>0||!e.eventCache.isFullyInitialized()||o&&!n.getNode().equals(i)||!n.getNode().getPriority().equals(i.getPriority()))&&r.push(Yb(Ty(t)))}}(t,s,l),{viewCache:s,changes:l}}(e.processor_,o,t,r,n);var s,a;return s=e.processor_,a=i.viewCache,pd(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),pd(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),pd(i.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=i.viewCache,pw(e,i.changes,i.viewCache.eventCache.getNode(),null)}function pw(e,t,r,n){const o=n?[n]:e.eventRegistrations_;return function(e,t,r,n){const o=[],i=[];return t.forEach((t=>{var r;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&i.push((r=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:r}))})),xy(e,o,"child_removed",t,n,r),xy(e,o,"child_added",t,n,r),xy(e,o,"child_moved",i,n,r),xy(e,o,"child_changed",t,n,r),xy(e,o,"value",t,n,r),o}(e.eventGenerator_,t,r,o)}let gw,mw;class vw{constructor(){this.views=new Map}}function bw(e,t,r,n){const o=t.source.queryId;if(null!==o){const i=e.views.get(o);return pd(null!=i,"SyncTree gave us an op for an invalid query."),fw(i,t,r,n)}{let o=[];for(const i of e.views.values())o=o.concat(fw(i,t,r,n));return o}}function yw(e,t,r,n,o,i){const s=function(e,t,r,n,o){const i=t._queryIdentifier,s=e.views.get(i);if(!s){let e=Ky(r,o?n:null),i=!1;e?i=!0:n instanceof Wb?(e=Gy(r,n),i=!1):(e=Wb.EMPTY_NODE,i=!1);const s=Sy(new _y(e,i,!1),new _y(n,o,!1));return new cw(t,s)}return s}(e,t,n,o,i);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,r),function(e,t){const r=e.viewCache_.eventCache,n=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Fb,((e,t)=>{n.push(Jb(e,t))})),r.isFullyInitialized()&&n.push(Yb(r.getNode())),pw(e,n,r.getNode(),t)}(s,r)}function ww(e){const t=[];for(const r of e.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function _w(e,t){let r=null;for(const n of e.views.values())r=r||uw(n,t);return r}function kw(e,t){if(t._queryParams.loadsAllData())return Ew(e);{const r=t._queryIdentifier;return e.views.get(r)}}function xw(e,t){return null!=kw(e,t)}function Sw(e){return null!=Ew(e)}function Ew(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Cw=1;class Tw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ry(null),this.pendingWriteTree_={visibleWrites:Dy.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Iw(e,t,r,n,o){return function(e,t,r,n,o){pd(n>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),e.allWrites.push({path:t,snap:r,writeId:n,visible:o}),o&&(e.visibleWrites=Py(e.visibleWrites,t,r)),e.lastWriteId=n}(e.pendingWriteTree_,t,r,n,o),o?Bw(e,new yy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r)):[]}function Nw(e,t,r=!1){const n=function(e,t){for(let r=0;r<e.allWrites.length;r++){const n=e.allWrites[r];if(n.writeId===t)return n}return null}(e.pendingWriteTree_,t);if(function(e,t){const r=e.allWrites.findIndex((e=>e.writeId===t));pd(r>=0,"removeWrite called with nonexistent writeId.");const n=e.allWrites[r];e.allWrites.splice(r,1);let o=n.visible,i=!1,s=e.allWrites.length-1;for(;o&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=r&&Vy(t,n.path)?o=!1:fb(n.path,t.path)&&(i=!0)),s--}return!!o&&(i?(function(e){e.visibleWrites=Wy(e.allWrites,Hy,rb()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(n.snap?e.visibleWrites=By(e.visibleWrites,n.path):Sv(n.children,(t=>{e.visibleWrites=By(e.visibleWrites,cb(n.path,t))})),!0))}(e.pendingWriteTree_,t)){let t=new Ry(null);return null!=n.snap?t=t.set(rb(),!0):Sv(n.children,(e=>{t=t.set(new tb(e),!0)})),Bw(e,new vy(n.path,t,r))}return[]}function Rw(e,t,r){return Bw(e,new yy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}function Dw(e,t,r,n,o=!1){const i=t._path,s=e.syncPointTree_.get(i);let a=[];if(s&&("default"===t._queryIdentifier||xw(s,t))){const l=function(e,t,r,n){const o=t._queryIdentifier,i=[];let s=[];const a=Sw(e);if("default"===o)for(const[t,o]of e.views.entries())s=s.concat(hw(o,r,n)),dw(o)&&(e.views.delete(t),o.query._queryParams.loadsAllData()||i.push(o.query));else{const t=e.views.get(o);t&&(s=s.concat(hw(t,r,n)),dw(t)&&(e.views.delete(o),t.query._queryParams.loadsAllData()||i.push(t.query)))}return a&&!Sw(e)&&i.push(new(pd(gw,"Reference.ts has not been loaded"),gw)(t._repo,t._path)),{removed:i,events:s}}(s,t,r,n);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!o){const r=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),o=e.syncPointTree_.findOnPath(i,((e,t)=>Sw(t)));if(r&&!o){const t=e.syncPointTree_.subtree(i);if(!t.isEmpty()){const r=function(e){return e.fold(((e,t,r)=>{if(t&&Sw(t))return[Ew(t)];{let e=[];return t&&(e=ww(t)),Sv(r,((t,r)=>{e=e.concat(r)})),e}}))}(t);for(let t=0;t<r.length;++t){const n=r[t],o=n.query,i=Fw(e,n);e.listenProvider_.startListening(Vw(o),Mw(e,o),i.hashFn,i.onComplete)}}}if(!o&&c.length>0&&!n)if(r){const r=null;e.listenProvider_.stopListening(Vw(t),r)}else c.forEach((t=>{const r=e.queryToTagMap.get(jw(t));e.listenProvider_.stopListening(Vw(t),r)}))}!function(e,t){for(let r=0;r<t.length;++r){const n=t[r];if(!n._queryParams.loadsAllData()){const t=jw(n),r=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(r)}}}(e,c)}return a}function Pw(e,t,r,n=!1){const o=t._path;let i=null,s=!1;e.syncPointTree_.foreachOnPath(o,((e,t)=>{const r=db(e,o);i=i||_w(t,r),s=s||Sw(t)}));let a,l=e.syncPointTree_.get(o);l?(s=s||Sw(l),i=i||_w(l,rb())):(l=new vw,e.syncPointTree_=e.syncPointTree_.set(o,l)),null!=i?a=!0:(a=!1,i=Wb.EMPTY_NODE,e.syncPointTree_.subtree(o).foreachChild(((e,t)=>{const r=_w(t,rb());r&&(i=i.updateImmediateChild(e,r))})));const c=xw(l,t);if(!c&&!t._queryParams.loadsAllData()){const r=jw(t);pd(!e.queryToTagMap.has(r),"View does not exist, but we have a tag");const n=Cw++;e.queryToTagMap.set(r,n),e.tagToQueryMap.set(n,r)}let u=yw(l,t,r,Uy(e.pendingWriteTree_,o),i,a);if(!c&&!s&&!n){const r=kw(l,t);u=u.concat(function(e,t,r){const n=t._path,o=Mw(e,t),i=Fw(e,r),s=e.listenProvider_.startListening(Vw(t),o,i.hashFn,i.onComplete),a=e.syncPointTree_.subtree(n);if(o)pd(!Sw(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,r)=>{if(!ub(e)&&t&&Sw(t))return[Ew(t).query];{let e=[];return t&&(e=e.concat(ww(t).map((e=>e.query)))),Sv(r,((t,r)=>{e=e.concat(r)})),e}}));for(let r=0;r<t.length;++r){const n=t[r];e.listenProvider_.stopListening(Vw(n),Mw(e,n))}}return s}(e,t,r))}return u}function zw(e,t,r){const n=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,((e,r)=>{const n=_w(r,db(e,t));if(n)return n}));return $y(n,t,o,r,!0)}function Bw(e,t){return Ow(t,e.syncPointTree_,null,Uy(e.pendingWriteTree_,rb()))}function Ow(e,t,r,n){if(ub(e.path))return Aw(e,t,r,n);{const o=t.get(rb());null==r&&null!=o&&(r=_w(o,rb()));let i=[];const s=nb(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=r?r.getImmediateChild(s):null,t=Jy(n,s);i=i.concat(Ow(a,l,e,t))}return o&&(i=i.concat(bw(o,e,n,r))),i}}function Aw(e,t,r,n){const o=t.get(rb());null==r&&null!=o&&(r=_w(o,rb()));let i=[];return t.children.inorderTraversal(((t,o)=>{const s=r?r.getImmediateChild(t):null,a=Jy(n,t),l=e.operationForChild(t);l&&(i=i.concat(Aw(l,o,s,a)))})),o&&(i=i.concat(bw(o,e,n,r))),i}function Fw(e,t){const r=t.query,n=Mw(e,r);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Wb.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return n?function(e,t,r){const n=Lw(e,r);if(n){const r=qw(n),o=r.path,i=r.queryId,s=db(o,t);return Uw(e,o,new by(my(i),s))}return[]}(e,r._path,n):function(e,t){return Bw(e,new by({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,r._path);{const n=function(e,t){let r="Unknown Error";"too_big"===e?r="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?r="Client doesn't have permission to access the desired data.":"unavailable"===e&&(r="The service is unavailable");const n=new Error(e+" at "+t._path.toString()+": "+r);return n.code=e.toUpperCase(),n}(t,r);return Dw(e,r,null,n)}}}}function Mw(e,t){const r=jw(t);return e.queryToTagMap.get(r)}function jw(e){return e._path.toString()+"$"+e._queryIdentifier}function Lw(e,t){return e.tagToQueryMap.get(t)}function qw(e){const t=e.indexOf("$");return pd(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new tb(e.substr(0,t))}}function Uw(e,t,r){const n=e.syncPointTree_.get(t);return pd(n,"Missing sync point for query tag that we're tracking"),bw(n,r,Uy(e.pendingWriteTree_,t),null)}function Vw(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(pd(mw,"Reference.ts has not been loaded"),mw)(e._repo,e._path):e}class Hw{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Hw(t)}node(){return this.node_}}class Ww{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=cb(this.path_,e);return new Ww(this.syncTree_,t)}node(){return zw(this.syncTree_,this.path_)}}const $w=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Kw=function(e,t,r){return e&&"object"==typeof e?(pd(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Gw(e[".sv"],t,r):"object"==typeof e[".sv"]?Qw(e[".sv"],t):void pd(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Gw=function(e,t,r){if("timestamp"===e)return r.timestamp;pd(!1,"Unexpected server value: "+e)},Qw=function(e,t,r){e.hasOwnProperty("increment")||pd(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const n=e.increment;"number"!=typeof n&&pd(!1,"Unexpected increment value: "+n);const o=t.node();if(pd(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return n;const i=o.getValue();return"number"!=typeof i?n:i+n},Xw=function(e,t,r,n){return Jw(t,new Ww(r,e),n)},Yw=function(e,t,r){return Jw(e,new Hw(t),r)};function Jw(e,t,r){const n=e.getPriority().val(),o=Kw(n,t.getImmediateChild(".priority"),r);let i;if(e.isLeafNode()){const n=e,i=Kw(n.getValue(),t,r);return i!==n.getValue()||o!==n.getPriority().val()?new Ab(i,Gb(o)):e}{const n=e;return i=n,o!==n.getPriority().val()&&(i=i.updatePriority(new Ab(o))),n.forEachChild(Fb,((e,n)=>{const o=Jw(n,t.getImmediateChild(e),r);o!==n&&(i=i.updateImmediateChild(e,o))})),i}}class Zw{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function e_(e,t){let r=t instanceof tb?t:new tb(t),n=e,o=nb(r);for(;null!==o;){const e=Ud(n.node.children,o)||{children:{},childCount:0};n=new Zw(o,n,e),r=ib(r),o=nb(r)}return n}function t_(e){return e.node.value}function r_(e,t){e.node.value=t,a_(e)}function n_(e){return e.node.childCount>0}function o_(e,t){Sv(e.node.children,((r,n)=>{t(new Zw(r,e,n))}))}function i_(e,t,r,n){r&&!n&&t(e),o_(e,(e=>{i_(e,t,!0,n)})),r&&n&&t(e)}function s_(e){return new tb(null===e.parent?e.name:s_(e.parent)+"/"+e.name)}function a_(e){null!==e.parent&&function(e,t,r){const n=function(e){return void 0===t_(e)&&!n_(e)}(r),o=qd(e.node.children,t);n&&o?(delete e.node.children[t],e.node.childCount--,a_(e)):n||o||(e.node.children[t]=r.node,e.node.childCount++,a_(e))}(e.parent,e.name,e)}const l_=/[\[\].#$\/\u0000-\u001F\u007F]/,c_=/[\[\].#$\u0000-\u001F\u007F]/,u_=10485760,d_=function(e){return"string"==typeof e&&0!==e.length&&!l_.test(e)},h_=function(e){return"string"==typeof e&&0!==e.length&&!c_.test(e)},f_=function(e,t,r){const n=r instanceof tb?new pb(r,e):r;if(void 0===t)throw new Error(e+"contains undefined "+mb(n));if("function"==typeof t)throw new Error(e+"contains a function "+mb(n)+" with contents = "+t.toString());if(mv(t))throw new Error(e+"contains "+t.toString()+" "+mb(n));if("string"==typeof t&&t.length>u_/3&&eh(t)>u_)throw new Error(e+"contains a string greater than "+u_+" utf8 bytes "+mb(n)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(Sv(t,((t,i)=>{if(".value"===t)r=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!d_(t)))throw new Error(e+" contains an invalid key ("+t+") "+mb(n)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=eh(t),gb(e)}(n,t),f_(e,i,n),function(e){const t=e.parts_.pop();e.byteLength_-=eh(t),e.parts_.length>0&&(e.byteLength_-=1)}(n)})),r&&o)throw new Error(e+' contains ".value" child '+mb(n)+" in addition to actual children.")}},p_=function(e,t,r,n){if(!(n&&void 0===r||h_(r)))throw new Error(Zd(e,t)+'was an invalid path = "'+r+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},g_=function(e,t,r,n){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),p_(e,t,r,n)};class m_{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function v_(e,t){let r=null;for(let n=0;n<t.length;n++){const o=t[n],i=o.getPath();null===r||hb(i,r.path)||(e.eventLists_.push(r),r=null),null===r&&(r={events:[],path:i}),r.events.push(o)}r&&e.eventLists_.push(r)}function b_(e,t,r){v_(e,r),w_(e,(e=>hb(e,t)))}function y_(e,t,r){v_(e,r),w_(e,(e=>fb(e,t)||fb(t,e)))}function w_(e,t){e.recursionDepth_++;let r=!0;for(let n=0;n<e.eventLists_.length;n++){const o=e.eventLists_[n];o&&(t(o.path)?(__(e.eventLists_[n]),e.eventLists_[n]=null):r=!1)}r&&(e.eventLists_=[]),e.recursionDepth_--}function __(e){for(let t=0;t<e.events.length;t++){const r=e.events[t];if(null!==r){e.events[t]=null;const n=r.getEventRunner();cv&&dv("event: "+r.toString()),Iv(n)}}}const k_=25;class x_{constructor(e,t,r,n){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new m_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=cy(),this.transactionQueueTree_=new Zw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function S_(e,t,r){if(e.stats_=Vv(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new ay(e.repoInfo_,((t,r,n,o)=>{T_(e,t,r,n,o)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>I_(e,!0)),0);else{if(null!=r){if("object"!=typeof r)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{jd(r)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new yb(e.repoInfo_,t,((t,r,n,o)=>{T_(e,t,r,n,o)}),(t=>{I_(e,t)}),(t=>{!function(e,t){Sv(t,((t,r)=>{N_(e,t,r)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,r),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(t,r){const n=t.toString();return Uv[n]||(Uv[n]=new fy(e.stats_,e.server_)),Uv[n]}(e.repoInfo_),e.infoData_=new ly,e.infoSyncTree_=new Tw({startListening:(t,r,n,o)=>{let i=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(i=Rw(e.infoSyncTree_,t._path,s),setTimeout((()=>{o("ok")}),0)),i},stopListening:()=>{}}),N_(e,"connected",!1),e.serverSyncTree_=new Tw({startListening:(t,r,n,o)=>(e.server_.listen(t,n,r,((r,n)=>{const i=o(r,n);y_(e.eventQueue_,t._path,i)})),[]),stopListening:(t,r)=>{e.server_.unlisten(t,r)}})}function E_(e){const t=e.infoData_.getNode(new tb(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function C_(e){return $w({timestamp:E_(e)})}function T_(e,t,r,n,o){e.dataUpdateCount++;const i=new tb(t);r=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,r):r;let s=[];if(o)if(n){const t=Hd(r,(e=>Gb(e)));s=function(e,t,r,n){const o=Lw(e,n);if(o){const n=qw(o),i=n.path,s=n.queryId,a=db(i,t),l=Ry.fromObject(r);return Uw(e,i,new wy(my(s),a,l))}return[]}(e.serverSyncTree_,i,t,o)}else{const t=Gb(r);s=function(e,t,r,n){const o=Lw(e,n);if(null!=o){const n=qw(o),i=n.path,s=n.queryId,a=db(i,t);return Uw(e,i,new yy(my(s),a,r))}return[]}(e.serverSyncTree_,i,t,o)}else if(n){const t=Hd(r,(e=>Gb(e)));s=function(e,t,r){const n=Ry.fromObject(r);return Bw(e,new wy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}(e.serverSyncTree_,i,t)}else{const t=Gb(r);s=Rw(e.serverSyncTree_,i,t)}let a=i;s.length>0&&(a=O_(e,i)),y_(e.eventQueue_,a,s)}function I_(e,t){N_(e,"connected",t),!1===t&&function(e){P_(e,"onDisconnectEvents");const t=C_(e),r=cy();dy(e.onDisconnect_,rb(),((n,o)=>{const i=Xw(n,o,e.serverSyncTree_,t);uy(r,n,i)}));let n=[];dy(r,rb(),((t,r)=>{n=n.concat(Rw(e.serverSyncTree_,t,r));const o=function(e,t){const r=s_(A_(e,t)),n=e_(e.transactionQueueTree_,t);return function(e,t,r){let n=void 0?e:e.parent;for(;null!==n;){if(t(n))return!0;n=n.parent}}(n,(t=>{L_(e,t)})),L_(e,n),i_(n,(t=>{L_(e,t)})),r}(e,t);O_(e,o)})),e.onDisconnect_=cy(),y_(e.eventQueue_,rb(),n)}(e)}function N_(e,t,r){const n=new tb("/.info/"+t),o=Gb(r);e.infoData_.updateSnapshot(n,o);const i=Rw(e.infoSyncTree_,n,o);y_(e.eventQueue_,n,i)}function R_(e){return e.nextWriteId_++}function D_(e,t,r){let n;n=".info"===nb(t._path)?Dw(e.infoSyncTree_,t,r):Dw(e.serverSyncTree_,t,r),b_(e.eventQueue_,t._path,n)}function P_(e,...t){let r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),dv(r,...t)}function z_(e,t,r){return zw(e.serverSyncTree_,t,r)||Wb.EMPTY_NODE}function B_(e,t=e.transactionQueueTree_){if(t||j_(e,t),t_(t)){const r=F_(e,t);pd(r.length>0,"Sending zero length transaction queue"),r.every((e=>0===e.status))&&function(e,t,r){const n=r.map((e=>e.currentWriteId)),o=z_(e,t,n);let i=o;const s=o.hash();for(let e=0;e<r.length;e++){const n=r[e];pd(0===n.status,"tryToSendTransactionQueue_: items in queue should all be run."),n.status=1,n.retryCount++;const o=db(t,n.path);i=i.updateChild(o,n.currentOutputSnapshotRaw)}const a=i.val(!0),l=t;e.server_.put(l.toString(),a,(n=>{P_(e,"transaction put response",{path:l.toString(),status:n});let o=[];if("ok"===n){const n=[];for(let t=0;t<r.length;t++)r[t].status=2,o=o.concat(Nw(e.serverSyncTree_,r[t].currentWriteId)),r[t].onComplete&&n.push((()=>r[t].onComplete(null,!0,r[t].currentOutputSnapshotResolved))),r[t].unwatcher();j_(e,e_(e.transactionQueueTree_,t)),B_(e,e.transactionQueueTree_),y_(e.eventQueue_,t,o);for(let e=0;e<n.length;e++)Iv(n[e])}else{if("datastale"===n)for(let e=0;e<r.length;e++)3===r[e].status?r[e].status=4:r[e].status=0;else{gv("transaction at "+l.toString()+" failed: "+n);for(let e=0;e<r.length;e++)r[e].status=4,r[e].abortReason=n}O_(e,t)}}),s)}(e,s_(t),r)}else n_(t)&&o_(t,(t=>{B_(e,t)}))}function O_(e,t){const r=A_(e,t),n=s_(r);return function(e,t,r){if(0===t.length)return;const n=[];let o=[];const i=t.filter((e=>0===e.status)),s=i.map((e=>e.currentWriteId));for(let i=0;i<t.length;i++){const l=t[i],c=db(r,l.path);let u,d=!1;if(pd(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)d=!0,u=l.abortReason,o=o.concat(Nw(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=k_)d=!0,u="maxretry",o=o.concat(Nw(e.serverSyncTree_,l.currentWriteId,!0));else{const r=z_(e,l.path,s);l.currentInputSnapshot=r;const n=t[i].update(r.val());if(void 0!==n){f_("transaction failed: Data returned ",n,l.path);let t=Gb(n);"object"==typeof n&&null!=n&&qd(n,".priority")||(t=t.updatePriority(r.getPriority()));const i=l.currentWriteId,a=C_(e),c=Yw(t,r,a);l.currentOutputSnapshotRaw=t,l.currentOutputSnapshotResolved=c,l.currentWriteId=R_(e),s.splice(s.indexOf(i),1),o=o.concat(Iw(e.serverSyncTree_,l.path,c,l.currentWriteId,l.applyLocally)),o=o.concat(Nw(e.serverSyncTree_,i,!0))}else d=!0,u="nodata",o=o.concat(Nw(e.serverSyncTree_,l.currentWriteId,!0))}y_(e.eventQueue_,r,o),o=[],d&&(t[i].status=2,a=t[i].unwatcher,setTimeout(a,Math.floor(0)),t[i].onComplete&&("nodata"===u?n.push((()=>t[i].onComplete(null,!1,t[i].currentInputSnapshot))):n.push((()=>t[i].onComplete(new Error(u),!1,null)))))}var a;j_(e,e.transactionQueueTree_);for(let e=0;e<n.length;e++)Iv(n[e]);B_(e,e.transactionQueueTree_)}(e,F_(e,r),n),n}function A_(e,t){let r,n=e.transactionQueueTree_;for(r=nb(t);null!==r&&void 0===t_(n);)n=e_(n,r),r=nb(t=ib(t));return n}function F_(e,t){const r=[];return M_(e,t,r),r.sort(((e,t)=>e.order-t.order)),r}function M_(e,t,r){const n=t_(t);if(n)for(let e=0;e<n.length;e++)r.push(n[e]);o_(t,(t=>{M_(e,t,r)}))}function j_(e,t){const r=t_(t);if(r){let e=0;for(let t=0;t<r.length;t++)2!==r[t].status&&(r[e]=r[t],e++);r.length=e,r_(t,r.length>0?r:void 0)}o_(t,(t=>{j_(e,t)}))}function L_(e,t){const r=t_(t);if(r){const n=[];let o=[],i=-1;for(let t=0;t<r.length;t++)3===r[t].status||(1===r[t].status?(pd(i===t-1,"All SENT items should be at beginning of queue."),i=t,r[t].status=3,r[t].abortReason="set"):(pd(0===r[t].status,"Unexpected transaction status in abort"),r[t].unwatcher(),o=o.concat(Nw(e.serverSyncTree_,r[t].currentWriteId,!0)),r[t].onComplete&&n.push(r[t].onComplete.bind(null,new Error("set"),!1,null))));-1===i?r_(t,void 0):r.length=i+1,y_(e.eventQueue_,s_(t),o);for(let e=0;e<n.length;e++)Iv(n[e])}}const q_=function(e,t){const r=U_(e),n=r.namespace;"firebase.com"===r.domain&&pv(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===r.domain||pv("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&gv("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const o="ws"===r.scheme||"wss"===r.scheme;return{repoInfo:new Mv(r.host,r.secure,n,o,t,"",n!==r.subdomain),path:new tb(r.pathString)}},U_=function(e){let t="",r="",n="",o="",i="",s=!0,a="https",l=443;if("string"==typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(o=function(e){let t="";const r=e.split("/");for(let e=0;e<r.length;e++)if(r[e].length>0){let n=r[e];try{n=decodeURIComponent(n.replace(/\+/g," "))}catch(e){}t+="/"+n}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const r of e.split("&")){if(0===r.length)continue;const n=r.split("=");2===n.length?t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):gv(`Invalid query segment '${r}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())r="localhost";else if(f.split(".").length<=2)r=f;else{const e=t.indexOf(".");n=t.substring(0,e).toLowerCase(),r=t.substring(e+1),i=n}"ns"in h&&(i=h.ns)}return{host:t,port:l,domain:r,subdomain:n,secure:s,scheme:a,pathString:o,namespace:i}};class V_{constructor(e,t,r,n){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=n}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+jd(this.snapshot.exportVal())}}class H_{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class W_{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return pd(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class $_{constructor(e,t,r,n){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=n}get key(){return ub(this._path)?null:sb(this._path)}get ref(){return new K_(this._repo,this._path)}get _queryIdentifier(){const e=sy(this._queryParams),t=kv(e);return"{}"===t?"default":t}get _queryObject(){return sy(this._queryParams)}isEqual(e){if(!((e=th(e))instanceof $_))return!1;const t=this._repo===e._repo,r=hb(this._path,e._path),n=this._queryIdentifier===e._queryIdentifier;return t&&r&&n}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let r=e.pieceNum_;r<e.pieces_.length;r++)""!==e.pieces_[r]&&(t+="/"+encodeURIComponent(String(e.pieces_[r])));return t||"/"}(this._path)}}class K_ extends $_{constructor(e,t){super(e,t,new oy,!1)}get parent(){const e=lb(this._path);return null===e?null:new K_(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class G_{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new tb(e),r=Q_(this.ref,e);return new G_(this._node.getChild(t),r,Fb)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,((t,r)=>e(new G_(r,Q_(this.ref,t),Fb))))}hasChild(e){const t=new tb(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Q_(e,t){return null===nb((e=th(e))._path)?g_("child","path",t,!1):p_("child","path",t,!1),new K_(e._repo,cb(e._path,t))}class X_{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new V_("value",this,new G_(e.snapshotNode,new K_(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new H_(this,e,t):null}matches(e){return e instanceof X_&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Y_{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new H_(this,e,t):null}createEvent(e,t){pd(null!=e.childName,"Child events should have a childName.");const r=Q_(new K_(t._repo,t._path),e.childName),n=t._queryParams.getIndex();return new V_(e.type,this,new G_(e.snapshotNode,r,n),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Y_&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function J_(e,t,r,n){return function(e,t,r,n,o){let i;if("object"==typeof n&&(i=void 0,o=n),"function"==typeof n&&(i=n),o&&o.onlyOnce){const t=r,n=(r,n)=>{D_(e._repo,e,a),t(r,n)};n.userCallback=r.userCallback,n.context=r.context,r=n}const s=new W_(r,i||void 0),a="value"===t?new X_(s):new Y_(t,s);return function(e,t,r){let n;n=".info"===nb(t._path)?Pw(e.infoSyncTree_,t,r):Pw(e.serverSyncTree_,t,r),b_(e.eventQueue_,t._path,n)}(e._repo,e,a),()=>D_(e._repo,e,a)}(e,"value",t,r,n)}!function(e){pd(!gw,"__referenceConstructor has already been defined"),gw=e}(K_),function(e){pd(!mw,"__referenceConstructor has already been defined"),mw=e}(K_);const Z_={};function ek(e,t,r,n,o){let i=n||e.options.databaseURL;void 0===i&&(e.options.projectId||pv("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dv("Using default host for project ",e.options.projectId),i=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s,a,l=q_(i,o),c=l.repoInfo;"undefined"!=typeof process&&(a="MISSING_ENV_VAR".FIREBASE_DATABASE_EMULATOR_HOST),a?(s=!0,i=`http://${a}?ns=${c.namespace}`,l=q_(i,o),c=l.repoInfo):s=!l.repoInfo.secure;const u=o&&s?new Pv(Pv.OWNER):new Dv(e.name,e.options,t);(function(e,t){const r=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!d_(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),h_(e)}(r))throw new Error(Zd(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",l),ub(l.path)||pv("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,r,n){let o=Z_[t.name];o||(o={},Z_[t.name]=o);let i=o[e.toURLString()];return i&&pv("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new x_(e,false,r,n),o[e.toURLString()]=i,i}(c,e,u,new Rv(e.name,r));return new tk(d,e)}class tk{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(S_(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new K_(this._repo,rb())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){const r=Z_[t];r&&r[e.key]===e||pv(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete r[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Xm.resolve()}_checkNotDeleted(e){null===this._rootInternal&&pv("Cannot call "+e+" on a deleted database.")}}yb.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},yb.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},Zm=wf,gf(new nh("database",((e,{instanceIdentifier:t})=>ek(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),xf(Ym,Jm,void 0),xf(Ym,Jm,"esm2017");var rk=_f({apiKey:"AIzaSyAMr5WHOkdJZ_SCJhDy1hVUFvOeF65dgxA",authDomain:"auth.mailmeteor.com",cloudFunctions:"https://us-central1-mailmeteor-prod.cloudfunctions.net",databaseURL:"https://mailmeteor-prod.firebaseio.com",projectId:"mailmeteor-prod",storageBucket:"mailmeteor-prod.appspot.com",messagingSenderId:"1008170693301",appId:"1:1008170693301:web:7971a9cd393547b93a04fc"}),nk=function(e=kf(),t=Vm){const r=mf(th(e),jm).getImmediate({identifier:t}),n=Cd("functions");return n&&function(e,t,r){!function(e,t,r){e.emulatorOrigin=`http://${t}:${r}`}(th(e),t,r)}(r,...n),r}(rk),ok=function(e=kf()){const t=mf(e,"auth");if(t.isInitialized())return t.getImmediate();const r=function(e,t){const r=mf(e,"auth");if(r.isInitialized()){const e=r.getImmediate();if(Wd(r.getOptions(),null!=t?t:{}))return e;qf(e,"already-initialized")}return r.initialize({options:t})}(e,{popupRedirectResolver:Cm,persistence:[Hg,Tg,Ng]}),n=Id("authTokenSyncURL");if(n&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(n,location.origin);if(location.origin===e.origin){const t=(o=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),r=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Rm)return;const n=null==t?void 0:t.token;Dm!==n&&(Dm=n,await fetch(o,{method:n?"POST":"DELETE",headers:n?{Authorization:`Bearer ${n}`}:{}}))});!function(e,t,r){th(e).beforeAuthStateChanged(t,r)}(r,t,(()=>t(r.currentUser))),function(e,r,n,o){th(e).onIdTokenChanged((e=>t(e)),void 0,void 0)}(r)}}var o;const i=Ed("auth");return i&&function(e,t,r){const n=$p(e);$f(n._canInitEmulator,n,"emulator-config-failed"),$f(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const o=!!(null==r?void 0:r.disableWarnings),i=eg(t),{host:s,port:a}=function(e){const t=eg(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(n);if(o){const e=o[1];return{host:e,port:tg(n.substr(e.length+1))}}{const[e,t]=n.split(":");return{host:e,port:tg(t)}}}(t),l=null===a?"":`:${a}`;n.config.emulator={url:`${i}//${s}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(r,`http://${i}`),r}(rk),ik=function(e=kf(),t){const r=mf(e,"database").getImmediate({identifier:t});if(!r._instanceStarted){const e=Cd("database");e&&function(e,t,r,n={}){(e=th(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&pv("Cannot call useEmulator() after instance has already been initialized.");const o=e._repoInternal;let i;if(o.repoInfo_.nodeAdmin)n.mockUserToken&&pv('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Pv(Pv.OWNER);else if(n.mockUserToken){const t="string"==typeof n.mockUserToken?n.mockUserToken:Rd(n.mockUserToken,e.app.options.projectId);i=new Pv(t)}!function(e,t,r,n){e.repoInfo_=new Mv(`${t}:${r}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),n&&(e.authTokenProvider_=n)}(o,t,r,i)}(r,...e)}return r}(rk);function sk(e,t){return t.columns.reduce((function(r,n){var o,i=t.headers.find((function(e){return e.id===n.headerId})),s=(null==i?void 0:i.value.trim())||null,a=null===(o=n.values[e])||void 0===o?void 0:o.value;return null!==s&&(r[s]=a),r}),{})}function ak(e){var t="A".charCodeAt(0),r="";e-=1;do{r=String.fromCharCode(t+e%26)+r,e=Math.floor(e/26)-1}while(e>=0);return r}var lk=o(64583).Promise,ck=function(e,t,r,n){return new(r||(r=lk))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},uk=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},dk=function(){var t=this,r=(0,e.useState)(null),n=r[0],o=r[1],i=(0,e.useState)(!1),s=i[0],a=i[1];return(0,e.useEffect)((function(){var e,r,n=!0,i=function(){return ck(t,void 0,void 0,(function(){var e,t=this;return uk(this,(function(r){switch(r.label){case 0:a(!0),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,Excel.run((function(e){return ck(t,void 0,void 0,(function(){var t,r,i,s,a,l,c,u,d;return uk(this,(function(h){switch(h.label){case 0:return(t=e.workbook.worksheets.getActiveWorksheet()).load("name"),(r=t.getUsedRange()).load("rowCount, columnCount, values"),[4,e.sync()];case 1:return h.sent(),n?(i=r.columnCount,s=ak(i+2),(a=t.getRange("A1:".concat(s).concat(r.rowCount))).load("text"),[4,e.sync()]):[2];case 2:for(h.sent(),l=[],c=0;c<26;c++)l.push({id:"header-".concat(c),value:a.text[0][c]||"",coordinate:"".concat(t.name,"!").concat(ak(c+1),"1"),columnLetter:ak(c+1)});for(c=26;c<a.text[0].length;c++)a.text[0][c]&&l.push({id:"header-".concat(c),value:a.text[0][c],coordinate:"".concat(t.name,"!").concat(ak(c+1),"1"),columnLetter:ak(c+1)});return u=a.text.slice(1),d=l.map((function(e,r){return{headerId:e.id,values:u.map((function(n,o){return{coordinate:"".concat(t.name,"!").concat(e.columnLetter).concat(o+2),value:n[r]||""}}))}})),o({headers:l,columns:d}),[2]}}))}))}))];case 2:return r.sent(),[3,5];case 3:return e=r.sent(),console.error("Error fetching Excel sheet data: ",e),[3,5];case 4:return a(!1),[7];case 5:return[2]}}))}))};return i().then((function(){return ck(t,void 0,void 0,(function(){var t,o=this;return uk(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,Excel.run((function(t){return ck(o,void 0,void 0,(function(){var o,s,a=this;return uk(this,(function(l){switch(l.label){case 0:return o=t.workbook,(s=o.worksheets.getActiveWorksheet()).load("name"),[4,t.sync()];case 1:return l.sent(),e&&(e.remove(),e=null),e=s.onChanged.add(i),r||(r=o.worksheets.onActivated.add((function(r){return ck(a,void 0,void 0,(function(){var o;return uk(this,(function(s){switch(s.label){case 0:return n?(e&&(e.remove(),e=null),o=t.workbook.worksheets.getItem(r.worksheetId),e=o.onChanged.add(i),[4,t.sync()]):[3,3];case 1:return s.sent(),[4,i()];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}))),[4,t.sync()];case 2:return l.sent(),[2]}}))}))}))];case 1:return s.sent(),[3,3];case 2:return t=s.sent(),console.error("Error registering event handlers: ",t),[3,3];case 3:return[2]}}))}))})),function(){n=!1,Excel.run((function(n){return ck(t,void 0,void 0,(function(){return uk(this,(function(t){switch(t.label){case 0:return e&&(e.remove(),e=null),r&&(r.remove(),r=null),[4,n.sync()];case 1:return t.sent(),[2]}}))}))})).catch((function(e){return console.error("Error removing event handlers: ",e)}))}}),[]),{sheetData:n,loadingExcelData:s}},hk=(0,e.createContext)(void 0),fk=function(t){var r=t.children,n=(0,e.useState)(null),o=n[0],i=n[1];(0,e.useEffect)((function(){var e=ok.onAuthStateChanged((function(e){return i(e?{email:e.email,uid:e.uid}:null)}));return function(){return e()}}),[]);var s={user:o,setUser:i};return e.createElement(hk.Provider,{value:s},r)},pk=function(){var t=(0,e.useContext)(hk);if(void 0===t)throw new Error("useUser must be used within a UserProvider");return t};const gk=Un({root:{mc9l5x:"ftgm304",De3pzq:"f18f03hv",a9b677:"fly5x3f",B68tc82:"f1p9o1ba",Bmxbyg5:"f1sil6mw",Bpep1pd:"fu42dvn"},rounded:{Bbmb7ep:["f1aa9q02","f16jpd5f"],Beyfa6y:["f16jpd5f","f1aa9q02"],B7oj6ja:["f1jar5jt","fyu767a"],Btl43ni:["fyu767a","f1jar5jt"]},square:{Bbmb7ep:["fzi6hpg","fyowgf4"],Beyfa6y:["fyowgf4","fzi6hpg"],B7oj6ja:["f3fg2lr","f13av6d4"],Btl43ni:["f13av6d4","f3fg2lr"]},medium:{Bqenvij:"f4t8t6x"},large:{Bqenvij:"f6ywr7j"}},{d:[".ftgm304{display:block;}",".f18f03hv{background-color:var(--colorNeutralBackground6);}",".fly5x3f{width:100%;}",".f1p9o1ba{overflow-x:hidden;}",".f1sil6mw{overflow-y:hidden;}",".f1aa9q02{border-bottom-right-radius:var(--borderRadiusMedium);}",".f16jpd5f{border-bottom-left-radius:var(--borderRadiusMedium);}",".f1jar5jt{border-top-right-radius:var(--borderRadiusMedium);}",".fyu767a{border-top-left-radius:var(--borderRadiusMedium);}",".fzi6hpg{border-bottom-right-radius:var(--borderRadiusNone);}",".fyowgf4{border-bottom-left-radius:var(--borderRadiusNone);}",".f3fg2lr{border-top-right-radius:var(--borderRadiusNone);}",".f13av6d4{border-top-left-radius:var(--borderRadiusNone);}",".f4t8t6x{height:2px;}",".f6ywr7j{height:4px;}"],m:[["@media screen and (forced-colors: active){.fu42dvn{background-color:CanvasText;}}",{m:"screen and (forced-colors: active)"}]]}),mk=Un({base:{Bpep1pd:"f1neahkh",Bbmb7ep:["f1d9uwra","fzibvwi"],Beyfa6y:["fzibvwi","f1d9uwra"],B7oj6ja:["fuoumxm","f1vtqnvc"],Btl43ni:["f1vtqnvc","fuoumxm"],Bqenvij:"f1l02sjl"},nonZeroDeterminate:{Bmy1vo4:"fjt6zfz",B3o57yi:"f1wofebd",Bkqvd7p:"fv71qf3"},indeterminate:{B2u0y6b:"fa0wk36",qhf8xq:"f10pi13n",Bcmaq0h:["fpo0yib","f1u5hf6c"],Bv12yb3:["fwd2bol","f14gig94"],vin17d:"f1a27w2r",Ezkn3b:"f452v7t",w3vfg9:"f1cpbl36",Gqtpxc:"f4akx1t",B3vm3ge:"f18p5put"},brand:{De3pzq:"ftywsgz"},error:{De3pzq:"fdl5y0r"},warning:{De3pzq:"f1s438gw"},success:{De3pzq:"flxk52p"}},{m:[["@media screen and (forced-colors: active){.f1neahkh{background-color:Highlight;}}",{m:"screen and (forced-colors: active)"}],["@media screen and (prefers-reduced-motion: reduce){.f4akx1t{animation-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f18p5put{animation-iteration-count:1;}}",{m:"screen and (prefers-reduced-motion: reduce)"}]],d:[".f1d9uwra{border-bottom-right-radius:inherit;}",".fzibvwi{border-bottom-left-radius:inherit;}",".fuoumxm{border-top-right-radius:inherit;}",".f1vtqnvc{border-top-left-radius:inherit;}",".f1l02sjl{height:100%;}",".fjt6zfz{transition-property:width;}",".f1wofebd{transition-duration:0.3s;}",".fv71qf3{transition-timing-function:ease;}",".fa0wk36{max-width:33%;}",".f10pi13n{position:relative;}",".fpo0yib{background-image:linear-gradient(\n      to right,\n      var(--colorNeutralBackground6) 0%,\n      var(--colorTransparentBackground) 50%,\n      var(--colorNeutralBackground6) 100%\n    );}",".f1u5hf6c{background-image:linear-gradient(\n      to left,\n      var(--colorNeutralBackground6) 0%,\n      var(--colorTransparentBackground) 50%,\n      var(--colorNeutralBackground6) 100%\n    );}",".fwd2bol{animation-name:f1keuaan;}",".f14gig94{animation-name:f10x8f8u;}",".f1a27w2r{animation-duration:3s;}",".f452v7t{animation-timing-function:linear;}",".f1cpbl36{animation-iteration-count:infinite;}",".ftywsgz{background-color:var(--colorCompoundBrandBackground);}",".fdl5y0r{background-color:var(--colorPaletteRedBackground3);}",".f1s438gw{background-color:var(--colorPaletteDarkOrangeBackground3);}",".flxk52p{background-color:var(--colorPaletteGreenBackground3);}"],k:["@keyframes f1keuaan{0%{left:-33%;}100%{left:100%;}}","@keyframes f10x8f8u{0%{right:-33%;}100%{right:100%;}}"]}),vk=e.forwardRef(((e,t)=>{const r=((e,t)=>{const r=yu(),n=null==r?void 0:r.validationState,{color:o=("error"===n||"warning"===n||"success"===n?n:"brand"),shape:i="rounded",thickness:s="medium"}=e;var a;const l=(e=>e<=0?1:e)(null!==(a=e.max)&&void 0!==a?a:1),c=((e,t)=>void 0===e?e:e<0?0:e>t?t:e)(e.value,l),u=me(Be("div",{ref:t,role:"progressbar","aria-valuemin":void 0!==c?0:void 0,"aria-valuemax":void 0!==c?l:void 0,"aria-valuenow":c,"aria-labelledby":null==r?void 0:r.labelId,...e}),{elementType:"div"});return r&&(r.validationMessageId||r.hintId)&&(u["aria-describedby"]=[null==r?void 0:r.validationMessageId,null==r?void 0:r.hintId,u["aria-describedby"]].filter(Boolean).join(" ")),{color:o,max:l,shape:i,thickness:s,value:c,components:{root:"div",bar:"div"},root:u,bar:me(e.bar,{elementType:"div"})}})(e,t);return(e=>{const{color:t,max:r,shape:n,thickness:o,value:i}=e,s=gk(),a=mk();e.root.className=Ge("fui-ProgressBar",s.root,s[n],s[o],e.root.className),e.bar&&(e.bar.className=Ge("fui-ProgressBar__bar",a.base,a.brand,void 0===i&&a.indeterminate,void 0!==i&&i>.01&&a.nonZeroDeterminate,t&&void 0!==i&&a[t],e.bar.className)),e.bar&&void 0!==i&&(e.bar.style={width:Math.min(100,Math.max(0,i/r*100))+"%",...e.bar.style})})(r),T("useProgressBarStyles_unstable")(r),(e=>u(e.root,{children:e.bar&&u(e.bar,{})}))(r)}));vk.displayName="ProgressBar";var bk=o(64583).Promise,yk=function(){return yk=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},yk.apply(this,arguments)},wk=qn({quotaContainer:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",flexDirection:"column",marginTop:"32px"},quota:{width:"90%"},quotaSubtitle:yk({},Mc.caption1)}),_k=function(){var t=wk(),r=pk().user,n=(0,e.useState)({limit:null,available:null}),o=n[0],i=n[1];return e.useEffect((function(){(null==r?void 0:r.uid)&&function(){!function(e,t,r,n){new(r||(r=bk))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){return function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,(function(e){return J_(function(e,t){return(e=th(e))._checkNotDeleted("ref"),void 0!==t?Q_(e._root,t):e._root}(ik,"/users/".concat(r.uid,"/profile/quota")),(function(e){var t=e.val()||{},r=t.limit||50,n=kk("string"==typeof t.updated?new Date(t.updated):null,t.usages).currentUsage,o=Math.max(r-n,0);i({limit:r,available:o})})),[2]}))}))}()}),[r]),r?"number"!=typeof(null==o?void 0:o.limit)?null:e.createElement("div",{className:t.quotaContainer},e.createElement(Mu,{className:t.quota},e.createElement(vk,{thickness:"large",value:o.available/o.limit}),e.createElement("small",{className:t.quotaSubtitle},e.createElement("span",null,o.available,"/",o.limit," emails sent. "),o.limit<=200&&e.createElement(mu,{href:"https://mailmeteor.com/pricing",target:"_blank"},"Upgrade")))):null},kk=function(e,t){var r=Date.now(),n=e&&e instanceof Date?e.getTime():r,o=n+864e5,i=[];if(r>o||!Array.isArray(t))i.push(0);else for(var s=36e5,a=Math.floor(r/s)-Math.floor(n/s),l=0;l<=24;l++)i.push(t[l-a]||0);return{currentUsage:i.reduce((function(e,t){return e+t}),0),currentUsages:i,refreshDate:new Date(o)}};function xk(){const{targetDocument:t}=y(),r=e.useMemo((()=>t&&ce(t.defaultView)),[t]);return e.useEffect((()=>()=>r&&ue(r)),[r]),r}const Sk="data-activedescendant",Ek="data-activedescendant-focusvisible";function Ck(t){const{imperativeRef:r,matchOption:n}=t,o=e.useRef(!1),i=e.useRef(null),s=e.useRef(null),a=e.useRef(!0),l=e.useCallback((()=>{var e;null===(e=s.current)||void 0===e||e.removeAttribute("aria-activedescendant")}),[]),c=e.useCallback((e=>{var t;e&&(i.current=e),a.current&&i.current&&(null===(t=s.current)||void 0===t||t.setAttribute("aria-activedescendant",i.current))}),[]);!function(t){const r=xk(),n=Xi((e=>{o.current=e;const t=p();t&&(e?t.setAttribute(Ek,""):t.removeAttribute(Ek))}));e.useEffect((()=>{if(r){const e=e=>{n(e)};return r.subscribe(e),()=>r.unsubscribe(e)}}),[r,n])}();const u=Xi(n),d=e.useRef(null),{optionWalker:h,listboxCallbackRef:f}=function(t){const{matchOption:r}=t,{targetDocument:n}=y(),o=e.useRef(null),i=e.useRef(null),s=e.useCallback((e=>Z(e)&&r(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),[r]),a=e.useCallback((e=>{e&&n?(i.current=e,o.current=n.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,s)):i.current=null}),[n,s]);return{optionWalker:e.useMemo((()=>({first:()=>o.current&&i.current?(o.current.currentNode=i.current,o.current.firstChild()):null,last:()=>o.current&&i.current?o.current.lastChild():null,next:()=>o.current?o.current.nextNode():null,prev:()=>o.current?o.current.previousNode():null,find:(e,t)=>{if(!o.current||!i.current)return null;const r=t?null==n?void 0:n.getElementById(t):null;o.current.currentNode=null!=r?r:i.current;let s=o.current.currentNode;for(;s&&!e(s.id);)s=o.current.nextNode();return s},setCurrent:e=>{o.current&&(o.current.currentNode=e)}})),[n]),listboxCallbackRef:a}}({matchOption:u}),p=e.useCallback((()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.querySelector(`#${i.current}`)}),[d]),g=e.useCallback((()=>{const e=p();e&&(e.removeAttribute(Sk),e.removeAttribute(Ek)),l(),i.current=null}),[p,l]),m=e.useCallback((e=>{e&&(g(),((e,t)=>{if(!e||!t)return;if(t.offsetHeight>=t.scrollHeight)return;const{offsetHeight:r,offsetTop:n}=e,{offsetHeight:o,scrollTop:i}=t,s=n+r>i+o;n<i&&t.scrollTo(0,n-2),s&&t.scrollTo(0,n-o+r+2)})(e,d.current),c(e.id),e.setAttribute(Sk,""),o.current&&e.setAttribute(Ek,""))}),[d,g,c]),v=e.useMemo((()=>({first:({passive:e}={})=>{const t=h.first();return e||m(t),null==t?void 0:t.id},last:({passive:e}={})=>{const t=h.last();return e||m(t),null==t?void 0:t.id},next:({passive:e}={})=>{const t=p();if(!t)return;h.setCurrent(t);const r=h.next();return e||m(r),null==r?void 0:r.id},prev:({passive:e}={})=>{const t=p();if(!t)return;h.setCurrent(t);const r=h.prev();return e||m(r),null==r?void 0:r.id},blur:()=>{g()},active:()=>{var e;return null===(e=p())||void 0===e?void 0:e.id},focus:e=>{if(!d.current)return;const t=d.current.querySelector(`#${e}`);t&&m(t)},find(e,{passive:t,startFrom:r}={}){const n=h.find(e,r);return t||m(n),null==n?void 0:n.id},showAttributes(){a.current=!0,c()},hideAttributes(){a.current=!1,l()}})),[h,d,c,l,m,g,p]);return e.useImperativeHandle(r,(()=>v)),{listboxRef:Oe(d,f),activeParentRef:s,controller:v}}const Tk=()=>{const t=e.useRef(new Map),r=e.useMemo((()=>({getCount:()=>t.current.size,getOptionAtIndex:()=>{},getIndexOfId:()=>-1,getOptionById:e=>t.current.get(e),getOptionsMatchingText:e=>Array.from(t.current.values()).filter((({text:t})=>e(t))),getOptionsMatchingValue:e=>{const r=[];for(const n of t.current.values())e(n.value)&&r.push(n);return r}})),[]),n=e.useCallback((e=>(t.current.set(e.id,e),()=>t.current.delete(e.id))),[]);return{...r,options:Array.from(t.current.values()),registerOption:n}},Ik=t=>{const{defaultSelectedOptions:r,multiselect:n,onOptionSelect:o}=t,[i,s]=ys({state:t.selectedOptions,defaultState:r,initialState:[]});return{clearSelection:e=>{s([]),null==o||o(e,{optionValue:void 0,optionText:void 0,selectedOptions:[]})},selectOption:(0,e.useCallback)(((e,t)=>{if(t.disabled)return;let r=[t.value];if(n){const e=i.findIndex((e=>e===t.value));r=e>-1?[...i.slice(0,e),...i.slice(e+1)]:[...i,t.value]}s(r),null==o||o(e,{optionValue:t.value,optionText:t.text,selectedOptions:r})}),[o,n,i,s]),selectedOptions:i}},Nk=()=>{},Rk={controller:{active:Nk,blur:Nk,find:Nk,first:Nk,focus:Nk,last:Nk,next:Nk,prev:Nk,showAttributes:Nk,hideAttributes:Nk}},Dk=e.createContext(void 0),Pk=Dk.Provider,zk=()=>{var t;return null!==(t=e.useContext(Dk))&&void 0!==t?t:Rk};function Bk(e,t={}){const{open:r=!0,multiselect:n=!1}=t,o=e.key,{altKey:i,ctrlKey:s,key:a,metaKey:l}=e;return 1!==a.length||o===fl||i||s||l?r?o===bl&&i||o===hl||!n&&o===fl?"CloseSelect":n&&o===fl?"Select":o===xl?"Close":o===gl?"Next":o===bl?"Previous":o===wl?"First":o===yl?"Last":o===kl?"PageUp":o===_l?"PageDown":o===pl?"Tab":"None":o===gl||o===bl||o===hl||o===fl?"Open":"None":"Type"}const Ok="fui-Option",Ak=Un({root:{Bt984gj:"f122n59",Bbmb7ep:["f1aa9q02","f16jpd5f"],Beyfa6y:["f16jpd5f","f1aa9q02"],B7oj6ja:["f1jar5jt","fyu767a"],Btl43ni:["fyu767a","f1jar5jt"],sj55zd:"f19n0e5",i8kkvl:"f1ufnopg",Bceei9c:"f1k6fduh",mc9l5x:"f22iagw",Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bg96gwp:"f1i3iumi",z8tnut:"fp2oml8",z189sj:["f1vdfbxk","f1f5gg8d"],Byoj8tv:"f1tdddsa",uwmqm3:["f1f5gg8d","f1vdfbxk"],qhf8xq:"f10pi13n",Jwef8y:"f1knas48",Bi91k9c:"feu1g3u",zqbkvg:"fo79ri9",h82x05:["f1osiabc","f1e8le25"],cqj998:"f1yusjty",j3hlsh:["f1e8le25","f1osiabc"],ecr2s2:"fb40n2d",lj723h:"f1g4hkjv",Btxx2vb:"f1lnr2zp",sltcwy:["f1ogfk9z","f1g7j8ec"],dnwvvm:"fiuf46r",Blyvkvs:["f1g7j8ec","f1ogfk9z"]},active:{Bowz1zl:"f11vrvdw",oxogb1:"f17hxjb7",Ix2sn8:"f1dha69c",q7v32p:"f1lm7500",Btq9bd3:"fuyp35s",Bertapg:["f1a9nstl","fhk0hgg"],b50fsz:"f1rdp6f1",avt0cx:["fhk0hgg","f1a9nstl"],Bqfxd14:"f1tj24la",B53xpsf:["f1td3xda","f73totv"],B1wzb3v:"f2ge7d1",f0sref:["f73totv","f1td3xda"],Bttcd12:["ftb4b3e","f1scq65d"],Fffuxt:["f1scq65d","ftb4b3e"],Bqougee:["f2me9eq","fgk4qqi"],Beitzug:["fgk4qqi","f2me9eq"],B39dzdd:"ffd7rjx",Be3o27t:["fobu5kn","f1dbet5w"],Bewtojm:"f1ap9jj5",B37u8z8:["f1dbet5w","fobu5kn"],Bhijsxg:"fwq15dy",kktds4:"f1pb3wry",Bmau3bo:["ftjv2f4","f1flhb1f"],npektv:["f1flhb1f","ftjv2f4"]},disabled:{sj55zd:"f1s2aq7o",Jwef8y:"f9ql6rf",Bi91k9c:"fvgxktp",zqbkvg:"f185j3qj",h82x05:["f1dligi3","f1vydzie"],cqj998:"fjw1di3",j3hlsh:["f1vydzie","f1dligi3"],ecr2s2:"fgj9um3",lj723h:"f19wldhg",Btxx2vb:"f1ss0kt2",sltcwy:["f1t6oli3","fjy9ci8"],dnwvvm:"fresaxk",Blyvkvs:["fjy9ci8","f1t6oli3"],Bbusuzp:"f1dcs8yz"},selected:{},checkIcon:{Be2twd7:"fod5ikn",Frg6f3:["f18b9hdq","fn6qj8t"],t21cq0:["f1xk557c","f1h9en5y"],Bcdw1i0:"fd7fpy0",Bo70h7d:"fvc9v3g"},selectedCheck:{Bcdw1i0:"f1022m68"},multiselectCheck:{B4j52fo:"f192inf7",Bekrc4i:["f5tn483","f1ojsxk5"],Bn0qgzm:"f1vxd6vx",ibv6hh:["f1ojsxk5","f5tn483"],icvyot:"fzkkow9",vrafjx:["fcdblym","fjik90z"],oivjwe:"fg706s2",wvpqe5:["fjik90z","fcdblym"],g2u3we:"fq0vr37",h3c5rm:["f1byw159","f11cr0be"],B9xav0g:"f1c1zstj",zhjwy3:["f11cr0be","f1byw159"],Bbmb7ep:["f1g3puop","fi2rrw2"],Beyfa6y:["fi2rrw2","f1g3puop"],B7oj6ja:["f1rstyi9","f1s4nn1u"],Btl43ni:["f1s4nn1u","f1rstyi9"],B7ck84d:"f1ewtqcl",mc9l5x:"f22iagw",Bt984gj:"f122n59",Brf1p80:"f4d9j23",Bkfmm31:"f1w9h62z",Be2twd7:"f1ugzwwg",Bqenvij:"fd461yt",a9b677:"fjw5fx7",Bcdw1i0:"f1022m68"},selectedMultiselectCheck:{De3pzq:"ftywsgz",sj55zd:"fqpbvvt",g2u3we:"f3xi7mh",h3c5rm:["ftovhe4","f1wczvin"],B9xav0g:"f68vbr6",zhjwy3:["f1wczvin","ftovhe4"]},checkDisabled:{sj55zd:"f1s2aq7o",Bbusuzp:"f1dcs8yz"},multiselectCheckDisabled:{g2u3we:"f1r1t4y1",h3c5rm:["fmj8ijw","figx54m"],B9xav0g:"f360ss8",zhjwy3:["figx54m","fmj8ijw"]}},{d:[".f122n59{align-items:center;}",".f1aa9q02{border-bottom-right-radius:var(--borderRadiusMedium);}",".f16jpd5f{border-bottom-left-radius:var(--borderRadiusMedium);}",".f1jar5jt{border-top-right-radius:var(--borderRadiusMedium);}",".fyu767a{border-top-left-radius:var(--borderRadiusMedium);}",".f19n0e5{color:var(--colorNeutralForeground1);}",".f1ufnopg{column-gap:var(--spacingHorizontalXS);}",".f1k6fduh{cursor:pointer;}",".f22iagw{display:flex;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".fp2oml8{padding-top:var(--spacingVerticalSNudge);}",".f1vdfbxk{padding-right:var(--spacingHorizontalS);}",".f1f5gg8d{padding-left:var(--spacingHorizontalS);}",".f1tdddsa{padding-bottom:var(--spacingVerticalSNudge);}",".f10pi13n{position:relative;}",'.f11vrvdw[data-activedescendant-focusvisible]::after{content:"";}',".f17hxjb7[data-activedescendant-focusvisible]::after{position:absolute;}",".f1dha69c[data-activedescendant-focusvisible]::after{pointer-events:none;}",".f1lm7500[data-activedescendant-focusvisible]::after{z-index:1;}",".fuyp35s[data-activedescendant-focusvisible]::after{border-top-style:solid;}",".f1a9nstl[data-activedescendant-focusvisible]::after{border-right-style:solid;}",".fhk0hgg[data-activedescendant-focusvisible]::after{border-left-style:solid;}",".f1rdp6f1[data-activedescendant-focusvisible]::after{border-bottom-style:solid;}",".f1tj24la[data-activedescendant-focusvisible]::after{border-top-width:2px;}",".f1td3xda[data-activedescendant-focusvisible]::after{border-right-width:2px;}",".f73totv[data-activedescendant-focusvisible]::after{border-left-width:2px;}",".f2ge7d1[data-activedescendant-focusvisible]::after{border-bottom-width:2px;}",".ftb4b3e[data-activedescendant-focusvisible]::after{border-bottom-right-radius:var(--borderRadiusMedium);}",".f1scq65d[data-activedescendant-focusvisible]::after{border-bottom-left-radius:var(--borderRadiusMedium);}",".f2me9eq[data-activedescendant-focusvisible]::after{border-top-right-radius:var(--borderRadiusMedium);}",".fgk4qqi[data-activedescendant-focusvisible]::after{border-top-left-radius:var(--borderRadiusMedium);}",".ffd7rjx[data-activedescendant-focusvisible]::after{border-top-color:var(--colorStrokeFocus2);}",".fobu5kn[data-activedescendant-focusvisible]::after{border-right-color:var(--colorStrokeFocus2);}",".f1dbet5w[data-activedescendant-focusvisible]::after{border-left-color:var(--colorStrokeFocus2);}",".f1ap9jj5[data-activedescendant-focusvisible]::after{border-bottom-color:var(--colorStrokeFocus2);}",".fwq15dy[data-activedescendant-focusvisible]::after{top:-2px;}",".f1pb3wry[data-activedescendant-focusvisible]::after{bottom:-2px;}",".ftjv2f4[data-activedescendant-focusvisible]::after{left:-2px;}",".f1flhb1f[data-activedescendant-focusvisible]::after{right:-2px;}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fod5ikn{font-size:var(--fontSizeBase400);}",".f18b9hdq{margin-left:calc(var(--spacingHorizontalXXS) * -1);}",".fn6qj8t{margin-right:calc(var(--spacingHorizontalXXS) * -1);}",".f1xk557c{margin-right:var(--spacingHorizontalXXS);}",".f1h9en5y{margin-left:var(--spacingHorizontalXXS);}",".fd7fpy0{visibility:hidden;}",".fvc9v3g svg{display:block;}",".f1022m68{visibility:visible;}",".f192inf7{border-top-width:var(--strokeWidthThin);}",".f5tn483{border-right-width:var(--strokeWidthThin);}",".f1ojsxk5{border-left-width:var(--strokeWidthThin);}",".f1vxd6vx{border-bottom-width:var(--strokeWidthThin);}",".fzkkow9{border-top-style:solid;}",".fcdblym{border-right-style:solid;}",".fjik90z{border-left-style:solid;}",".fg706s2{border-bottom-style:solid;}",".fq0vr37{border-top-color:var(--colorNeutralStrokeAccessible);}",".f1byw159{border-right-color:var(--colorNeutralStrokeAccessible);}",".f11cr0be{border-left-color:var(--colorNeutralStrokeAccessible);}",".f1c1zstj{border-bottom-color:var(--colorNeutralStrokeAccessible);}",".f1g3puop{border-bottom-right-radius:var(--borderRadiusSmall);}",".fi2rrw2{border-bottom-left-radius:var(--borderRadiusSmall);}",".f1rstyi9{border-top-right-radius:var(--borderRadiusSmall);}",".f1s4nn1u{border-top-left-radius:var(--borderRadiusSmall);}",".f1ewtqcl{box-sizing:border-box;}",".f4d9j23{justify-content:center;}",".f1w9h62z{fill:currentColor;}",".f1ugzwwg{font-size:12px;}",".fd461yt{height:16px;}",".fjw5fx7{width:16px;}",".ftywsgz{background-color:var(--colorCompoundBrandBackground);}",".fqpbvvt{color:var(--colorNeutralForegroundInverted);}",".f3xi7mh{border-top-color:var(--colorCompoundBrandBackground);}",".ftovhe4{border-right-color:var(--colorCompoundBrandBackground);}",".f1wczvin{border-left-color:var(--colorCompoundBrandBackground);}",".f68vbr6{border-bottom-color:var(--colorCompoundBrandBackground);}",".f1r1t4y1{border-top-color:var(--colorNeutralForegroundDisabled);}",".fmj8ijw{border-right-color:var(--colorNeutralForegroundDisabled);}",".figx54m{border-left-color:var(--colorNeutralForegroundDisabled);}",".f360ss8{border-bottom-color:var(--colorNeutralForegroundDisabled);}"],h:[".f1knas48:hover{background-color:var(--colorNeutralBackground1Hover);}",".feu1g3u:hover{color:var(--colorNeutralForeground1Hover);}",".fo79ri9:hover .fui-Option__checkIcon{border-top-color:var(--colorNeutralForeground1Hover);}",".f1osiabc:hover .fui-Option__checkIcon{border-right-color:var(--colorNeutralForeground1Hover);}",".f1e8le25:hover .fui-Option__checkIcon{border-left-color:var(--colorNeutralForeground1Hover);}",".f1yusjty:hover .fui-Option__checkIcon{border-bottom-color:var(--colorNeutralForeground1Hover);}",".f9ql6rf:hover{background-color:var(--colorTransparentBackground);}",".fvgxktp:hover{color:var(--colorNeutralForegroundDisabled);}",".f185j3qj:hover .fui-Option__checkIcon{border-top-color:var(--colorNeutralForegroundDisabled);}",".f1dligi3:hover .fui-Option__checkIcon{border-right-color:var(--colorNeutralForegroundDisabled);}",".f1vydzie:hover .fui-Option__checkIcon{border-left-color:var(--colorNeutralForegroundDisabled);}",".fjw1di3:hover .fui-Option__checkIcon{border-bottom-color:var(--colorNeutralForegroundDisabled);}"],a:[".fb40n2d:active{background-color:var(--colorNeutralBackground1Pressed);}",".f1g4hkjv:active{color:var(--colorNeutralForeground1Pressed);}",".f1lnr2zp:active .fui-Option__checkIcon{border-top-color:var(--colorNeutralForeground1Hover);}",".f1ogfk9z:active .fui-Option__checkIcon{border-right-color:var(--colorNeutralForeground1Hover);}",".f1g7j8ec:active .fui-Option__checkIcon{border-left-color:var(--colorNeutralForeground1Hover);}",".fiuf46r:active .fui-Option__checkIcon{border-bottom-color:var(--colorNeutralForeground1Hover);}",".fgj9um3:active{background-color:var(--colorTransparentBackground);}",".f19wldhg:active{color:var(--colorNeutralForegroundDisabled);}",".f1ss0kt2:active .fui-Option__checkIcon{border-top-color:var(--colorNeutralForegroundDisabled);}",".f1t6oli3:active .fui-Option__checkIcon{border-right-color:var(--colorNeutralForegroundDisabled);}",".fjy9ci8:active .fui-Option__checkIcon{border-left-color:var(--colorNeutralForegroundDisabled);}",".fresaxk:active .fui-Option__checkIcon{border-bottom-color:var(--colorNeutralForegroundDisabled);}"],m:[["@media (forced-colors: active){.f1dcs8yz{color:GrayText;}}",{m:"(forced-colors: active)"}]]}),Fk={activeOption:void 0,focusVisible:!1,multiselect:!1,registerOption(){return()=>{}},selectedOptions:[],onOptionClick(){},selectOption(){},setActiveOption(){}},Mk=Xa(void 0),jk=e=>Ya(Mk,((t=Fk)=>e(t))),Lk=Mk.Provider,qk={activeOption:void 0,focusVisible:!1,setActiveOption:()=>null},Uk=Un({root:{De3pzq:"fxugw4r",B7ck84d:"f1ewtqcl",mc9l5x:"f22iagw",Beiy3e4:"f1vx9l62",Bf4jedk:"f3hsy1e",Bmxbyg5:"f5zp4f",Bpd4iqm:"fpvhumw",oeaueh:"f1yog68k",Bw0xxkn:"f13sgyd8",z8tnut:"f1x4af0m",z189sj:["f7x41pl","fruq291"],Byoj8tv:"fd55psn",uwmqm3:["fruq291","f7x41pl"],Belr9w4:"fiut8dr"}},{d:[".fxugw4r{background-color:var(--colorNeutralBackground1);}",".f1ewtqcl{box-sizing:border-box;}",".f22iagw{display:flex;}",".f1vx9l62{flex-direction:column;}",".f3hsy1e{min-width:160px;}",".f5zp4f{overflow-y:auto;}",".fpvhumw{outline-width:1px;}",".f1yog68k{outline-style:solid;}",".f13sgyd8{outline-color:var(--colorTransparentStroke);}",".f1x4af0m{padding-top:var(--spacingHorizontalXS);}",".f7x41pl{padding-right:var(--spacingHorizontalXS);}",".fruq291{padding-left:var(--spacingHorizontalXS);}",".fd55psn{padding-bottom:var(--spacingHorizontalXS);}",".fiut8dr{row-gap:var(--spacingHorizontalXXS);}"]}),Vk=e.forwardRef(((t,r)=>{const n=((t,r)=>{const{multiselect:n}=t,o=Tk(),{getOptionById:i}=o,{listboxRef:s,activeParentRef:a,controller:l}=Ck({matchOption:e=>e.classList.contains(Ok)}),c=zk(),u=e.useContext(Dk)?c.controller:l,{clearSelection:d,selectedOptions:h,selectOption:f}=Ik(t),p=ol(Mk),g=jk((e=>e.selectedOptions)),m=jk((e=>e.selectOption)),v=p?{selectedOptions:g,selectOption:m,...qk}:{selectedOptions:h,selectOption:f,...qk},b={components:{root:"div"},root:me(Be("div",{ref:Oe(r,a,s),role:n?"menu":"listbox",tabIndex:0,...t}),{elementType:"div"}),multiselect:n,clearSelection:d,activeDescendantController:u,...o,...v};return b.root.onKeyDown=Xi(Cl(b.root.onKeyDown,(e=>{const t=Bk(e,{open:!0}),r=u.active(),n=r?i(r):null;switch(t){case"Next":n?u.next():u.first();break;case"Previous":n?u.prev():u.first();break;case"PageUp":case"First":u.first();break;case"PageDown":case"Last":u.last();break;case"Select":case"CloseSelect":n&&f(e,n)}}))),b})(t,r),o=function(t){const r=ol(Mk),{multiselect:n,registerOption:o,selectedOptions:i,selectOption:s,activeDescendantController:a}=t,l=jk((e=>e.registerOption));return{listbox:{activeOption:void 0,focusVisible:!1,multiselect:n,registerOption:r?l:o,selectedOptions:i,selectOption:s,setActiveOption:()=>{},onOptionClick:jk((e=>e.onOptionClick))},activeDescendant:e.useMemo((()=>({controller:a})),[a])}}(n);return(e=>{const t=Uk();e.root.className=Ge("fui-Listbox",t.root,e.root.className)})(n),T("useListboxStyles_unstable")(n),((e,t)=>u(Pk,{value:t.activeDescendant,children:u(Mk.Provider,{value:t.listbox,children:u(e.root,{})})}))(n,o)}));function Hk(t){return null!==t&&"object"==typeof t&&!Array.isArray(t)&&!(0,e.isValidElement)(t)}function Wk(t,r,n){const{state:{open:o,setOpen:i,setHasFocus:s},defaultProps:a,elementType:l,activeDescendantController:c}=n,u=me(t,{defaultProps:{type:"text","aria-expanded":o,role:"combobox",..."object"==typeof a&&a},elementType:l}),d=e.useRef(null);return u.ref=Oe(d,u.ref,r),u.onBlur=Cl((e=>{i(e,!1),s(!1)}),u.onBlur),u.onFocus=Cl((e=>{e.target===e.currentTarget&&s(!0)}),u.onFocus),u.onClick=Cl((e=>{i(e,!o)}),u.onClick),u.onKeyDown=Cl(function(t){const{activeDescendantController:r,getOptionById:n,setOpen:o,selectOption:i,multiselect:s,open:a}=t,l=e.useCallback((()=>{const e=r.active();return e?n(e):void 0}),[r,n]),c=function(){const t=xk();return e.useCallback((e=>{null==t||t.setVal(e)}),[t])}();return Xi((e=>{const t=Bk(e,{open:a,multiselect:s}),n=l();switch(t){case"First":case"Next":case"Previous":case"PageDown":case"PageUp":case"Open":case"Close":case"CloseSelect":case"Select":e.preventDefault()}switch(c(!0),t){case"First":r.first();break;case"Next":(e=>{e?r.next():r.first()})(n);break;case"Previous":(e=>{e?r.prev():r.first()})(n);break;case"PageDown":(()=>{for(let e=0;e<10;e++)r.next()})();break;case"PageUp":(()=>{for(let e=0;e<10;e++)r.prev()})();break;case"Open":o(e,!0);break;case"Close":e.stopPropagation(),o(e,!1);break;case"CloseSelect":!s&&!(null==n?void 0:n.disabled)&&o(e,!1);case"Select":n&&i(e,n);break;case"Tab":!s&&n&&i(e,n)}}))}({activeDescendantController:c,...n.state}),u.onKeyDown),u}function $k(t,r,n){const{state:{open:o,value:i,selectOption:s,setValue:a,multiselect:l,selectedOptions:c,clearSelection:u,getOptionById:d,setOpen:h},freeform:f,defaultProps:p,activeDescendantController:g}=n,m=Wk(t,r,{state:n.state,defaultProps:p,elementType:"input",activeDescendantController:g});m.onChange=Cl(m.onChange,(e=>{const t=e.target.value;a(t);const r=(e=>{const t=null==e?void 0:e.trim().toLowerCase();if(!t||0===t.length)return void g.blur();const r=g.find((e=>{const r=d(e);return!!r&&0===r.text.toLowerCase().indexOf(t)}));if(r)return d(r);g.blur()})(t);l||1!==c.length||!(t.length<1)&&r||u(e)})),m.onBlur=Cl(m.onBlur,(e=>{if(!o&&!f){const t=g.active(),r=t?d(t):null;i&&r&&i.trim().toLowerCase()===(null==r?void 0:r.text.toLowerCase())&&s(e,r),a(void 0)}}));const[v,b]=e.useState(!1),y=e.useRef(!1),w=m.onKeyDown,_=Xi((e=>{o||"Type"!==Bk(e)||h(e,!0),e.key===ml||e.key===vl?b(!0):b(!1);const r=Bk(e,{open:o,multiselect:l});var n;"Type"===r?y.current=!0:("Open"===r&&" "!==e.key||"Next"===r||"Previous"===r||"First"===r||"Last"===r||"PageUp"===r||"PageDown"===r)&&(y.current=!1),!y.current&&o||" "!==e.key?null==w||w(e):null==t||null===(n=t.onKeyDown)||void 0===n||n.call(t,e)}));return m.onKeyDown=_,v&&(m["aria-activedescendant"]=void 0),m}Vk.displayName="Listbox";const Kk=(t,r)=>{var n,o;t=wu(t,{supportsLabelFor:!0,supportsRequired:!0,supportsSize:!0});const{listboxRef:i,activeParentRef:s,controller:a}=Ck({matchOption:e=>e.classList.contains(Ok)}),l=(t=>{const{appearance:r="outline",children:n,clearable:o=!1,editable:i=!1,inlinePopup:s=!1,mountNode:a,multiselect:l,onOpenChange:c,size:u="medium",activeDescendantController:d,freeform:h=!1,disabled:f=!1}=t,p=Tk(),{getOptionsMatchingValue:g}=p,{getOptionById:m}=p,v=e.useCallback((()=>{const e=d.active();return e?m(e):void 0}),[d,m]),b=v(),y=e.useCallback((e=>{let t;"function"==typeof e&&(t=e(v())),t?d.focus(t.id):d.blur()}),[d,v]),[w,_]=e.useState(!1),[k,x]=e.useState(!1),S=e.useRef(!1),E=function(){const t=e.useRef(!0);return t.current?(t.current=!1,!0):t.current}(),[C,T]=ys({state:t.value,initialState:void 0}),{selectedOptions:I,selectOption:N,clearSelection:R}=Ik(t),D=e.useCallback(((e,t)=>{Yl.unstable_batchedUpdates((()=>{T(void 0),N(e,t)}))}),[T,N]),P=e.useMemo((()=>{if(void 0!==C)return C;if(E&&void 0!==t.defaultValue)return t.defaultValue;const e=g((e=>I.includes(e))).map((e=>e.text));return l?i?"":e.join(", "):e[0]}),[C,i,g,l,t.defaultValue,I]),[z,B]=ys({state:t.open,defaultState:t.defaultOpen,initialState:!1}),O=e.useCallback(((e,t)=>{f||(null==c||c(e,{open:t}),Yl.unstable_batchedUpdates((()=>{t||h||T(void 0),B(t)})))}),[c,B,T,h,f]);return e.useEffect((()=>{if(z){if(!l&&I.length>0){const e=g((e=>e===I[0])).pop();(null==e?void 0:e.id)&&d.focus(e.id)}}else d.blur()}),[z,d]),e.useEffect((()=>{z&&(d.active()||d.first())}),[z,n,d]),{...p,freeform:h,disabled:f,selectOption:D,clearSelection:R,selectedOptions:I,activeOption:b,appearance:r,clearable:o,focusVisible:w,ignoreNextBlur:S,inlinePopup:s,mountNode:a,open:z,hasFocus:k,setActiveOption:y,setFocusVisible:_,setHasFocus:x,setOpen:O,setValue:T,size:u,value:P,multiselect:l,onOptionClick:Xi((e=>{l||O(e,!1)}))}})({...t,editable:!0,activeDescendantController:a}),{clearable:c,clearSelection:u,multiselect:d,open:h,selectedOptions:f,value:p,hasFocus:g}=l,[m,v]=function(e){const{positioning:t}=e,r={position:"below",align:"start",offset:{crossAxis:0,mainAxis:2},fallbackPositions:["above","after","after-top","before","before-top"],matchTargetSize:"width",...Lo(t)},{targetRef:n,containerRef:o}=bs(r);return[o,n]}(t),{freeform:b,inlinePopup:y}=t,w=Le("combobox-"),{primary:_,root:k}=ze({props:t,primarySlotTagName:"input",excludedPropNames:["children","size"]}),x=e.useRef(null),S=function(e,t,r){const{state:{multiselect:n},triggerRef:o,defaultProps:i}=r,s=Le("fluent-listbox",Hk(e)?e.id:void 0),a=ve(e,{renderByDefault:!0,elementType:Vk,defaultProps:{id:s,multiselect:n,tabIndex:void 0,...i}}),l=Xi(Cl((e=>{e.preventDefault()}),null==a?void 0:a.onMouseDown)),c=Xi(Cl((e=>{var t;e.preventDefault(),null===(t=o.current)||void 0===t||t.focus()}),null==a?void 0:a.onClick)),u=Oe(null==a?void 0:a.ref,t);return a&&(a.ref=u,a.onMouseDown=l,a.onClick=c),a}(t.listbox,Oe(m,i),{state:l,triggerRef:x,defaultProps:{children:t.children}});var E;const C=$k(null!==(E=t.input)&&void 0!==E?E:{},Oe(x,s,r),{state:l,freeform:b,defaultProps:{type:"text",value:null!=p?p:"","aria-controls":h?null==S?void 0:S.id:void 0,..._},activeDescendantController:a}),T=me(t.root,{defaultProps:{"aria-owns":!y&&h?null==S?void 0:S.id:void 0,...k},elementType:"div"});T.ref=Oe(T.ref,v);const I=f.length>0&&c&&!d,N={components:{root:"div",input:"input",expandIcon:"span",listbox:Vk,clearIcon:"span"},root:T,input:C,listbox:h||g?S:void 0,clearIcon:ve(t.clearIcon,{defaultProps:{"aria-hidden":"true",children:e.createElement(so,null)},elementType:"span",renderByDefault:!0}),expandIcon:ve(t.expandIcon,{renderByDefault:!0,defaultProps:{"aria-expanded":h,children:e.createElement(eo,null),role:"button"},elementType:"span"}),showClearIcon:I,activeDescendantController:a,...l},{onMouseDown:R}=N.expandIcon||{},D=Xi(Cl(R,(e=>{var t;e.preventDefault(),N.setOpen(e,!N.open),null===(t=x.current)||void 0===t||t.focus()})));if(N.expandIcon){N.expandIcon.onMouseDown=D;const e="Open";if(!N.expandIcon["aria-label"]&&!N.expandIcon["aria-labelledby"])if(t["aria-labelledby"]){var P;const t=null!==(P=N.expandIcon.id)&&void 0!==P?P:`${w}-chevron`,r=`${t} ${N.input["aria-labelledby"]}`;N.expandIcon["aria-label"]=e,N.expandIcon.id=t,N.expandIcon["aria-labelledby"]=r}else t["aria-label"]?N.expandIcon["aria-label"]=`${e} ${t["aria-label"]}`:N.expandIcon["aria-label"]=e}const z=Xi(Cl(null===(n=N.clearIcon)||void 0===n?void 0:n.onMouseDown,(e=>{e.preventDefault()}))),B=Xi(Cl(null===(o=N.clearIcon)||void 0===o?void 0:o.onClick,(e=>{u(e)})));return N.clearIcon&&(N.clearIcon.onMouseDown=z,N.clearIcon.onClick=B),d&&(N.clearIcon=void 0),N},Gk=Xa({activeOption:void 0,appearance:"outline",focusVisible:!1,open:!1,registerOption(){return()=>{}},selectedOptions:[],selectOption(){},setActiveOption(){},setOpen(){},size:"medium"}),Qk=(Gk.Provider,"fui-Combobox"),Xk=Un({root:{Bt984gj:"f122n59",Bbmb7ep:["f1aa9q02","f16jpd5f"],Beyfa6y:["f16jpd5f","f1aa9q02"],B7oj6ja:["f1jar5jt","fyu767a"],Btl43ni:["fyu767a","f1jar5jt"],B7ck84d:"f1ewtqcl",i8kkvl:"f14mj54c",mc9l5x:"fwk3njj",Budl1dq:"fz17x9o",Brf1p80:"f1869bpl",Bf4jedk:"f1exfvgq",qhf8xq:"f10pi13n",Bbr2w1p:"f14a1fxs",Bduesf4:"f3e99gv",Bpq79vn:"fhljsf7",li1rpt:"f1gw3sf2",Bsft5z2:"f13zj6fq",E3zdtr:"f1mdlcz9",Eqx8gd:["f1a7op3","f1cjjd47"],By385i5:"f1gboi2j",B1piin3:["f1cjjd47","f1a7op3"],Dlnsje:"f145g4dw",d9w3h3:["f1kp91vd","f1ibwz09"],B3778ie:["f1ibwz09","f1kp91vd"],Bcgy8vk:"f14pi962",Bw17bha:"f1lh990p",B1q35kw:"f1jc6hxc",Gjdm7m:"f13evtba",b1kco5:"f1yk9hq",Ba2ppi3:"fhwpy7i",F2fol1:"f14ee0xe",lck23g:"f1xhbsuh",df92cz:"fv8e3ye",I188md:"ftb5wc6",umuwi5:"fjw5xc1",Blcqepd:"f1xdyd5c",nplu4u:"fatpbeo",Bioka5o:"fb7uyps",H713fs:"f1cmft4k",B9ooomg:"f1x58t8o",Bercvud:"f1ibeo51"},listbox:{E5pizo:"f1hg901r",Bbmb7ep:["f1aa9q02","f16jpd5f"],Beyfa6y:["f16jpd5f","f1aa9q02"],B7oj6ja:["f1jar5jt","fyu767a"],Btl43ni:["fyu767a","f1jar5jt"],Bxyxcbc:"fmmk62d",B7ck84d:"f1ewtqcl"},listboxCollapsed:{mc9l5x:"fjseox"},small:{Bqenvij:"frvgh55",z189sj:["fdw0yi8","fk8j09s"]},medium:{Bqenvij:"f1d2rq10",z189sj:["f11gcy0p","f1ng84yb"]},large:{i8kkvl:"f1rjii52",Bqenvij:"fbhnoac",z189sj:["fw5db7e","f1uw59to"]},outline:{De3pzq:"fxugw4r",B4j52fo:"f192inf7",Bekrc4i:["f5tn483","f1ojsxk5"],Bn0qgzm:"f1vxd6vx",ibv6hh:["f1ojsxk5","f5tn483"],icvyot:"fzkkow9",vrafjx:["fcdblym","fjik90z"],oivjwe:"fg706s2",wvpqe5:["fjik90z","fcdblym"],g2u3we:"fj3muxo",h3c5rm:["f1akhkt","f1lxtadh"],B9xav0g:"f1c1zstj",zhjwy3:["f1lxtadh","f1akhkt"]},outlineInteractive:{Bgoe8wy:"fvcxoqz",Bwzppfd:["f1ub3y4t","f1m52nbi"],oetu4i:"flmw63s",gg5e9n:["f1m52nbi","f1ub3y4t"],B6oc9vd:"fvs00aa",ak43y8:["f1assf6x","f4ruux4"],wmxk5l:"fqhmt4z",B50zh58:["f4ruux4","f1assf6x"]},underline:{De3pzq:"f1c21dwh",Bn0qgzm:"f1vxd6vx",oivjwe:"fg706s2",B9xav0g:"f1c1zstj",Bbmb7ep:["f1krrbdw","f1deotkl"],Beyfa6y:["f1deotkl","f1krrbdw"],B7oj6ja:["f10ostut","f1ozlkrg"],Btl43ni:["f1ozlkrg","f10ostut"]},"filled-lighter":{De3pzq:"fxugw4r",B4j52fo:"f192inf7",Bekrc4i:["f5tn483","f1ojsxk5"],Bn0qgzm:"f1vxd6vx",ibv6hh:["f1ojsxk5","f5tn483"],icvyot:"fzkkow9",vrafjx:["fcdblym","fjik90z"],oivjwe:"fg706s2",wvpqe5:["fjik90z","fcdblym"],g2u3we:"fghlq4f",h3c5rm:["f1gn591s","fjscplz"],B9xav0g:"fb073pr",zhjwy3:["fjscplz","f1gn591s"]},"filled-darker":{De3pzq:"f16xq7d1",B4j52fo:"f192inf7",Bekrc4i:["f5tn483","f1ojsxk5"],Bn0qgzm:"f1vxd6vx",ibv6hh:["f1ojsxk5","f5tn483"],icvyot:"fzkkow9",vrafjx:["fcdblym","fjik90z"],oivjwe:"fg706s2",wvpqe5:["fjik90z","fcdblym"],g2u3we:"fghlq4f",h3c5rm:["f1gn591s","fjscplz"],B9xav0g:"fb073pr",zhjwy3:["fjscplz","f1gn591s"]},invalid:{tvckwq:"fs4k3qj",gk2u95:["fcee079","fmyw78r"],hhx65j:"f1fgmyf4",Bxowmz0:["fmyw78r","fcee079"]},invalidUnderline:{hhx65j:"f1fgmyf4"},disabled:{Bceei9c:"fdrzuqr",De3pzq:"f1c21dwh",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],Bjwas2f:"fg455y9",Bn1d65q:["f1rvyvqg","f14g86mu"],Bxeuatn:"f1cwzwz",n51gp8:["f14g86mu","f1rvyvqg"]}},{d:[".f122n59{align-items:center;}",".f1aa9q02{border-bottom-right-radius:var(--borderRadiusMedium);}",".f16jpd5f{border-bottom-left-radius:var(--borderRadiusMedium);}",".f1jar5jt{border-top-right-radius:var(--borderRadiusMedium);}",".fyu767a{border-top-left-radius:var(--borderRadiusMedium);}",".f1ewtqcl{box-sizing:border-box;}",".f14mj54c{column-gap:var(--spacingHorizontalXXS);}",".fwk3njj{display:inline-grid;}",".fz17x9o{grid-template-columns:1fr auto;}",".f1869bpl{justify-content:space-between;}",".f1exfvgq{min-width:250px;}",".f10pi13n{position:relative;}",".f1gw3sf2::after{box-sizing:border-box;}",'.f13zj6fq::after{content:"";}',".f1mdlcz9::after{position:absolute;}",".f1a7op3::after{left:-1px;}",".f1cjjd47::after{right:-1px;}",".f1gboi2j::after{bottom:-1px;}",".f145g4dw::after{height:max(2px, var(--borderRadiusMedium));}",".f1kp91vd::after{border-bottom-left-radius:var(--borderRadiusMedium);}",".f1ibwz09::after{border-bottom-right-radius:var(--borderRadiusMedium);}",".f14pi962::after{border-bottom-width:var(--strokeWidthThick);}",".f1lh990p::after{border-bottom-style:solid;}",".f1jc6hxc::after{border-bottom-color:var(--colorCompoundBrandStroke);}",".f13evtba::after{clip-path:inset(calc(100% - 2px) 0 0 0);}",".f1yk9hq::after{transform:scaleX(0);}",".fhwpy7i::after{transition-property:transform;}",".f14ee0xe::after{transition-duration:var(--durationUltraFast);}",".f1xhbsuh::after{transition-delay:var(--curveAccelerateMid);}",".f1hg901r{box-shadow:var(--shadow16);}",".fmmk62d{max-height:80vh;}",".fjseox{display:none;}",".frvgh55{height:24px;}",".fdw0yi8{padding-right:var(--spacingHorizontalSNudge);}",".fk8j09s{padding-left:var(--spacingHorizontalSNudge);}",".f1d2rq10{height:32px;}",".f11gcy0p{padding-right:var(--spacingHorizontalMNudge);}",".f1ng84yb{padding-left:var(--spacingHorizontalMNudge);}",".f1rjii52{column-gap:var(--spacingHorizontalSNudge);}",".fbhnoac{height:40px;}",".fw5db7e{padding-right:var(--spacingHorizontalM);}",".f1uw59to{padding-left:var(--spacingHorizontalM);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",".f192inf7{border-top-width:var(--strokeWidthThin);}",".f5tn483{border-right-width:var(--strokeWidthThin);}",".f1ojsxk5{border-left-width:var(--strokeWidthThin);}",".f1vxd6vx{border-bottom-width:var(--strokeWidthThin);}",".fzkkow9{border-top-style:solid;}",".fcdblym{border-right-style:solid;}",".fjik90z{border-left-style:solid;}",".fg706s2{border-bottom-style:solid;}",".fj3muxo{border-top-color:var(--colorNeutralStroke1);}",".f1akhkt{border-right-color:var(--colorNeutralStroke1);}",".f1lxtadh{border-left-color:var(--colorNeutralStroke1);}",".f1c1zstj{border-bottom-color:var(--colorNeutralStrokeAccessible);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".f1krrbdw{border-bottom-right-radius:0;}",".f1deotkl{border-bottom-left-radius:0;}",".f10ostut{border-top-right-radius:0;}",".f1ozlkrg{border-top-left-radius:0;}",".fghlq4f{border-top-color:var(--colorTransparentStroke);}",".f1gn591s{border-right-color:var(--colorTransparentStroke);}",".fjscplz{border-left-color:var(--colorTransparentStroke);}",".fb073pr{border-bottom-color:var(--colorTransparentStroke);}",".f16xq7d1{background-color:var(--colorNeutralBackground3);}",".fs4k3qj:not(:focus-within),.fs4k3qj:hover:not(:focus-within){border-top-color:var(--colorPaletteRedBorder2);}",".fcee079:not(:focus-within),.fcee079:hover:not(:focus-within){border-right-color:var(--colorPaletteRedBorder2);}",".fmyw78r:not(:focus-within),.fmyw78r:hover:not(:focus-within){border-left-color:var(--colorPaletteRedBorder2);}",".f1fgmyf4:not(:focus-within),.f1fgmyf4:hover:not(:focus-within){border-bottom-color:var(--colorPaletteRedBorder2);}",".fdrzuqr{cursor:not-allowed;}",".f1jj8ep1{border-top-color:var(--colorNeutralStrokeDisabled);}",".f15xbau{border-right-color:var(--colorNeutralStrokeDisabled);}",".fy0fskl{border-left-color:var(--colorNeutralStrokeDisabled);}",".f4ikngz{border-bottom-color:var(--colorNeutralStrokeDisabled);}"],w:[".f14a1fxs:focus-within{outline-width:2px;}",".f3e99gv:focus-within{outline-style:solid;}",".fhljsf7:focus-within{outline-color:transparent;}",".fjw5xc1:focus-within::after{transform:scaleX(1);}",".f1xdyd5c:focus-within::after{transition-property:transform;}",".fatpbeo:focus-within::after{transition-duration:var(--durationNormal);}",".fb7uyps:focus-within::after{transition-delay:var(--curveDecelerateMid);}",".f1ibeo51:focus-within:active::after{border-bottom-color:var(--colorCompoundBrandStrokePressed);}"],m:[["@media screen and (prefers-reduced-motion: reduce){.fv8e3ye::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.ftb5wc6::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1cmft4k:focus-within::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1x58t8o:focus-within::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media (forced-colors: active){.fg455y9{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f14g86mu{border-left-color:GrayText;}.f1rvyvqg{border-right-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1cwzwz{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}]],h:[".fvcxoqz:hover{border-top-color:var(--colorNeutralStroke1Hover);}",".f1ub3y4t:hover{border-right-color:var(--colorNeutralStroke1Hover);}",".f1m52nbi:hover{border-left-color:var(--colorNeutralStroke1Hover);}",".flmw63s:hover{border-bottom-color:var(--colorNeutralStrokeAccessible);}"],a:[".fvs00aa:active{border-top-color:var(--colorNeutralStroke1Pressed);}",".f1assf6x:active{border-right-color:var(--colorNeutralStroke1Pressed);}",".f4ruux4:active{border-left-color:var(--colorNeutralStroke1Pressed);}",".fqhmt4z:active{border-bottom-color:var(--colorNeutralStrokeAccessible);}"]}),Yk=Un({input:{qb2dma:"f1ub7u0d",De3pzq:"f1c21dwh",B4j52fo:"fre7gi1",Bekrc4i:["f1358rze","f1rvrf73"],Bn0qgzm:"fqdk4by",ibv6hh:["f1rvrf73","f1358rze"],sj55zd:"f19n0e5",Bahqtrf:"fk6fouc",Brovlpu:"ftqa4ok",yvdlaj:"fwyc1cq",B3o7kgh:"f13ta7ih"},small:{Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm",z8tnut:"f1g0x7ka",z189sj:["fhxju0i","f1cnd47f"],Byoj8tv:"f1qch9an",uwmqm3:["f1xile11","fqznh8f"]},medium:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi",z8tnut:"f1g0x7ka",z189sj:["fhxju0i","f1cnd47f"],Byoj8tv:"f1qch9an",uwmqm3:["f1e60jzv","f135dnwl"]},large:{Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"figsok6",Bg96gwp:"faaz57k",z8tnut:"f1g0x7ka",z189sj:["fhxju0i","f1cnd47f"],Byoj8tv:"f1qch9an",uwmqm3:["fnphzt9","flt1dlf"]},disabled:{sj55zd:"f1s2aq7o",De3pzq:"f1c21dwh",Bceei9c:"fdrzuqr",yvdlaj:"fahhnxm"}},{d:[".f1ub7u0d{align-self:stretch;}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".fre7gi1{border-top-width:0;}",".f1358rze{border-right-width:0;}",".f1rvrf73{border-left-width:0;}",".fqdk4by{border-bottom-width:0;}",".f19n0e5{color:var(--colorNeutralForeground1);}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fwyc1cq::-webkit-input-placeholder{color:var(--colorNeutralForeground4);}",".fwyc1cq::-moz-placeholder{color:var(--colorNeutralForeground4);}",".f13ta7ih::-webkit-input-placeholder{opacity:1;}",".f13ta7ih::-moz-placeholder{opacity:1;}",".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".f1g0x7ka{padding-top:0;}",".fhxju0i{padding-right:0;}",".f1cnd47f{padding-left:0;}",".f1qch9an{padding-bottom:0;}",".f1xile11{padding-left:calc(var(--spacingHorizontalSNudge) + var(--spacingHorizontalXXS));}",".fqznh8f{padding-right:calc(var(--spacingHorizontalSNudge) + var(--spacingHorizontalXXS));}",".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".f1e60jzv{padding-left:calc(var(--spacingHorizontalMNudge) + var(--spacingHorizontalXXS));}",".f135dnwl{padding-right:calc(var(--spacingHorizontalMNudge) + var(--spacingHorizontalXXS));}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",".fnphzt9{padding-left:calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge));}",".flt1dlf{padding-right:calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge));}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fdrzuqr{cursor:not-allowed;}",".fahhnxm::-webkit-input-placeholder{color:var(--colorNeutralForegroundDisabled);}",".fahhnxm::-moz-placeholder{color:var(--colorNeutralForegroundDisabled);}"],f:[".ftqa4ok:focus{outline-style:none;}"]}),Jk=Un({icon:{B7ck84d:"f1ewtqcl",sj55zd:"fxkbij4",Bceei9c:"f1k6fduh",mc9l5x:"ftgm304",Be2twd7:"f1pp30po",Bo70h7d:"fvc9v3g"},hidden:{mc9l5x:"fjseox"},visuallyHidden:{Bh84pgu:"f1ekcaio",Bqenvij:"f1mpe4l3",B6of3ja:"fkrn0sh",t21cq0:["f179hvsh","f1538868"],jrapky:"fmxx68s",Frg6f3:["f1538868","f179hvsh"],B68tc82:"f1p9o1ba",Bmxbyg5:"f1sil6mw",z8tnut:"f1nbblvp",z189sj:["fifp7yv","f1asdtw4"],Byoj8tv:"f1ov4xf1",uwmqm3:["f1asdtw4","fifp7yv"],a9b677:"frkrog8",qhf8xq:"f1euv43f"},small:{Be2twd7:"f4ybsrx",Frg6f3:["f1h9en5y","f1xk557c"]},medium:{Be2twd7:"fe5j1ua",Frg6f3:["f1h9en5y","f1xk557c"]},large:{Be2twd7:"f1rt2boy",Frg6f3:["f1t5qyk5","f1ikr372"]},disabled:{sj55zd:"f1s2aq7o",Bceei9c:"fdrzuqr"}},{d:[".f1ewtqcl{box-sizing:border-box;}",".fxkbij4{color:var(--colorNeutralStrokeAccessible);}",".f1k6fduh{cursor:pointer;}",".ftgm304{display:block;}",".f1pp30po{font-size:var(--fontSizeBase500);}",".fvc9v3g svg{display:block;}",".fjseox{display:none;}",".f1ekcaio{clip:rect(0px, 0px, 0px, 0px);}",".f1mpe4l3{height:1px;}",".fkrn0sh{margin-top:-1px;}",".f179hvsh{margin-right:-1px;}",".f1538868{margin-left:-1px;}",".fmxx68s{margin-bottom:-1px;}",".f1p9o1ba{overflow-x:hidden;}",".f1sil6mw{overflow-y:hidden;}",".f1nbblvp{padding-top:0px;}",".fifp7yv{padding-right:0px;}",".f1asdtw4{padding-left:0px;}",".f1ov4xf1{padding-bottom:0px;}",".frkrog8{width:1px;}",".f1euv43f{position:absolute;}",".f4ybsrx{font-size:16px;}",".f1h9en5y{margin-left:var(--spacingHorizontalXXS);}",".f1xk557c{margin-right:var(--spacingHorizontalXXS);}",".fe5j1ua{font-size:20px;}",".f1rt2boy{font-size:24px;}",".f1t5qyk5{margin-left:var(--spacingHorizontalSNudge);}",".f1ikr372{margin-right:var(--spacingHorizontalSNudge);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fdrzuqr{cursor:not-allowed;}"]}),Zk=e.forwardRef(((t,r)=>{const n=Kk(t,r),o=function(t){const{appearance:r,open:n,registerOption:o,selectedOptions:i,selectOption:s,setOpen:a,size:l,activeDescendantController:c,onOptionClick:u}=t,d={activeOption:void 0,focusVisible:!1,registerOption:o,selectedOptions:i,selectOption:s,setActiveOption:()=>null,onOptionClick:u};return{combobox:{activeOption:void 0,appearance:r,focusVisible:!1,open:n,registerOption:o,selectedOptions:i,selectOption:s,setActiveOption:()=>null,setOpen:a,size:l},activeDescendant:e.useMemo((()=>({controller:c})),[c]),listbox:d}}(n);return(e=>{const{appearance:t,open:r,size:n,showClearIcon:o}=e,i="true"==`${e.input["aria-invalid"]}`,s=e.input.disabled,a=Xk(),l=Jk(),c=Yk();e.root.className=Ge(Qk,a.root,a[t],a[n],!s&&"outline"===t&&a.outlineInteractive,i&&"underline"!==t&&a.invalid,i&&"underline"===t&&a.invalidUnderline,s&&a.disabled,e.root.className),e.input.className=Ge("fui-Combobox__input",c.input,c[n],s&&c.disabled,e.input.className),e.listbox&&(e.listbox.className=Ge("fui-Combobox__listbox",a.listbox,!r&&a.listboxCollapsed,e.listbox.className)),e.expandIcon&&(e.expandIcon.className=Ge("fui-Combobox__expandIcon",l.icon,l[n],s&&l.disabled,o&&l.visuallyHidden,e.expandIcon.className)),e.clearIcon&&(e.clearIcon.className=Ge("fui-Combobox__clearIcon",l.icon,l[n],s&&l.disabled,!o&&l.hidden,e.clearIcon.className))})(n),T("useComboboxStyles_unstable")(n),((e,t)=>u(e.root,{children:u(Pk,{value:t.activeDescendant,children:u(Lk,{value:t.listbox,children:d(Gk.Provider,{value:t.combobox,children:[u(e.input,{}),e.clearIcon&&u(e.clearIcon,{}),u(e.expandIcon,{}),e.listbox&&(e.inlinePopup?u(e.listbox,{}):u(Jl,{mountNode:e.mountNode,children:u(e.listbox,{})}))]})})})}))(n,o)}));Zk.displayName="Combobox";const ex=Un({root:{mc9l5x:"f22iagw",Beiy3e4:"f1vx9l62",Belr9w4:"fiut8dr",B8lkq7l:"f1xxzjds",Gwp8xu:"fu19d3i",H93o2g:"flylvvz",eii1in:"f1ug5m11",om0q45:"f5642y",Hl9o3s:"ffdf81h",Bi9x0x4:"flgyru6",B0i58d9:["f1fjgumo","f1sgo0dv"],sl1c2c:"fwsdxdw",z4hxbw:["f1sgo0dv","f1fjgumo"]},label:{Bbmb7ep:["f1aa9q02","f16jpd5f"],Beyfa6y:["f16jpd5f","f1aa9q02"],B7oj6ja:["f1jar5jt","fyu767a"],Btl43ni:["fyu767a","f1jar5jt"],sj55zd:"f11d4kpn",mc9l5x:"ftgm304",Be2twd7:"fy9rknc",Bhrd7zp:"fl43uef",Bg96gwp:"fwrc4pm",z8tnut:"f17mpqex",z189sj:["fdw0yi8","fk8j09s"],Byoj8tv:"fdvome7",uwmqm3:["fk8j09s","fdw0yi8"]}},{d:[".f22iagw{display:flex;}",".f1vx9l62{flex-direction:column;}",".fiut8dr{row-gap:var(--spacingHorizontalXXS);}",'.f1xxzjds:not(:last-child)::after{content:"";}',".fu19d3i:not(:last-child)::after{border-bottom-width:var(--strokeWidthThin);}",".flylvvz:not(:last-child)::after{border-bottom-style:solid;}",".f1ug5m11:not(:last-child)::after{border-bottom-color:var(--colorNeutralStroke2);}",".f5642y:not(:last-child)::after{display:block;}",".ffdf81h:not(:last-child)::after{padding-bottom:var(--spacingHorizontalXS);}",".flgyru6:not(:last-child)::after{margin-top:0;}",".f1fjgumo:not(:last-child)::after{margin-right:calc(var(--spacingHorizontalXS) * -1);}",".f1sgo0dv:not(:last-child)::after{margin-left:calc(var(--spacingHorizontalXS) * -1);}",".fwsdxdw:not(:last-child)::after{margin-bottom:var(--spacingVerticalXS);}",".f1aa9q02{border-bottom-right-radius:var(--borderRadiusMedium);}",".f16jpd5f{border-bottom-left-radius:var(--borderRadiusMedium);}",".f1jar5jt{border-top-right-radius:var(--borderRadiusMedium);}",".fyu767a{border-top-left-radius:var(--borderRadiusMedium);}",".f11d4kpn{color:var(--colorNeutralForeground3);}",".ftgm304{display:block;}",".fy9rknc{font-size:var(--fontSizeBase200);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".f17mpqex{padding-top:var(--spacingHorizontalS);}",".fdw0yi8{padding-right:var(--spacingHorizontalSNudge);}",".fk8j09s{padding-left:var(--spacingHorizontalSNudge);}",".fdvome7{padding-bottom:var(--spacingHorizontalS);}"]}),tx=e.forwardRef(((e,t)=>{const r=((e,t)=>{const r=Le("group-label"),{label:n}=e;return{components:{root:"div",label:"span"},root:me(Be("div",{ref:t,role:"group","aria-labelledby":n?r:void 0,...e}),{elementType:"div"}),label:ve(n,{defaultProps:{id:r,role:"presentation"},elementType:"span"})}})(e,t);return(e=>{const t=ex();e.root.className=Ge("fui-OptionGroup",t.root,e.root.className),e.label&&(e.label.className=Ge("fui-OptionGroup__label",t.label,e.label.className))})(r),T("useOptionGroupStyles_unstable")(r),(e=>d(e.root,{children:[e.label&&u(e.label,{children:e.label.children}),e.root.children]}))(r)}));tx.displayName="OptionGroup";const rx=Xn("CheckmarkFilled","1em",["M7.03 13.9 3.56 10a.75.75 0 0 0-1.12 1l4 4.5c.29.32.79.34 1.09.03l10.5-10.5a.75.75 0 0 0-1.06-1.06l-9.94 9.94Z"]),nx=e.forwardRef(((t,r)=>{const n=((t,r)=>{const{children:n,disabled:o,text:i,value:s}=t,a=e.useRef(null),l=function(t,r){if(void 0!==t)return t;let n="",o=!1;return e.Children.forEach(r,(e=>{"string"==typeof e?n+=e:o=!0})),o&&console.warn("Provide a `text` prop to Option components when they contain non-string children."),n}(i,n),c=null!=s?s:l,u=Le("fluent-option",t.id),d=e.useMemo((()=>({id:u,disabled:o,text:l,value:c})),[u,o,l,c]),{controller:h}=zk(),f=jk((e=>e.multiselect)),p=jk((e=>e.registerOption)),g=jk((e=>{const t=e.selectedOptions;return!!c&&!!t.find((e=>e===c))})),m=jk((e=>e.selectOption)),v=jk((e=>e.onOptionClick));let b=e.createElement(rx,null);f&&(b=g?e.createElement(Su,null):""),e.useEffect((()=>{if(u&&a.current)return p(d,a.current)}),[u,d,p]);const y=f?{role:"menuitemcheckbox","aria-checked":g}:{role:"option","aria-selected":g};return{components:{root:"div",checkIcon:"span"},root:me(Be("div",{ref:Oe(r,a),"aria-disabled":o?"true":void 0,id:u,...y,...t,onClick:e=>{var r;o?e.preventDefault():(h.focus(u),m(e,d),v(e),null===(r=t.onClick)||void 0===r||r.call(t,e))}}),{elementType:"div"}),checkIcon:ve(t.checkIcon,{renderByDefault:!0,defaultProps:{"aria-hidden":"true",children:b},elementType:"span"}),disabled:o,multiselect:f,selected:g,focusVisible:!1,active:!1}})(t,r);return(e=>{const{disabled:t,multiselect:r,selected:n}=e,o=Ak();e.root.className=Ge(Ok,o.root,o.active,t&&o.disabled,n&&o.selected,e.root.className),e.checkIcon&&(e.checkIcon.className=Ge("fui-Option__checkIcon",o.checkIcon,r&&o.multiselectCheck,n&&o.selectedCheck,n&&r&&o.selectedMultiselectCheck,t&&o.checkDisabled,t&&r&&o.multiselectCheckDisabled,e.checkIcon.className))})(n),T("useOptionStyles_unstable")(n),(e=>d(e.root,{children:[e.checkIcon&&u(e.checkIcon,{}),e.root.children]}))(n)}));nx.displayName="Option";var ox,ix="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},sx={},ax=ax||{},lx=ix||self;function cx(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ux(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var dx="closure_uid_"+(1e9*Math.random()>>>0),hx=0;function fx(e,t,r){return e.call.apply(e.bind,arguments)}function px(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function gx(e,t,r){return(gx=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fx:px).apply(null,arguments)}function mx(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function vx(e,t){function r(){}r.prototype=t.prototype,e.$=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.ac=function(e,r,n){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[r].apply(e,o)}}function bx(){this.s=this.s,this.o=this.o}bx.prototype.s=!1,bx.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,dx)&&e[dx]||(e[dx]=++hx))},bx.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yx=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let r=0;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1};function wx(e){const t=e.length;if(0<t){const r=Array(t);for(let n=0;n<t;n++)r[n]=e[n];return r}return[]}function _x(e,t){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(cx(r)){const t=e.length||0,n=r.length||0;e.length=t+n;for(let o=0;o<n;o++)e[t+o]=r[o]}else e.push(r)}}function kx(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}kx.prototype.h=function(){this.defaultPrevented=!0};var xx=function(){if(!lx.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};lx.addEventListener("test",e,t),lx.removeEventListener("test",e,t)}catch(e){}return e}();function Sx(e){return/^[\s\xa0]*$/.test(e)}function Ex(){var e=lx.navigator;return e&&(e=e.userAgent)?e:""}function Cx(e){return-1!=Ex().indexOf(e)}function Tx(e){return Tx[" "](e),e}Tx[" "]=function(){};var Ix,Nx,Rx,Dx=Cx("Opera"),Px=Cx("Trident")||Cx("MSIE"),zx=Cx("Edge"),Bx=zx||Px,Ox=Cx("Gecko")&&!(-1!=Ex().toLowerCase().indexOf("webkit")&&!Cx("Edge"))&&!(Cx("Trident")||Cx("MSIE"))&&!Cx("Edge"),Ax=-1!=Ex().toLowerCase().indexOf("webkit")&&!Cx("Edge");function Fx(){var e=lx.document;return e?e.documentMode:void 0}e:{var Mx="",jx=(Nx=Ex(),Ox?/rv:([^\);]+)(\)|;)/.exec(Nx):zx?/Edge\/([\d\.]+)/.exec(Nx):Px?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Nx):Ax?/WebKit\/(\S+)/.exec(Nx):Dx?/(?:Version)[ \/]?(\S+)/.exec(Nx):void 0);if(jx&&(Mx=jx?jx[1]:""),Px){var Lx=Fx();if(null!=Lx&&Lx>parseFloat(Mx)){Ix=String(Lx);break e}}Ix=Mx}lx.document&&Px?Rx=Fx()||parseInt(Ix,10)||void 0:Rx=void 0;var qx=Rx;function Ux(e,t){if(kx.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var r=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ox){e:{try{Tx(t.nodeName);var o=!0;break e}catch(e){}o=!1}o||(t=null)}}else"mouseover"==r?t=e.fromElement:"mouseout"==r&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Vx[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ux.$.h.call(this)}}vx(Ux,kx);var Vx={2:"touch",3:"pen",4:"mouse"};Ux.prototype.h=function(){Ux.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Hx="closure_listenable_"+(1e6*Math.random()|0),Wx=0;function $x(e,t,r,n,o){this.listener=e,this.proxy=null,this.src=t,this.type=r,this.capture=!!n,this.la=o,this.key=++Wx,this.fa=this.ia=!1}function Kx(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Gx(e,t,r){for(const n in e)t.call(r,e[n],n,e)}function Qx(e){const t={};for(const r in e)t[r]=e[r];return t}const Xx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yx(e,t){let r,n;for(let t=1;t<arguments.length;t++){for(r in n=arguments[t],n)e[r]=n[r];for(let t=0;t<Xx.length;t++)r=Xx[t],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}function Jx(e){this.src=e,this.g={},this.h=0}function Zx(e,t){var r=t.type;if(r in e.g){var n,o=e.g[r],i=yx(o,t);(n=0<=i)&&Array.prototype.splice.call(o,i,1),n&&(Kx(t),0==e.g[r].length&&(delete e.g[r],e.h--))}}function eS(e,t,r,n){for(var o=0;o<e.length;++o){var i=e[o];if(!i.fa&&i.listener==t&&i.capture==!!r&&i.la==n)return o}return-1}Jx.prototype.add=function(e,t,r,n,o){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var s=eS(e,t,n,o);return-1<s?(t=e[s],r||(t.ia=!1)):((t=new $x(t,this.src,i,!!n,o)).ia=r,e.push(t)),t};var tS="closure_lm_"+(1e6*Math.random()|0),rS={};function nS(e,t,r,n,o){if(n&&n.once)return iS(e,t,r,n,o);if(Array.isArray(t)){for(var i=0;i<t.length;i++)nS(e,t[i],r,n,o);return null}return r=hS(r),e&&e[Hx]?e.O(t,r,ux(n)?!!n.capture:!!n,o):oS(e,t,r,!1,n,o)}function oS(e,t,r,n,o,i){if(!t)throw Error("Invalid event type");var s=ux(o)?!!o.capture:!!o,a=uS(e);if(a||(e[tS]=a=new Jx(e)),(r=a.add(t,r,n,s,i)).proxy)return r;if(n=function(){const e=cS;return function t(r){return e.call(t.src,t.listener,r)}}(),r.proxy=n,n.src=e,n.listener=r,e.addEventListener)xx||(o=s),void 0===o&&(o=!1),e.addEventListener(t.toString(),n,o);else if(e.attachEvent)e.attachEvent(lS(t.toString()),n);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(n)}return r}function iS(e,t,r,n,o){if(Array.isArray(t)){for(var i=0;i<t.length;i++)iS(e,t[i],r,n,o);return null}return r=hS(r),e&&e[Hx]?e.P(t,r,ux(n)?!!n.capture:!!n,o):oS(e,t,r,!0,n,o)}function sS(e,t,r,n,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)sS(e,t[i],r,n,o);else n=ux(n)?!!n.capture:!!n,r=hS(r),e&&e[Hx]?(e=e.i,(t=String(t).toString())in e.g&&-1<(r=eS(i=e.g[t],r,n,o))&&(Kx(i[r]),Array.prototype.splice.call(i,r,1),0==i.length&&(delete e.g[t],e.h--))):e&&(e=uS(e))&&(t=e.g[t.toString()],e=-1,t&&(e=eS(t,r,n,o)),(r=-1<e?t[e]:null)&&aS(r))}function aS(e){if("number"!=typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Hx])Zx(t.i,e);else{var r=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(r,n,e.capture):t.detachEvent?t.detachEvent(lS(r),n):t.addListener&&t.removeListener&&t.removeListener(n),(r=uS(t))?(Zx(r,e),0==r.h&&(r.src=null,t[tS]=null)):Kx(e)}}}function lS(e){return e in rS?rS[e]:rS[e]="on"+e}function cS(e,t){if(e.fa)e=!0;else{t=new Ux(t,this);var r=e.listener,n=e.la||e.src;e.ia&&aS(e),e=r.call(n,t)}return e}function uS(e){return(e=e[tS])instanceof Jx?e:null}var dS="__closure_events_fn_"+(1e9*Math.random()>>>0);function hS(e){return"function"==typeof e?e:(e[dS]||(e[dS]=function(t){return e.handleEvent(t)}),e[dS])}function fS(){bx.call(this),this.i=new Jx(this),this.S=this,this.J=null}function pS(e,t){var r,n=e.J;if(n)for(r=[];n;n=n.J)r.push(n);if(e=e.S,n=t.type||t,"string"==typeof t)t=new kx(t,e);else if(t instanceof kx)t.target=t.target||e;else{var o=t;Yx(t=new kx(n,e),o)}if(o=!0,r)for(var i=r.length-1;0<=i;i--){var s=t.g=r[i];o=gS(s,n,!0,t)&&o}if(o=gS(s=t.g=e,n,!0,t)&&o,o=gS(s,n,!1,t)&&o,r)for(i=0;i<r.length;i++)o=gS(s=t.g=r[i],n,!1,t)&&o}function gS(e,t,r,n){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.fa&&s.capture==r){var a=s.listener,l=s.la||s.src;s.ia&&Zx(e.i,s),o=!1!==a.call(l,n)&&o}}return o&&!n.defaultPrevented}vx(fS,bx),fS.prototype[Hx]=!0,fS.prototype.removeEventListener=function(e,t,r,n){sS(this,e,t,r,n)},fS.prototype.N=function(){if(fS.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var r=t.g[e],n=0;n<r.length;n++)Kx(r[n]);delete t.g[e],t.h--}}this.J=null},fS.prototype.O=function(e,t,r,n){return this.i.add(String(e),t,!1,r,n)},fS.prototype.P=function(e,t,r,n){return this.i.add(String(e),t,!0,r,n)};var mS=lx.JSON.stringify;function vS(){var e=SS;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var bS=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new yS),(e=>e.reset()));class yS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function wS(e){var t=1;e=e.split(":");const r=[];for(;0<t&&e.length;)r.push(e.shift()),t--;return e.length&&r.push(e.join(":")),r}function _S(e){lx.setTimeout((()=>{throw e}),0)}let kS,xS=!1,SS=new class{constructor(){this.h=this.g=null}add(e,t){const r=bS.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},ES=()=>{const e=lx.Promise.resolve(void 0);kS=()=>{e.then(CS)}};var CS=()=>{for(var e;e=vS();){try{e.h.call(e.g)}catch(e){_S(e)}var t=bS;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}xS=!1};function TS(e,t){fS.call(this),this.h=e||1,this.g=t||lx,this.j=gx(this.qb,this),this.l=Date.now()}function IS(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function NS(e,t,r){if("function"==typeof e)r&&(e=gx(e,r));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=gx(e.handleEvent,e)}return 2147483647<Number(t)?-1:lx.setTimeout(e,t||0)}function RS(e){e.g=NS((()=>{e.g=null,e.i&&(e.i=!1,RS(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}vx(TS,fS),(ox=TS.prototype).ga=!1,ox.T=null,ox.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),pS(this,"tick"),this.ga&&(IS(this),this.start()))}},ox.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ox.N=function(){TS.$.N.call(this),IS(this),delete this.g};class DS extends bx{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:RS(this)}N(){super.N(),this.g&&(lx.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function PS(e){bx.call(this),this.h=e,this.g={}}vx(PS,bx);var zS=[];function BS(e,t,r,n){Array.isArray(r)||(r&&(zS[0]=r.toString()),r=zS);for(var o=0;o<r.length;o++){var i=nS(t,r[o],n||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function OS(e){Gx(e.g,(function(e,t){this.g.hasOwnProperty(t)&&aS(e)}),e),e.g={}}function AS(){this.g=!0}function FS(e,t,r,n){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var r=JSON.parse(t);if(r)for(e=0;e<r.length;e++)if(Array.isArray(r[e])){var n=r[e];if(!(2>n.length)){var o=n[1];if(Array.isArray(o)&&!(1>o.length)){var i=o[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<o.length;s++)o[s]=""}}}return mS(r)}catch(e){return t}}(e,r)+(n?" "+n:"")}))}PS.prototype.N=function(){PS.$.N.call(this),OS(this)},PS.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},AS.prototype.Ea=function(){this.g=!1},AS.prototype.info=function(){};var MS={},jS=null;function LS(){return jS=jS||new fS}function qS(e){kx.call(this,MS.Ta,e)}function US(e){const t=LS();pS(t,new qS(t))}function VS(e,t){kx.call(this,MS.STAT_EVENT,e),this.stat=t}function HS(e){const t=LS();pS(t,new VS(t,e))}function WS(e,t){kx.call(this,MS.Ua,e),this.size=t}function $S(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return lx.setTimeout((function(){e()}),t)}MS.Ta="serverreachability",vx(qS,kx),MS.STAT_EVENT="statevent",vx(VS,kx),MS.Ua="timingevent",vx(WS,kx);var KS={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},GS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function QS(){}function XS(e){return e.h||(e.h=e.i())}function YS(){}QS.prototype.h=null;var JS,ZS={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function eE(){kx.call(this,"d")}function tE(){kx.call(this,"c")}function rE(){}function nE(e,t,r,n){this.l=e,this.j=t,this.m=r,this.W=n||1,this.U=new PS(this),this.P=iE,e=Bx?125:void 0,this.V=new TS(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new oE}function oE(){this.i=null,this.g="",this.h=!1}vx(eE,kx),vx(tE,kx),vx(rE,QS),rE.prototype.g=function(){return new XMLHttpRequest},rE.prototype.i=function(){return{}},JS=new rE;var iE=45e3,sE={},aE={};function lE(e,t,r){e.L=1,e.A=TE(kE(t)),e.u=r,e.S=!0,cE(e,null)}function cE(e,t){e.G=Date.now(),fE(e),e.B=kE(e.A);var r=e.B,n=e.W;Array.isArray(n)||(n=[String(n)]),LE(r.i,"t",n),e.o=0,r=e.l.J,e.h=new oE,e.g=LC(e.l,r?t:null,!e.u),0<e.O&&(e.M=new DS(gx(e.Pa,e,e.g),e.O)),BS(e.U,e.g,"readystatechange",e.nb),t=e.I?Qx(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),US(),function(e,t,r,n,o,i){e.info((function(){if(e.g)if(i)for(var s="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+n+") [attempt "+o+"]: "+t+"\n"+r+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function uE(e){return!!e.g&&"GET"==e.v&&2!=e.L&&e.l.Ha}function dE(e,t,r){let n,o=!0;for(;!e.J&&e.o<r.length;){if(n=hE(e,r),n==aE){4==t&&(e.s=4,HS(14),o=!1),FS(e.j,e.m,null,"[Incomplete Response]");break}if(n==sE){e.s=4,HS(15),FS(e.j,e.m,r,"[Invalid Chunk]"),o=!1;break}FS(e.j,e.m,n,null),bE(e,n)}uE(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=r.length||e.h.h||(e.s=1,HS(16),o=!1),e.i=e.i&&o,o?0<r.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),PC(t),t.M=!0,HS(11))):(FS(e.j,e.m,r,"[Invalid Chunked Response]"),vE(e),mE(e))}function hE(e,t){var r=e.o,n=t.indexOf("\n",r);return-1==n?aE:(r=Number(t.substring(r,n)),isNaN(r)?sE:(n+=1)+r>t.length?aE:(t=t.slice(n,n+r),e.o=n+r,t))}function fE(e){e.Y=Date.now()+e.P,pE(e,e.P)}function pE(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=$S(gx(e.lb,e),t)}function gE(e){e.C&&(lx.clearTimeout(e.C),e.C=null)}function mE(e){0==e.l.H||e.J||OC(e.l,e)}function vE(e){gE(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,IS(e.V),OS(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function bE(e,t){try{var r=e.l;if(0!=r.H&&(r.g==e||KE(r.i,e)))if(!e.K&&KE(r.i,e)&&3==r.H){try{var n=r.Ja.g.parse(t)}catch(e){n=null}if(Array.isArray(n)&&3==n.length){var o=n;if(0==o[0]){e:if(!r.u){if(r.g){if(!(r.g.G+3e3<e.G))break e;BC(r),SC(r)}DC(r),HS(18)}}else r.Fa=o[1],0<r.Fa-r.V&&37500>o[2]&&r.G&&0==r.A&&!r.v&&(r.v=$S(gx(r.ib,r),6e3));if(1>=$E(r.i)&&r.oa){try{r.oa()}catch(e){}r.oa=void 0}}else FC(r,11)}else if((e.K||r.g==e)&&BC(r),!Sx(t))for(o=r.Ja.g.parse(t),t=0;t<o.length;t++){let c=o[t];if(r.V=c[0],c=c[1],2==r.H)if("c"==c[0]){r.K=c[1],r.pa=c[2];const t=c[3];null!=t&&(r.ra=t,r.l.info("VER="+r.ra));const o=c[4];null!=o&&(r.Ga=o,r.l.info("SVER="+r.Ga));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(n=1.5*u,r.L=n,r.l.info("backChannelRequestTimeoutMs_="+n)),n=r;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=n.i;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(GE(i,i.h),i.h=null))}if(n.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(n.Da=e,CE(n.I,n.F,e))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-e.G,r.l.info("Handshake RTT: "+r.S+"ms"));var s=e;if((n=r).wa=jC(n,n.J?n.pa:null,n.Y),s.K){QE(n.i,s);var a=s,l=n.L;l&&a.setTimeout(l),a.C&&(gE(a),fE(a)),n.g=s}else RC(n);0<r.j.length&&CC(r)}else"stop"!=c[0]&&"close"!=c[0]||FC(r,7);else 3==r.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?FC(r,7):xC(r):"noop"!=c[0]&&r.h&&r.h.Aa(c),r.A=0)}US()}catch(e){}}function yE(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(cx(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var r=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(cx(e)||"string"==typeof e){var t=[];e=e.length;for(var r=0;r<e;r++)t.push(r);return t}t=[],r=0;for(const n in e)t[r++]=n;return t}}}(e),n=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(cx(e)){for(var t=[],r=e.length,n=0;n<r;n++)t.push(e[n]);return t}for(n in t=[],r=0,e)t[r++]=e[n];return t}(e),o=n.length,i=0;i<o;i++)t.call(void 0,n[i],r&&r[i],e)}(ox=nE.prototype).setTimeout=function(e){this.P=e},ox.nb=function(e){e=e.target;const t=this.M;t&&3==vC(e)?t.l():this.Pa(e)},ox.Pa=function(e){try{if(e==this.g)e:{const u=vC(this.g);var t=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||Bx||this.g&&(this.h.h||this.g.ja()||bC(this.g)))){this.J||4!=u||7==t||US(),gE(this);var r=this.g.da();this.ca=r;t:if(uE(this)){var n=bC(this.g);e="";var o=n.length,i=4==vC(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){vE(this),mE(this);var s="";break t}this.h.i=new lx.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(n[t],{stream:i&&t==o-1});n.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,r,n,o,i,s){e.info((function(){return"XMLHTTP RESP ("+n+") [ attempt "+o+"]: "+t+"\n"+r+"\n"+i+" "+s}))}(this.j,this.v,this.B,this.m,this.W,u,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sx(a)){var c=a;break t}}c=null}if(!(r=c)){this.i=!1,this.s=3,HS(12),vE(this),mE(this);break e}FS(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bE(this,r)}this.S?(dE(this,u,s),Bx&&this.i&&3==u&&(BS(this.U,this.V,"tick",this.mb),this.V.start())):(FS(this.j,this.m,s,null),bE(this,s)),4==u&&vE(this),this.i&&!this.J&&(4==u?OC(this.l,this):(this.i=!1,fE(this)))}else(function(e){const t={};e=(e.g&&2<=vC(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<e.length;n++){if(Sx(e[n]))continue;var r=wS(e[n]);const o=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();const i=t[o]||[];t[o]=i,i.push(r)}!function(e,t){for(const r in e)t.call(void 0,e[r],r,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.s=3,HS(12)):(this.s=0,HS(13)),vE(this),mE(this)}}}catch(e){}},ox.mb=function(){if(this.g){var e=vC(this.g),t=this.g.ja();this.o<t.length&&(gE(this),dE(this,e,t),this.i&&4!=e&&fE(this))}},ox.cancel=function(){this.J=!0,vE(this)},ox.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(US(),HS(17)),vE(this),this.s=2,mE(this)):pE(this,this.Y-e)};var wE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _E(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof _E){this.h=e.h,xE(this,e.j),this.s=e.s,this.g=e.g,SE(this,e.m),this.l=e.l;var t=e.i,r=new AE;r.i=t.i,t.g&&(r.g=new Map(t.g),r.h=t.h),EE(this,r),this.o=e.o}else e&&(t=String(e).match(wE))?(this.h=!1,xE(this,t[1]||"",!0),this.s=IE(t[2]||""),this.g=IE(t[3]||"",!0),SE(this,t[4]),this.l=IE(t[5]||"",!0),EE(this,t[6]||"",!0),this.o=IE(t[7]||"")):(this.h=!1,this.i=new AE(null,this.h))}function kE(e){return new _E(e)}function xE(e,t,r){e.j=r?IE(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function SE(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function EE(e,t,r){t instanceof AE?(e.i=t,function(e,t){t&&!e.j&&(FE(e),e.i=null,e.g.forEach((function(e,t){var r=t.toLowerCase();t!=r&&(ME(this,t),LE(this,r,e))}),e)),e.j=t}(e.i,e.h)):(r||(t=NE(t,BE)),e.i=new AE(t,e.h))}function CE(e,t,r){e.i.set(t,r)}function TE(e){return CE(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function IE(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function NE(e,t,r){return"string"==typeof e?(e=encodeURI(e).replace(t,RE),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function RE(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}_E.prototype.toString=function(){var e=[],t=this.j;t&&e.push(NE(t,DE,!0),":");var r=this.g;return(r||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(NE(t,DE,!0),"@"),e.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&e.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&e.push("/"),e.push(NE(r,"/"==r.charAt(0)?zE:PE,!0))),(r=this.i.toString())&&e.push("?",r),(r=this.o)&&e.push("#",NE(r,OE)),e.join("")};var DE=/[#\/\?@]/g,PE=/[#\?:]/g,zE=/[#\?]/g,BE=/[#\?@]/g,OE=/#/g;function AE(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function FE(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var r=0;r<e.length;r++){var n=e[r].indexOf("="),o=null;if(0<=n){var i=e[r].substring(0,n);o=e[r].substring(n+1)}else i=e[r];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,(function(t,r){e.add(decodeURIComponent(t.replace(/\+/g," ")),r)})))}function ME(e,t){FE(e),t=qE(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function jE(e,t){return FE(e),t=qE(e,t),e.g.has(t)}function LE(e,t,r){ME(e,t),0<r.length&&(e.i=null,e.g.set(qE(e,t),wx(r)),e.h+=r.length)}function qE(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ox=AE.prototype).add=function(e,t){FE(this),this.i=null,e=qE(this,e);var r=this.g.get(e);return r||this.g.set(e,r=[]),r.push(t),this.h+=1,this},ox.forEach=function(e,t){FE(this),this.g.forEach((function(r,n){r.forEach((function(r){e.call(t,r,n,this)}),this)}),this)},ox.ta=function(){FE(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),r=[];for(let n=0;n<t.length;n++){const o=e[n];for(let e=0;e<o.length;e++)r.push(t[n])}return r},ox.Z=function(e){FE(this);let t=[];if("string"==typeof e)jE(this,e)&&(t=t.concat(this.g.get(qE(this,e))));else{e=Array.from(this.g.values());for(let r=0;r<e.length;r++)t=t.concat(e[r])}return t},ox.set=function(e,t){return FE(this),this.i=null,jE(this,e=qE(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ox.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},ox.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var r=0;r<t.length;r++){var n=t[r];const i=encodeURIComponent(String(n)),s=this.Z(n);for(n=0;n<s.length;n++){var o=i;""!==s[n]&&(o+="="+encodeURIComponent(String(s[n]))),e.push(o)}}return this.i=e.join("&")};var UE=class{constructor(e,t){this.g=e,this.map=t}};function VE(e){this.l=e||HE,e=lx.PerformanceNavigationTiming?0<(e=lx.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(lx.g&&lx.g.Ka&&lx.g.Ka()&&lx.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var HE=10;function WE(e){return!!e.h||!!e.g&&e.g.size>=e.j}function $E(e){return e.h?1:e.g?e.g.size:0}function KE(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function GE(e,t){e.g?e.g.add(t):e.h=t}function QE(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function XE(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const r of e.g.values())t=t.concat(r.F);return t}return wx(e.i)}VE.prototype.cancel=function(){if(this.i=XE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var YE=class{stringify(e){return lx.JSON.stringify(e,void 0)}parse(e){return lx.JSON.parse(e,void 0)}};function JE(){this.g=new YE}function ZE(e,t,r){const n=r||"";try{yE(e,(function(e,r){let o=e;ux(e)&&(o=mS(e)),t.push(n+r+"="+encodeURIComponent(o))}))}catch(e){throw t.push(n+"type="+encodeURIComponent("_badmap")),e}}function eC(e,t,r,n,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(n)}catch(e){}}function tC(e){this.l=e.ec||null,this.j=e.ob||!1}function rC(e,t){fS.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=nC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vx(tC,QS),tC.prototype.g=function(){return new rC(this.l,this.j)},tC.prototype.i=function(e){return function(){return e}}({}),vx(rC,fS);var nC=0;function oC(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function iC(e){e.readyState=4,e.l=null,e.j=null,e.A=null,sC(e)}function sC(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ox=rC.prototype).open=function(e,t){if(this.readyState!=nC)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,sC(this)},ox.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||lx).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ox.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,iC(this)),this.readyState=nC},ox.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,sC(this)),this.g&&(this.readyState=3,sC(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==lx.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;oC(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},ox.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?iC(this):sC(this),3==this.readyState&&oC(this)}},ox.Za=function(e){this.g&&(this.response=this.responseText=e,iC(this))},ox.Ya=function(e){this.g&&(this.response=e,iC(this))},ox.ka=function(){this.g&&iC(this)},ox.setRequestHeader=function(e,t){this.v.append(e,t)},ox.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ox.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var r=t.next();!r.done;)r=r.value,e.push(r[0]+": "+r[1]),r=t.next();return e.join("\r\n")},Object.defineProperty(rC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var aC=lx.JSON.parse;function lC(e){fS.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=cC,this.L=this.M=!1}vx(lC,fS);var cC="",uC=/^https?$/i,dC=["POST","PUT"];function hC(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,fC(e),gC(e)}function fC(e){e.F||(e.F=!0,pS(e,"complete"),pS(e,"error"))}function pC(e){if(e.h&&void 0!==ax&&(!e.C[1]||4!=vC(e)||2!=e.da()))if(e.v&&4==vC(e))NS(e.La,0,e);else if(pS(e,"readystatechange"),4==vC(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var r;if(!(r=t)){var n;if(n=0===s){var o=String(e.I).match(wE)[1]||null;!o&&lx.self&&lx.self.location&&(o=lx.self.location.protocol.slice(0,-1)),n=!uC.test(o?o.toLowerCase():"")}r=n}if(r)pS(e,"complete"),pS(e,"success");else{e.m=6;try{var i=2<vC(e)?e.g.statusText:""}catch(e){i=""}e.j=i+" ["+e.da()+"]",fC(e)}}finally{gC(e)}}}function gC(e,t){if(e.g){mC(e);const r=e.g,n=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||pS(e,"ready");try{r.onreadystatechange=n}catch(e){}}}function mC(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(lx.clearTimeout(e.A),e.A=null)}function vC(e){return e.g?e.g.readyState:0}function bC(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case cC:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function yC(e){let t="";return Gx(e,(function(e,r){t+=r,t+=":",t+=e,t+="\r\n"})),t}function wC(e,t,r){e:{for(n in r){var n=!1;break e}n=!0}n||(r=yC(r),"string"==typeof e?null!=r&&encodeURIComponent(String(r)):CE(e,t,r))}function _C(e,t,r){return r&&r.internalChannelParams&&r.internalChannelParams[e]||t}function kC(e){this.Ga=0,this.j=[],this.l=new AS,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_C("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_C("baseRetryDelayMs",5e3,e),this.hb=_C("retryDelaySeedMs",1e4,e),this.eb=_C("forwardChannelMaxRetries",2,e),this.xa=_C("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new VE(e&&e.concurrentRequestLimit),this.Ja=new JE,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function xC(e){if(EC(e),3==e.H){var t=e.W++,r=kE(e.I);if(CE(r,"SID",e.K),CE(r,"RID",t),CE(r,"TYPE","terminate"),IC(e,r),(t=new nE(e,e.l,t)).L=2,t.A=TE(kE(r)),r=!1,lx.navigator&&lx.navigator.sendBeacon)try{r=lx.navigator.sendBeacon(t.A.toString(),"")}catch(e){}!r&&lx.Image&&((new Image).src=t.A,r=!0),r||(t.g=LC(t.l,null),t.g.ha(t.A)),t.G=Date.now(),fE(t)}MC(e)}function SC(e){e.g&&(PC(e),e.g.cancel(),e.g=null)}function EC(e){SC(e),e.u&&(lx.clearTimeout(e.u),e.u=null),BC(e),e.i.cancel(),e.m&&("number"==typeof e.m&&lx.clearTimeout(e.m),e.m=null)}function CC(e){if(!WE(e.i)&&!e.m){e.m=!0;var t=e.Na;kS||ES(),xS||(kS(),xS=!0),SS.add(t,e),e.C=0}}function TC(e,t){var r;r=t?t.m:e.W++;const n=kE(e.I);CE(n,"SID",e.K),CE(n,"RID",r),CE(n,"AID",e.V),IC(e,n),e.o&&e.s&&wC(n,e.o,e.s),r=new nE(e,e.l,r,e.C+1),null===e.o&&(r.I=e.s),t&&(e.j=t.F.concat(e.j)),t=NC(e,r,1e3),r.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),GE(e.i,r),lE(r,n,t)}function IC(e,t){e.na&&Gx(e.na,(function(e,r){CE(t,r,e)})),e.h&&yE({},(function(e,r){CE(t,r,e)}))}function NC(e,t,r){r=Math.min(e.j.length,r);var n=e.h?gx(e.h.Va,e.h,e):null;e:{var o=e.j;let t=-1;for(;;){const e=["count="+r];-1==t?0<r?(t=o[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let s=0;s<r;s++){let r=o[s].g;const a=o[s].map;if(r-=t,0>r)t=Math.max(0,o[s].g-100),i=!1;else try{ZE(a,e,"req"+r+"_")}catch(e){n&&n(a)}}if(i){n=e.join("&");break e}}}return e=e.j.splice(0,r),t.F=e,n}function RC(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;kS||ES(),xS||(kS(),xS=!0),SS.add(t,e),e.A=0}}function DC(e){return!(e.g||e.u||3<=e.A||(e.ba++,e.u=$S(gx(e.Ma,e),AC(e,e.A)),e.A++,0))}function PC(e){null!=e.B&&(lx.clearTimeout(e.B),e.B=null)}function zC(e){e.g=new nE(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=kE(e.wa);CE(t,"RID","rpc"),CE(t,"SID",e.K),CE(t,"AID",e.V),CE(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&CE(t,"TO",e.qa),CE(t,"TYPE","xmlhttp"),IC(e,t),e.o&&e.s&&wC(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var r=e.g;e=e.pa,r.L=1,r.A=TE(kE(t)),r.u=null,r.S=!0,cE(r,e)}function BC(e){null!=e.v&&(lx.clearTimeout(e.v),e.v=null)}function OC(e,t){var r=null;if(e.g==t){BC(e),PC(e),e.g=null;var n=2}else{if(!KE(e.i,t))return;r=t.F,QE(e.i,t),n=1}if(0!=e.H)if(t.i)if(1==n){r=t.u?t.u.length:0,t=Date.now()-t.G;var o=e.C;pS(n=LS(),new WS(n,r)),CC(e)}else RC(e);else if(3==(o=t.s)||0==o&&0<t.ca||!(1==n&&function(e,t){return!($E(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.j=t.F.concat(e.j),0):1==e.H||2==e.H||e.C>=(e.cb?0:e.eb)||(e.m=$S(gx(e.Na,e,t),AC(e,e.C)),e.C++,0)))}(e,t)||2==n&&DC(e)))switch(r&&0<r.length&&(t=e.i,t.i=t.i.concat(r)),o){case 1:FC(e,5);break;case 4:FC(e,10);break;case 3:FC(e,6);break;default:FC(e,2)}}function AC(e,t){let r=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(r*=2),r*t}function FC(e,t){if(e.l.info("Error code "+t),2==t){var r=null;e.h&&(r=null);var n=gx(e.pb,e);r||(r=new _E("//www.google.com/images/cleardot.gif"),lx.location&&"http"==lx.location.protocol||xE(r,"https"),TE(r)),function(e,t){const r=new AS;if(lx.Image){const n=new Image;n.onload=mx(eC,r,n,"TestLoadImage: loaded",!0,t),n.onerror=mx(eC,r,n,"TestLoadImage: error",!1,t),n.onabort=mx(eC,r,n,"TestLoadImage: abort",!1,t),n.ontimeout=mx(eC,r,n,"TestLoadImage: timeout",!1,t),lx.setTimeout((function(){n.ontimeout&&n.ontimeout()}),1e4),n.src=e}else t(!1)}(r.toString(),n)}else HS(2);e.H=0,e.h&&e.h.za(t),MC(e),EC(e)}function MC(e){if(e.H=0,e.ma=[],e.h){const t=XE(e.i);0==t.length&&0==e.j.length||(_x(e.ma,t),_x(e.ma,e.j),e.i.i.length=0,wx(e.j),e.j.length=0),e.h.ya()}}function jC(e,t,r){var n=r instanceof _E?kE(r):new _E(r);if(""!=n.g)t&&(n.g=t+"."+n.g),SE(n,n.m);else{var o=lx.location;n=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var i=new _E(null);n&&xE(i,n),t&&(i.g=t),o&&SE(i,o),r&&(i.l=r),n=i}return r=e.F,t=e.Da,r&&t&&CE(n,r,t),CE(n,"VER",e.ra),IC(e,n),n}function LC(e,t,r){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new lC(new tC({ob:r})):new lC(e.va)).Oa(e.J),t}function qC(){}function UC(){if(Px&&!(10<=Number(qx)))throw Error("Environmental error: no available transport.")}function VC(e,t){fS.call(this),this.g=new kC(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Sx(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Sx(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new $C(this)}function HC(e){eE.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const r in t){e=r;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function WC(){tE.call(this),this.status=1}function $C(e){this.g=e}function KC(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function GC(e,t,r){r||(r=0);var n=Array(16);if("string"==typeof t)for(var o=0;16>o;++o)n[o]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(o=0;16>o;++o)n[o]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=e.g[0],r=e.g[1],o=e.g[2];var i=e.g[3],s=t+(i^r&(o^i))+n[0]+3614090360&4294967295;s=(r=(o=(i=(t=(r=(o=(i=(t=(r=(o=(i=(t=(r=(o=(i=(t=(r=(o=(i=(t=(r=(o=(i=(t=(r=(o=(i=(t=(r=(o=(i=(t=(r=(o=(i=(t=(r=(o=(i=(t=(r=(o=(i=(t=(r=(o=(i=(t=(r=(o=(i=(t=(r=(o=(i=(t=(r=(o=(i=(t=r+(s<<7&4294967295|s>>>25))+((s=i+(o^t&(r^o))+n[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=o+(r^i&(t^r))+n[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=r+(t^o&(i^t))+n[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^r&(o^i))+n[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^t&(r^o))+n[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=o+(r^i&(t^r))+n[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=r+(t^o&(i^t))+n[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^r&(o^i))+n[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^t&(r^o))+n[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=o+(r^i&(t^r))+n[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=r+(t^o&(i^t))+n[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^r&(o^i))+n[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^t&(r^o))+n[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=o+(r^i&(t^r))+n[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=r+(t^o&(i^t))+n[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^i&(r^o))+n[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=i+(r^o&(t^r))+n[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^r&(i^t))+n[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=r+(i^t&(o^i))+n[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(o^i&(r^o))+n[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=i+(r^o&(t^r))+n[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^r&(i^t))+n[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=r+(i^t&(o^i))+n[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(o^i&(r^o))+n[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=i+(r^o&(t^r))+n[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^r&(i^t))+n[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=r+(i^t&(o^i))+n[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(o^i&(r^o))+n[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=i+(r^o&(t^r))+n[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^r&(i^t))+n[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=r+(i^t&(o^i))+n[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o^i)+n[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^r^o)+n[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^r)+n[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=r+(o^i^t)+n[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(r^o^i)+n[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^r^o)+n[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^r)+n[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=r+(o^i^t)+n[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(r^o^i)+n[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^r^o)+n[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^r)+n[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=r+(o^i^t)+n[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(r^o^i)+n[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^r^o)+n[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^r)+n[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=r+(o^i^t)+n[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(o^(r|~i))+n[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=i+(r^(t|~o))+n[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=o+(t^(i|~r))+n[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=r+(i^(o|~t))+n[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(o^(r|~i))+n[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=i+(r^(t|~o))+n[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=o+(t^(i|~r))+n[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=r+(i^(o|~t))+n[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(o^(r|~i))+n[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=i+(r^(t|~o))+n[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=o+(t^(i|~r))+n[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=r+(i^(o|~t))+n[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((i=(t=r+((s=t+(o^(r|~i))+n[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=i+(r^(t|~o))+n[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((o=i+((s=o+(t^(i|~r))+n[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+n[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+i&4294967295}function QC(e,t){this.h=t;for(var r=[],n=!0,o=e.length-1;0<=o;o--){var i=0|e[o];n&&i==t||(r[o]=i,n=!1)}this.g=r}(ox=lC.prototype).Oa=function(e){this.M=e},ox.ha=function(e,t,r,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():JS.g(),this.C=this.u?XS(this.u):XS(JS),this.g.onreadystatechange=gx(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(e){return void hC(this,e)}if(e=r||"",r=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var o in n)r.set(o,n[o]);else{if("function"!=typeof n.keys||"function"!=typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const e of n.keys())r.set(e,n.get(e))}n=Array.from(r.keys()).find((e=>"content-type"==e.toLowerCase())),o=lx.FormData&&e instanceof lx.FormData,!(0<=yx(dC,t))||n||o||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of r)this.g.setRequestHeader(e,t);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{mC(this),0<this.B&&((this.L=function(e){return Px&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gx(this.ua,this)):this.A=NS(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){hC(this,e)}},ox.ua=function(){void 0!==ax&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pS(this,"timeout"),this.abort(8))},ox.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,pS(this,"complete"),pS(this,"abort"),gC(this))},ox.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gC(this,!0)),lC.$.N.call(this)},ox.La=function(){this.s||(this.G||this.v||this.l?pC(this):this.kb())},ox.kb=function(){pC(this)},ox.isActive=function(){return!!this.g},ox.da=function(){try{return 2<vC(this)?this.g.status:-1}catch(e){return-1}},ox.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},ox.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),aC(t)}},ox.Ia=function(){return this.m},ox.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ox=kC.prototype).ra=8,ox.H=1,ox.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const o=new nE(this,this.l,e);let i=this.s;if(this.U&&(i?(i=Qx(i),Yx(i,this.U)):i=this.U),null!==this.o||this.O||(o.I=i,i=null),this.P)e:{for(var t=0,r=0;r<this.j.length;r++){var n=this.j[r];if(void 0===(n="__data__"in n.map&&"string"==typeof(n=n.map.__data__)?n.length:void 0))break;if(4096<(t+=n)){t=r;break e}if(4096===t||r===this.j.length-1){t=r+1;break e}}t=1e3}else t=1e3;t=NC(this,o,t),CE(r=kE(this.I),"RID",e),CE(r,"CVER",22),this.F&&CE(r,"X-HTTP-Session-Id",this.F),IC(this,r),i&&(this.O?t="headers="+encodeURIComponent(String(yC(i)))+"&"+t:this.o&&wC(r,this.o,i)),GE(this.i,o),this.bb&&CE(r,"TYPE","init"),this.P?(CE(r,"$req",t),CE(r,"SID","null"),o.aa=!0,lE(o,r,null)):lE(o,r,t),this.H=2}}else 3==this.H&&(e?TC(this,e):0==this.j.length||WE(this.i)||TC(this))},ox.Ma=function(){if(this.u=null,zC(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=$S(gx(this.jb,this),e)}},ox.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,HS(10),SC(this),zC(this))},ox.ib=function(){null!=this.v&&(this.v=null,SC(this),DC(this),HS(19))},ox.pb=function(e){e?(this.l.info("Successfully pinged google.com"),HS(2)):(this.l.info("Failed to ping google.com"),HS(1))},ox.isActive=function(){return!!this.h&&this.h.isActive(this)},(ox=qC.prototype).Ba=function(){},ox.Aa=function(){},ox.za=function(){},ox.ya=function(){},ox.isActive=function(){return!0},ox.Va=function(){},UC.prototype.g=function(e,t){return new VC(e,t)},vx(VC,fS),VC.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,r=this.h||void 0;HS(0),e.Y=t,e.na=r||{},e.G=e.aa,e.I=jC(e,null,e.Y),CC(e)},VC.prototype.close=function(){xC(this.g)},VC.prototype.u=function(e){var t=this.g;if("string"==typeof e){var r={};r.__data__=e,e=r}else this.v&&((r={}).__data__=mS(e),e=r);t.j.push(new UE(t.fb++,e)),3==t.H&&CC(t)},VC.prototype.N=function(){this.g.h=null,delete this.j,xC(this.g),delete this.g,VC.$.N.call(this)},vx(HC,eE),vx(WC,tE),vx($C,qC),$C.prototype.Ba=function(){pS(this.g,"a")},$C.prototype.Aa=function(e){pS(this.g,new HC(e))},$C.prototype.za=function(e){pS(this.g,new WC)},$C.prototype.ya=function(){pS(this.g,"b")},vx(KC,(function(){this.blockSize=-1})),KC.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},KC.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,n=this.m,o=this.h,i=0;i<t;){if(0==o)for(;i<=r;)GC(this,e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(n[o++]=e.charCodeAt(i++),o==this.blockSize){GC(this,n),o=0;break}}else for(;i<t;)if(n[o++]=e[i++],o==this.blockSize){GC(this,n),o=0;break}}this.h=o,this.i+=t},KC.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var r=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&r,r/=256;for(this.j(e),e=Array(16),t=r=0;4>t;++t)for(var n=0;32>n;n+=8)e[r++]=this.g[t]>>>n&255;return e};var XC={};function YC(e){return-128<=e&&128>e?function(e,t){var r=XC;return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=function(e){return new QC([0|e],0>e?-1:0)}(e)}(e):new QC([0|e],0>e?-1:0)}function JC(e){if(isNaN(e)||!isFinite(e))return eT;if(0>e)return iT(JC(-e));for(var t=[],r=1,n=0;e>=r;n++)t[n]=e/r|0,r*=ZC;return new QC(t,0)}var ZC=4294967296,eT=YC(0),tT=YC(1),rT=YC(16777216);function nT(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function oT(e){return-1==e.h}function iT(e){for(var t=e.g.length,r=[],n=0;n<t;n++)r[n]=~e.g[n];return new QC(r,~e.h).add(tT)}function sT(e,t){return e.add(iT(t))}function aT(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function lT(e,t){this.g=e,this.h=t}function cT(e,t){if(nT(t))throw Error("division by zero");if(nT(e))return new lT(eT,eT);if(oT(e))return t=cT(iT(e),t),new lT(iT(t.g),iT(t.h));if(oT(t))return t=cT(e,iT(t)),new lT(iT(t.g),t.h);if(30<e.g.length){if(oT(e)||oT(t))throw Error("slowDivide_ only works with positive integers.");for(var r=tT,n=t;0>=n.X(e);)r=uT(r),n=uT(n);var o=dT(r,1),i=dT(n,1);for(n=dT(n,2),r=dT(r,2);!nT(n);){var s=i.add(n);0>=s.X(e)&&(o=o.add(r),i=s),n=dT(n,1),r=dT(r,1)}return t=sT(e,o.R(t)),new lT(o,t)}for(o=eT;0<=e.X(t);){for(r=Math.max(1,Math.floor(e.ea()/t.ea())),n=48>=(n=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,n-48),s=(i=JC(r)).R(t);oT(s)||0<s.X(e);)s=(i=JC(r-=n)).R(t);nT(i)&&(i=tT),o=o.add(i),e=sT(e,s)}return new lT(o,e)}function uT(e){for(var t=e.g.length+1,r=[],n=0;n<t;n++)r[n]=e.D(n)<<1|e.D(n-1)>>>31;return new QC(r,e.h)}function dT(e,t){var r=t>>5;t%=32;for(var n=e.g.length-r,o=[],i=0;i<n;i++)o[i]=0<t?e.D(i+r)>>>t|e.D(i+r+1)<<32-t:e.D(i+r);return new QC(o,e.h)}(ox=QC.prototype).ea=function(){if(oT(this))return-iT(this).ea();for(var e=0,t=1,r=0;r<this.g.length;r++){var n=this.D(r);e+=(0<=n?n:ZC+n)*t,t*=ZC}return e},ox.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(nT(this))return"0";if(oT(this))return"-"+iT(this).toString(e);for(var t=JC(Math.pow(e,6)),r=this,n="";;){var o=cT(r,t).g,i=((0<(r=sT(r,o.R(t))).g.length?r.g[0]:r.h)>>>0).toString(e);if(nT(r=o))return i+n;for(;6>i.length;)i="0"+i;n=i+n}},ox.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},ox.X=function(e){return oT(e=sT(this,e))?-1:nT(e)?0:1},ox.abs=function(){return oT(this)?iT(this):this},ox.add=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0,o=0;o<=t;o++){var i=n+(65535&this.D(o))+(65535&e.D(o)),s=(i>>>16)+(this.D(o)>>>16)+(e.D(o)>>>16);n=s>>>16,i&=65535,s&=65535,r[o]=s<<16|i}return new QC(r,-2147483648&r[r.length-1]?-1:0)},ox.R=function(e){if(nT(this)||nT(e))return eT;if(oT(this))return oT(e)?iT(this).R(iT(e)):iT(iT(this).R(e));if(oT(e))return iT(this.R(iT(e)));if(0>this.X(rT)&&0>e.X(rT))return JC(this.ea()*e.ea());for(var t=this.g.length+e.g.length,r=[],n=0;n<2*t;n++)r[n]=0;for(n=0;n<this.g.length;n++)for(var o=0;o<e.g.length;o++){var i=this.D(n)>>>16,s=65535&this.D(n),a=e.D(o)>>>16,l=65535&e.D(o);r[2*n+2*o]+=s*l,aT(r,2*n+2*o),r[2*n+2*o+1]+=i*l,aT(r,2*n+2*o+1),r[2*n+2*o+1]+=s*a,aT(r,2*n+2*o+1),r[2*n+2*o+2]+=i*a,aT(r,2*n+2*o+2)}for(n=0;n<t;n++)r[n]=r[2*n+1]<<16|r[2*n];for(n=t;n<2*t;n++)r[n]=0;return new QC(r,0)},ox.gb=function(e){return cT(this,e).h},ox.and=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0;n<t;n++)r[n]=this.D(n)&e.D(n);return new QC(r,this.h&e.h)},ox.or=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0;n<t;n++)r[n]=this.D(n)|e.D(n);return new QC(r,this.h|e.h)},ox.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0;n<t;n++)r[n]=this.D(n)^e.D(n);return new QC(r,this.h^e.h)},UC.prototype.createWebChannel=UC.prototype.g,VC.prototype.send=VC.prototype.u,VC.prototype.open=VC.prototype.m,VC.prototype.close=VC.prototype.close,KS.NO_ERROR=0,KS.TIMEOUT=8,KS.HTTP_ERROR=6,GS.COMPLETE="complete",YS.EventType=ZS,ZS.OPEN="a",ZS.CLOSE="b",ZS.ERROR="c",ZS.MESSAGE="d",fS.prototype.listen=fS.prototype.O,lC.prototype.listenOnce=lC.prototype.P,lC.prototype.getLastError=lC.prototype.Sa,lC.prototype.getLastErrorCode=lC.prototype.Ia,lC.prototype.getStatus=lC.prototype.da,lC.prototype.getResponseJson=lC.prototype.Wa,lC.prototype.getResponseText=lC.prototype.ja,lC.prototype.send=lC.prototype.ha,lC.prototype.setWithCredentials=lC.prototype.Oa,KC.prototype.digest=KC.prototype.l,KC.prototype.reset=KC.prototype.reset,KC.prototype.update=KC.prototype.j,QC.prototype.add=QC.prototype.add,QC.prototype.multiply=QC.prototype.R,QC.prototype.modulo=QC.prototype.gb,QC.prototype.compare=QC.prototype.X,QC.prototype.toNumber=QC.prototype.ea,QC.prototype.toString=QC.prototype.toString,QC.prototype.getBits=QC.prototype.D,QC.fromNumber=JC,QC.fromString=function e(t,r){if(0==t.length)throw Error("number format error: empty string");if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if("-"==t.charAt(0))return iT(e(t.substring(1),r));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=JC(Math.pow(r,8)),o=eT,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),a=parseInt(t.substring(i,i+s),r);8>s?(s=JC(Math.pow(r,s)),o=o.R(s).add(JC(a))):o=(o=o.R(n)).add(JC(a))}return o};var hT=sx.createWebChannelTransport=function(){return new UC},fT=sx.getStatEventTarget=function(){return LS()},pT=sx.ErrorCode=KS,gT=sx.EventType=GS,mT=sx.Event=MS,vT=sx.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},bT=(sx.FetchXmlHttpFactory=tC,sx.WebChannel=YS),yT=sx.XhrIo=lC,wT=sx.Md5=KC,_T=sx.Integer=QC,kT=o(64583).Promise;const xT="@firebase/firestore";class ST{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ST.UNAUTHENTICATED=new ST(null),ST.GOOGLE_CREDENTIALS=new ST("google-credentials-uid"),ST.FIRST_PARTY=new ST("first-party-uid"),ST.MOCK_USER=new ST("mock-user");let ET="10.10.0";const CT=new ph("@firebase/firestore");function TT(){return CT.logLevel}function IT(e,...t){if(CT.logLevel<=ch.DEBUG){const r=t.map(DT);CT.debug(`Firestore (${ET}): ${e}`,...r)}}function NT(e,...t){if(CT.logLevel<=ch.ERROR){const r=t.map(DT);CT.error(`Firestore (${ET}): ${e}`,...r)}}function RT(e,...t){if(CT.logLevel<=ch.WARN){const r=t.map(DT);CT.warn(`Firestore (${ET}): ${e}`,...r)}}function DT(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function PT(e="Unexpected state"){const t=`FIRESTORE (${ET}) INTERNAL ASSERTION FAILED: `+e;throw NT(t),new Error(t)}function zT(e,t){e||PT()}function BT(e,t){return e}const OT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class AT extends Od{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class FT{constructor(){this.promise=new kT(((e,t)=>{this.resolve=e,this.reject=t}))}}class MT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jT{getToken(){return kT.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ST.UNAUTHENTICATED)))}shutdown(){}}class LT{constructor(e){this.token=e,this.changeListener=null}getToken(){return kT.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class qT{constructor(e){this.t=e,this.currentUser=ST.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i;const n=e=>this.i!==r?(r=this.i,t(e)):kT.resolve();let o=new FT;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new FT,e.enqueueRetryable((()=>n(this.currentUser)))};const i=()=>{const t=o;e.enqueueRetryable((async()=>{await t.promise,await n(this.currentUser)}))},s=e=>{IT("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(IT("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new FT)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(IT("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(zT("string"==typeof t.accessToken),new MT(t.accessToken,this.currentUser)):null)):kT.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return zT(null===e||"string"==typeof e),new ST(e)}}class UT{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ST.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class VT{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return kT.resolve(new UT(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(ST.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class HT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WT{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=e=>{null!=e.error&&IT("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const r=e.token!==this.R;return this.R=e.token,IT("FirebaseAppCheckTokenProvider",`Received ${r?"new":"existing"} token.`),r?t(e.token):kT.resolve()};this.o=t=>{e.enqueueRetryable((()=>r(t)))};const n=e=>{IT("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>n(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?n(e):IT("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(zT("string"==typeof e.token),this.R=e.token,new HT(e.token)):null)):kT.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function $T(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let t=0;t<e;t++)r[t]=Math.floor(256*Math.random());return r}class KT{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const r=$T(40);for(let n=0;n<r.length;++n)t.length<20&&r[n]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[n]%62))}return t}}function GT(e,t){return e<t?-1:e>t?1:0}function QT(e,t,r){return e.length===t.length&&e.every(((e,n)=>r(e,t[n])))}class XT{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new AT(OT.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new AT(OT.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new AT(OT.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new AT(OT.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return XT.fromMillis(Date.now())}static fromDate(e){return XT.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new XT(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?GT(this.nanoseconds,e.nanoseconds):GT(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class YT{constructor(e){this.timestamp=e}static fromTimestamp(e){return new YT(e)}static min(){return new YT(new XT(0,0))}static max(){return new YT(new XT(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class JT{constructor(e,t,r){void 0===t?t=0:t>e.length&&PT(),void 0===r?r=e.length-t:r>e.length-t&&PT(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===JT.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof JT?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const r=e.get(n),o=t.get(n);if(r<o)return-1;if(r>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ZT extends JT{construct(e,t,r){return new ZT(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new AT(OT.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((e=>e.length>0)))}return new ZT(t)}static emptyPath(){return new ZT([])}}const eI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tI extends JT{construct(e,t,r){return new tI(e,t,r)}static isValidIdentifier(e){return eI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tI.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tI(["__name__"])}static fromServerFormat(e){const t=[];let r="",n=0;const o=()=>{if(0===r.length)throw new AT(OT.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let i=!1;for(;n<e.length;){const t=e[n];if("\\"===t){if(n+1===e.length)throw new AT(OT.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[n+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new AT(OT.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=t,n+=2}else"`"===t?(i=!i,n++):"."!==t||i?(r+=t,n++):(o(),n++)}if(o(),i)throw new AT(OT.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tI(t)}static emptyPath(){return new tI([])}}class rI{constructor(e){this.path=e}static fromPath(e){return new rI(ZT.fromString(e))}static fromName(e){return new rI(ZT.fromString(e).popFirst(5))}static empty(){return new rI(ZT.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ZT.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ZT.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rI(new ZT(e.slice()))}}function nI(e){return new oI(e.readTime,e.key,-1)}class oI{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new oI(YT.min(),rI.empty(),-1)}static max(){return new oI(YT.max(),rI.empty(),-1)}}function iI(e,t){let r=e.readTime.compareTo(t.readTime);return 0!==r?r:(r=rI.comparator(e.documentKey,t.documentKey),0!==r?r:GT(e.largestBatchId,t.largestBatchId))}const sI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function lI(e){if(e.code!==OT.FAILED_PRECONDITION||e.message!==sI)throw e;IT("LocalStore","Unexpectedly lost primary lease")}class cI{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&PT(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new cI(((r,n)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(r,n)},this.catchCallback=e=>{this.wrapFailure(t,e).next(r,n)}}))}toPromise(){return new kT(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof cI?t:cI.resolve(t)}catch(e){return cI.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):cI.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):cI.reject(t)}static resolve(e){return new cI(((t,r)=>{t(e)}))}static reject(e){return new cI(((t,r)=>{r(e)}))}static waitFor(e){return new cI(((t,r)=>{let n=0,o=0,i=!1;e.forEach((e=>{++n,e.next((()=>{++o,i&&o===n&&t()}),(e=>r(e)))})),i=!0,o===n&&t()}))}static or(e){let t=cI.resolve(!1);for(const r of e)t=t.next((e=>e?cI.resolve(e):r()));return t}static forEach(e,t){const r=[];return e.forEach(((e,n)=>{r.push(t.call(this,e,n))})),this.waitFor(r)}static mapArray(e,t){return new cI(((r,n)=>{const o=e.length,i=new Array(o);let s=0;for(let a=0;a<o;a++){const l=a;t(e[l]).next((e=>{i[l]=e,++s,s===o&&r(i)}),(e=>n(e)))}}))}static doWhile(e,t){return new cI(((r,n)=>{const o=()=>{!0===e()?t().next((()=>{o()}),n):r()};o()}))}}class uI{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new FT,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new fI(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const r=bI(t.target.error);this.V.reject(new fI(e,r))}}static open(e,t,r,n){try{return new uI(t,e.transaction(n,r))}catch(e){throw new fI(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(IT("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new gI(t)}}class dI{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===dI.S(Dd())&&NT("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return IT("SimpleDb","Removing database:",e),mI(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Bd())return!1;if(dI.C())return!0;const e=Dd(),t=dI.S(e),r=0<t&&t<10,n=dI.v(e),o=0<n&&n<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(IT("SimpleDb","Opening database:",this.name),this.db=await new kT(((t,r)=>{const n=indexedDB.open(this.name,this.version);n.onsuccess=e=>{const r=e.target.result;t(r)},n.onblocked=()=>{r(new fI(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},n.onerror=t=>{const n=t.target.error;"VersionError"===n.name?r(new AT(OT.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new AT(OT.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new fI(e,n))},n.onupgradeneeded=e=>{IT("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,n.transaction,e.oldVersion,this.version).next((()=>{IT("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,n){const o="readonly"===t;let i=0;for(;;){++i;try{this.db=await this.O(e);const t=uI.open(this.db,e,o?"readonly":"readwrite",r),i=n(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),cI.reject(e)))).toPromise();return i.catch((()=>{})),await t.m,i}catch(e){const t=e,r="FirebaseError"!==t.name&&i<3;if(IT("SimpleDb","Transaction failed with error:",t.message,"Retrying:",r),this.close(),!r)return kT.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class hI{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return mI(this.k.delete())}}class fI extends AT{constructor(e,t){super(OT.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function pI(e){return"IndexedDbTransactionError"===e.name}class gI{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(IT("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(IT("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),mI(r)}add(e){return IT("SimpleDb","ADD",this.store.name,e,e),mI(this.store.add(e))}get(e){return mI(this.store.get(e)).next((t=>(void 0===t&&(t=null),IT("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return IT("SimpleDb","DELETE",this.store.name,e),mI(this.store.delete(e))}count(){return IT("SimpleDb","COUNT",this.store.name),mI(this.store.count())}W(e,t){const r=this.options(e,t),n=r.index?this.store.index(r.index):this.store;if("function"==typeof n.getAll){const e=n.getAll(r.range);return new cI(((t,r)=>{e.onerror=e=>{r(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(r),t=[];return this.G(e,((e,r)=>{t.push(r)})).next((()=>t))}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new cI(((e,t)=>{r.onerror=e=>{t(e.target.error)},r.onsuccess=t=>{e(t.target.result)}}))}H(e,t){IT("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.J=!1;const n=this.cursor(r);return this.G(n,((e,t,r)=>r.delete()))}Y(e,t){let r;t?r=e:(r={},t=e);const n=this.cursor(r);return this.G(n,t)}Z(e){const t=this.cursor({});return new cI(((r,n)=>{t.onerror=e=>{const t=bI(e.target.error);n(t)},t.onsuccess=t=>{const n=t.target.result;n?e(n.primaryKey,n.value).next((e=>{e?n.continue():r()})):r()}}))}G(e,t){const r=[];return new cI(((n,o)=>{e.onerror=e=>{o(e.target.error)},e.onsuccess=e=>{const o=e.target.result;if(!o)return void n();const i=new hI(o),s=t(o.primaryKey,o.value,i);if(s instanceof cI){const e=s.catch((e=>(i.done(),cI.reject(e))));r.push(e)}i.isDone?n():null===i.$?o.continue():o.continue(i.$)}})).next((()=>cI.waitFor(r)))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function mI(e){return new cI(((t,r)=>{e.onsuccess=e=>{const r=e.target.result;t(r)},e.onerror=e=>{const t=bI(e.target.error);r(t)}}))}let vI=!1;function bI(e){const t=dI.S(Dd());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new AT("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vI||(vI=!0,setTimeout((()=>{throw e}),0)),e}}return e}class yI{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function wI(e){return null==e}function _I(e){return 0===e&&1/e==-1/0}yI._e=-1;function kI(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function xI(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function SI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class EI{constructor(e,t){this.comparator=e,this.root=t||TI.EMPTY}insert(e,t){return new EI(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,TI.BLACK,null,null))}remove(e){return new EI(this.comparator,this.root.remove(e,this.comparator).copy(null,null,TI.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(0===n)return t+r.left.size;n<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new CI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new CI(this.root,e,this.comparator,!1)}getReverseIterator(){return new CI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new CI(this.root,e,this.comparator,!0)}}class CI{constructor(e,t,r,n){this.isReverse=n,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&n&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class TI{constructor(e,t,r,n,o){this.key=e,this.value=t,this.color=null!=r?r:TI.RED,this.left=null!=n?n:TI.EMPTY,this.right=null!=o?o:TI.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,n,o){return new TI(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let n=this;const o=r(e,n.key);return n=o<0?n.copy(null,null,null,n.left.insert(e,t,r),null):0===o?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,r)),n.fixUp()}removeMin(){if(this.left.isEmpty())return TI.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,n=this;if(t(e,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===t(e,n.key)){if(n.right.isEmpty())return TI.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,TI.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,TI.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw PT();if(this.right.isRed())throw PT();const e=this.left.check();if(e!==this.right.check())throw PT();return e+(this.isRed()?0:1)}}TI.EMPTY=null,TI.RED=!0,TI.BLACK=!1,TI.EMPTY=new class{constructor(){this.size=0}get key(){throw PT()}get value(){throw PT()}get color(){throw PT()}get left(){throw PT()}get right(){throw PT()}copy(e,t,r,n,o){return this}insert(e,t,r){return new TI(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class II{constructor(e){this.comparator=e,this.data=new EI(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const n=r.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new NI(this.data.getIterator())}getIteratorFrom(e){return new NI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof II))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,n=r.getNext().key;if(0!==this.comparator(e,n))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new II(this.comparator);return t.data=e,t}}class NI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class RI{constructor(e){this.fields=e,e.sort(tI.comparator)}static empty(){return new RI([])}unionWith(e){let t=new II(tI.comparator);for(const e of this.fields)t=t.add(e);for(const r of e)t=t.add(r);return new RI(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return QT(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class DI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class PI{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new DI("Invalid base64 string: "+e):e}}(e);return new PI(t)}static fromUint8Array(e){const t=function(e){let t="";for(let r=0;r<e.length;++r)t+=String.fromCharCode(e[r]);return t}(e);return new PI(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return GT(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}PI.EMPTY_BYTE_STRING=new PI("");const zI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function BI(e){if(zT(!!e),"string"==typeof e){let t=0;const r=zI.exec(e);if(zT(!!r),r[1]){let e=r[1];e=(e+"000000000").substr(0,9),t=Number(e)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:OI(e.seconds),nanos:OI(e.nanos)}}function OI(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function AI(e){return"string"==typeof e?PI.fromBase64String(e):PI.fromUint8Array(e)}function FI(e){var t,r;return"server_timestamp"===(null===(r=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function MI(e){const t=e.mapValue.fields.__previous_value__;return FI(t)?MI(t):t}function jI(e){const t=BI(e.mapValue.fields.__local_write_time__.timestampValue);return new XT(t.seconds,t.nanos)}class LI{constructor(e,t,r,n,o,i,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=n,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class qI{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new qI("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qI&&e.projectId===this.projectId&&e.database===this.database}}const UI={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function VI(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?FI(e)?4:nN(e)?9007199254740991:10:PT()}function HI(e,t){if(e===t)return!0;const r=VI(e);if(r!==VI(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jI(e).isEqual(jI(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const r=BI(e.timestampValue),n=BI(t.timestampValue);return r.seconds===n.seconds&&r.nanos===n.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return AI(e.bytesValue).isEqual(AI(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return OI(e.geoPointValue.latitude)===OI(t.geoPointValue.latitude)&&OI(e.geoPointValue.longitude)===OI(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return OI(e.integerValue)===OI(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const r=OI(e.doubleValue),n=OI(t.doubleValue);return r===n?_I(r)===_I(n):isNaN(r)&&isNaN(n)}return!1}(e,t);case 9:return QT(e.arrayValue.values||[],t.arrayValue.values||[],HI);case 10:return function(e,t){const r=e.mapValue.fields||{},n=t.mapValue.fields||{};if(kI(r)!==kI(n))return!1;for(const e in r)if(r.hasOwnProperty(e)&&(void 0===n[e]||!HI(r[e],n[e])))return!1;return!0}(e,t);default:return PT()}}function WI(e,t){return void 0!==(e.values||[]).find((e=>HI(e,t)))}function $I(e,t){if(e===t)return 0;const r=VI(e),n=VI(t);if(r!==n)return GT(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return GT(e.booleanValue,t.booleanValue);case 2:return function(e,t){const r=OI(e.integerValue||e.doubleValue),n=OI(t.integerValue||t.doubleValue);return r<n?-1:r>n?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1}(e,t);case 3:return KI(e.timestampValue,t.timestampValue);case 4:return KI(jI(e),jI(t));case 5:return GT(e.stringValue,t.stringValue);case 6:return function(e,t){const r=AI(e),n=AI(t);return r.compareTo(n)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const r=e.split("/"),n=t.split("/");for(let e=0;e<r.length&&e<n.length;e++){const t=GT(r[e],n[e]);if(0!==t)return t}return GT(r.length,n.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const r=GT(OI(e.latitude),OI(t.latitude));return 0!==r?r:GT(OI(e.longitude),OI(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const r=e.values||[],n=t.values||[];for(let e=0;e<r.length&&e<n.length;++e){const t=$I(r[e],n[e]);if(t)return t}return GT(r.length,n.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===UI.mapValue&&t===UI.mapValue)return 0;if(e===UI.mapValue)return 1;if(t===UI.mapValue)return-1;const r=e.fields||{},n=Object.keys(r),o=t.fields||{},i=Object.keys(o);n.sort(),i.sort();for(let e=0;e<n.length&&e<i.length;++e){const t=GT(n[e],i[e]);if(0!==t)return t;const s=$I(r[n[e]],o[i[e]]);if(0!==s)return s}return GT(n.length,i.length)}(e.mapValue,t.mapValue);default:throw PT()}}function KI(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return GT(e,t);const r=BI(e),n=BI(t),o=GT(r.seconds,n.seconds);return 0!==o?o:GT(r.nanos,n.nanos)}function GI(e){return QI(e)}function QI(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=BI(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return AI(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return rI.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",r=!0;for(const n of e.values||[])r?r=!1:t+=",",t+=QI(n);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let r="{",n=!0;for(const o of t)n?n=!1:r+=",",r+=`${o}:${QI(e.fields[o])}`;return r+"}"}(e.mapValue):PT()}function XI(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function YI(e){return!!e&&"integerValue"in e}function JI(e){return!!e&&"arrayValue"in e}function ZI(e){return!!e&&"nullValue"in e}function eN(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tN(e){return!!e&&"mapValue"in e}function rN(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return xI(e.mapValue.fields,((e,r)=>t.mapValue.fields[e]=rN(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=rN(e.arrayValue.values[r]);return t}return Object.assign({},e)}function nN(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class oN{constructor(e){this.value=e}static empty(){return new oN({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!tN(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rN(t)}setAll(e){let t=tI.emptyPath(),r={},n=[];e.forEach(((e,o)=>{if(!t.isImmediateParentOf(o)){const e=this.getFieldsMap(t);this.applyChanges(e,r,n),r={},n=[],t=o.popLast()}e?r[o.lastSegment()]=rN(e):n.push(o.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,n)}delete(e){const t=this.field(e.popLast());tN(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return HI(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let n=t.mapValue.fields[e.get(r)];tN(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,r){xI(t,((t,r)=>e[t]=r));for(const t of r)delete e[t]}clone(){return new oN(rN(this.value))}}class iN{constructor(e,t,r,n,o,i,s){this.key=e,this.documentType=t,this.version=r,this.readTime=n,this.createTime=o,this.data=i,this.documentState=s}static newInvalidDocument(e){return new iN(e,0,YT.min(),YT.min(),YT.min(),oN.empty(),0)}static newFoundDocument(e,t,r,n){return new iN(e,1,t,YT.min(),r,n,0)}static newNoDocument(e,t){return new iN(e,2,t,YT.min(),YT.min(),oN.empty(),0)}static newUnknownDocument(e,t){return new iN(e,3,t,YT.min(),YT.min(),oN.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(YT.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oN.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oN.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=YT.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof iN&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new iN(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sN{constructor(e,t){this.position=e,this.inclusive=t}}function aN(e,t,r){let n=0;for(let o=0;o<e.position.length;o++){const i=t[o],s=e.position[o];if(n=i.field.isKeyField()?rI.comparator(rI.fromName(s.referenceValue),r.key):$I(s,r.data.field(i.field)),"desc"===i.dir&&(n*=-1),0!==n)break}return n}function lN(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!HI(e.position[r],t.position[r]))return!1;return!0}class cN{constructor(e,t="asc"){this.field=e,this.dir=t}}function uN(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class dN{}class hN extends dN{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new yN(e,t,r):"array-contains"===t?new xN(e,r):"in"===t?new SN(e,r):"not-in"===t?new EN(e,r):"array-contains-any"===t?new CN(e,r):new hN(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new wN(e,r):new _N(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison($I(t,this.value)):null!==t&&VI(this.value)===VI(t)&&this.matchesComparison($I(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return PT()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fN extends dN{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new fN(e,t)}matches(e){return pN(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function pN(e){return"and"===e.op}function gN(e){return function(e){for(const t of e.filters)if(t instanceof fN)return!1;return!0}(e)&&pN(e)}function mN(e){if(e instanceof hN)return e.field.canonicalString()+e.op.toString()+GI(e.value);if(gN(e))return e.filters.map((e=>mN(e))).join(",");{const t=e.filters.map((e=>mN(e))).join(",");return`${e.op}(${t})`}}function vN(e,t){return e instanceof hN?function(e,t){return t instanceof hN&&e.op===t.op&&e.field.isEqual(t.field)&&HI(e.value,t.value)}(e,t):e instanceof fN?function(e,t){return t instanceof fN&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,r,n)=>e&&vN(r,t.filters[n])),!0)}(e,t):void PT()}function bN(e){return e instanceof hN?function(e){return`${e.field.canonicalString()} ${e.op} ${GI(e.value)}`}(e):e instanceof fN?function(e){return e.op.toString()+" {"+e.getFilters().map(bN).join(" ,")+"}"}(e):"Filter"}class yN extends hN{constructor(e,t,r){super(e,t,r),this.key=rI.fromName(r.referenceValue)}matches(e){const t=rI.comparator(e.key,this.key);return this.matchesComparison(t)}}class wN extends hN{constructor(e,t){super(e,"in",t),this.keys=kN(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class _N extends hN{constructor(e,t){super(e,"not-in",t),this.keys=kN(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function kN(e,t){var r;return((null===(r=t.arrayValue)||void 0===r?void 0:r.values)||[]).map((e=>rI.fromName(e.referenceValue)))}class xN extends hN{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return JI(t)&&WI(t.arrayValue,this.value)}}class SN extends hN{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&WI(this.value.arrayValue,t)}}class EN extends hN{constructor(e,t){super(e,"not-in",t)}matches(e){if(WI(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!WI(this.value.arrayValue,t)}}class CN extends hN{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!JI(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>WI(this.value.arrayValue,e)))}}class TN{constructor(e,t=null,r=[],n=[],o=null,i=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=n,this.limit=o,this.startAt=i,this.endAt=s,this.ce=null}}function IN(e,t=null,r=[],n=[],o=null,i=null,s=null){return new TN(e,t,r,n,o,i,s)}function NN(e){const t=BT(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>mN(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),wI(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>GI(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>GI(e))).join(",")),t.ce=e}return t.ce}function RN(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!uN(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!vN(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!lN(e.startAt,t.startAt)&&lN(e.endAt,t.endAt)}function DN(e){return rI.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class PN{constructor(e,t=null,r=[],n=[],o=null,i="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=n,this.limit=o,this.limitType=i,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function zN(e){return new PN(e)}function BN(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ON(e){return null!==e.collectionGroup}function AN(e){const t=BT(e);if(null===t.le){t.le=[];const e=new Set;for(const r of t.explicitOrderBy)t.le.push(r),e.add(r.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",n=function(e){let t=new II(tI.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);n.forEach((n=>{e.has(n.canonicalString())||n.isKeyField()||t.le.push(new cN(n,r))})),e.has(tI.keyField().canonicalString())||t.le.push(new cN(tI.keyField(),r))}return t.le}function FN(e){const t=BT(e);return t.he||(t.he=function(e,t){if("F"===e.limitType)return IN(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new cN(e.field,t)}));const r=e.endAt?new sN(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new sN(e.startAt.position,e.startAt.inclusive):null;return IN(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}(t,AN(e))),t.he}function MN(e,t){const r=e.filters.concat([t]);return new PN(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function jN(e,t,r){return new PN(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function LN(e,t){return RN(FN(e),FN(t))&&e.limitType===t.limitType}function qN(e){return`${NN(FN(e))}|lt:${e.limitType}`}function UN(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>bN(e))).join(", ")}]`),wI(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>GI(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>GI(e))).join(",")),`Target(${t})`}(FN(e))}; limitType=${e.limitType})`}function VN(e,t){return t.isFoundDocument()&&function(e,t){const r=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):rI.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(e,t)&&function(e,t){for(const r of AN(e))if(!r.field.isKeyField()&&null===t.data.field(r.field))return!1;return!0}(e,t)&&function(e,t){for(const r of e.filters)if(!r.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,r){const n=aN(e,t,r);return e.inclusive?n<=0:n<0}(e.startAt,AN(e),t)||e.endAt&&!function(e,t,r){const n=aN(e,t,r);return e.inclusive?n>=0:n>0}(e.endAt,AN(e),t))}(e,t)}function HN(e){return(t,r)=>{let n=!1;for(const o of AN(e)){const e=WN(o,t,r);if(0!==e)return e;n=n||o.field.isKeyField()}return 0}}function WN(e,t,r){const n=e.field.isKeyField()?rI.comparator(t.key,r.key):function(e,t,r){const n=t.data.field(e),o=r.data.field(e);return null!==n&&null!==o?$I(n,o):PT()}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return PT()}}class $N{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[t,n]of r)if(this.equalsFn(t,e))return n}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),n=this.inner[r];if(void 0===n)return this.inner[r]=[[e,t]],void this.innerSize++;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return void(n[r]=[e,t]);n.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return 1===r.length?delete this.inner[t]:r.splice(n,1),this.innerSize--,!0;return!1}forEach(e){xI(this.inner,((t,r)=>{for(const[t,n]of r)e(t,n)}))}isEmpty(){return SI(this.inner)}size(){return this.innerSize}}const KN=new EI(rI.comparator);function GN(){return KN}const QN=new EI(rI.comparator);function XN(...e){let t=QN;for(const r of e)t=t.insert(r.key,r);return t}function YN(e){let t=QN;return e.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function JN(){return eR()}function ZN(){return eR()}function eR(){return new $N((e=>e.toString()),((e,t)=>e.isEqual(t)))}new EI(rI.comparator);const tR=new II(rI.comparator);function rR(...e){let t=tR;for(const r of e)t=t.add(r);return t}const nR=new II(GT);function oR(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_I(t)?"-0":t}}function iR(e){return{integerValue:""+e}}function sR(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!_I(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?iR(t):oR(e,t)}class aR{constructor(){this._=void 0}}function lR(e,t,r){return e instanceof uR?function(e,t){const r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&FI(t)&&(t=MI(t)),t&&(r.fields.__previous_value__=t),{mapValue:r}}(r,t):e instanceof dR?hR(e,t):e instanceof fR?pR(e,t):function(e,t){const r=function(e,t){return e instanceof gR?function(e){return YI(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}(e,t),n=mR(r)+mR(e.Ie);return YI(r)&&YI(e.Ie)?iR(n):oR(e.serializer,n)}(e,t)}function cR(e,t,r){return e instanceof dR?hR(e,t):e instanceof fR?pR(e,t):r}class uR extends aR{}class dR extends aR{constructor(e){super(),this.elements=e}}function hR(e,t){const r=vR(t);for(const t of e.elements)r.some((e=>HI(e,t)))||r.push(t);return{arrayValue:{values:r}}}class fR extends aR{constructor(e){super(),this.elements=e}}function pR(e,t){let r=vR(t);for(const t of e.elements)r=r.filter((e=>!HI(e,t)));return{arrayValue:{values:r}}}class gR extends aR{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function mR(e){return OI(e.integerValue||e.doubleValue)}function vR(e){return JI(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class bR{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bR}static exists(e){return new bR(void 0,e)}static updateTime(e){return new bR(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yR(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class wR{}function _R(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new RR(e.key,bR.none()):new ER(e.key,e.data,bR.none());{const r=e.data,n=oN.empty();let o=new II(tI.comparator);for(let e of t.fields)if(!o.has(e)){let t=r.field(e);null===t&&e.length>1&&(e=e.popLast(),t=r.field(e)),null===t?n.delete(e):n.set(e,t),o=o.add(e)}return new CR(e.key,n,new RI(o.toArray()),bR.none())}}function kR(e,t,r){e instanceof ER?function(e,t,r){const n=e.value.clone(),o=IR(e.fieldTransforms,t,r.transformResults);n.setAll(o),t.convertToFoundDocument(r.version,n).setHasCommittedMutations()}(e,t,r):e instanceof CR?function(e,t,r){if(!yR(e.precondition,t))return void t.convertToUnknownDocument(r.version);const n=IR(e.fieldTransforms,t,r.transformResults),o=t.data;o.setAll(TR(e)),o.setAll(n),t.convertToFoundDocument(r.version,o).setHasCommittedMutations()}(e,t,r):function(e,t,r){t.convertToNoDocument(r.version).setHasCommittedMutations()}(0,t,r)}function xR(e,t,r,n){return e instanceof ER?function(e,t,r,n){if(!yR(e.precondition,t))return r;const o=e.value.clone(),i=NR(e.fieldTransforms,n,t);return o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null}(e,t,r,n):e instanceof CR?function(e,t,r,n){if(!yR(e.precondition,t))return r;const o=NR(e.fieldTransforms,n,t),i=t.data;return i.setAll(TR(e)),i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===r?null:r.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,r,n):function(e,t,r){return yR(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):r}(e,t,r)}function SR(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&QT(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof dR&&t instanceof dR||e instanceof fR&&t instanceof fR?QT(e.elements,t.elements,HI):e instanceof gR&&t instanceof gR?HI(e.Ie,t.Ie):e instanceof uR&&t instanceof uR}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ER extends wR{constructor(e,t,r,n=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class CR extends wR{constructor(e,t,r,n,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=n,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function TR(e){const t=new Map;return e.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}})),t}function IR(e,t,r){const n=new Map;zT(e.length===r.length);for(let o=0;o<r.length;o++){const i=e[o],s=i.transform,a=t.data.field(i.field);n.set(i.field,cR(s,a,r[o]))}return n}function NR(e,t,r){const n=new Map;for(const o of e){const e=o.transform,i=r.data.field(o.field);n.set(o.field,lR(e,i,t))}return n}class RR extends wR{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DR{constructor(e,t,r,n){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=n}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const n=this.mutations[t];n.key.isEqual(e.key)&&kR(n,e,r[t])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=xR(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=xR(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ZN();return this.mutations.forEach((n=>{const o=e.get(n.key),i=o.overlayedDocument;let s=this.applyToLocalView(i,o.mutatedFields);s=t.has(n.key)?null:s;const a=_R(i,s);null!==a&&r.set(n.key,a),i.isValidDocument()||i.convertToNoDocument(YT.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),rR())}isEqual(e){return this.batchId===e.batchId&&QT(this.mutations,e.mutations,((e,t)=>SR(e,t)))&&QT(this.baseMutations,e.baseMutations,((e,t)=>SR(e,t)))}}class PR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zR{constructor(e,t){this.count=e,this.unchangedNames=t}}var BR,OR;function AR(e){if(void 0===e)return NT("GRPC error has no .code"),OT.UNKNOWN;switch(e){case BR.OK:return OT.OK;case BR.CANCELLED:return OT.CANCELLED;case BR.UNKNOWN:return OT.UNKNOWN;case BR.DEADLINE_EXCEEDED:return OT.DEADLINE_EXCEEDED;case BR.RESOURCE_EXHAUSTED:return OT.RESOURCE_EXHAUSTED;case BR.INTERNAL:return OT.INTERNAL;case BR.UNAVAILABLE:return OT.UNAVAILABLE;case BR.UNAUTHENTICATED:return OT.UNAUTHENTICATED;case BR.INVALID_ARGUMENT:return OT.INVALID_ARGUMENT;case BR.NOT_FOUND:return OT.NOT_FOUND;case BR.ALREADY_EXISTS:return OT.ALREADY_EXISTS;case BR.PERMISSION_DENIED:return OT.PERMISSION_DENIED;case BR.FAILED_PRECONDITION:return OT.FAILED_PRECONDITION;case BR.ABORTED:return OT.ABORTED;case BR.OUT_OF_RANGE:return OT.OUT_OF_RANGE;case BR.UNIMPLEMENTED:return OT.UNIMPLEMENTED;case BR.DATA_LOSS:return OT.DATA_LOSS;default:return PT()}}(OR=BR||(BR={}))[OR.OK=0]="OK",OR[OR.CANCELLED=1]="CANCELLED",OR[OR.UNKNOWN=2]="UNKNOWN",OR[OR.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",OR[OR.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",OR[OR.NOT_FOUND=5]="NOT_FOUND",OR[OR.ALREADY_EXISTS=6]="ALREADY_EXISTS",OR[OR.PERMISSION_DENIED=7]="PERMISSION_DENIED",OR[OR.UNAUTHENTICATED=16]="UNAUTHENTICATED",OR[OR.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",OR[OR.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",OR[OR.ABORTED=10]="ABORTED",OR[OR.OUT_OF_RANGE=11]="OUT_OF_RANGE",OR[OR.UNIMPLEMENTED=12]="UNIMPLEMENTED",OR[OR.INTERNAL=13]="INTERNAL",OR[OR.UNAVAILABLE=14]="UNAVAILABLE",OR[OR.DATA_LOSS=15]="DATA_LOSS";const FR=new _T([4294967295,4294967295],0);function MR(e){const t=(new TextEncoder).encode(e),r=new wT;return r.update(t),new Uint8Array(r.digest())}function jR(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),o=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new _T([r,n],0),new _T([o,i],0)]}class LR{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new qR(`Invalid padding: ${t}`);if(r<0)throw new qR(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new qR(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new qR(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=_T.fromNumber(this.Te)}de(e,t,r){let n=e.add(t.multiply(_T.fromNumber(r)));return 1===n.compare(FR)&&(n=new _T([n.getBits(0),n.getBits(1)],0)),n.modulo(this.Ee).toNumber()}Ae(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=MR(e),[r,n]=jR(t);for(let e=0;e<this.hashCount;e++){const t=this.de(r,n,e);if(!this.Ae(t))return!1}return!0}static create(e,t,r){const n=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new LR(o,n,t);return r.forEach((e=>i.insert(e))),i}insert(e){if(0===this.Te)return;const t=MR(e),[r,n]=jR(t);for(let e=0;e<this.hashCount;e++){const t=this.de(r,n,e);this.Re(t)}}Re(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class qR extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class UR{constructor(e,t,r,n,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const n=new Map;return n.set(e,VR.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new UR(YT.min(),n,new EI(GT),GN(),rR())}}class VR{constructor(e,t,r,n,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new VR(r,t,rR(),rR(),rR())}}class HR{constructor(e,t,r,n){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=n}}class WR{constructor(e,t){this.targetId=e,this.fe=t}}class $R{constructor(e,t,r=PI.EMPTY_BYTE_STRING,n=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=n}}class KR{constructor(){this.ge=0,this.pe=XR(),this.ye=PI.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=rR(),t=rR(),r=rR();return this.pe.forEach(((n,o)=>{switch(o){case 0:e=e.add(n);break;case 2:t=t.add(n);break;case 1:r=r.add(n);break;default:PT()}})),new VR(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=XR()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,zT(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class GR{constructor(e){this.Be=e,this.ke=new Map,this.qe=GN(),this.Qe=QR(),this.Ke=new EI(GT)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:PT()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,r)=>{this.je(r)&&t(r)}))}Je(e){const t=e.targetId,r=e.fe.count,n=this.Ye(t);if(n){const o=n.target;if(DN(o))if(0===r){const e=new rI(o.path);this.We(t,e,iN.newNoDocument(e,YT.min()))}else zT(1===r);else{const n=this.Ze(t);if(n!==r){const r=this.Xe(e),o=r?this.et(r,e,n):1;if(0!==o){this.He(t);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:n=0},hashCount:o=0}=t;let i,s;try{i=AI(r).toUint8Array()}catch(e){if(e instanceof DI)return RT("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new LR(i,n,o)}catch(e){return RT(e instanceof qR?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Be.getRemoteKeysForTarget(t);let n=0;return r.forEach((r=>{const o=this.Be.nt(),i=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(i)||(this.We(t,r,null),n++)})),n}it(e){const t=new Map;this.ke.forEach(((r,n)=>{const o=this.Ye(n);if(o){if(r.current&&DN(o.target)){const t=new rI(o.target.path);null!==this.qe.get(t)||this.st(n,t)||this.We(n,t,iN.newNoDocument(t,e))}r.De&&(t.set(n,r.ve()),r.Fe())}}));let r=rR();this.Qe.forEach(((e,t)=>{let n=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(n=!1,!1)})),n&&(r=r.add(e))})),this.qe.forEach(((t,r)=>r.setReadTime(e)));const n=new UR(e,t,this.Ke,this.qe,r);return this.qe=GN(),this.Qe=QR(),this.Ke=new EI(GT),n}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const n=this.ze(e);this.st(e,t)?n.Me(t,1):n.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new KR,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new II(GT),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||IT("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}He(e){this.ke.set(e,new KR),this.Be.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function QR(){return new EI(rI.comparator)}function XR(){return new EI(rI.comparator)}const YR={asc:"ASCENDING",desc:"DESCENDING"},JR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZR={and:"AND",or:"OR"};class eD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tD(e,t){return e.useProto3Json||wI(t)?t:{value:t}}function rD(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nD(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function oD(e){return zT(!!e),YT.fromTimestamp(function(e){const t=BI(e);return new XT(t.seconds,t.nanos)}(e))}function iD(e,t){return sD(e,t).canonicalString()}function sD(e,t){const r=function(e){return new ZT(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?r:r.child(t)}function aD(e){const t=ZT.fromString(e);return zT(kD(t)),t}function lD(e,t){const r=aD(t);if(r.get(1)!==e.databaseId.projectId)throw new AT(OT.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new AT(OT.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new rI(dD(r))}function cD(e,t){return iD(e.databaseId,t)}function uD(e){return new ZT(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dD(e){return zT(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function hD(e,t){return{documents:[cD(e,t.path)]}}function fD(e,t){const r={structuredQuery:{}},n=t.path;let o;null!==t.collectionGroup?(o=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=cD(e,o);const i=function(e){if(0!==e.length)return _D(fN.create(e,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:yD(e.field),direction:mD(e.dir)}}(e)))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const a=tD(e,t.limit);return null!==a&&(r.structuredQuery.limit=a),t.startAt&&(r.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:r,parent:o}}function pD(e){let t=function(e){const t=aD(e);return 4===t.length?ZT.emptyPath():dD(t)}(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let o=null;if(n>0){zT(1===n);const e=r.from[0];e.allDescendants?o=e.collectionId:t=t.child(e.collectionId)}let i=[];r.where&&(i=function(e){const t=gD(e);return t instanceof fN&&gN(t)?t.getFilters():[t]}(r.where));let s=[];r.orderBy&&(s=function(e){return e.map((e=>function(e){return new cN(wD(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(r.orderBy));let a=null;r.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,wI(t)?null:t}(r.limit));let l=null;r.startAt&&(l=function(e){const t=!!e.before,r=e.values||[];return new sN(r,t)}(r.startAt));let c=null;return r.endAt&&(c=function(e){const t=!e.before,r=e.values||[];return new sN(r,t)}(r.endAt)),function(e,t,r,n,o,i,s,a){return new PN(e,t,r,n,o,i,s,a)}(t,o,s,i,a,"F",l,c)}function gD(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=wD(e.unaryFilter.field);return hN.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=wD(e.unaryFilter.field);return hN.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=wD(e.unaryFilter.field);return hN.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=wD(e.unaryFilter.field);return hN.create(o,"!=",{nullValue:"NULL_VALUE"});default:return PT()}}(e):void 0!==e.fieldFilter?function(e){return hN.create(wD(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return PT()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return fN.create(e.compositeFilter.filters.map((e=>gD(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return PT()}}(e.compositeFilter.op))}(e):PT()}function mD(e){return YR[e]}function vD(e){return JR[e]}function bD(e){return ZR[e]}function yD(e){return{fieldPath:e.canonicalString()}}function wD(e){return tI.fromServerFormat(e.fieldPath)}function _D(e){return e instanceof hN?function(e){if("=="===e.op){if(eN(e.value))return{unaryFilter:{field:yD(e.field),op:"IS_NAN"}};if(ZI(e.value))return{unaryFilter:{field:yD(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(eN(e.value))return{unaryFilter:{field:yD(e.field),op:"IS_NOT_NAN"}};if(ZI(e.value))return{unaryFilter:{field:yD(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yD(e.field),op:vD(e.op),value:e.value}}}(e):e instanceof fN?function(e){const t=e.getFilters().map((e=>_D(e)));return 1===t.length?t[0]:{compositeFilter:{op:bD(e.op),filters:t}}}(e):PT()}function kD(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class xD{constructor(e,t,r,n,o=YT.min(),i=YT.min(),s=PI.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new xD(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xD(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xD(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xD(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class SD{constructor(e){this.ct=e}}function ED(e){const t=pD({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?jN(t,t.limit,"L"):t}class CD{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(OI(e.integerValue));else if("doubleValue"in e){const r=OI(e.doubleValue);isNaN(r)?this.Et(t,13):(this.Et(t,15),_I(r)?t.dt(0):t.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(t,20),"string"==typeof r?t.At(r):(t.At(`${r.seconds||""}`),t.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(AI(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(t,45),t.dt(r.latitude||0),t.dt(r.longitude||0)}else"mapValue"in e?nN(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):PT()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const r=e.fields||{};this.Et(t,55);for(const e of Object.keys(r))this.Rt(e,t),this.It(r[e],t)}wt(e,t){const r=e.values||[];this.Et(t,50);for(const e of r)this.It(e,t)}gt(e,t){this.Et(t,37),rI.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}CD.bt=new CD;class TD{constructor(){this._n=new ID}addToCollectionParentIndex(e,t){return this._n.add(t),cI.resolve()}getCollectionParents(e,t){return cI.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return cI.resolve()}deleteFieldIndex(e,t){return cI.resolve()}deleteAllFieldIndexes(e){return cI.resolve()}createTargetIndexes(e,t){return cI.resolve()}getDocumentsMatchingTarget(e,t){return cI.resolve(null)}getIndexType(e,t){return cI.resolve(0)}getFieldIndexes(e,t){return cI.resolve([])}getNextCollectionGroupToUpdate(e){return cI.resolve(null)}getMinOffset(e,t){return cI.resolve(oI.min())}getMinOffsetFromCollectionGroup(e,t){return cI.resolve(oI.min())}updateCollectionGroup(e,t,r){return cI.resolve()}updateIndexEntries(e,t){return cI.resolve()}}class ID{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),n=this.index[t]||new II(ZT.comparator),o=!n.has(r);return this.index[t]=n.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),n=this.index[t];return n&&n.has(r)}getEntries(e){return(this.index[e]||new II(ZT.comparator)).toArray()}}new Uint8Array(0);class ND{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ND(e,ND.DEFAULT_COLLECTION_PERCENTILE,ND.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ND.DEFAULT_COLLECTION_PERCENTILE=10,ND.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ND.DEFAULT=new ND(41943040,ND.DEFAULT_COLLECTION_PERCENTILE,ND.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ND.DISABLED=new ND(-1,0,0);class RD{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new RD(0)}static Ln(){return new RD(-1)}}class DD{constructor(){this.changes=new $N((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,iN.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?cI.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class PD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class zD{constructor(e,t,r,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=n}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((n=>(r=n,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==r&&xR(r.mutation,e,RI.empty(),XT.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,rR()).next((()=>t))))}getLocalViewOfDocuments(e,t,r=rR()){const n=JN();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,r).next((e=>{let t=XN();return e.forEach(((e,r)=>{t=t.insert(e,r.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const r=JN();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,rR())))}populateOverlays(e,t,r){const n=[];return r.forEach((e=>{t.has(e)||n.push(e)})),this.documentOverlayCache.getOverlays(e,n).next((e=>{e.forEach(((e,r)=>{t.set(e,r)}))}))}computeViews(e,t,r,n){let o=GN();const i=eR(),s=eR();return t.forEach(((e,t)=>{const s=r.get(t.key);n.has(t.key)&&(void 0===s||s.mutation instanceof CR)?o=o.insert(t.key,t):void 0!==s?(i.set(t.key,s.mutation.getFieldMask()),xR(s.mutation,t,s.mutation.getFieldMask(),XT.now())):i.set(t.key,RI.empty())})),this.recalculateAndSaveOverlays(e,o).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>{var r;return s.set(e,new PD(t,null!==(r=i.get(e))&&void 0!==r?r:null))})),s)))}recalculateAndSaveOverlays(e,t){const r=eR();let n=new EI(((e,t)=>e-t)),o=rR();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const o of e)o.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let s=r.get(e)||RI.empty();s=o.applyToLocalView(i,s),r.set(e,s);const a=(n.get(o.batchId)||rR()).add(e);n=n.insert(o.batchId,a)}))})).next((()=>{const i=[],s=n.getReverseIterator();for(;s.hasNext();){const n=s.getNext(),a=n.key,l=n.value,c=ZN();l.forEach((e=>{if(!o.has(e)){const n=_R(t.get(e),r.get(e));null!==n&&c.set(e,n),o=o.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,a,c))}return cI.waitFor(i)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,r,n){return function(e){return rI.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ON(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,n):this.getDocumentsMatchingCollectionQuery(e,t,r,n)}getNextDocuments(e,t,r,n){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,n).next((o=>{const i=n-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,n-o.size):cI.resolve(JN());let s=-1,a=o;return i.next((t=>cI.forEach(t,((t,r)=>(s<r.largestBatchId&&(s=r.largestBatchId),o.get(t)?cI.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,o))).next((()=>this.computeViews(e,a,t,rR()))).next((e=>({batchId:s,changes:YN(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rI(t)).next((e=>{let t=XN();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,n){const o=t.collectionGroup;let i=XN();return this.indexManager.getCollectionParents(e,o).next((s=>cI.forEach(s,(s=>{const a=function(e,t){return new PN(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(o));return this.getDocumentsMatchingCollectionQuery(e,a,r,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,r,n){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,n)))).next((e=>{o.forEach(((t,r)=>{const n=r.getKey();null===e.get(n)&&(e=e.insert(n,iN.newInvalidDocument(n)))}));let r=XN();return e.forEach(((e,n)=>{const i=o.get(e);void 0!==i&&xR(i.mutation,n,RI.empty(),XT.now()),VN(t,n)&&(r=r.insert(e,n))})),r}))}}class BD{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return cI.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:oD(e.createTime)}}(t)),cI.resolve()}getNamedQuery(e,t){return cI.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:ED(e.bundledQuery),readTime:oD(e.readTime)}}(t)),cI.resolve()}}class OD{constructor(){this.overlays=new EI(rI.comparator),this.hr=new Map}getOverlay(e,t){return cI.resolve(this.overlays.get(t))}getOverlays(e,t){const r=JN();return cI.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&r.set(t,e)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((r,n)=>{this.ht(e,t,n)})),cI.resolve()}removeOverlaysForBatchId(e,t,r){const n=this.hr.get(r);return void 0!==n&&(n.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(r)),cI.resolve()}getOverlaysForCollection(e,t,r){const n=JN(),o=t.length+1,i=new rI(t.child("")),s=this.overlays.getIteratorFrom(i);for(;s.hasNext();){const e=s.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===o&&e.largestBatchId>r&&n.set(e.getKey(),e)}return cI.resolve(n)}getOverlaysForCollectionGroup(e,t,r,n){let o=new EI(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>r){let t=o.get(e.largestBatchId);null===t&&(t=JN(),o=o.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=JN(),a=o.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=n)););return cI.resolve(s)}ht(e,t,r){const n=this.overlays.get(r.key);if(null!==n){const e=this.hr.get(n.largestBatchId).delete(r.key);this.hr.set(n.largestBatchId,e)}this.overlays=this.overlays.insert(r.key,new PR(t,r));let o=this.hr.get(t);void 0===o&&(o=rR(),this.hr.set(t,o)),this.hr.set(t,o.add(r.key))}}class AD{constructor(){this.Pr=new II(FD.Ir),this.Tr=new II(FD.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const r=new FD(e,t);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new FD(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new rI(new ZT([])),r=new FD(t,e),n=new FD(t,e+1),o=[];return this.Tr.forEachInRange([r,n],(e=>{this.Ar(e),o.push(e.key)})),o}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new rI(new ZT([])),r=new FD(t,e),n=new FD(t,e+1);let o=rR();return this.Tr.forEachInRange([r,n],(e=>{o=o.add(e.key)})),o}containsKey(e){const t=new FD(e,0),r=this.Pr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class FD{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return rI.comparator(e.key,t.key)||GT(e.pr,t.pr)}static Er(e,t){return GT(e.pr,t.pr)||rI.comparator(e.key,t.key)}}class MD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new II(FD.Ir)}checkEmpty(e){return cI.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,n){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new DR(o,t,r,n);this.mutationQueue.push(i);for(const t of n)this.wr=this.wr.add(new FD(t.key,o)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return cI.resolve(i)}lookupMutationBatch(e,t){return cI.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,n=this.br(r),o=n<0?0:n;return cI.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return cI.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return cI.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new FD(t,0),n=new FD(t,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,n],(e=>{const t=this.Sr(e.pr);o.push(t)})),cI.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new II(GT);return t.forEach((e=>{const t=new FD(e,0),n=new FD(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,n],(e=>{r=r.add(e.pr)}))})),cI.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,n=r.length+1;let o=r;rI.isDocumentKey(o)||(o=o.child(""));const i=new FD(new rI(o),0);let s=new II(GT);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!r.isPrefixOf(t)&&(t.length===n&&(s=s.add(e.pr)),!0)}),i),cI.resolve(this.Dr(s))}Dr(e){const t=[];return e.forEach((e=>{const r=this.Sr(e);null!==r&&t.push(r)})),t}removeMutationBatch(e,t){zT(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return cI.forEach(t.mutations,(n=>{const o=new FD(n.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)})).next((()=>{this.wr=r}))}Mn(e){}containsKey(e,t){const r=new FD(t,0),n=this.wr.firstAfterOrEqual(r);return cI.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.mutationQueue.length,cI.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jD{constructor(e){this.vr=e,this.docs=new EI(rI.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,n=this.docs.get(r),o=n?n.size:0,i=this.vr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return cI.resolve(r?r.document.mutableCopy():iN.newInvalidDocument(t))}getEntries(e,t){let r=GN();return t.forEach((e=>{const t=this.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():iN.newInvalidDocument(e))})),cI.resolve(r)}getDocumentsMatchingQuery(e,t,r,n){let o=GN();const i=t.path,s=new rI(i.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||iI(nI(s),r)<=0||(n.has(s.key)||VN(t,s))&&(o=o.insert(s.key,s.mutableCopy()))}return cI.resolve(o)}getAllFromCollectionGroup(e,t,r,n){PT()}Fr(e,t){return cI.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new LD(this)}getSize(e){return cI.resolve(this.size)}}class LD extends DD{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((r,n)=>{n.isValidDocument()?t.push(this.ar.addEntry(e,n)):this.ar.removeEntry(r)})),cI.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class qD{constructor(e){this.persistence=e,this.Mr=new $N((e=>NN(e)),RN),this.lastRemoteSnapshotVersion=YT.min(),this.highestTargetId=0,this.Or=0,this.Nr=new AD,this.targetCount=0,this.Lr=RD.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,r)=>t(r))),cI.resolve()}getLastRemoteSnapshotVersion(e){return cI.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return cI.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),cI.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Or&&(this.Or=t),cI.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new RD(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,cI.resolve()}updateTargetData(e,t){return this.qn(t),cI.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,cI.resolve()}removeTargets(e,t,r){let n=0;const o=[];return this.Mr.forEach(((i,s)=>{s.sequenceNumber<=t&&null===r.get(s.targetId)&&(this.Mr.delete(i),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),n++)})),cI.waitFor(o).next((()=>n))}getTargetCount(e){return cI.resolve(this.targetCount)}getTargetData(e,t){const r=this.Mr.get(t)||null;return cI.resolve(r)}addMatchingKeys(e,t,r){return this.Nr.dr(t,r),cI.resolve()}removeMatchingKeys(e,t,r){this.Nr.Rr(t,r);const n=this.persistence.referenceDelegate,o=[];return n&&t.forEach((t=>{o.push(n.markPotentiallyOrphaned(e,t))})),cI.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),cI.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Nr.gr(t);return cI.resolve(r)}containsKey(e,t){return cI.resolve(this.Nr.containsKey(t))}}class UD{constructor(e,t){this.Br={},this.overlays={},this.kr=new yI(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new qD(this),this.indexManager=new TD,this.remoteDocumentCache=function(e){return new jD(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new SD(t),this.$r=new BD(this.serializer)}start(){return kT.resolve()}shutdown(){return this.qr=!1,kT.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new MD(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,r){IT("MemoryPersistence","Starting transaction:",e);const n=new VD(this.kr.next());return this.referenceDelegate.Ur(),r(n).next((e=>this.referenceDelegate.Wr(n).next((()=>e)))).toPromise().then((e=>(n.raiseOnCommittedEvent(),e)))}Gr(e,t){return cI.or(Object.values(this.Br).map((r=>()=>r.containsKey(e,t))))}}class VD extends aI{constructor(e){super(),this.currentSequenceNumber=e}}class HD{constructor(e){this.persistence=e,this.zr=new AD,this.jr=null}static Hr(e){return new HD(e)}get Jr(){if(this.jr)return this.jr;throw PT()}addReference(e,t,r){return this.zr.addReference(r,t),this.Jr.delete(r.toString()),cI.resolve()}removeReference(e,t,r){return this.zr.removeReference(r,t),this.Jr.add(r.toString()),cI.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),cI.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>r.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return cI.forEach(this.Jr,(r=>{const n=rI.fromPath(r);return this.Yr(e,n).next((e=>{e||t.removeEntry(n,YT.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return cI.or([()=>cI.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class WD{constructor(e,t,r,n){this.targetId=e,this.fromCache=t,this.qi=r,this.Qi=n}static Ki(e,t){let r=rR(),n=rR();for(const e of t.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:n=n.add(e.doc.key)}return new WD(e,t.fromCache,r,n)}}class $D{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class KD{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=!function(){var e;const t=null===(e=Sd())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(o.g.process)}catch(e){return!1}}()&&navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")?8:dI.v(Dd())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,r,n){const o={result:null};return this.ji(e,t).next((e=>{o.result=e})).next((()=>{if(!o.result)return this.Hi(e,t,n,r).next((e=>{o.result=e}))})).next((()=>{if(o.result)return;const r=new $D;return this.Ji(e,t,r).next((n=>{if(o.result=n,this.Ui)return this.Yi(e,t,r,n.size)}))})).next((()=>o.result))}Yi(e,t,r,n){return r.documentReadCount<this.Wi?(TT()<=ch.DEBUG&&IT("QueryEngine","SDK will not create cache indexes for query:",UN(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),cI.resolve()):(TT()<=ch.DEBUG&&IT("QueryEngine","Query:",UN(t),"scans",r.documentReadCount,"local documents and returns",n,"documents as results."),r.documentReadCount>this.Gi*n?(TT()<=ch.DEBUG&&IT("QueryEngine","The SDK decides to create cache indexes for query:",UN(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,FN(t))):cI.resolve())}ji(e,t){if(BN(t))return cI.resolve(null);let r=FN(t);return this.indexManager.getIndexType(e,r).next((n=>0===n?null:(null!==t.limit&&1===n&&(t=jN(t,null,"F"),r=FN(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((n=>{const o=rR(...n);return this.zi.getDocuments(e,o).next((n=>this.indexManager.getMinOffset(e,r).next((r=>{const i=this.Zi(t,n);return this.Xi(t,i,o,r.readTime)?this.ji(e,jN(t,null,"F")):this.es(e,i,t,r)}))))})))))}Hi(e,t,r,n){return BN(t)||n.isEqual(YT.min())?cI.resolve(null):this.zi.getDocuments(e,r).next((o=>{const i=this.Zi(t,o);return this.Xi(t,i,r,n)?cI.resolve(null):(TT()<=ch.DEBUG&&IT("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),UN(t)),this.es(e,i,t,function(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,o=YT.fromTimestamp(1e9===n?new XT(r+1,0):new XT(r,n));return new oI(o,rI.empty(),t)}(n,-1)).next((e=>e)))}))}Zi(e,t){let r=new II(HN(e));return t.forEach(((t,n)=>{VN(e,n)&&(r=r.add(n))})),r}Xi(e,t,r,n){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(n)>0)}Ji(e,t,r){return TT()<=ch.DEBUG&&IT("QueryEngine","Using full collection scan to execute query:",UN(t)),this.zi.getDocumentsMatchingQuery(e,t,oI.min(),r)}es(e,t,r,n){return this.zi.getDocumentsMatchingQuery(e,r,n).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class GD{constructor(e,t,r,n){this.persistence=e,this.ts=t,this.serializer=n,this.ns=new EI(GT),this.rs=new $N((e=>NN(e)),RN),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zD(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}async function QD(e,t){const r=BT(e);return await r.persistence.runTransaction("Handle user change","readonly",(e=>{let n;return r.mutationQueue.getAllMutationBatches(e).next((o=>(n=o,r._s(t),r.mutationQueue.getAllMutationBatches(e)))).next((t=>{const o=[],i=[];let s=rR();for(const e of n){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return r.localDocuments.getDocuments(e,s).next((e=>({us:e,removedBatchIds:o,addedBatchIds:i})))}))}))}function XD(e){const t=BT(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}async function YD(e,t,r){const n=BT(e),o=n.ns.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,(e=>n.persistence.referenceDelegate.removeTarget(e,o)))}catch(e){if(!pI(e))throw e;IT("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}n.ns=n.ns.remove(t),n.rs.delete(o.target)}function JD(e,t,r){const n=BT(e);let o=YT.min(),i=rR();return n.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,r){const n=BT(e),o=n.rs.get(r);return void 0!==o?cI.resolve(n.ns.get(o)):n.Qr.getTargetData(t,r)}(n,e,FN(t)).next((t=>{if(t)return o=t.lastLimboFreeSnapshotVersion,n.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>n.ts.getDocumentsMatchingQuery(e,t,r?o:YT.min(),r?i:rR()))).next((e=>(function(e,t,r){let n=e.ss.get(t)||YT.min();r.forEach(((e,t)=>{t.readTime.compareTo(n)>0&&(n=t.readTime)})),e.ss.set(t,n)}(n,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,hs:i})))))}class ZD{constructor(){this.activeTargetIds=nR}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eP{constructor(){this.no=new ZD,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,r){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new ZD,kT.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tP{io(e){}shutdown(){}}class rP{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){IT("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){IT("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let nP=null;function oP(){return null===nP?nP=268435456+Math.round(2147483648*Math.random()):nP++,"0x"+nP.toString(16)}const iP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sP{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const aP="WebChannelConnection";class lP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po=`projects/${r}/databases/${n}`,this.yo="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${n}`}get wo(){return!1}So(e,t,r,n,o){const i=oP(),s=this.bo(e,t.toUriEncodedString());IT("RestConnection",`Sending RPC '${e}' ${i}:`,s,r);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,n,o),this.Co(e,s,a,r).then((t=>(IT("RestConnection",`Received RPC '${e}' ${i}: `,t),t)),(t=>{throw RT("RestConnection",`RPC '${e}' ${i} failed with error: `,t,"url: ",s,"request:",r),t}))}vo(e,t,r,n,o,i){return this.So(e,t,r,n,o)}Do(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ET,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,r)=>e[r]=t)),r&&r.headers.forEach(((t,r)=>e[r]=t))}bo(e,t){const r=iP[e];return`${this.fo}/v1/${t}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,r,n){const o=oP();return new kT(((i,s)=>{const a=new yT;a.setWithCredentials(!0),a.listenOnce(gT.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case pT.NO_ERROR:const t=a.getResponseJson();IT(aP,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(t)),i(t);break;case pT.TIMEOUT:IT(aP,`RPC '${e}' ${o} timed out`),s(new AT(OT.DEADLINE_EXCEEDED,"Request time out"));break;case pT.HTTP_ERROR:const r=a.getStatus();if(IT(aP,`RPC '${e}' ${o} failed with status:`,r,"response text:",a.getResponseText()),r>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(OT).indexOf(t)>=0?t:OT.UNKNOWN}(t.status);s(new AT(e,t.message))}else s(new AT(OT.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new AT(OT.UNAVAILABLE,"Connection failed."));break;default:PT()}}finally{IT(aP,`RPC '${e}' ${o} completed.`)}}));const l=JSON.stringify(n);IT(aP,`RPC '${e}' ${o} sending request:`,n),a.send(t,"POST",l,r,15)}))}Fo(e,t,r){const n=oP(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=hT(),s=fT(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;const c=o.join("");IT(aP,`Creating RPC '${e}' stream ${n}: ${c}`,a);const u=i.createWebChannel(c,a);let d=!1,h=!1;const f=new sP({lo:t=>{h?IT(aP,`Not sending because RPC '${e}' stream ${n} is closed:`,t):(d||(IT(aP,`Opening RPC '${e}' stream ${n} transport.`),u.open(),d=!0),IT(aP,`RPC '${e}' stream ${n} sending:`,t),u.send(t))},ho:()=>u.close()}),p=(e,t,r)=>{e.listen(t,(e=>{try{r(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,bT.EventType.OPEN,(()=>{h||IT(aP,`RPC '${e}' stream ${n} transport opened.`)})),p(u,bT.EventType.CLOSE,(()=>{h||(h=!0,IT(aP,`RPC '${e}' stream ${n} transport closed`),f.Vo())})),p(u,bT.EventType.ERROR,(t=>{h||(h=!0,RT(aP,`RPC '${e}' stream ${n} transport errored:`,t),f.Vo(new AT(OT.UNAVAILABLE,"The operation could not be completed")))})),p(u,bT.EventType.MESSAGE,(t=>{var r;if(!h){const o=t.data[0];zT(!!o);const i=o,s=i.error||(null===(r=i[0])||void 0===r?void 0:r.error);if(s){IT(aP,`RPC '${e}' stream ${n} received error:`,s);const t=s.status;let r=function(e){const t=BR[e];if(void 0!==t)return AR(t)}(t),o=s.message;void 0===r&&(r=OT.INTERNAL,o="Unknown error status: "+t+" with message "+s.message),h=!0,f.Vo(new AT(r,o)),u.close()}else IT(aP,`RPC '${e}' stream ${n} received:`,o),f.mo(o)}})),p(s,mT.STAT_EVENT,(t=>{t.stat===vT.PROXY?IT(aP,`RPC '${e}' stream ${n} detected buffering proxy`):t.stat===vT.NOPROXY&&IT(aP,`RPC '${e}' stream ${n} detected no buffering proxy`)})),setTimeout((()=>{f.Ro()}),0),f}}function cP(){return"undefined"!=typeof document?document:null}function uP(e){return new eD(e,!0)}class dP{constructor(e,t,r=1e3,n=1.5,o=6e4){this.oi=e,this.timerId=t,this.Mo=r,this.xo=n,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),n=Math.max(0,t-r);n>0&&IT("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.No} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,n,(()=>(this.Bo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class hP{constructor(e,t,r,n,o,i,s,a){this.oi=e,this.$o=r,this.Uo=n,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new dP(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===OT.RESOURCE_EXHAUSTED?(NT(t.toString()),NT("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===OT.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;kT.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,r])=>{this.Wo===t&&this.o_(e,r)}),(t=>{e((()=>{const e=new AT(OT.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const r=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{r((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),kT.resolve()))),this.listener.Po())))})),this.stream.To((e=>{r((()=>this.__(e)))})),this.stream.onMessage((e=>{r((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return IT("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(IT("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),kT.resolve())))}}}class fP extends hP{constructor(e,t,r,n,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,n,i),this.serializer=o}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:PT()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(zT(void 0===t||"string"==typeof t),PI.fromBase64String(t||"")):(zT(void 0===t||t instanceof Uint8Array),PI.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?OT.UNKNOWN:AR(e.code);return new AT(t,e.message||"")}(s);r=new $R(n,o,i,a||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const o=lD(e,n.document.name),i=oD(n.document.updateTime),s=n.document.createTime?oD(n.document.createTime):YT.min(),a=new oN({mapValue:{fields:n.document.fields}}),l=iN.newFoundDocument(o,i,s,a),c=n.targetIds||[],u=n.removedTargetIds||[];r=new HR(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const o=lD(e,n.document),i=n.readTime?oD(n.readTime):YT.min(),s=iN.newNoDocument(o,i),a=n.removedTargetIds||[];r=new HR([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const o=lD(e,n.document),i=n.removedTargetIds||[];r=new HR([],i,o,null)}else{if(!("filter"in t))return PT();{t.filter;const e=t.filter;e.targetId;const{count:n=0,unchangedNames:o}=e,i=new zR(n,o),s=e.targetId;r=new WR(s,i)}}return r}(this.serializer,e),r=function(e){if(!("targetChange"in e))return YT.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?YT.min():t.readTime?oD(t.readTime):YT.min()}(e);return this.listener.u_(t,r)}c_(e){const t={};t.database=uD(this.serializer),t.addTarget=function(e,t){let r;const n=t.target;if(r=DN(n)?{documents:hD(e,n)}:{query:fD(e,n).ut},r.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){r.resumeToken=nD(e,t.resumeToken);const n=tD(e,t.expectedCount);null!==n&&(r.expectedCount=n)}else if(t.snapshotVersion.compareTo(YT.min())>0){r.readTime=rD(e,t.snapshotVersion.toTimestamp());const n=tD(e,t.expectedCount);null!==n&&(r.expectedCount=n)}return r}(this.serializer,e);const r=function(e,t){const r=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return PT()}}(t.purpose);return null==r?null:{"goog-listen-tags":r}}(this.serializer,e);r&&(t.labels=r),this.t_(t)}l_(e){const t={};t.database=uD(this.serializer),t.removeTarget=e,this.t_(t)}}class pP extends class{}{constructor(e,t,r,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=n,this.A_=!1}R_(){if(this.A_)throw new AT(OT.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,n){return this.R_(),kT.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,i])=>this.connection.So(e,sD(t,r),n,o,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===OT.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new AT(OT.UNKNOWN,e.toString())}))}vo(e,t,r,n,o){return this.R_(),kT.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.vo(e,sD(t,r),n,i,s,o))).catch((e=>{throw"FirebaseError"===e.name?(e.code===OT.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new AT(OT.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class gP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),kT.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(NT(t),this.g_=!1):IT("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class mP{constructor(e,t,r,n,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io((e=>{r.enqueueAndForget((async()=>{EP(this)&&(IT("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=BT(e);t.v_.add(4),await bP(t),t.x_.set("Unknown"),t.v_.delete(4),await vP(t)}(this))}))})),this.x_=new gP(r,n)}}async function vP(e){if(EP(e))for(const t of e.F_)await t(!0)}async function bP(e){for(const t of e.F_)await t(!1)}function yP(e,t){const r=BT(e);r.C_.has(t.targetId)||(r.C_.set(t.targetId,t),SP(r)?xP(r):PP(r).Jo()&&_P(r,t))}function wP(e,t){const r=BT(e),n=PP(r);r.C_.delete(t),n.Jo()&&kP(r,t),0===r.C_.size&&(n.Jo()?n.Xo():EP(r)&&r.x_.set("Unknown"))}function _P(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(YT.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}PP(e).c_(t)}function kP(e,t){e.O_.Oe(t),PP(e).l_(t)}function xP(e){e.O_=new GR({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),PP(e).start(),e.x_.p_()}function SP(e){return EP(e)&&!PP(e).Ho()&&e.C_.size>0}function EP(e){return 0===BT(e).v_.size}function CP(e){e.O_=void 0}async function TP(e){e.C_.forEach(((t,r)=>{_P(e,t)}))}async function IP(e,t){CP(e),SP(e)?(e.x_.S_(t),xP(e)):e.x_.set("Unknown")}async function NP(e,t,r){if(e.x_.set("Online"),t instanceof $R&&2===t.state&&t.cause)try{await async function(e,t){const r=t.cause;for(const n of t.targetIds)e.C_.has(n)&&(await e.remoteSyncer.rejectListen(n,r),e.C_.delete(n),e.O_.removeTarget(n))}(e,t)}catch(r){IT("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await RP(e,r)}else if(t instanceof HR?e.O_.$e(t):t instanceof WR?e.O_.Je(t):e.O_.Ge(t),!r.isEqual(YT.min()))try{const t=await XD(e.localStore);r.compareTo(t)>=0&&await function(e,t){const r=e.O_.it(t);return r.targetChanges.forEach(((r,n)=>{if(r.resumeToken.approximateByteSize()>0){const o=e.C_.get(n);o&&e.C_.set(n,o.withResumeToken(r.resumeToken,t))}})),r.targetMismatches.forEach(((t,r)=>{const n=e.C_.get(t);if(!n)return;e.C_.set(t,n.withResumeToken(PI.EMPTY_BYTE_STRING,n.snapshotVersion)),kP(e,t);const o=new xD(n.target,t,r,n.sequenceNumber);_P(e,o)})),e.remoteSyncer.applyRemoteEvent(r)}(e,r)}catch(t){IT("RemoteStore","Failed to raise snapshot:",t),await RP(e,t)}}async function RP(e,t,r){if(!pI(t))throw t;e.v_.add(1),await bP(e),e.x_.set("Offline"),r||(r=()=>XD(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{IT("RemoteStore","Retrying IndexedDB access"),await r(),e.v_.delete(1),await vP(e)}))}async function DP(e,t){const r=BT(e);r.asyncQueue.verifyOperationInProgress(),IT("RemoteStore","RemoteStore received new credentials");const n=EP(r);r.v_.add(3),await bP(r),n&&r.x_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.v_.delete(3),await vP(r)}function PP(e){return e.N_||(e.N_=function(e,t,r){const n=BT(e);return n.R_(),new fP(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}(e.datastore,e.asyncQueue,{Po:TP.bind(null,e),To:IP.bind(null,e),u_:NP.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),SP(e)?xP(e):e.x_.set("Unknown")):(await e.N_.stop(),CP(e))}))),e.N_}class zP{constructor(e,t,r,n,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=n,this.removalCallback=o,this.deferred=new FT,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,n,o){const i=Date.now()+r,s=new zP(e,t,i,n,o);return s.start(r),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new AT(OT.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):kT.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function BP(e,t){if(NT("AsyncQueue",`${t}: ${e}`),pI(e))return new AT(OT.UNAVAILABLE,`${t}: ${e}`);throw e}class OP{constructor(e){this.comparator=e?(t,r)=>e(t,r)||rI.comparator(t.key,r.key):(e,t)=>rI.comparator(e.key,t.key),this.keyedMap=XN(),this.sortedSet=new EI(this.comparator)}static emptySet(e){return new OP(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof OP))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,n=r.getNext().key;if(!e.isEqual(n))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new OP;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class AP{constructor(){this.B_=new EI(rI.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):PT():this.B_=this.B_.insert(t,e)}k_(){const e=[];return this.B_.inorderTraversal(((t,r)=>{e.push(r)})),e}}class FP{constructor(e,t,r,n,o,i,s,a,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,n,o){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new FP(e,t,OP.emptySet(t),i,r,n,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&LN(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==r[e].type||!t[e].doc.isEqual(r[e].doc))return!1;return!0}}class MP{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some((e=>e.U_()))}}class jP{constructor(){this.queries=new $N((e=>qN(e)),LN),this.onlineState="Unknown",this.W_=new Set}}function LP(e,t){const r=BT(e);let n=!1;for(const e of t){const t=e.query,o=r.queries.get(t);if(o){for(const t of o.Q_)t.z_(e)&&(n=!0);o.q_=e}}n&&UP(r)}function qP(e,t,r){const n=BT(e),o=n.queries.get(t);if(o)for(const e of o.Q_)e.onError(r);n.queries.delete(t)}function UP(e){e.W_.forEach((e=>{e.next()}))}var VP,HP;(HP=VP||(VP={})).j_="default",HP.Cache="cache";class WP{constructor(e,t,r){this.query=e,this.H_=t,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const t=[];for(const r of e.docChanges)3!==r.type&&t.push(r);e=new FP(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),t=!0):this.X_(e,this.onlineState)&&(this.ea(e),t=!0),this.Y_=e,t}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}X_(e,t){if(!e.fromCache)return!0;if(!this.U_())return!0;const r="Offline"!==t;return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Z_(e){if(e.docChanges.length>0)return!0;const t=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ea(e){e=FP.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==VP.Cache}}class $P{constructor(e){this.key=e}}class KP{constructor(e){this.key=e}}class GP{constructor(e,t){this.query=e,this.ua=t,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=rR(),this.mutatedKeys=rR(),this.ha=HN(e),this.Pa=new OP(this.ha)}get Ia(){return this.ua}Ta(e,t){const r=t?t.Ea:new AP,n=t?t.Pa:this.Pa;let o=t?t.mutatedKeys:this.mutatedKeys,i=n,s=!1;const a="F"===this.query.limitType&&n.size===this.query.limit?n.last():null,l="L"===this.query.limitType&&n.size===this.query.limit?n.first():null;if(e.inorderTraversal(((e,t)=>{const c=n.get(e),u=VN(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(r.track({type:3,doc:u}),f=!0):this.da(c,u)||(r.track({type:2,doc:u}),f=!0,(a&&this.ha(u,a)>0||l&&this.ha(u,l)<0)&&(s=!0)):!c&&u?(r.track({type:0,doc:u}),f=!0):c&&!u&&(r.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(i=i.add(u),o=h?o.add(e):o.delete(e)):(i=i.delete(e),o=o.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),o=o.delete(e.key),r.track({type:1,doc:e})}return{Pa:i,Ea:r,Xi:s,mutatedKeys:o}}da(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,n){const o=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const i=e.Ea.k_();i.sort(((e,t)=>function(e,t){const r=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return PT()}};return r(e)-r(t)}(e.type,t.type)||this.ha(e.doc,t.doc))),this.Aa(r),n=null!=n&&n;const s=t&&!n?this.Ra():[],a=0===this.la.size&&this.current&&!n?1:0,l=a!==this.ca;return this.ca=a,0!==i.length||l?{snapshot:new FP(this.query,e.Pa,o,i,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:s}:{Va:s}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new AP,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach((e=>this.ua=this.ua.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ua=this.ua.delete(e))),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=rR(),this.Pa.forEach((e=>{this.ma(e.key)&&(this.la=this.la.add(e.key))}));const t=[];return e.forEach((e=>{this.la.has(e)||t.push(new KP(e))})),this.la.forEach((r=>{e.has(r)||t.push(new $P(r))})),t}fa(e){this.ua=e.hs,this.la=rR();const t=this.Ta(e.documents);return this.applyChanges(t,!0)}ga(){return FP.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class QP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class XP{constructor(e){this.key=e,this.pa=!1}}class YP{constructor(e,t,r,n,o,i){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=n,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.ya={},this.wa=new $N((e=>qN(e)),LN),this.Sa=new Map,this.ba=new Set,this.Da=new EI(rI.comparator),this.Ca=new Map,this.va=new AD,this.Fa={},this.Ma=new Map,this.xa=RD.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}async function JP(e,t,r=!0){const n=pz(e);let o;const i=n.wa.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.ga()):o=await ez(n,t,r,!0),o}async function ZP(e,t){const r=pz(e);await ez(r,t,!0,!1)}async function ez(e,t,r,n){const o=await function(e,t){const r=BT(e);return r.persistence.runTransaction("Allocate target","readwrite",(e=>{let n;return r.Qr.getTargetData(e,t).next((o=>o?(n=o,cI.resolve(n)):r.Qr.allocateTargetId(e).next((o=>(n=new xD(t,o,"TargetPurposeListen",e.currentSequenceNumber),r.Qr.addTargetData(e,n).next((()=>n)))))))})).then((e=>{const n=r.ns.get(e.targetId);return(null===n||e.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(r.ns=r.ns.insert(e.targetId,e),r.rs.set(t,e.targetId)),e}))}(e.localStore,FN(t)),i=o.targetId,s=r?e.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return n&&(a=await async function(e,t,r,n,o){e.Na=(t,r,n)=>async function(e,t,r,n){let o=t.view.Ta(r);o.Xi&&(o=await JD(e.localStore,t.query,!1).then((({documents:e})=>t.view.Ta(e,o))));const i=n&&n.targetChanges.get(t.targetId),s=n&&null!=n.targetMismatches.get(t.targetId),a=t.view.applyChanges(o,e.isPrimaryClient,i,s);return lz(e,t.targetId,a.Va),a.snapshot}(e,t,r,n);const i=await JD(e.localStore,t,!0),s=new GP(t,i.hs),a=s.Ta(i.documents),l=VR.createSynthesizedTargetChangeForCurrentChange(r,n&&"Offline"!==e.onlineState,o),c=s.applyChanges(a,e.isPrimaryClient,l);lz(e,r,c.Va);const u=new QP(t,r,s);return e.wa.set(t,u),e.Sa.has(r)?e.Sa.get(r).push(t):e.Sa.set(r,[t]),c.snapshot}(e,t,i,"current"===s,o.resumeToken)),e.isPrimaryClient&&r&&yP(e.remoteStore,o),a}async function tz(e,t,r){const n=BT(e),o=n.wa.get(t),i=n.Sa.get(o.targetId);if(i.length>1)return n.Sa.set(o.targetId,i.filter((e=>!LN(e,t)))),void n.wa.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||await YD(n.localStore,o.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(o.targetId),r&&wP(n.remoteStore,o.targetId),sz(n,o.targetId)})).catch(lI)):(sz(n,o.targetId),await YD(n.localStore,o.targetId,!0))}async function rz(e,t){const r=BT(e),n=r.wa.get(t),o=r.Sa.get(n.targetId);r.isPrimaryClient&&1===o.length&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),wP(r.remoteStore,n.targetId))}async function nz(e,t){const r=BT(e);try{const e=await function(e,t){const r=BT(e),n=t.snapshotVersion;let o=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=r.os.newChangeBuffer({trackRemovals:!0});o=r.ns;const s=[];t.targetChanges.forEach(((i,a)=>{const l=o.get(a);if(!l)return;s.push(r.Qr.removeMatchingKeys(e,i.removedDocuments,a).next((()=>r.Qr.addMatchingKeys(e,i.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(PI.EMPTY_BYTE_STRING,YT.min()).withLastLimboFreeSnapshotVersion(YT.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,n)),o=o.insert(a,c),function(e,t,r){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size>0}(l,c,i)&&s.push(r.Qr.updateTargetData(e,c))}));let a=GN(),l=rR();if(t.documentUpdates.forEach((n=>{t.resolvedLimboDocuments.has(n)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(e,n))})),s.push(function(e,t,r){let n=rR(),o=rR();return r.forEach((e=>n=n.add(e))),t.getEntries(e,n).next((e=>{let n=GN();return r.forEach(((r,i)=>{const s=e.get(r);i.isFoundDocument()!==s.isFoundDocument()&&(o=o.add(r)),i.isNoDocument()&&i.version.isEqual(YT.min())?(t.removeEntry(r,i.readTime),n=n.insert(r,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),n=n.insert(r,i)):IT("LocalStore","Ignoring outdated watch update for ",r,". Current version:",s.version," Watch version:",i.version)})),{cs:n,ls:o}}))}(e,i,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!n.isEqual(YT.min())){const t=r.Qr.getLastRemoteSnapshotVersion(e).next((t=>r.Qr.setTargetsMetadata(e,e.currentSequenceNumber,n)));s.push(t)}return cI.waitFor(s).next((()=>i.apply(e))).next((()=>r.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(r.ns=o,e)))}(r.localStore,t);t.targetChanges.forEach(((e,t)=>{const n=r.Ca.get(t);n&&(zT(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.pa=!0:e.modifiedDocuments.size>0?zT(n.pa):e.removedDocuments.size>0&&(zT(n.pa),n.pa=!1))})),await dz(r,e,t)}catch(e){await lI(e)}}function oz(e,t,r){const n=BT(e);if(n.isPrimaryClient&&0===r||!n.isPrimaryClient&&1===r){const e=[];n.wa.forEach(((r,n)=>{const o=n.view.G_(t);o.snapshot&&e.push(o.snapshot)})),function(e,t){const r=BT(e);r.onlineState=t;let n=!1;r.queries.forEach(((e,r)=>{for(const e of r.Q_)e.G_(t)&&(n=!0)})),n&&UP(r)}(n.eventManager,t),e.length&&n.ya.u_(e),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function iz(e,t,r){const n=BT(e);n.sharedClientState.updateQueryState(t,"rejected",r);const o=n.Ca.get(t),i=o&&o.key;if(i){let e=new EI(rI.comparator);e=e.insert(i,iN.newNoDocument(i,YT.min()));const r=rR().add(i),o=new UR(YT.min(),new Map,new EI(GT),e,r);await nz(n,o),n.Da=n.Da.remove(i),n.Ca.delete(t),uz(n)}else await YD(n.localStore,t,!1).then((()=>sz(n,t,r))).catch(lI)}function sz(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Sa.get(t))e.wa.delete(n),r&&e.ya.La(n,r);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach((t=>{e.va.containsKey(t)||az(e,t)}))}function az(e,t){e.ba.delete(t.path.canonicalString());const r=e.Da.get(t);null!==r&&(wP(e.remoteStore,r),e.Da=e.Da.remove(t),e.Ca.delete(r),uz(e))}function lz(e,t,r){for(const n of r)n instanceof $P?(e.va.addReference(n.key,t),cz(e,n)):n instanceof KP?(IT("SyncEngine","Document no longer in limbo: "+n.key),e.va.removeReference(n.key,t),e.va.containsKey(n.key)||az(e,n.key)):PT()}function cz(e,t){const r=t.key,n=r.path.canonicalString();e.Da.get(r)||e.ba.has(n)||(IT("SyncEngine","New document in limbo: "+r),e.ba.add(n),uz(e))}function uz(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const r=new rI(ZT.fromString(t)),n=e.xa.next();e.Ca.set(n,new XP(r)),e.Da=e.Da.insert(r,n),yP(e.remoteStore,new xD(FN(zN(r.path)),n,"TargetPurposeLimboResolution",yI._e))}}async function dz(e,t,r){const n=BT(e),o=[],i=[],s=[];n.wa.isEmpty()||(n.wa.forEach(((e,a)=>{s.push(n.Na(a,t,r).then((e=>{if((e||r)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){o.push(e);const t=WD.Ki(a.targetId,e);i.push(t)}})))})),await kT.all(s),n.ya.u_(o),await async function(e,t){const r=BT(e);try{await r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>cI.forEach(t,(t=>cI.forEach(t.qi,(n=>r.persistence.referenceDelegate.addReference(e,t.targetId,n))).next((()=>cI.forEach(t.Qi,(n=>r.persistence.referenceDelegate.removeReference(e,t.targetId,n)))))))))}catch(e){if(!pI(e))throw e;IT("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=r.ns.get(t),n=e.snapshotVersion,o=e.withLastLimboFreeSnapshotVersion(n);r.ns=r.ns.insert(t,o)}}}(n.localStore,i))}async function hz(e,t){const r=BT(e);if(!r.currentUser.isEqual(t)){IT("SyncEngine","User change. New user:",t.toKey());const e=await QD(r.localStore,t);r.currentUser=t,function(e,t){e.Ma.forEach((e=>{e.forEach((e=>{e.reject(new AT(OT.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ma.clear()}(r),r.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await dz(r,e.us)}}function fz(e,t){const r=BT(e),n=r.Ca.get(t);if(n&&n.pa)return rR().add(n.key);{let e=rR();const n=r.Sa.get(t);if(!n)return e;for(const t of n){const n=r.wa.get(t);e=e.unionWith(n.view.Ia)}return e}}function pz(e){const t=BT(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=nz.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fz.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iz.bind(null,t),t.ya.u_=LP.bind(null,t.eventManager),t.ya.La=qP.bind(null,t.eventManager),t}class gz{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=uP(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function(e,t,r,n){return new GD(e,t,r,n)}(this.persistence,new KD,e.initialUser,this.serializer)}createPersistence(e){return new UD(HD.Hr,this.serializer)}createSharedClientState(e){return new eP}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class mz{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>oz(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=hz.bind(null,this.syncEngine),await async function(e,t){const r=BT(e);t?(r.v_.delete(2),await vP(r)):t||(r.v_.add(2),await bP(r),r.x_.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new jP}createDatastore(e){const t=uP(e.databaseInfo.databaseId),r=function(e){return new lP(e)}(e.databaseInfo);return function(e,t,r,n){return new pP(e,t,r,n)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(e,t,r,n,o){return new mP(e,t,r,n,o)}(this.localStore,this.datastore,e.asyncQueue,(e=>oz(this.syncEngine,e,0)),rP.D()?new rP:new tP)}createSyncEngine(e,t){return function(e,t,r,n,o,i,s){const a=new YP(e,t,r,n,o,i);return s&&(a.Oa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=BT(e);IT("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await bP(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class vz{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):NT("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class bz{constructor(e,t,r,n){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=n,this.user=ST.UNAUTHENTICATED,this.clientId=KT.newId(),this.authCredentialListener=()=>kT.resolve(),this.appCheckCredentialListener=()=>kT.resolve(),this.authCredentials.start(r,(async e=>{IT("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(r,(e=>(IT("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new AT(OT.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new FT;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=BP(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function yz(e,t){e.asyncQueue.verifyOperationInProgress(),IT("FirestoreClient","Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener((async e=>{n.isEqual(e)||(await QD(t.localStore,e),n=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function wz(e,t){e.asyncQueue.verifyOperationInProgress();const r=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){IT("FirestoreClient","Using user provided OfflineComponentProvider");try{await yz(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(e){return"FirebaseError"===e.name?e.code===OT.FAILED_PRECONDITION||e.code===OT.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r))throw r;RT("Error using user provided cache. Falling back to memory cache: "+r),await yz(e,new gz)}}else IT("FirestoreClient","Using default OfflineComponentProvider"),await yz(e,new gz);return e._offlineComponents}(e);IT("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener((e=>DP(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,r)=>DP(t.remoteStore,r))),e._onlineComponents=t}async function _z(e){const t=await async function(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(IT("FirestoreClient","Using user provided OnlineComponentProvider"),await wz(e,e._uninitializedComponentsProvider._online)):(IT("FirestoreClient","Using default OnlineComponentProvider"),await wz(e,new mz))),e._onlineComponents}(e),r=t.eventManager;return r.onListen=JP.bind(null,t.syncEngine),r.onUnlisten=tz.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=ZP.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=rz.bind(null,t.syncEngine),r}function kz(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const xz=new Map;function Sz(e){if(rI.isDocumentKey(e))throw new AT(OT.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ez(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":PT()}function Cz(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new AT(OT.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ez(e);throw new AT(OT.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}class Tz{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new AT(OT.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new AT(OT.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,r,n){if(!0===t&&!0===n)throw new AT(OT.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")})(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kz(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new AT(OT.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new AT(OT.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new AT(OT.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Iz{constructor(e,t,r,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new AT(OT.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new AT(OT.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tz(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new jT;switch(e.type){case"firstParty":return new VT(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new AT(OT.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=xz.get(e);t&&(IT("ComponentProvider","Removing Datastore"),xz.delete(e),t.terminate())}(this),kT.resolve()}}class Nz{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nz(this.firestore,e,this._query)}}class Rz{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dz(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rz(this.firestore,e,this._key)}}class Dz extends Nz{constructor(e,t,r){super(e,t,zN(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rz(this.firestore,null,new rI(e))}withConverter(e){return new Dz(this.firestore,e,this._path)}}class Pz{constructor(){this.nu=kT.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new dP(this,"async_queue_retry"),this.cu=()=>{const e=cP();e&&IT("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=cP();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const t=cP();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new kT((()=>{}));const t=new FT;return this.hu((()=>this.iu&&this.au?kT.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ru.push(e),this.Pu())))}async Pu(){if(0!==this.ru.length){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!pI(e))throw e;IT("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo((()=>this.Pu()))}}hu(e){const t=this.nu.then((()=>(this._u=!0,e().catch((e=>{this.ou=e,this._u=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw NT("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this._u=!1,e))))));return this.nu=t,t}enqueueAfterDelay(e,t,r){this.lu(),this.uu.indexOf(e)>-1&&(t=0);const n=zP.createAndSchedule(this,e,t,r,(e=>this.Iu(e)));return this.su.push(n),n}lu(){this.ou&&PT()}verifyOperationInProgress(){}async Tu(){let e;do{e=this.nu,await e}while(e!==this.nu)}Eu(e){for(const t of this.su)if(t.timerId===e)return!0;return!1}du(e){return this.Tu().then((()=>{this.su.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.su)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tu()}))}Au(e){this.uu.push(e)}Iu(e){const t=this.su.indexOf(e);this.su.splice(t,1)}}function zz(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const e of["next","error","complete"])if(e in r&&"function"==typeof r[e])return!0;return!1}(e)}class Bz extends Iz{constructor(e,t,r,n){super(e,t,r,n),this.type="firestore",this._queue=new Pz,this._persistenceKey=(null==n?void 0:n.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Oz(this),this._firestoreClient.terminate()}}function Oz(e){var t,r,n;const o=e._freezeSettings(),i=function(e,t,r,n){return new LI(e,t,r,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling,kz(n.experimentalLongPollingOptions),n.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,o);e._firestoreClient=new bz(e._authCredentials,e._appCheckCredentials,e._queue,i),(null===(r=o.localCache)||void 0===r?void 0:r._offlineComponentProvider)&&(null===(n=o.localCache)||void 0===n?void 0:n._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}class Az{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Az(PI.fromBase64String(e))}catch(e){throw new AT(OT.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Az(PI.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Fz{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new AT(OT.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tI(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mz{constructor(e){this._methodName=e}}class jz{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new AT(OT.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new AT(OT.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return GT(this._lat,e._lat)||GT(this._long,e._long)}}const Lz=/^__.*__$/;function qz(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw PT()}}class Uz{constructor(e,t,r,n,o,i){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=n,void 0===o&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Uz(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.mu({path:r,gu:!1});return n.pu(e),n}yu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.mu({path:r,gu:!1});return n.Ru(),n}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Kz(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(qz(this.Vu)&&Lz.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class Vz{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||uP(e)}Cu(e,t,r,n=!1){return new Uz({Vu:e,methodName:t,Du:r,path:tI.emptyPath(),gu:!1,bu:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hz(e,t){if(Wz(e=th(e)))return function(e,t,r){if(!Wz(r)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(r)){const n=Ez(r);throw"an object"===n?t.Su(e+" a custom object"):t.Su(e+" "+n)}}("Unsupported field value:",t,e),function(e,t){const r={};return SI(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xI(e,((e,n)=>{const o=Hz(n,t.fu(e));null!=o&&(r[e]=o)})),{mapValue:{fields:r}}}(e,t);if(e instanceof Mz)return function(e,t){if(!qz(t.Vu))throw t.Su(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Su(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(t);r&&t.fieldTransforms.push(r)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&4!==t.Vu)throw t.Su("Nested arrays are not supported");return function(e,t){const r=[];let n=0;for(const o of e){let e=Hz(o,t.wu(n));null==e&&(e={nullValue:"NULL_VALUE"}),r.push(e),n++}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=th(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return sR(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=XT.fromDate(e);return{timestampValue:rD(t.serializer,r)}}if(e instanceof XT){const r=new XT(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:rD(t.serializer,r)}}if(e instanceof jz)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Az)return{bytesValue:nD(t.serializer,e._byteString)};if(e instanceof Rz){const r=t.databaseId,n=e.firestore._databaseId;if(!n.isEqual(r))throw t.Su(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:iD(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Su(`Unsupported field value: ${Ez(e)}`)}(e,t)}function Wz(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof XT||e instanceof jz||e instanceof Az||e instanceof Rz||e instanceof Mz)}const $z=new RegExp("[~\\*/\\[\\]]");function Kz(e,t,r,n,o){const i=n&&!n.isEmpty(),s=void 0!==o;let a=`Function ${t}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${o}`),l+=")"),new AT(OT.INVALID_ARGUMENT,a+e+l)}class Gz{constructor(e,t,r,n,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=n,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Rz(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xz("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qz extends Gz{data(){return super.data()}}function Xz(e,t){return"string"==typeof t?function(e,t,r){if(t.search($z)>=0)throw Kz(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Fz(...t.split("."))._internalPath}catch(n){throw Kz(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}(e,t):t instanceof Fz?t._internalPath:t._delegate._internalPath}class Yz{}class Jz extends Yz{}function Zz(e,t,...r){let n=[];t instanceof Yz&&n.push(t),n=n.concat(r),function(e){const t=e.filter((e=>e instanceof rB)).length,r=e.filter((e=>e instanceof eB)).length;if(t>1||t>0&&r>0)throw new AT(OT.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const t of n)e=t._apply(e);return e}class eB extends Jz{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new eB(e,t,r)}_apply(e){const t=this._parse(e);return aB(e._query,t),new Nz(e.firestore,e.converter,MN(e._query,t))}_parse(e){const t=function(e){const t=e._freezeSettings(),r=uP(e._databaseId);return new Vz(e._databaseId,!!t.ignoreUndefinedProperties,r)}(e.firestore),r=function(e,t,r,n,o,i,s){let a;if(o.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new AT(OT.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){sB(s,i);const t=[];for(const r of s)t.push(iB(n,e,r));a={arrayValue:{values:t}}}else a=iB(n,e,s)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||sB(s,i),a=function(e,t,r,n=!1){return Hz(r,e.Cu(n?4:3,t))}(r,"where",s,"in"===i||"not-in"===i);return hN.create(o,i,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return r}}function tB(e,t,r){const n=t,o=Xz("where",e);return eB._create(o,n,r)}class rB extends Yz{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rB(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:fN.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let r=e;const n=t.getFlattenedFilters();for(const e of n)aB(r,e),r=MN(r,e)}(e._query,t),new Nz(e.firestore,e.converter,MN(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class nB extends Jz{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new nB(e,t)}_apply(e){const t=function(e,t,r){if(null!==e.startAt)throw new AT(OT.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new AT(OT.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cN(t,r)}(e._query,this._field,this._direction);return new Nz(e.firestore,e.converter,function(e,t){const r=e.explicitOrderBy.concat([t]);return new PN(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class oB extends Jz{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new oB(e,t,r)}_apply(e){return new Nz(e.firestore,e.converter,jN(e._query,this._limit,this._limitType))}}function iB(e,t,r){if("string"==typeof(r=th(r))){if(""===r)throw new AT(OT.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ON(t)&&-1!==r.indexOf("/"))throw new AT(OT.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(ZT.fromString(r));if(!rI.isDocumentKey(n))throw new AT(OT.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return XI(e,new rI(n))}if(r instanceof Rz)return XI(e,r._key);throw new AT(OT.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ez(r)}.`)}function sB(e,t){if(!Array.isArray(e)||0===e.length)throw new AT(OT.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function aB(e,t){const r=function(e,t){for(const r of e)for(const e of r.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==r)throw r===t.op?new AT(OT.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new AT(OT.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class lB{convertValue(e,t="none"){switch(VI(e)){case 0:return null;case 1:return e.booleanValue;case 2:return OI(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(AI(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw PT()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return xI(e,((e,n)=>{r[e]=this.convertValue(n,t)})),r}convertGeoPoint(e){return new jz(OI(e.latitude),OI(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=MI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(jI(e));default:return null}}convertTimestamp(e){const t=BI(e);return new XT(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ZT.fromString(e);zT(kD(r));const n=new qI(r.get(1),r.get(3)),o=new rI(r.popFirst(5));return n.isEqual(t)||NT(`Document ${o} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class cB{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uB extends Gz{constructor(e,t,r,n,o,i){super(e,t,r,n,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dB(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Xz("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class dB extends uB{data(e={}){return super.data(e)}}class hB{constructor(e,t,r,n){this._firestore=e,this._userDataWriter=t,this._snapshot=n,this.metadata=new cB(n.hasPendingWrites,n.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new dB(this._firestore,this._userDataWriter,r.key,r,new cB(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new AT(OT.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((r=>{const n=new dB(e._firestore,e._userDataWriter,r.doc.key,r.doc,new cB(e._snapshot.mutatedKeys.has(r.doc.key),e._snapshot.fromCache),e.query.converter);return r.doc,{type:"added",doc:n,oldIndex:-1,newIndex:t++}}))}{let r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const n=new dB(e._firestore,e._userDataWriter,t.doc.key,t.doc,new cB(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let o=-1,i=-1;return 0!==t.type&&(o=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(r=r.add(t.doc),i=r.indexOf(t.doc.key)),{type:fB(t.type),doc:n,oldIndex:o,newIndex:i}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fB(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return PT()}}class pB extends lB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Az(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rz(this.firestore,null,t)}}function gB(t){var r=t.userUid,n=t.fetchLimit,o=(0,e.useState)([]),i=o[0],s=o[1],a=(0,e.useState)(!1),l=a[0],c=a[1];return(0,e.useEffect)((function(){if(!r)return function(){};c(!0);try{var e=function(e,t,...r){if(e=th(e),function(e,t,r){if(!r)throw new AT(OT.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}("collection","path",t),e instanceof Iz){const n=ZT.fromString(t,...r);return Sz(n),new Dz(e,null,n)}{if(!(e instanceof Rz||e instanceof Dz))throw new AT(OT.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ZT.fromString(t,...r));return Sz(n),new Dz(e.firestore,null,n)}}(function(e,t){const r="string"==typeof e?e:t||"(default)",n=mf("object"==typeof e?e:kf(),"firestore").getImmediate({identifier:r});if(!n._initialized){const e=Cd("firestore");e&&function(e,t,r,n={}){var o;const i=(e=Cz(e,Iz))._getSettings(),s=`${t}:${r}`;if("firestore.googleapis.com"!==i.host&&i.host!==s&&RT("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:s,ssl:!1})),n.mockUserToken){let t,r;if("string"==typeof n.mockUserToken)t=n.mockUserToken,r=ST.MOCK_USER;else{t=Rd(n.mockUserToken,null===(o=e._app)||void 0===o?void 0:o.options.projectId);const i=n.mockUserToken.sub||n.mockUserToken.user_id;if(!i)throw new AT(OT.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");r=new ST(i)}e._authCredentials=new LT(new MT(t,r))}}(n,...e)}return n}(),"templates"),t=Zz(e,function(...e){return e.forEach((e=>function(e,t){if(!(t instanceof eB||t instanceof rB))throw new AT(OT.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}("or",e))),rB._create("or",e)}(tB("owner","==",r),tB("roles.editors","array-contains",r),tB("roles.viewers","array-contains",r)));i=t=Zz(t,tB("source","==","api")),t=Zz(t=i,function(e,t="asc"){const r=t,n=Xz("orderBy","updated_at");return nB._create(n,r)}(0,"desc"));var o=function(e,...t){var r,n,o;e=th(e);let i={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof t[s]||zz(t[s])||(i=t[s],s++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(zz(t[s])){const e=t[s];t[s]=null===(r=e.next)||void 0===r?void 0:r.bind(e),t[s+1]=null===(n=e.error)||void 0===n?void 0:n.bind(e),t[s+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let l,c,u;if(e instanceof Rz)c=Cz(e.firestore,Bz),u=zN(e._key.path),l={next:r=>{t[s]&&t[s](function(e,t,r){const n=r.docs.get(t._key),o=new pB(e);return new uB(e,o,t._key,n,new cB(r.hasPendingWrites,r.fromCache),t.converter)}(c,e,r))},error:t[s+1],complete:t[s+2]};else{const r=Cz(e,Nz);c=Cz(r.firestore,Bz),u=r._query;const n=new pB(c);l={next:e=>{t[s]&&t[s](new hB(c,n,r,e))},error:t[s+1],complete:t[s+2]},function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new AT(OT.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query)}return function(e,t,r,n){const o=new vz(n),i=new WP(t,o,r);return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const r=BT(e);let n=3;const o=t.query;let i=r.queries.get(o);i?!i.K_()&&t.U_()&&(n=2):(i=new MP,n=t.U_()?0:1);try{switch(n){case 0:i.q_=await r.onListen(o,!0);break;case 1:i.q_=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(e){const r=BP(e,`Initialization of query '${UN(t.query)}' failed`);return void t.onError(r)}r.queries.set(o,i),i.Q_.push(t),t.G_(r.onlineState),i.q_&&t.z_(i.q_)&&UP(r)}(await _z(e),i))),()=>{o.Qa(),e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const r=BT(e),n=t.query;let o=3;const i=r.queries.get(n);if(i){const e=i.Q_.indexOf(t);e>=0&&(i.Q_.splice(e,1),0===i.Q_.length?o=t.U_()?0:1:!i.K_()&&t.U_()&&(o=2))}switch(o){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}(await _z(e),i)))}}(function(e){return e._firestoreClient||Oz(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}(c),u,a,l)}(t=Zz(t,(function(e,t){if(t<=0)throw new AT(OT.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}("limit",a=n||50),oB._create("limit",a,"F"))),(function(e){var t=e.docs.map((function(e){var t=e.data();return t&&function(e,t){if(!t)return null;var r=t.attachments||[];return{id:"tp_".concat(e.id),created_at:new Date(t.created_at),updated_at:new Date(t.updated_at||t.created_at||new Date),subject:t.subject&&"string"==typeof t.subject?t.subject:void 0,htmlBody:String(t.htmlBody),name:t.name&&"string"==typeof t.name?t.name:void 0,owner:String(t.owner),attachments:r,roles:t.roles,from:"string"==typeof t.from?t.from:void 0,cc:"string"==typeof t.cc?t.cc:void 0,bcc:"string"==typeof t.bcc?t.bcc:void 0,reply_to:"string"==typeof t.reply_to?t.reply_to:void 0}}(e,t)||null})).filter((function(e){return null!==e}));s(t),c(!1)}));return function(){return o()}}catch(e){c(!1),console.error("Error getting templates documents: ",e)}var i,a;return function(){}}),[r]),{templates:i,isLoadingTemplates:l}}new WeakMap,function(e,t=!0){!function(e){ET=e}(wf),gf(new nh("firestore",((e,{instanceIdentifier:r,options:n})=>{const o=e.getProvider("app").getImmediate(),i=new Bz(new qT(e.getProvider("auth-internal")),new WT(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new AT(OT.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qI(e.options.projectId,t)}(o,r),o);return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i}),"PUBLIC").setMultipleInstances(!0)),xf(xT,"4.5.1",e),xf(xT,"4.5.1","esm2017")}();var mB=function(){return mB=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mB.apply(this,arguments)},vB=function(t){var r=Le("combo-controlled"),n=e.useState([]),o=n[0],i=n[1],s=e.useState(""),a=s[0],l=s[1],c=pk().user,u=gB({userUid:null==c?void 0:c.uid,fetchLimit:50}).templates;return(0,e.useEffect)((function(){u.length&&!a&&(i([u[0].id]),l(u[0].name||u[0].subject),t.onSelected(u[0].id))}),[u]),e.createElement(Zk,mB({id:"".concat(r,"-controlled")},t,{value:a,selectedOptions:o,onChange:function(e){l(e.target.value)},onOptionSelect:function(e,r){var n;if("newTemplate"===r.optionValue)return e.preventDefault(),void window.open("".concat(_c,"/templates/new"),"_blank").focus();i(r.selectedOptions),l(null!==(n=r.optionText)&&void 0!==n?n:""),t.onSelected(r.optionValue||"")},placeholder:"Select a template",autoComplete:"off"}),u.length?e.createElement(tx,null,u.map((function(t){return e.createElement(nx,{text:t.name||t.subject,value:t.id,key:t.id},t.name||t.subject)}))):"",e.createElement(tx,null,e.createElement(nx,{value:"newTemplate"},"Create a new template")))},bB=function(){return bB=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},bB.apply(this,arguments)},yB=function(t){var r,n,o=e.useState([]),i=o[0],s=o[1],a=e.useState(""),l=a[0],c=a[1],u=dk().sheetData,d=function(t){var r=(0,e.useState)(!0),n=r[0],o=r[1],i=(0,e.useState)(null),s=i[0],a=i[1];return(0,e.useEffect)((function(){if(!(null==t?void 0:t.headers)||!(null==t?void 0:t.columns))return o(!1),void a(null);var e=null,r=t.headers.find((function(e){return e.value.toLowerCase().includes("email")}));if(r)e=r.id;else{var n=t.columns.find((function(e){return e.values.some((function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value.toString())}))}));n&&(e=n.headerId)}a(e),o(!1)}),[t]),[s,n]}(u),h=d[0],f=d[1];return(0,e.useEffect)((function(){var e;if(h){var r=null===(e=null==u?void 0:u.headers)||void 0===e?void 0:e.find((function(e){return e.id===h})),n=h&&(null==u?void 0:u.headers)&&r&&!f?"Column ".concat(r.columnLetter," ").concat(r.value?"- ".concat(r.value):""):null;c(n),t.onSelected(h)}}),[h]),e.createElement(Zk,bB({},t,{value:l,selectedOptions:i,onChange:function(e){c(e.target.value)},onOptionSelect:function(e,r){var n;s(r.selectedOptions),c(null!==(n=r.optionText)&&void 0!==n?n:""),t.onSelected(r.optionValue||"")}}),0===(null===(r=null==u?void 0:u.headers)||void 0===r?void 0:r.length)?e.createElement(nx,{disabled:!0,key:null},"No headers found. Add headers to your Excel sheet."):e.createElement(e.Fragment,null,null===(n=null==u?void 0:u.headers)||void 0===n?void 0:n.map((function(t){return e.createElement(nx,{key:t.id,value:t.id},"Column ".concat(t.columnLetter," ").concat(t.value?"- ".concat(t.value):""))}))))};const wB="__fluentDisableScrollElement";const _B={open:!1,inertTrapFocus:!1,modalType:"modal",isNestedDialog:!1,dialogRef:{current:null},requestOpenChange(){}},kB=Xa(void 0),xB=kB.Provider,SB=e=>Ya(kB,((t=_B)=>e(t))),EB=t=>{const{children:r,modalType:n="modal",onOpenChange:o,inertTrapFocus:i=!1}=t,[s,a]=function(t){const r=e.Children.toArray(t);switch(r.length){case 2:return r;case 1:return[void 0,r[0]];default:return[void 0,void 0]}}(r),[l,c]=ys({state:t.open,defaultState:t.defaultOpen,initialState:!1}),u=Xi((e=>{null==o||o(e.event,e),e.event.isDefaultPrevented()||c(e.open)})),d=function(t,r){const{findFirstFocusable:n}=Ga(),{targetDocument:o}=y(),i=e.useRef(null);return e.useEffect((()=>{if(!t)return;const e=i.current&&n(i.current);var r;e?e.focus():null===(r=i.current)||void 0===r||r.focus()}),[n,t,r,o]),i}(l,n),h=function(){const{targetDocument:t}=y();return(0,e.useCallback)((()=>{if(t)return function(e){var t;const{clientWidth:r}=e.ownerDocument.documentElement;var n;const o=null!==(n=null===(t=e.ownerDocument.defaultView)||void 0===t?void 0:t.innerWidth)&&void 0!==n?n:0;var i,s,a,l;return null!==(l=(s=i=e)[a=wB])&&void 0!==l||(s[a]={count:0,previousOverflowStyle:i.style.overflow,previousPaddingRightStyle:i.style.paddingRight}),0===e[wB].count&&(e.style.overflow="hidden",e.style.paddingRight=o-r+"px"),e[wB].count++,()=>{e[wB].count--,0===e[wB].count&&(e.style.overflow=e[wB].previousOverflowStyle,e.style.paddingRight=e[wB].previousPaddingRightStyle)}}(t.body)}),[t])}(),f=Boolean(l&&"non-modal"!==n);Ae((()=>{if(f)return h()}),[h,f]);const{modalAttributes:p,triggerAttributes:g}=qc({trapFocus:"non-modal"!==n,legacyTrapFocus:!i});return{components:{backdrop:"div"},inertTrapFocus:i,open:l,modalType:n,content:a,trigger:s,requestOpenChange:u,dialogTitleId:Le("dialog-title-"),isNestedDialog:ol(kB),dialogRef:d,modalAttributes:"non-modal"!==n?p:void 0,triggerAttributes:g}};function CB(e,t){return CB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},CB(e,t)}var TB=e.createContext(null),IB="unmounted",NB="exited",RB="entering",DB="entered",PB="exiting",zB=function(t){var r,n;function o(e,r){var n;n=t.call(this,e,r)||this;var o,i=r&&!r.isMounting?e.enter:e.appear;return n.appearStatus=null,e.in?i?(o=NB,n.appearStatus=RB):o=DB:o=e.unmountOnExit||e.mountOnEnter?IB:NB,n.state={status:o},n.nextCallback=null,n}n=t,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,CB(r,n),o.getDerivedStateFromProps=function(e,t){return e.in&&t.status===IB?{status:NB}:null};var i=o.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==RB&&r!==DB&&(t=RB):r!==RB&&r!==DB||(t=PB)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===RB){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:Yl.findDOMNode(this);r&&function(e){e.scrollTop}(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===NB&&this.setState({status:IB})},i.performEnter=function(e){var t=this,r=this.props.enter,n=this.context?this.context.isMounting:e,o=this.props.nodeRef?[n]:[Yl.findDOMNode(this),n],i=o[0],s=o[1],a=this.getTimeouts(),l=n?a.appear:a.enter;e||r?(this.props.onEnter(i,s),this.safeSetState({status:RB},(function(){t.props.onEntering(i,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:DB},(function(){t.props.onEntered(i,s)}))}))}))):this.safeSetState({status:DB},(function(){t.props.onEntered(i)}))},i.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:Yl.findDOMNode(this);t?(this.props.onExit(n),this.safeSetState({status:PB},(function(){e.props.onExiting(n),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:NB},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:NB},(function(){e.props.onExited(n)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:Yl.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(r&&!n){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],i=o[0],s=o[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var t=this.state.status;if(t===IB)return null;var r=this.props,n=r.children,o=(r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef,function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(TB.Provider,{value:null},"function"==typeof n?n(t,o):e.cloneElement(e.Children.only(n),o))},o}(e.Component);function BB(){}zB.contextType=TB,zB.propTypes={},zB.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:BB,onEntering:BB,onEntered:BB,onExit:BB,onExiting:BB,onExited:BB},zB.UNMOUNTED=IB,zB.EXITED=NB,zB.ENTERING=RB,zB.ENTERED=DB,zB.EXITING=PB;var OB=zB;const AB=(0,e.createContext)(void 0),FB=AB.Provider,MB=e.createContext(void 0),jB=MB.Provider,LB=e.memo((e=>{const t=EB(e),r=function(e){const{modalType:t,open:r,dialogRef:n,dialogTitleId:o,isNestedDialog:i,inertTrapFocus:s,requestOpenChange:a,modalAttributes:l,triggerAttributes:c}=e;return{dialog:{open:r,modalType:t,dialogRef:n,dialogTitleId:o,isNestedDialog:i,inertTrapFocus:s,modalAttributes:l,triggerAttributes:c,requestOpenChange:a},dialogSurface:!1}}(t);return((e,t)=>{const{content:r,trigger:n}=e;return u(xB,{value:t.dialog,children:d(FB,{value:t.dialogSurface,children:[n,u(OB,{mountOnEnter:!0,unmountOnExit:!0,in:e.open,nodeRef:e.dialogRef,appear:!0,timeout:250,children:e=>u(jB,{value:e,children:r})})]})})})(t,r)}));LB.displayName="Dialog";const qB=mo("rhhzfde","r1n1tr5u",{r:[".rhhzfde{top:0;right:0;bottom:0;left:0;padding-top:24px;padding-right:24px;padding-bottom:24px;padding-left:24px;margin-top:auto;margin-right:auto;margin-bottom:auto;margin-left:auto;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-left-style:solid;overflow-x:unset;overflow-y:unset;border-top-width:1px;border-right-width:1px;border-bottom-width:1px;border-left-width:1px;border-top-color:var(--colorTransparentStroke);border-right-color:var(--colorTransparentStroke);border-bottom-color:var(--colorTransparentStroke);border-left-color:var(--colorTransparentStroke);border-bottom-right-radius:var(--borderRadiusXLarge);border-bottom-left-radius:var(--borderRadiusXLarge);border-top-right-radius:var(--borderRadiusXLarge);border-top-left-radius:var(--borderRadiusXLarge);display:block;-webkit-user-select:unset;-moz-user-select:unset;-ms-user-select:unset;user-select:unset;visibility:unset;position:fixed;height:fit-content;max-width:600px;max-height:100vh;box-sizing:border-box;background-color:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);}",".rhhzfde:focus{outline-style:none;}",".rhhzfde:focus-visible{outline-style:none;}",".rhhzfde[data-fui-focus-visible]{border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;}",'.rhhzfde[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-left-style:solid;border-top-width:2px;border-right-width:2px;border-bottom-width:2px;border-left-width:2px;border-bottom-right-radius:var(--borderRadiusMedium);border-bottom-left-radius:var(--borderRadiusMedium);border-top-right-radius:var(--borderRadiusMedium);border-top-left-radius:var(--borderRadiusMedium);border-top-color:var(--colorStrokeFocus2);border-right-color:var(--colorStrokeFocus2);border-bottom-color:var(--colorStrokeFocus2);border-left-color:var(--colorStrokeFocus2);top:calc(2px * -1);right:calc(2px * -1);bottom:calc(2px * -1);left:calc(2px * -1);}',".r1n1tr5u{top:0;left:0;bottom:0;right:0;padding-top:24px;padding-left:24px;padding-bottom:24px;padding-right:24px;margin-top:auto;margin-left:auto;margin-bottom:auto;margin-right:auto;border-top-style:solid;border-left-style:solid;border-bottom-style:solid;border-right-style:solid;overflow-x:unset;overflow-y:unset;border-top-width:1px;border-left-width:1px;border-bottom-width:1px;border-right-width:1px;border-top-color:var(--colorTransparentStroke);border-left-color:var(--colorTransparentStroke);border-bottom-color:var(--colorTransparentStroke);border-right-color:var(--colorTransparentStroke);border-bottom-left-radius:var(--borderRadiusXLarge);border-bottom-right-radius:var(--borderRadiusXLarge);border-top-left-radius:var(--borderRadiusXLarge);border-top-right-radius:var(--borderRadiusXLarge);display:block;-webkit-user-select:unset;-moz-user-select:unset;-ms-user-select:unset;user-select:unset;visibility:unset;position:fixed;height:fit-content;max-width:600px;max-height:100vh;box-sizing:border-box;background-color:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);}",".r1n1tr5u:focus{outline-style:none;}",".r1n1tr5u:focus-visible{outline-style:none;}",".r1n1tr5u[data-fui-focus-visible]{border-top-color:transparent;border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;}",'.r1n1tr5u[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border-top-style:solid;border-left-style:solid;border-bottom-style:solid;border-right-style:solid;border-top-width:2px;border-left-width:2px;border-bottom-width:2px;border-right-width:2px;border-bottom-left-radius:var(--borderRadiusMedium);border-bottom-right-radius:var(--borderRadiusMedium);border-top-left-radius:var(--borderRadiusMedium);border-top-right-radius:var(--borderRadiusMedium);border-top-color:var(--colorStrokeFocus2);border-left-color:var(--colorStrokeFocus2);border-bottom-color:var(--colorStrokeFocus2);border-right-color:var(--colorStrokeFocus2);top:calc(2px * -1);left:calc(2px * -1);bottom:calc(2px * -1);right:calc(2px * -1);}'],s:["@media (forced-colors: active){.rhhzfde[data-fui-focus-visible]::after{border-top-color:Highlight;border-right-color:Highlight;border-bottom-color:Highlight;border-left-color:Highlight;}}","@media screen and (max-width: 480px){.rhhzfde{max-width:100vw;}}","@media (forced-colors: active){.r1n1tr5u[data-fui-focus-visible]::after{border-top-color:Highlight;border-left-color:Highlight;border-bottom-color:Highlight;border-right-color:Highlight;}}","@media screen and (max-width: 480px){.r1n1tr5u{max-width:100vw;}}"]}),UB=Un({animated:{abs64n:"fk73vx1",E5pizo:"f1yzz98r",Bz10aip:"f15ofi6c"},static:{E5pizo:"f10nrhrw"},unmounted:{},entering:{B3o57yi:"fc397y7",Bmy1vo4:"f1b86uth",Bkqvd7p:"f18ad807",E5pizo:"f10nrhrw",Bz10aip:"f186d0ee",abs64n:"f5p0z4x"},entered:{E5pizo:"f10nrhrw",Bz10aip:"f186d0ee",abs64n:"f5p0z4x"},idle:{E5pizo:"f10nrhrw",Bz10aip:"f186d0ee",abs64n:"f5p0z4x"},exiting:{B3o57yi:"fc397y7",Bmy1vo4:"f1b86uth",Bkqvd7p:"f1mfizis"},exited:{}},{d:[".fk73vx1{opacity:0;}",".f1yzz98r{box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.1);}",".f15ofi6c{transform:scale(0.85) translateZ(0);}",".f10nrhrw{box-shadow:var(--shadow64);}",".fc397y7{transition-duration:var(--durationGentle);}",".f1b86uth{transition-property:opacity,transform,box-shadow;}",".f18ad807{transition-timing-function:var(--curveDecelerateMid);}",".f186d0ee{transform:scale(1) translateZ(0);}",".f5p0z4x{opacity:1;}",".f1mfizis{transition-timing-function:var(--curveAccelerateMin);}"]}),VB=mo("raidwwn","r17vltcu",[".raidwwn{top:0px;right:0px;bottom:0px;left:0px;background-color:rgba(0, 0, 0, 0.4);position:fixed;transition-duration:var(--durationGentle);transition-timing-function:var(--curveLinear);transition-property:opacity;will-change:opacity;opacity:0;}",".r17vltcu{top:0px;left:0px;bottom:0px;right:0px;background-color:rgba(0, 0, 0, 0.4);position:fixed;transition-duration:var(--durationGentle);transition-timing-function:var(--curveLinear);transition-property:opacity;will-change:opacity;opacity:0;}"]),HB=Un({nestedDialogBackdrop:{De3pzq:"f1c21dwh"},unmounted:{},entering:{abs64n:"f5p0z4x"},entered:{abs64n:"f5p0z4x"},idle:{abs64n:"f5p0z4x"},exiting:{Bkqvd7p:"f1mfizis"},exited:{}},{d:[".f1c21dwh{background-color:var(--colorTransparentBackground);}",".f5p0z4x{opacity:1;}",".f1mfizis{transition-timing-function:var(--curveAccelerateMin);}"]}),WB=e.forwardRef(((t,r)=>{const n=((t,r)=>{const n=SB((e=>e.modalType)),o=SB((e=>e.isNestedDialog)),i=null!==(s=e.useContext(MB))&&void 0!==s?s:void 0;var s;const a=SB((e=>e.modalAttributes)),l=SB((e=>e.dialogRef)),c=SB((e=>e.requestOpenChange)),u=SB((e=>e.dialogTitleId)),d=Xi((e=>{var r,o;Hk(t.backdrop)&&(null===(r=(o=t.backdrop).onClick)||void 0===r||r.call(o,e)),"modal"!==n||e.isDefaultPrevented()||c({event:e,open:!1,type:"backdropClick"})})),h=Xi((e=>{var r;null===(r=t.onKeyDown)||void 0===r||r.call(t,e),e.key!==xl||e.isDefaultPrevented()||(c({event:e,open:!1,type:"escapeKeyDown"}),e.preventDefault())})),f=ve(t.backdrop,{renderByDefault:"non-modal"!==n,defaultProps:{"aria-hidden":"true"},elementType:"div"});return f&&(f.onClick=d),{components:{backdrop:"div",root:"div"},backdrop:f,isNestedDialog:o,transitionStatus:i,mountNode:t.mountNode,root:me(Be("div",{tabIndex:-1,"aria-modal":"non-modal"!==n,role:"alert"===n?"alertdialog":"dialog","aria-labelledby":t["aria-label"]?void 0:u,...t,...a,onKeyDown:h,ref:Oe(r,l)}),{elementType:"div"})}})(t,r);return(e=>{const{isNestedDialog:t,root:r,backdrop:n,transitionStatus:o}=e,i=qB(),s=UB(),a=VB(),l=HB();r.className=Ge("fui-DialogSurface",i,o?s.animated:s.static,o&&s[o],r.className),n&&(n.className=Ge("fui-DialogSurface__backdrop",a,t&&l.nestedDialogBackdrop,o&&l[o],n.className))})(n),T("useDialogSurfaceStyles_unstable")(n),((e,t)=>d(Jl,{mountNode:e.mountNode,children:[e.backdrop&&u(e.backdrop,{}),u(FB,{value:t.dialogSurface,children:u(e.root,{})})]}))(n,{dialogSurface:!0})}));WB.displayName="DialogSurface";const $B=mo("r71plkv",null,{r:[".r71plkv{overflow-x:unset;overflow-y:unset;column-gap:8px;row-gap:8px;display:grid;max-height:calc(100vh - 2 * 24px);box-sizing:border-box;grid-template-rows:auto 1fr;grid-template-columns:1fr 1fr auto;}"],s:["@media screen and (max-width: 480px){.r71plkv{max-width:100vw;grid-template-rows:auto 1fr auto;}}"]}),KB=e.forwardRef(((e,t)=>{const r=((e,t)=>{var r;return{components:{root:"div"},root:me(Be(null!==(r=e.as)&&void 0!==r?r:"div",{ref:t,...e}),{elementType:"div"})}})(e,t);return(e=>{const t=$B();e.root.className=Ge("fui-DialogBody",t,e.root.className)})(r),T("useDialogBodyStyles_unstable")(r),(e=>u(e.root,{}))(r)}));KB.displayName="DialogBody";const GB=Xn("Dismiss20Regular","20",["m4.09 4.22.06-.07a.5.5 0 0 1 .63-.06l.07.06L10 9.29l5.15-5.14a.5.5 0 0 1 .63-.06l.07.06c.18.17.2.44.06.63l-.06.07L10.71 10l5.14 5.15c.18.17.2.44.06.63l-.06.07a.5.5 0 0 1-.63.06l-.07-.06L10 10.71l-5.15 5.14a.5.5 0 0 1-.63.06l-.07-.06a.5.5 0 0 1-.06-.63l.06-.07L9.29 10 4.15 4.85a.5.5 0 0 1-.06-.63l.06-.07-.06.07Z"]),QB=t=>{return r=(t=>{const r=null!==(n=(0,e.useContext)(AB))&&void 0!==n&&n;var n;const{children:o,disableButtonEnhancement:i=!1,action:s=(r?"close":"open")}=t,a=El(o),l=SB((e=>e.requestOpenChange)),{triggerAttributes:c}=qc(),u=Xi((e=>{var t,r;null==a||null===(t=(r=a.props).onClick)||void 0===t||t.call(r,e),e.isDefaultPrevented()||l({event:e,type:"triggerClick",open:"open"===s})})),d={...null==a?void 0:a.props,ref:null==a?void 0:a.ref,onClick:u,...c},h=Nl("button"===(null==a?void 0:a.type)||"a"===(null==a?void 0:a.type)?a.type:"div",{...d,type:"button"});return{children:Tl(o,i?d:h)}})(t),r.children;var r};QB.displayName="DialogTrigger",QB.isFluentTriggerComponent=!0;const XB=mo("rztv7rx","rt0yqbx",[".rztv7rx{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase500);font-weight:var(--fontWeightSemibold);line-height:var(--lineHeightBase500);margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;grid-row-start:1;grid-row-end:1;grid-column-start:1;grid-column-end:3;}",".rt0yqbx{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase500);font-weight:var(--fontWeightSemibold);line-height:var(--lineHeightBase500);margin-top:0;margin-left:0;margin-bottom:0;margin-right:0;grid-row-start:1;grid-row-end:1;grid-column-start:1;grid-column-end:3;}"]),YB=Un({rootWithoutAction:{Bw0ie65:"fsyjsko"}},{d:[".fsyjsko{grid-column-end:4;}"]}),JB=mo("r13kcrze",null,[".r13kcrze{grid-row-start:1;grid-row-end:1;grid-column-start:3;justify-self:end;align-self:start;}"]),ZB=mo("r51tj","rgre5d",{r:[".r51tj{overflow-x:visible;overflow-y:visible;padding-top:0;padding-right:0;padding-bottom:0;padding-left:0;border-top-style:none;border-right-style:none;border-bottom-style:none;border-left-style:none;position:relative;box-sizing:content-box;background-color:inherit;color:inherit;font-family:inherit;font-size:inherit;cursor:pointer;line-height:0;-webkit-appearance:button;text-align:unset;}",".r51tj:focus{outline-style:none;}",".r51tj:focus-visible{outline-style:none;}",".r51tj[data-fui-focus-visible]{border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;}",'.r51tj[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-left-style:solid;border-top-width:2px;border-right-width:2px;border-bottom-width:2px;border-left-width:2px;border-bottom-right-radius:var(--borderRadiusMedium);border-bottom-left-radius:var(--borderRadiusMedium);border-top-right-radius:var(--borderRadiusMedium);border-top-left-radius:var(--borderRadiusMedium);border-top-color:var(--colorStrokeFocus2);border-right-color:var(--colorStrokeFocus2);border-bottom-color:var(--colorStrokeFocus2);border-left-color:var(--colorStrokeFocus2);top:calc(2px * -1);right:calc(2px * -1);bottom:calc(2px * -1);left:calc(2px * -1);}',".rgre5d{overflow-x:visible;overflow-y:visible;padding-top:0;padding-left:0;padding-bottom:0;padding-right:0;border-top-style:none;border-left-style:none;border-bottom-style:none;border-right-style:none;position:relative;box-sizing:content-box;background-color:inherit;color:inherit;font-family:inherit;font-size:inherit;cursor:pointer;line-height:0;-webkit-appearance:button;text-align:unset;}",".rgre5d:focus{outline-style:none;}",".rgre5d:focus-visible{outline-style:none;}",".rgre5d[data-fui-focus-visible]{border-top-color:transparent;border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;}",'.rgre5d[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border-top-style:solid;border-left-style:solid;border-bottom-style:solid;border-right-style:solid;border-top-width:2px;border-left-width:2px;border-bottom-width:2px;border-right-width:2px;border-bottom-left-radius:var(--borderRadiusMedium);border-bottom-right-radius:var(--borderRadiusMedium);border-top-left-radius:var(--borderRadiusMedium);border-top-right-radius:var(--borderRadiusMedium);border-top-color:var(--colorStrokeFocus2);border-left-color:var(--colorStrokeFocus2);border-bottom-color:var(--colorStrokeFocus2);border-right-color:var(--colorStrokeFocus2);top:calc(2px * -1);left:calc(2px * -1);bottom:calc(2px * -1);right:calc(2px * -1);}'],s:["@media (forced-colors: active){.r51tj[data-fui-focus-visible]::after{border-top-color:Highlight;border-right-color:Highlight;border-bottom-color:Highlight;border-left-color:Highlight;}}","@media (forced-colors: active){.rgre5d[data-fui-focus-visible]::after{border-top-color:Highlight;border-left-color:Highlight;border-bottom-color:Highlight;border-right-color:Highlight;}}"]}),eO=e.forwardRef(((t,r)=>{const n=((t,r)=>{const{action:n}=t,o=SB((e=>e.modalType)),i=ZB();return{components:{root:"h2",action:"div"},root:me(Be("h2",{ref:r,id:SB((e=>e.dialogTitleId)),...t}),{elementType:"h2"}),action:ve(n,{renderByDefault:"non-modal"===o,defaultProps:{children:e.createElement(QB,{disableButtonEnhancement:!0,action:"close"},e.createElement("button",{type:"button",className:i,"aria-label":"close"},e.createElement(GB,null)))},elementType:"div"})}})(t,r);return(e=>{const t=XB(),r=JB(),n=YB();e.root.className=Ge("fui-DialogTitle",t,!e.action&&n.rootWithoutAction,e.root.className),e.action&&(e.action.className=Ge("fui-DialogTitle__action",r,e.action.className))})(n),T("useDialogTitleStyles_unstable")(n),(t=>d(e.Fragment,{children:[u(t.root,{children:t.root.children}),t.action&&u(t.action,{})]}))(n)}));eO.displayName="DialogTitle";const tO=mo("r1e0mpcm","r1equu0b",[".r1e0mpcm{padding-top:var(--strokeWidthThick);padding-right:var(--strokeWidthThick);padding-bottom:var(--strokeWidthThick);padding-left:var(--strokeWidthThick);margin-top:calc(var(--strokeWidthThick) * -1);margin-right:calc(var(--strokeWidthThick) * -1);margin-bottom:calc(var(--strokeWidthThick) * -1);margin-left:calc(var(--strokeWidthThick) * -1);font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);overflow-y:auto;min-height:32px;box-sizing:border-box;grid-row-start:2;grid-row-end:2;grid-column-start:1;grid-column-end:4;}",".r1equu0b{padding-top:var(--strokeWidthThick);padding-left:var(--strokeWidthThick);padding-bottom:var(--strokeWidthThick);padding-right:var(--strokeWidthThick);margin-top:calc(var(--strokeWidthThick) * -1);margin-left:calc(var(--strokeWidthThick) * -1);margin-bottom:calc(var(--strokeWidthThick) * -1);margin-right:calc(var(--strokeWidthThick) * -1);font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);overflow-y:auto;min-height:32px;box-sizing:border-box;grid-row-start:2;grid-row-end:2;grid-column-start:1;grid-column-end:4;}"]),rO=e.forwardRef(((e,t)=>{const r=((e,t)=>{var r;return{components:{root:"div"},root:me(Be(null!==(r=e.as)&&void 0!==r?r:"div",{ref:t,...e}),{elementType:"div"})}})(e,t);return(e=>{const t=tO();e.root.className=Ge("fui-DialogContent",t,e.root.className)})(r),T("useDialogContentStyles_unstable")(r),(e=>u(e.root,{}))(r)}));rO.displayName="DialogContent";const nO=mo("r78gbj",null,{r:[".r78gbj{column-gap:8px;row-gap:8px;height:fit-content;box-sizing:border-box;display:flex;grid-row-start:3;grid-row-end:3;}"],s:["@media screen and (max-width: 480px){.r78gbj{flex-direction:column;justify-self:stretch;}}"]}),oO=Un({gridPositionEnd:{Bdqf98w:"f1a7i8kp",Br312pm:"fd46tj4",Bw0ie65:"fsyjsko",B6n781s:"f1f41i0t",Bv5d0be:"f1jaqex3",v4ugfu:"f2ao6jk"},gridPositionStart:{Bdqf98w:"fsxvdwy",Br312pm:"fwpfdsa",Bw0ie65:"f1e2fz10",Bojbm9c:"f11ihkml",Bv5d0be:"fce5bvx",v4ugfu:"f2ao6jk"},fluidStart:{Bw0ie65:"fsyjsko"},fluidEnd:{Br312pm:"fwpfdsa"}},{d:[".f1a7i8kp{justify-self:end;}",".fd46tj4{grid-column-start:2;}",".fsyjsko{grid-column-end:4;}",".fsxvdwy{justify-self:start;}",".fwpfdsa{grid-column-start:1;}",".f1e2fz10{grid-column-end:2;}"],m:[["@media screen and (max-width: 480px){.f1f41i0t{grid-column-start:1;}}",{m:"screen and (max-width: 480px)"}],["@media screen and (max-width: 480px){.f1jaqex3{grid-row-start:4;}}",{m:"screen and (max-width: 480px)"}],["@media screen and (max-width: 480px){.f2ao6jk{grid-row-end:auto;}}",{m:"screen and (max-width: 480px)"}],["@media screen and (max-width: 480px){.f11ihkml{grid-column-end:4;}}",{m:"screen and (max-width: 480px)"}],["@media screen and (max-width: 480px){.fce5bvx{grid-row-start:3;}}",{m:"screen and (max-width: 480px)"}]]}),iO=e.forwardRef(((e,t)=>{const r=((e,t)=>{const{position:r="end",fluid:n=!1}=e;return{components:{root:"div"},root:me(Be("div",{ref:t,...e}),{elementType:"div"}),position:r,fluid:n}})(e,t);return(e=>{const t=nO(),r=oO();e.root.className=Ge("fui-DialogActions",t,"start"===e.position&&r.gridPositionStart,"end"===e.position&&r.gridPositionEnd,e.fluid&&"start"===e.position&&r.fluidStart,e.fluid&&"end"===e.position&&r.fluidEnd,e.root.className)})(r),T("useDialogActionsStyles_unstable")(r),(e=>u(e.root,{}))(r)}));iO.displayName="DialogActions";var sO=qn({root:{marginLeft:"20px",marginRight:"20px"},dialogBody:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",columnGap:"20px"},buttonContainer:{width:"100%"},text:{textAlign:"center",marginBottom:"24px",paddingLeft:"24px",paddingRight:"24px"}}),aO=function(t){var r=t.setShowCampaignOAuthDialog,n=t.open,o=t.onSuccess,i=sO(),s=pk().user,a=(0,e.useState)(lO.IDLE),l=a[0],c=a[1],u=(0,e.useRef)();u.current=l;var d=function(e){var t=kc||"";if(u.current===lO.BUSY&&(!e||e.origin===t))if(e)if(e.data&&e.data.eventType){var r=e.data;"AUTHORIZATION_SUCCEEDED"!==r.eventType?"AUTHORIZATION_FAILED"!==r.eventType?f("Authorization failed. That's all we know."):f(r.data):h()}else f("Authorization failed. The authorization modal sent an unsupported MessageEvent.");else f("Authorization canceled. The user has likely interrupted the process by closing the modal.")},h=function(){r(!1),o(),c(lO.SUCCESS),window.removeEventListener("message",d,!1),console.debug("🕺 OAuth dance succeeded.")},f=function(e){c(lO.FAILED),window.removeEventListener("message",d,!1),console.error("🕺 OAuth dance failed:",e)};return e.createElement(LB,{open:n},e.createElement(WB,{className:i.root},e.createElement(KB,{className:i.dialogBody},e.createElement("img",{alt:"outlook-image",src:"./assets/img/outlook.png"}),e.createElement(eO,null,"Grant access"),e.createElement(rO,{className:i.text},"Mailmeteor needs to connect to Outlook to send emails on your behalf and provide a stellar experience."),e.createElement(iO,{className:i.buttonContainer},e.createElement(QB,{disableButtonEnhancement:!0},e.createElement(Hl,{onClick:function(){!function(e,t){void 0===e&&(e="microsoft");var r=null==s?void 0:s.uid,n=null==s?void 0:s.email,o=new URL("".concat(kc||"","/oauth2/authenticate"));o.searchParams.set("state",r),o.searchParams.set("login_hint",n),o.searchParams.set("provider",e),t&&o.searchParams.set("scopes",t),window.addEventListener("message",d,!1),c(lO.BUSY);var i=new cO(o.toString());i.open(),i.addEventListener("close",d),console.debug("🕺 OAuth dance started.")}("microsoft")},appearance:"primary"},"Allow Mailmeteor")),e.createElement(Hl,{onClick:function(){r(!1)},appearance:"secondary"},"Cancel")))))},lO={IDLE:"idle",BUSY:"busy",SUCCESS:"success",FAILED:"failure"},cO=function(){function e(e){this.width=500,this.height=600,this.url=e;var t=this.layout(this.width,this.height),r=t.left,n=t.top,o=t.computedWidth,i=t.computedHeight;this.features={width:o,height:i,top:n,left:r,scrollbars:"yes",resizable:"yes",status:"no",toolbar:"no",location:"no",copyhistory:"no",menubar:"no",directories:"no"}}return e.prototype.layout=function(e,t){var r=window.screen.width,n=window.screen.height,o=r/2-e/2,i=n/2-t/2,s=Math.min(e,r),a=Math.min(t,n);return{left:Math.max(o,0),top:Math.max(i,0),computedWidth:s,computedHeight:a}},e.prototype.open=function(){console.debug("🕺 OAuth dance started...");var e=this.url,t=this.featuresToString();return this.modal=window.open(e,"",t),this.modal},e.prototype.addEventListener=function(e,t){var r=this;if("close"===e)if(this.modal)var n=window.setInterval((function(){r.modal&&!r.modal.closed||(window.clearInterval(n),t())}),100);else t()},e.prototype.featuresToString=function(){var e=this.features,t=[];for(var r in e)t.push(r+"="+e[r]);return t.join(",")},e}(),uO=qn({root:{marginLeft:"20px",marginRight:"20px"},dialogBody:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",columnGap:"20px"},buttonContainer:{width:"100%"},text:{textAlign:"center",marginBottom:"24px",paddingLeft:"24px",paddingRight:"24px"}}),dO=function(t){var r=t.campaignId,n=t.setShowCampaignSentDialog,o=t.open,i=uO();return e.createElement(LB,{open:o},e.createElement(WB,{className:i.root},e.createElement(KB,{className:i.dialogBody},e.createElement("img",{alt:"sending-image",src:"./assets/img/sending-icon.png"}),e.createElement(eO,null,"Mission accomplished!"),e.createElement(rO,{className:i.text},"Your emails are being sent in the background."),e.createElement(iO,{className:i.buttonContainer},e.createElement(QB,{disableButtonEnhancement:!0},e.createElement(Hl,{as:"a",appearance:"primary",href:"".concat(_c,"/campaigns/").concat(r),target:"_blank"},"Open campaign")),e.createElement(Hl,{onClick:function(){n(!1)},appearance:"secondary"},"New mail merge")))))},hO=function(){return hO=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},hO.apply(this,arguments)},fO=qn({root:{marginLeft:"20px",marginRight:"20px"},dialogBody:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",columnGap:"20px"},buttonContainer:{width:"100%"},text:{textAlign:"center",marginBottom:"24px",paddingLeft:"12px",paddingRight:"12px"},tutorialImage:{width:"100%"},link:hO(hO({color:"white"},Fc("none")),{":hover":hO({color:"white"},Fc("none"))})}),pO=function(t){var r=t.setShowModal,n=t.open,o=fO();return e.createElement(LB,{open:n},e.createElement(WB,{className:o.root},e.createElement(KB,{className:o.dialogBody},e.createElement("img",{className:o.tutorialImage,alt:"campaign-tutorial",src:"./assets/img/campaign-tutorial.png"}),e.createElement(eO,null,"Heads up!"),e.createElement(rO,{className:o.text},'Looks like your sheet is empty or has no email contacts. To send emails, please fill your spreadsheet with email addresses in a column named "Emails".'),e.createElement(iO,{className:o.buttonContainer},e.createElement(QB,{disableButtonEnhancement:!0},e.createElement(Hl,{appearance:"primary"},e.createElement(mu,{className:o.link,target:"_blank",href:"https://support.mailmeteor.com/excel/tutorial"},"Follow a tutorial"))),e.createElement(Hl,{type:"button",onClick:function(){r(!1)},appearance:"secondary"},"Cancel")))))},gO=o(64583).Promise,mO=function(){return mO=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mO.apply(this,arguments)},vO=qn({root:mO(mO({display:"flex",width:"100%",flexDirection:"column",alignItems:"center",justifyItems:"start"},Oc("2px")),{paddingTop:"12px"}),fieldset:mO(mO({},Bc(0)),Ac(0)),combo:{display:"flex",justifyContent:"start",alignItems:"start",width:"100%",flexDirection:"column",marginBottom:"20px"},comboContainer:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",flexDirection:"column"},labelContainer:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},comboInfoLabel:{width:"91%",'& > div[role="note"]':{maxWidth:"220px"}},comboInput:{width:"91%",maxHeight:"200px",justifyContent:"left"},description:mO(mO({},Mc.caption1),{paddingLeft:"24px"}),switchContainer:{paddingLeft:"10px"},divider:{paddingLeft:"21px",paddingRight:"21px"},sendCampaignButtonContainer:{display:"flex",justifyContent:"center",alignItems:"end",width:"90%",flexDirection:"column",marginBottom:"32px"},alert:{textAlign:"left"},list:{maxHeight:"60vh"}});function bO(t){var r=t.setCampaignError,n=vO(),o=(0,e.useId)(),i=(0,e.useId)(),s=(0,e.useId)(),a=(0,e.useState)(!1),l=a[0],c=a[1],u=(0,e.useState)(!1),d=u[0],h=u[1],f=(0,e.useState)(""),p=f[0],g=f[1],m=(0,e.useState)(""),v=m[0],b=m[1],y=(0,e.useState)(""),w=y[0],_=y[1],k=(0,e.useState)(""),x=k[0],S=k[1],E=(0,e.useState)(!1),C=E[0],T=E[1],I=(0,e.useState)(!1),N=I[0],R=I[1],D=(0,e.useState)(!1),P=D[0],z=D[1],B=pk().user,O=w.trim()?"".concat(w.trim()," <").concat(null==B?void 0:B.email,">"):null==B?void 0:B.email,A=function(t,r,n){return(0,e.useMemo)((function(){return(null==t?void 0:t.columns)?t.columns.filter((function(e){return e.headerId===r})).flatMap((function(e){return e.values.map((function(e,r){return function(e,t,r,n){var o={to:e.value,from:n,variables:sk(t,r)};return function(e,t,r){["bcc","cc","reply_to"].forEach((function(n){var o=function(e,t){var r=t.filter((function(t){return t.value.toLowerCase()===e}));return r.length?r[r.length-1].id:null}(n,r.headers);if(o){var i=function(e,t,r){var n=r.filter((function(t){return t.headerId===e})).map((function(e){var r;return null===(r=e.values[t])||void 0===r?void 0:r.value})).filter((function(e){return void 0!==e}));return n.length?n[n.length-1]:null}(o,t,r.columns);"string"==typeof i&&(e[n]=i)}}))}(o,t,r),o}(e,r,t,n)}))})):[]}),[t,r,n])}(dk().sheetData,v,O);function F(e){var t,n;return function(e,t,r,n){return new(r||(r=gO))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var o,i;return function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,(function(s){switch(s.label){case 0:null==e||e.preventDefault(),s.label=1;case 1:if(s.trys.push([1,3,4,5]),!p)throw new Error("No template selected. Please select or create a template then try again.");if(!v)throw new Error("Couldn't find the email column. Please select a column with emails then try again.");return 0===(null==A?void 0:A.length)?(null==e||e.stopPropagation(),[2,z(!0)]):(h(!0),r(null),function(e){try{var t=JSON.stringify(e);localStorage.setItem("USER_LAST_MERGE",t)}catch(e){}}({tracking:l,senderName:w}),"campaign-create",[4,Wm(th(nk),"campaign-create",undefined)({email_service_provider:"outlook",template:p,emails:A,tracking:l})]);case 2:if(o=s.sent(),!(null===(n=null===(t=null==o?void 0:o.data)||void 0===t?void 0:t.data)||void 0===n?void 0:n.id))throw new Error("Invalid response from server");return S(o.data.data.id),R(!0),[3,5];case 3:return"oauth_scopes_required"===(i=s.sent()).message?[2,T(!0)]:[2,r("Error creating campaign: ".concat(i.message))];case 4:return setTimeout((function(){h(!1)}),100),[7];case 5:return[2]}}))}))}return(0,e.useEffect)((function(){try{var e=JSON.parse(localStorage.getItem("USER_LAST_MERGE")||"{}");"boolean"==typeof e.tracking&&c(e.tracking),"string"==typeof e.senderName&&_(e.senderName)}catch(e){}}),[]),e.createElement("form",{onSubmit:F,className:n.root},e.createElement("fieldset",{className:"".concat(n.fieldset," ").concat(n.combo)},e.createElement("div",{className:n.labelContainer},e.createElement(fu,{className:n.comboInfoLabel,htmlFor:i,info:e.createElement(e.Fragment,null,"Select the column containing the recipients' email addresses. Each row will correspond to one email."," ",e.createElement(mu,{href:"https://support.mailmeteor.com/excel/tutorial",target:"_blank"},"Learn more"))},"Recipients")),e.createElement(Mu,{className:n.comboContainer},e.createElement(yB,{id:i,className:n.comboInput,onSelected:function(e){return b(e)},autoComplete:"off"}))),e.createElement("fieldset",{className:"".concat(n.fieldset," ").concat(n.combo)},e.createElement("div",{className:n.labelContainer},e.createElement(fu,{className:n.comboInfoLabel,htmlFor:s,info:e.createElement(e.Fragment,null,"Enter the name you want recipients to see as the sender of the email."," ",e.createElement(mu,{href:"https://support.mailmeteor.com/excel/tutorial",target:"_blank"},"Learn more"))},"Sender name")),e.createElement("div",{className:n.comboContainer},e.createElement(Wu,{value:w,onChange:function(e){_(e.target.value)},className:n.comboInput,placeholder:"John Doe",autoComplete:"off",id:s}))),e.createElement("fieldset",{className:"".concat(n.fieldset," ").concat(n.combo)},e.createElement("div",{className:n.labelContainer},e.createElement(fu,{className:n.comboInfoLabel,htmlFor:o,info:e.createElement(e.Fragment,null,"Select an email template or ",e.createElement(mu,{href:"".concat(_c,"/templates/new"),target:"_blank"},"create a new one"),". To personalize your emails, use variables such as"," ",e.createElement("code",null,"{{ firstname }}")," in your template. ",e.createElement(mu,{href:"https://support.mailmeteor.com/excel/advanced/personalize",target:"_blank"},"Learn more"))},"Email message")),e.createElement(Mu,{className:n.comboContainer},e.createElement(vB,{id:o,className:n.comboInput,onSelected:function(e){return g(e)},autoComplete:"off"}))),e.createElement("fieldset",{className:"".concat(n.fieldset," ").concat(n.combo)},e.createElement("div",{className:n.switchContainer},e.createElement(rd,{checked:l,label:"Track opened and clicked emails",labelPosition:"after",onChange:function(e){c(e.currentTarget.checked)}}))),e.createElement("div",{className:n.sendCampaignButtonContainer},e.createElement(Hl,{type:"submit",appearance:"primary",size:"medium"},d?e.createElement("span",{style:{display:"flex"}},e.createElement(hd,{size:"tiny",appearance:"inverted",style:{marginRight:"12px"}}),"Sending..."):"Send ".concat(0===(null==A?void 0:A.length)?"":null==A?void 0:A.length," emails"))),e.createElement(_k,null),e.createElement(aO,{setShowCampaignOAuthDialog:T,open:C,onSuccess:function(){console.log("onCampaignOAuthSuccess",w),F()}}),e.createElement(dO,{campaignId:x,setShowCampaignSentDialog:R,open:N}),e.createElement(pO,{setShowModal:z,open:P}))}var yO=o(64583).Promise,wO=qn({root:{marginLeft:"20px",marginRight:"20px"},dialogBody:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",columnGap:"20px"},buttonContainer:{width:"100%"},text:{textAlign:"center",marginBottom:"24px",paddingLeft:"12px",paddingRight:"12px"},tutorialImage:{width:"100%"}}),_O=function(t){var r=t.setShowModal,n=t.open,o=wO(),i=(0,e.useState)(!1),s=i[0],a=i[1],l=function(e){if(Office.context.platform===Office.PlatformType.OfficeOnline&&Date.now()<100){var t="microsoft"===e?new pg("microsoft.com"):new mg;(async function(e,t,r){if(vf(e.app))return Af.reject(Uf(e,"operation-not-supported-in-this-environment"));const n=$p(e);!function(e,t,r){if(!(t instanceof r))throw r.name!==t.constructor.name&&qf(e,"argument-error"),Vf(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(e,t,hg);const o=$g(n,void 0);return new Zg(n,"signInViaPopup",t,o).executeNotNull()})(ok,t).then((function(){r(!1),a(!0)})).catch((function(e){console.error(e)}))}else Office.context.ui.displayDialogAsync("https://localhost:3000/dialog.html",{height:50,width:40,displayInIframe:!0},(function(e){e.value.addEventHandler(Office.EventType.DialogMessageReceived,console.log)}))};return(0,e.useEffect)((function(){r(!0),ok.currentUser||function(){var e;!function(e,t,r,n){new(r||(r=yO))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var t,n,o,i,s;return function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,(function(a){switch(a.label){case 0:t=!1,a.label=1;case 1:return a.trys.push([1,7,,8]),[4,OfficeRuntime.auth.getAccessToken({allowSignInPrompt:!0})];case 2:return(n=a.sent())?[4,fetch("".concat(xc,"/sso"),{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({access_token:n,scope:["Files.ReadWrite","Mail.Send","openid","profile"].join(" ")})})]:[3,6];case 3:return[4,a.sent().json()];case 4:return(null==(o=a.sent())?void 0:o.token)?[4,xg(ok,o.token)]:[3,6];case 5:i=a.sent(),t="string"==typeof(null===(e=i.user)||void 0===e?void 0:e.uid),a.label=6;case 6:return[3,8];case 7:return s=a.sent(),console.error(s),[3,8];case 8:return t||r(!0),[2]}}))}))}()})),e.createElement(LB,{open:n},e.createElement(WB,{className:o.root},e.createElement(KB,{className:o.dialogBody},e.createElement("div",{style:{textAlign:"center"}},e.createElement("img",{alt:"campaign-tutorial",src:"./assets/img/icons/icon-80.png"})),e.createElement(eO,null,"Welcome aboard"),e.createElement(rO,{className:o.text},"Sign in to send personalized emails and track your campaigns from Excel. Current status:",e.createElement("span",null,s?"true":"false")),e.createElement(iO,{className:o.buttonContainer},e.createElement(Hl,{type:"button",onClick:function(){return l("microsoft")},appearance:"primary"},"Sign in with Microsoft")))))},kO=qn({root:{minHeight:"100vh",heigh:"100%",position:"relative",zIndex:1},footer:{position:"fixed",left:0,bottom:0,width:"100%",zIndex:-1},messageBar:{borderTopWidth:"0",borderLeftWidth:"0",borderRightWidth:"0",borderTopLeftRadius:"0",borderTopRightRadius:"0",borderBottomLeftRadius:"0",borderBottomRightRadius:"0",paddingBottom:"10px"}}),xO=function(t){var r=kO(),n=(0,e.useState)(!1),o=n[0],i=n[1],s=(0,e.useState)(null),a=s[0],l=s[1],c=["New mail merge",""].join("");return e.createElement("div",{className:r.root},e.createElement(fk,null,e.createElement($n,null),e.createElement(Ec,{logo:"./assets/img/icon-32.png",title:t.title,message:c}),e.createElement($n,null),a?e.createElement(xo,{className:r.messageBar,key:"error",intent:"error"},e.createElement(Eo,null,a)):null,e.createElement(bO,{setCampaignError:l})),e.createElement("img",{className:r.footer,src:"./assets/img/footer-sidebar.svg",alt:"Mailmeteor"}),e.createElement(_O,{setShowModal:i,open:o}))},SO=document.getElementById("container"),EO=(0,$t.H)(SO);Office.onReady((function(){EO.render(e.createElement(rt,{theme:Wt},e.createElement(xO,{title:"Mailmeteor"})))}))}()}();